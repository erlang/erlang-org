<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.1">
    <meta name="project" content="kernel v10.3">


<meta name="exdoc:full-text-search-url" content="/doc/search.html?v=1&q=">
<meta name="major-vsn" content="1">
<link rel="canonical" href="https://www.erlang.org/doc/apps/kernel/gen_sctp.html" />
    <title>gen_sctp — kernel v10.3</title>

    <link rel="stylesheet" href="dist/html-erlang-ZK43ZOAC.css" />

    <script defer src="dist/sidebar_items-57346F8A.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-DPJLHKSM.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="../../index.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="kernel" />
        </a>

      <div>
        <a href="../../index.html" class="sidebar-projectName" translate="no">
kernel
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v10.3
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-module" id="main" data-type="modules">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of kernel</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>
      <span translate="no">gen_sctp</span> 
      <small class="app-vsn" translate="no">(kernel v10.3)</small>

    </h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/gen_sctp.erl#L23" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


    <section id="moduledoc">
<p>Interface to SCTP sockets.</p><p>This module provides functions for communicating over SCTP sockets.
The implementation assumes that the OS kernel supports SCTP
<a href="http://www.rfc-archive.org/getrfc.php?rfc=2960">(RFC 2960)</a>
through the user-level
<a href="http://tools.ietf.org/html/draft-ietf-tsvwg-sctpsocket-13">Sockets API Extensions</a>.</p><p>During development, this implementation was tested on:</p><ul><li>Linux Fedora Core 5.0 (kernel 2.6.15-2054 or later is needed)</li><li>Solaris 10, 11</li></ul><p>During OTP adaptation it was tested on:</p><ul><li>SUSE Linux Enterprise Server 10 (x86_64) kernel 2.6.16.27-0.6-smp, with
lksctp-tools-1.0.6</li><li>Briefly on Solaris 10</li><li>SUSE Linux Enterprise Server 10 Service Pack 1 (x86_64) kernel
2.6.16.54-0.2.3-smp with lksctp-tools-1.0.7</li><li>FreeBSD 8.2</li></ul><p>This module was written for one-to-many style sockets (type <code class="inline">seqpacket</code>).
With the addition of <a href="#peeloff/2"><code class="inline">peeloff/2</code></a>, one-to-one style sockets (type <code class="inline">stream</code>)
were introduced.</p><p>Record definitions for this module can be found using:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">include_lib</span><span class="p" data-group-id="1872825712-1">(</span><span class="s">&quot;kernel/include/inet_sctp.hrl&quot;</span><span class="p" data-group-id="1872825712-1">)</span><span class="p">.</span></code></pre><p>These record definitions use the &quot;new&quot; spelling 'adaptation',
not the deprecated 'adaption', regardless of which spelling
the underlying C API uses.</p><h2 id="module-sctp-socket-options" class="section-heading"><a href="#module-sctp-socket-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text"><a href="" id="options"></a> SCTP Socket Options</span></h2><p>The set of admissible SCTP socket options is by construction orthogonal
to the sets of TCP, UDP, and generic <code class="inline">inet</code> options. Here are only
options listed that are allowed for SCTP sockets.</p><p>Options can be set on the socket when calling <a href="#open/1"><code class="inline">open/1,2</code></a>,
and changed when calling <a href="#connect/4"><code class="inline">connect/4,5</code></a> or
by calling <a href="inet.html#setopts/2"><code class="inline">inet:setopts/2</code></a>.  They can be retrieved using <a href="inet.html#getopts/2"><code class="inline">inet:getopts/2</code></a>.</p><ul><li><p><strong><code class="inline">{mode, list|binary} | list | binary</code></strong> <a href="" id="option-binary"></a> <a href="" id="option-list"></a> -
Determines the type of data returned from <a href="#recv/1"><code class="inline">recv/1,2</code></a>
or in <em>active mode</em> data messages.</p></li><li><p><strong><code class="inline">{active, false|true|once|N}</code></strong> <a href="" id="option-active"></a></p><ul><li><p>If <code class="inline">false</code> (<em>passive mode</em>, the default), the caller must do an explicit
<a href="#recv/1"><code class="inline">recv</code></a> call to retrieve the available data from the socket.</p></li><li><p>If <code class="inline">true|once|N</code> (<em>active modes</em>) received data or events are sent
to the owning process. See <a href="#open/0"><code class="inline">open/0..2</code></a> for the message format.</p></li><li><p>If <code class="inline">true</code> (fully <em>active mode</em>) there is no flow control.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>Note that this can cause the message queue to overflow
causing for example the virtual machine to run out of memory and crash.</p></section></li><li><p>If <code class="inline">once</code>, only one message is automatically placed in the message queue,
and the mode resets to passive. This provides flow control
and the possibility for the receiver to listen for incoming
SCTP data interleaved with other inter-process messages.</p></li><li><p>If <code class="inline">active</code> is specified as an integer <code class="inline">N</code> in the range -32768 to 32767
(inclusive), that number is added to the socket's data messages counter.
If the result of the addition is negative, the counter is set to <code class="inline">0</code>.
Once the counter reaches <code class="inline">0</code>, either through the delivery of messages
or by being explicitly set with <a href="inet.html#setopts/2"><code class="inline">inet:setopts/2</code></a>, the socket mode
resets to passive (<code class="inline">{active, false}</code>). When a socket in <code class="inline">{active, N}</code>
mode transitions to passive mode, the message <code class="inline">{sctp_passive, Socket}</code>
is sent to the controlling process to notify that if it wants to receive
more data messages from the socket, it must call <a href="inet.html#setopts/2"><code class="inline">inet:setopts/2</code></a>
to set the socket back into an active mode.</p></li></ul></li><li><p><strong><code class="inline">{tos, integer()}</code></strong> - Sets the Type-Of-Service field on the IP datagrams
that are sent, to the specified value. This effectively determines a
prioritization policy for the outbound packets. The acceptable values are
system-dependent.</p></li><li><p><strong><code class="inline">{priority, integer()}</code></strong> - A protocol-independent equivalent of <code class="inline">tos</code>
above. Setting priority implies setting <code class="inline">tos</code> as well.</p></li><li><p><strong><code class="inline">{dontroute, true|false}</code></strong> - Defaults to <code class="inline">false</code>.
If <code class="inline">true</code>, the kernel does not send packets through any gateway,
but only sends them to directly connected hosts.</p></li><li><p><strong><code class="inline">{reuseaddr, true|false}</code></strong> - Defaults to <code class="inline">false</code>.
If <code class="inline">true</code>, the local binding address <code class="inline">{IP,Port}</code> of the socket can be
reused immediately. No waiting in state <code class="inline">CLOSE_WAIT</code> is performed
(can be required for some types of servers).</p></li><li><p><strong><code class="inline">{sndbuf, integer()}</code></strong> - The size, in bytes, of the OS kernel send buffer
for this socket. Sending errors would occur for datagrams larger than
<code class="inline">val(sndbuf)</code>. Setting this option also adjusts the size of
the driver buffer (see <code class="inline">buffer</code> above).</p></li><li><p><strong><code class="inline">{recbuf, integer()}</code></strong> - The size, in bytes, of the OS kernel receive
buffer for this socket. Sending errors would occur for datagrams
larger than <code class="inline">val(recbuf)</code>. Setting this option also adjusts the size
of the driver buffer (see <code class="inline">buffer</code> above).</p></li></ul><h3 id="option_non_block_send" class="section-heading"><a href="#option_non_block_send" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text"><a href=""></a></span></h3><ul><li><p><strong><code class="inline">{non_block_send, boolean()}</code></strong> - A send call that would otherwise block (hang),
will instead immediately return with e.g. <code class="inline">{error, eagain}</code>
<em>if</em> this option has been set to <code class="inline">true</code>.
Defaults to <code class="inline">false</code>.</p></li><li><p><strong><code class="inline">{sctp_module, module()}</code></strong> - Overrides which callback module is used.
Defaults to <code class="inline">inet_sctp</code> for IPv4 and <code class="inline">inet6_sctp</code> for IPv6.</p></li><li><p><strong><code class="inline">{sctp_rtoinfo, #sctp_rtoinfo{}}</code></strong></p><pre><code class="makeup erlang" translate="no"><span class="o">#</span><span class="ss">sctp_rtoinfo</span><span class="p" data-group-id="2613643408-1">{</span><span class="w">
      </span><span class="ss">assoc_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">assoc_id</span><span class="p" data-group-id="2613643408-2">(</span><span class="p" data-group-id="2613643408-2">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">initial</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="2613643408-3">(</span><span class="p" data-group-id="2613643408-3">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">max</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="2613643408-4">(</span><span class="p" data-group-id="2613643408-4">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">min</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="2613643408-5">(</span><span class="p" data-group-id="2613643408-5">)</span><span class="w">
</span><span class="p" data-group-id="2613643408-1">}</span></code></pre><p>Determines retransmission time-out parameters, in milliseconds, for the
association(s) specified by <code class="inline">assoc_id</code>.</p><p><code class="inline">assoc_id = 0</code> (default) indicates the whole endpoint. See
<a href="http://www.rfc-archive.org/getrfc.php?rfc=2960">RFC 2960</a> and
<a href="http://tools.ietf.org/html/draft-ietf-tsvwg-sctpsocket-13">Sockets API Extensions for SCTP</a>
for the exact semantics of the field values.</p></li><li><p><strong><code class="inline">{sctp_associnfo, #sctp_assocparams{}}</code></strong></p><pre><code class="makeup erlang" translate="no"><span class="o">#</span><span class="ss">sctp_assocparams</span><span class="p" data-group-id="5008730837-1">{</span><span class="w">
      </span><span class="ss">assoc_id</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="nf">assoc_id</span><span class="p" data-group-id="5008730837-2">(</span><span class="p" data-group-id="5008730837-2">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">asocmaxrxt</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="5008730837-3">(</span><span class="p" data-group-id="5008730837-3">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">number_peer_destinations</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="5008730837-4">(</span><span class="p" data-group-id="5008730837-4">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">peer_rwnd</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="5008730837-5">(</span><span class="p" data-group-id="5008730837-5">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">local_rwnd</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="5008730837-6">(</span><span class="p" data-group-id="5008730837-6">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">cookie_life</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="5008730837-7">(</span><span class="p" data-group-id="5008730837-7">)</span><span class="w">
</span><span class="p" data-group-id="5008730837-1">}</span></code></pre><p>Determines association parameters for the association(s) specified by
<code class="inline">assoc_id</code>.</p><p><code class="inline">assoc_id = 0</code> (default) indicates the whole endpoint. See
<a href="http://tools.ietf.org/html/draft-ietf-tsvwg-sctpsocket-13">Sockets API Extensions for SCTP</a>
for the discussion of their semantics. Rarely used.</p></li><li><p><strong><code class="inline">{sctp_initmsg, #sctp_initmsg{}}</code></strong></p><pre><code class="makeup erlang" translate="no"><span class="o">#</span><span class="ss">sctp_initmsg</span><span class="p" data-group-id="0153332681-1">{</span><span class="w">
     </span><span class="ss">num_ostreams</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="0153332681-2">(</span><span class="p" data-group-id="0153332681-2">)</span><span class="p">,</span><span class="w">
     </span><span class="ss">max_instreams</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="0153332681-3">(</span><span class="p" data-group-id="0153332681-3">)</span><span class="p">,</span><span class="w">
     </span><span class="ss">max_attempts</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="0153332681-4">(</span><span class="p" data-group-id="0153332681-4">)</span><span class="p">,</span><span class="w">
     </span><span class="ss">max_init_timeo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="0153332681-5">(</span><span class="p" data-group-id="0153332681-5">)</span><span class="w">
</span><span class="p" data-group-id="0153332681-1">}</span></code></pre><p>Determines the default parameters that this socket tries to negotiate
with its peer while establishing an association with it. Is to be set after
<a href="#open/1"><code class="inline">open/*</code></a> but before the first <a href="#connect/4"><code class="inline">connect/*</code></a>.
<code class="inline">#sctp_initmsg{}</code> can also be used as ancillary data with the first call of
<a href="#send/3"><code class="inline">send/*</code></a> to a new peer (when a new association is created).</p><ul><li><p><strong><code class="inline">num_ostreams</code></strong> - Number of outbound streams</p></li><li><p><strong><code class="inline">max_instreams</code></strong> - Maximum number of inbound streams</p></li><li><p><strong><code class="inline">max_attempts</code></strong> - Maximum retransmissions while establishing an
association</p></li><li><p><strong><code class="inline">max_init_timeo</code></strong> - Time-out, in milliseconds, for establishing an
association</p></li></ul></li><li><p><strong><code class="inline">{sctp_autoclose, integer() &gt;= 0}</code></strong> - Determines the time, in seconds,
after which an idle association is automatically closed. <code class="inline">0</code> means that the
association is never automatically closed.</p></li><li><p><strong><code class="inline">{sctp_nodelay, true|false}</code></strong> - Turns off (<code class="inline">true</code>) / on (<code class="inline">false</code>) the Nagle
algorithm for merging small packets into larger ones. This improves throughput
at the expense of latency.</p></li><li><p><strong><code class="inline">{sctp_disable_fragments, true|false}</code></strong> - If <code class="inline">true</code>, induces an error on an
attempt to send a message larger than the current PMTU size (which would
require fragmentation/reassembling). Notice that message fragmentation does
not affect the logical atomicity of its delivery; this option is provided for
performance reasons only.</p></li><li><p><strong><code class="inline">{sctp_i_want_mapped_v4_addr, true|false}</code></strong> - Turns on|off automatic
mapping of IPv4 addresses into IPv6 ones (if the socket address family is
<code class="inline">AF_INET6</code>).</p></li><li><p><strong><code class="inline">{sctp_maxseg, integer()}</code></strong> - Determines the maximum chunk size if message
fragmentation is used. If <code class="inline">0</code>, the chunk size is limited by the Path MTU only.</p></li><li><p><strong><code class="inline">{sctp_primary_addr, #sctp_prim{}}</code></strong></p><pre><code class="makeup erlang" translate="no"><span class="o">#</span><span class="ss">sctp_prim</span><span class="p" data-group-id="5621237216-1">{</span><span class="w">
      </span><span class="ss">assoc_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">assoc_id</span><span class="p" data-group-id="5621237216-2">(</span><span class="p" data-group-id="5621237216-2">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">addr</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="5621237216-3">{</span><span class="n">IP</span><span class="p">,</span><span class="w"> </span><span class="n">Port</span><span class="p" data-group-id="5621237216-3">}</span><span class="w">
</span><span class="p" data-group-id="5621237216-1">}</span><span class="w">
 </span><span class="n">IP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ip_address</span><span class="p" data-group-id="5621237216-4">(</span><span class="p" data-group-id="5621237216-4">)</span><span class="w">
 </span><span class="n">Port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">port_number</span><span class="p" data-group-id="5621237216-5">(</span><span class="p" data-group-id="5621237216-5">)</span></code></pre><p>For the association specified by <code class="inline">assoc_id</code>, <code class="inline">{IP,Port}</code> must be one of the
peer addresses. This option determines that the specified address is treated
by the local SCTP stack as the primary address of the peer.</p></li><li><p><strong><code class="inline">{sctp_set_peer_primary_addr, #sctp_setpeerprim{}}</code></strong></p><pre><code class="makeup erlang" translate="no"><span class="o">#</span><span class="ss">sctp_setpeerprim</span><span class="p" data-group-id="7174671471-1">{</span><span class="w">
      </span><span class="ss">assoc_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">assoc_id</span><span class="p" data-group-id="7174671471-2">(</span><span class="p" data-group-id="7174671471-2">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">addr</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="7174671471-3">{</span><span class="n">IP</span><span class="p">,</span><span class="w"> </span><span class="n">Port</span><span class="p" data-group-id="7174671471-3">}</span><span class="w">
</span><span class="p" data-group-id="7174671471-1">}</span><span class="w">
 </span><span class="n">IP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ip_address</span><span class="p" data-group-id="7174671471-4">(</span><span class="p" data-group-id="7174671471-4">)</span><span class="w">
 </span><span class="n">Port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">port_number</span><span class="p" data-group-id="7174671471-5">(</span><span class="p" data-group-id="7174671471-5">)</span></code></pre><p>When set, informs the peer to use <code class="inline">{IP, Port}</code> as the primary address of the
local endpoint for the association specified by <code class="inline">assoc_id</code>.</p></li><li><p><strong><code class="inline">{sctp_adaptation_layer, #sctp_setadaptation{}}</code></strong> <a href="" id="option-sctp_adaptation_layer"></a></p><pre><code class="makeup erlang" translate="no"><span class="o">#</span><span class="ss">sctp_setadaptation</span><span class="p" data-group-id="9547014011-1">{</span><span class="w">
      </span><span class="ss">adaptation_ind</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="9547014011-2">(</span><span class="p" data-group-id="9547014011-2">)</span><span class="w">
</span><span class="p" data-group-id="9547014011-1">}</span></code></pre><p>When set, requests that the local endpoint uses the value specified by
<code class="inline">adaptation_ind</code> as the Adaptation Indication parameter for establishing
new associations. For details, see
<a href="http://www.rfc-archive.org/getrfc.php?rfc=2960">RFC 2960</a> and
<a href="http://tools.ietf.org/html/draft-ietf-tsvwg-sctpsocket-13">Sockets API Extensions for SCTP</a>.</p></li><li><p><strong><code class="inline">{sctp_peer_addr_params, #sctp_paddrparams{}}</code></strong></p><pre><code class="makeup erlang" translate="no"><span class="o">#</span><span class="ss">sctp_paddrparams</span><span class="p" data-group-id="2580844634-1">{</span><span class="w">
      </span><span class="ss">assoc_id</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="nf">assoc_id</span><span class="p" data-group-id="2580844634-2">(</span><span class="p" data-group-id="2580844634-2">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">address</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="2580844634-3">{</span><span class="n">IP</span><span class="p">,</span><span class="w"> </span><span class="n">Port</span><span class="p" data-group-id="2580844634-3">}</span><span class="p">,</span><span class="w">
      </span><span class="ss">hbinterval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="2580844634-4">(</span><span class="p" data-group-id="2580844634-4">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">pathmaxrxt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="2580844634-5">(</span><span class="p" data-group-id="2580844634-5">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">pathmtu</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="2580844634-6">(</span><span class="p" data-group-id="2580844634-6">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">sackdelay</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="2580844634-7">(</span><span class="p" data-group-id="2580844634-7">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">flags</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p" data-group-id="2580844634-8">(</span><span class="p" data-group-id="2580844634-8">)</span><span class="w">
</span><span class="p" data-group-id="2580844634-1">}</span><span class="w">
</span><span class="n">IP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ip_address</span><span class="p" data-group-id="2580844634-9">(</span><span class="p" data-group-id="2580844634-9">)</span><span class="w">
</span><span class="n">Port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">port_number</span><span class="p" data-group-id="2580844634-10">(</span><span class="p" data-group-id="2580844634-10">)</span></code></pre><p>Determines various per-address parameters for the association specified by
<code class="inline">assoc_id</code> and the peer address <code class="inline">address</code> (the SCTP protocol supports
multi-homing, so more than one address can correspond to a specified
association).</p><ul><li><p><strong><code class="inline">hbinterval</code></strong> - Heartbeat interval, in milliseconds</p></li><li><p><strong><code class="inline">pathmaxrxt</code></strong> - Maximum number of retransmissions before this address is
considered unreachable (and an alternative address is selected)</p></li><li><p><strong><code class="inline">pathmtu</code></strong> - Fixed Path MTU, if automatic discovery is disabled (see
<code class="inline">flags</code> below)</p></li><li><p><strong><code class="inline">sackdelay</code></strong> - Delay, in milliseconds, for SAC messages (if the delay is
enabled, see <code class="inline">flags</code> below)</p></li><li><p><strong><code class="inline">flags</code></strong> - The following flags are available:</p><ul><li><p><strong><code class="inline">hb_enable</code></strong> - Enables heartbeat</p></li><li><p><strong><code class="inline">hb_disable</code></strong> - Disables heartbeat</p></li><li><p><strong><code class="inline">hb_demand</code></strong> - Initiates heartbeat immediately</p></li><li><p><strong><code class="inline">pmtud_enable</code></strong> - Enables automatic Path MTU discovery</p></li><li><p><strong><code class="inline">pmtud_disable</code></strong> - Disables automatic Path MTU discovery</p></li><li><p><strong><code class="inline">sackdelay_enable</code></strong> - Enables SAC delay</p></li><li><p><strong><code class="inline">sackdelay_disable</code></strong> - Disables SAC delay</p></li></ul></li></ul></li><li><p><strong><code class="inline">{sctp_default_send_param, #sctp_sndrcvinfo{}}</code></strong></p><p><a href="" id="record-sctp_sndrcvinfo"></a></p><pre><code class="makeup erlang" translate="no"><span class="o">#</span><span class="ss">sctp_sndrcvinfo</span><span class="p" data-group-id="0560396338-1">{</span><span class="w">
      </span><span class="ss">stream</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="0560396338-2">(</span><span class="p" data-group-id="0560396338-2">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">ssn</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="0560396338-3">(</span><span class="p" data-group-id="0560396338-3">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">flags</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p" data-group-id="0560396338-4">(</span><span class="p" data-group-id="0560396338-4">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">ppid</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="0560396338-5">(</span><span class="p" data-group-id="0560396338-5">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">context</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="0560396338-6">(</span><span class="p" data-group-id="0560396338-6">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">timetolive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="0560396338-7">(</span><span class="p" data-group-id="0560396338-7">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">tsn</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="0560396338-8">(</span><span class="p" data-group-id="0560396338-8">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">cumtsn</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="0560396338-9">(</span><span class="p" data-group-id="0560396338-9">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">assoc_id</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="nf">assoc_id</span><span class="p" data-group-id="0560396338-10">(</span><span class="p" data-group-id="0560396338-10">)</span><span class="w">
</span><span class="p" data-group-id="0560396338-1">}</span></code></pre><p><code class="inline">#sctp_sndrcvinfo{}</code> is used both in this socket option, and as
ancillary data while sending or receiving SCTP messages. When set
as an option, it provides default values for subsequent
<a href="#send/3"><code class="inline">send</code></a> calls on the association specified by <code class="inline">assoc_id</code>.</p><p><code class="inline">assoc_id = 0</code> (default) indicates the whole endpoint.</p><p>The following fields typically must be specified by the sender:</p><ul><li><p><strong><code class="inline">sinfo_stream</code></strong> - Stream number (0-base) within the association to send
the messages through;</p></li><li><p><strong><code class="inline">sinfo_flags</code></strong> - The following flags are recognised:</p><ul><li><p><strong><code class="inline">unordered</code></strong> - The message is to be sent unordered</p></li><li><p><strong><code class="inline">addr_over</code></strong> - The address specified in <a href="#send/3"><code class="inline">send</code></a> overwrites
the primary peer address</p></li><li><p><strong><code class="inline">abort</code></strong> - Aborts the current association without flushing any unsent
data</p></li><li><p><strong><code class="inline">eof</code></strong> - Gracefully shuts down the current association, with flushing
of unsent data</p></li></ul><p>Other fields are rarely used. For complete information, see
<a href="http://www.rfc-archive.org/getrfc.php?rfc=2960">RFC 2960</a> and
<a href="http://tools.ietf.org/html/draft-ietf-tsvwg-sctpsocket-13">Sockets API Extensions for SCTP</a>.</p></li></ul></li><li><p><strong><code class="inline">{sctp_events, #sctp_event_subscribe{}}</code></strong> <a href="" id="option-sctp_events"></a></p><pre><code class="makeup erlang" translate="no"><span class="o">#</span><span class="ss">sctp_event_subscribe</span><span class="p" data-group-id="3663986197-1">{</span><span class="w">
        </span><span class="ss">data_io_event</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="ss">true</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="ss">false</span><span class="p">,</span><span class="w">
        </span><span class="ss">association_event</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="ss">true</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="ss">false</span><span class="p">,</span><span class="w">
        </span><span class="ss">address_event</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="ss">true</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="ss">false</span><span class="p">,</span><span class="w">
        </span><span class="ss">send_failure_event</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="ss">true</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="ss">false</span><span class="p">,</span><span class="w">
        </span><span class="ss">peer_error_event</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="ss">true</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="ss">false</span><span class="p">,</span><span class="w">
        </span><span class="ss">shutdown_event</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="ss">true</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="ss">false</span><span class="p">,</span><span class="w">
        </span><span class="ss">partial_delivery_event</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">true</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="ss">false</span><span class="p">,</span><span class="w">
        </span><span class="ss">adaptation_layer_event</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">true</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="ss">false</span><span class="w">
</span><span class="p" data-group-id="3663986197-1">}</span></code></pre><p>This option determines which <a href="#sctp-events">SCTP Events</a> that are to be
received (through <a href="#recv/1"><code class="inline">recv/*</code></a>) along with the data. The only
exception is <code class="inline">data_io_event</code>, which enables or disables receiving of
<a href="#record-sctp_sndrcvinfo"><code class="inline">#sctp_sndrcvinfo{}</code></a> ancillary data,
not events. By default, all flags except <code class="inline">adaptation_layer_event</code> are enabled,
although <code class="inline">sctp_data_io_event</code> and <code class="inline">association_event</code> are used by the driver
itself and not exported to the user level.</p></li><li><p><strong><code class="inline">{sctp_delayed_ack_time, #sctp_assoc_value{}}</code></strong></p><pre><code class="makeup erlang" translate="no"><span class="o">#</span><span class="ss">sctp_assoc_value</span><span class="p" data-group-id="7488811183-1">{</span><span class="w">
      </span><span class="ss">assoc_id</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="nf">assoc_id</span><span class="p" data-group-id="7488811183-2">(</span><span class="p" data-group-id="7488811183-2">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">assoc_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="7488811183-3">(</span><span class="p" data-group-id="7488811183-3">)</span><span class="w">
</span><span class="p" data-group-id="7488811183-1">}</span></code></pre><p>Rarely used. Determines the ACK time (specified by <code class="inline">assoc_value</code>, in
milliseconds) for the specified association or the whole endpoint if
<code class="inline">assoc_value = 0</code> (default).</p></li><li><p><strong><code class="inline">{sctp_status, #sctp_status{}}</code></strong></p><pre><code class="makeup erlang" translate="no"><span class="o">#</span><span class="ss">sctp_status</span><span class="p" data-group-id="8500589134-1">{</span><span class="w">
      </span><span class="ss">assoc_id</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="nf">assoc_id</span><span class="p" data-group-id="8500589134-2">(</span><span class="p" data-group-id="8500589134-2">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">state</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="nf">atom</span><span class="p" data-group-id="8500589134-3">(</span><span class="p" data-group-id="8500589134-3">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">rwnd</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="8500589134-4">(</span><span class="p" data-group-id="8500589134-4">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">unackdata</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="8500589134-5">(</span><span class="p" data-group-id="8500589134-5">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">penddata</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="8500589134-6">(</span><span class="p" data-group-id="8500589134-6">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">instrms</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="8500589134-7">(</span><span class="p" data-group-id="8500589134-7">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">outstrms</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="8500589134-8">(</span><span class="p" data-group-id="8500589134-8">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">fragmentation_point</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="8500589134-9">(</span><span class="p" data-group-id="8500589134-9">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">primary</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="ss">sctp_paddrinfo</span><span class="p" data-group-id="8500589134-10">{</span><span class="p" data-group-id="8500589134-10">}</span><span class="w">
</span><span class="p" data-group-id="8500589134-1">}</span></code></pre><p>This option is read-only. It determines the status of the SCTP association
specified by <code class="inline">assoc_id</code>. The following are the possible values of <code class="inline">state</code>
(the state designations are mostly self-explanatory):</p><ul><li><p><strong><code class="inline">sctp_state_empty</code></strong> - Default. Means that no other state is active.</p></li><li><p><strong><code class="inline">sctp_state_closed</code></strong></p></li><li><p><strong><code class="inline">sctp_state_cookie_wait</code></strong></p></li><li><p><strong><code class="inline">sctp_state_cookie_echoed</code></strong></p></li><li><p><strong><code class="inline">sctp_state_established</code></strong></p></li><li><p><strong><code class="inline">sctp_state_shutdown_pending</code></strong></p></li><li><p><strong><code class="inline">sctp_state_shutdown_sent</code></strong></p></li><li><p><strong><code class="inline">sctp_state_shutdown_received</code></strong></p></li><li><p><strong><code class="inline">sctp_state_shutdown_ack_sent</code></strong></p></li></ul><p>Semantics of the other fields:</p><ul><li><p><strong><code class="inline">sstat_rwnd</code></strong> - Current receiver window size of the association</p></li><li><p><strong><code class="inline">sstat_unackdata</code></strong> - Number of unacked data chunks</p></li><li><p><strong><code class="inline">sstat_penddata</code></strong> - Number of data chunks pending receipt</p></li><li><p><strong><code class="inline">sstat_instrms</code></strong> - Number of inbound streams</p></li><li><p><strong><code class="inline">sstat_outstrms</code></strong> - Number of outbound streams</p></li><li><p><strong><code class="inline">sstat_fragmentation_point</code></strong> - Message size at which SCTP fragmentation
occurs</p></li><li><p><strong><code class="inline">sstat_primary</code></strong> - Information on the current primary peer address (see
below for the format of <code class="inline">#sctp_paddrinfo{}</code>)</p></li></ul></li><li><p><strong><code class="inline">{sctp_get_peer_addr_info, #sctp_paddrinfo{}}</code></strong> <a href="" id="option-sctp_get_peer_addr_info"></a></p><pre><code class="makeup erlang" translate="no"><span class="o">#</span><span class="ss">sctp_paddrinfo</span><span class="p" data-group-id="2085584323-1">{</span><span class="w">
      </span><span class="ss">assoc_id</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nf">assoc_id</span><span class="p" data-group-id="2085584323-2">(</span><span class="p" data-group-id="2085584323-2">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">address</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="2085584323-3">{</span><span class="n">IP</span><span class="p">,</span><span class="w"> </span><span class="n">Port</span><span class="p" data-group-id="2085584323-3">}</span><span class="p">,</span><span class="w">
      </span><span class="ss">state</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="ss">inactive</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="ss">active</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="ss">unconfirmed</span><span class="p">,</span><span class="w">
      </span><span class="ss">cwnd</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="2085584323-4">(</span><span class="p" data-group-id="2085584323-4">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">srtt</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="2085584323-5">(</span><span class="p" data-group-id="2085584323-5">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">rto</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="2085584323-6">(</span><span class="p" data-group-id="2085584323-6">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">mtu</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="2085584323-7">(</span><span class="p" data-group-id="2085584323-7">)</span><span class="w">
</span><span class="p" data-group-id="2085584323-1">}</span><span class="w">
</span><span class="n">IP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">ip_address</span><span class="p" data-group-id="2085584323-8">(</span><span class="p" data-group-id="2085584323-8">)</span><span class="w">
</span><span class="n">Port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">port_number</span><span class="p" data-group-id="2085584323-9">(</span><span class="p" data-group-id="2085584323-9">)</span></code></pre><p>This option is read-only. It determines the parameters specific to
the peer address specified by <code class="inline">address</code> within the association specified
by <code class="inline">assoc_id</code>.  Field <code class="inline">address</code> fmust be set by the caller; all other fields
are filled in on return. If <code class="inline">assoc_id = 0</code> (default), the <code class="inline">address</code>
is automatically translated into the corresponding association ID.
This option is rarely used. For the semantics of all fields, see
<a href="http://www.rfc-archive.org/getrfc.php?rfc=2960">RFC 2960</a> and
<a href="http://tools.ietf.org/html/draft-ietf-tsvwg-sctpsocket-13">Sockets API Extensions for SCTP</a>.</p></li></ul><h2 id="module-sctp-examples" class="section-heading"><a href="#module-sctp-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text"><a href="" id="examples"></a> SCTP Examples</span></h2><p>Example of an Erlang SCTP server that receives SCTP messages
and prints them on the standard output:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">module</span><span class="p" data-group-id="9153464742-1">(</span><span class="ss">sctp_server</span><span class="p" data-group-id="9153464742-1">)</span><span class="p">.</span><span class="w">
</span><span class="w">
</span><span class="p">-</span><span class="na">export</span><span class="p" data-group-id="9153464742-2">(</span><span class="p" data-group-id="9153464742-3">[</span><span class="ss">server</span><span class="p">/</span><span class="mi">0</span><span class="p">,</span><span class="ss">server</span><span class="p">/</span><span class="mi">1</span><span class="p">,</span><span class="ss">server</span><span class="p">/</span><span class="mi">2</span><span class="p" data-group-id="9153464742-3">]</span><span class="p" data-group-id="9153464742-2">)</span><span class="p">.</span><span class="w">
</span><span class="p">-</span><span class="na">include_lib</span><span class="p" data-group-id="9153464742-4">(</span><span class="s">&quot;kernel/include/inet.hrl&quot;</span><span class="p" data-group-id="9153464742-4">)</span><span class="p">.</span><span class="w">
</span><span class="p">-</span><span class="na">include_lib</span><span class="p" data-group-id="9153464742-5">(</span><span class="s">&quot;kernel/include/inet_sctp.hrl&quot;</span><span class="p" data-group-id="9153464742-5">)</span><span class="p">.</span><span class="w">

</span><span class="nf">server</span><span class="p" data-group-id="9153464742-6">(</span><span class="p" data-group-id="9153464742-6">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nf">server</span><span class="p" data-group-id="9153464742-7">(</span><span class="ss">any</span><span class="p">,</span><span class="w"> </span><span class="mi">2006</span><span class="p" data-group-id="9153464742-7">)</span><span class="p">.</span><span class="w">

</span><span class="nf">server</span><span class="p" data-group-id="9153464742-8">(</span><span class="p" data-group-id="9153464742-9">[</span><span class="n">Host</span><span class="p">,</span><span class="n">Port</span><span class="p" data-group-id="9153464742-9">]</span><span class="p" data-group-id="9153464742-8">)</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="nf">is_list</span><span class="p" data-group-id="9153464742-10">(</span><span class="n">Host</span><span class="p" data-group-id="9153464742-10">)</span><span class="p">,</span><span class="w"> </span><span class="nf">is_list</span><span class="p" data-group-id="9153464742-11">(</span><span class="n">Port</span><span class="p" data-group-id="9153464742-11">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="9153464742-12">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="o">#</span><span class="ss">hostent</span><span class="p" data-group-id="9153464742-13">{</span><span class="ss">h_addr_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="9153464742-14">[</span><span class="n">IP</span><span class="p">|</span><span class="p">_</span><span class="p" data-group-id="9153464742-14">]</span><span class="p" data-group-id="9153464742-13">}</span><span class="p" data-group-id="9153464742-12">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">inet</span><span class="p">:</span><span class="nf">gethostbyname</span><span class="p" data-group-id="9153464742-15">(</span><span class="n">Host</span><span class="p" data-group-id="9153464742-15">)</span><span class="p">,</span><span class="w">
    </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="9153464742-16">(</span><span class="s">&quot;</span><span class="si">~w</span><span class="s"> -&gt; </span><span class="si">~w</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9153464742-17">[</span><span class="n">Host</span><span class="p">,</span><span class="w"> </span><span class="n">IP</span><span class="p" data-group-id="9153464742-17">]</span><span class="p" data-group-id="9153464742-16">)</span><span class="p">,</span><span class="w">
    </span><span class="nf">server</span><span class="p" data-group-id="9153464742-18">(</span><span class="p" data-group-id="9153464742-19">[</span><span class="n">IP</span><span class="p">,</span><span class="w"> </span><span class="nf">list_to_integer</span><span class="p" data-group-id="9153464742-20">(</span><span class="n">Port</span><span class="p" data-group-id="9153464742-20">)</span><span class="p" data-group-id="9153464742-19">]</span><span class="p" data-group-id="9153464742-18">)</span><span class="p">.</span><span class="w">

</span><span class="nf">server</span><span class="p" data-group-id="9153464742-21">(</span><span class="n">IP</span><span class="p">,</span><span class="w"> </span><span class="n">Port</span><span class="p" data-group-id="9153464742-21">)</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="nf">is_tuple</span><span class="p" data-group-id="9153464742-22">(</span><span class="n">IP</span><span class="p" data-group-id="9153464742-22">)</span><span class="w"> </span><span class="ow">orelse</span><span class="w"> </span><span class="n">IP</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">any</span><span class="w"> </span><span class="ow">orelse</span><span class="w"> </span><span class="n">IP</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">loopback</span><span class="p">,</span><span class="w">
                      </span><span class="nf">is_integer</span><span class="p" data-group-id="9153464742-23">(</span><span class="n">Port</span><span class="p" data-group-id="9153464742-23">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="9153464742-24">{</span><span class="ss">ok</span><span class="p">,</span><span class="n">S</span><span class="p" data-group-id="9153464742-24">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">gen_sctp</span><span class="p">:</span><span class="nf">open</span><span class="p" data-group-id="9153464742-25">(</span><span class="n">Port</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9153464742-26">[</span><span class="p" data-group-id="9153464742-27">{</span><span class="ss">recbuf</span><span class="p">,</span><span class="mi">65536</span><span class="p" data-group-id="9153464742-27">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9153464742-28">{</span><span class="ss">ip</span><span class="p">,</span><span class="n">IP</span><span class="p" data-group-id="9153464742-28">}</span><span class="p" data-group-id="9153464742-26">]</span><span class="p" data-group-id="9153464742-25">)</span><span class="p">,</span><span class="w">
    </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="9153464742-29">(</span><span class="s">&quot;Listening on </span><span class="si">~w</span><span class="s">:</span><span class="si">~w</span><span class="s">. </span><span class="si">~w</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9153464742-30">[</span><span class="n">IP</span><span class="p">,</span><span class="n">Port</span><span class="p">,</span><span class="n">S</span><span class="p" data-group-id="9153464742-30">]</span><span class="p" data-group-id="9153464742-29">)</span><span class="p">,</span><span class="w">
    </span><span class="ss">ok</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="nc">gen_sctp</span><span class="p">:</span><span class="nf">listen</span><span class="p" data-group-id="9153464742-31">(</span><span class="n">S</span><span class="p">,</span><span class="w"> </span><span class="ss">true</span><span class="p" data-group-id="9153464742-31">)</span><span class="p">,</span><span class="w">
    </span><span class="nf">server_loop</span><span class="p" data-group-id="9153464742-32">(</span><span class="n">S</span><span class="p" data-group-id="9153464742-32">)</span><span class="p">.</span><span class="w">

</span><span class="nf">server_loop</span><span class="p" data-group-id="9153464742-33">(</span><span class="n">S</span><span class="p" data-group-id="9153464742-33">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="k">case</span><span class="w"> </span><span class="nc">gen_sctp</span><span class="p">:</span><span class="nf">recv</span><span class="p" data-group-id="9153464742-34">(</span><span class="n">S</span><span class="p" data-group-id="9153464742-34">)</span><span class="w"> </span><span class="k">of</span><span class="w">
    </span><span class="p" data-group-id="9153464742-35">{</span><span class="ss">error</span><span class="p">,</span><span class="w"> </span><span class="n">Error</span><span class="p" data-group-id="9153464742-35">}</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
        </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="9153464742-36">(</span><span class="s">&quot;SCTP RECV ERROR: </span><span class="si">~p</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9153464742-37">[</span><span class="n">Error</span><span class="p" data-group-id="9153464742-37">]</span><span class="p" data-group-id="9153464742-36">)</span><span class="p">;</span><span class="w">
    </span><span class="n">Data</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
        </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="9153464742-38">(</span><span class="s">&quot;Received: </span><span class="si">~p</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9153464742-39">[</span><span class="n">Data</span><span class="p" data-group-id="9153464742-39">]</span><span class="p" data-group-id="9153464742-38">)</span><span class="w">
    </span><span class="k">end</span><span class="p">,</span><span class="w">
    </span><span class="nf">server_loop</span><span class="p" data-group-id="9153464742-40">(</span><span class="n">S</span><span class="p" data-group-id="9153464742-40">)</span><span class="p">.</span></code></pre><p>Example of an Erlang SCTP client interacting with the above server.
Note that in this example the client creates an association with
the server with 5 outbound streams. Therefore, sending of <code class="inline">&quot;Test 0&quot;</code>
over stream 0 succeeds, but sending of <code class="inline">&quot;Test 5&quot;</code> over stream 5 fails.
The client then <code class="inline">abort</code>s the association, which results in that
the corresponding event is received on the server side.</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">module</span><span class="p" data-group-id="4636074024-1">(</span><span class="ss">sctp_client</span><span class="p" data-group-id="4636074024-1">)</span><span class="p">.</span><span class="w">
</span><span class="w">
</span><span class="p">-</span><span class="na">export</span><span class="p" data-group-id="4636074024-2">(</span><span class="p" data-group-id="4636074024-3">[</span><span class="ss">client</span><span class="p">/</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">client</span><span class="p">/</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">client</span><span class="p">/</span><span class="mi">2</span><span class="p" data-group-id="4636074024-3">]</span><span class="p" data-group-id="4636074024-2">)</span><span class="p">.</span><span class="w">
</span><span class="p">-</span><span class="na">include_lib</span><span class="p" data-group-id="4636074024-4">(</span><span class="s">&quot;kernel/include/inet.hrl&quot;</span><span class="p" data-group-id="4636074024-4">)</span><span class="p">.</span><span class="w">
</span><span class="p">-</span><span class="na">include_lib</span><span class="p" data-group-id="4636074024-5">(</span><span class="s">&quot;kernel/include/inet_sctp.hrl&quot;</span><span class="p" data-group-id="4636074024-5">)</span><span class="p">.</span><span class="w">

</span><span class="nf">client</span><span class="p" data-group-id="4636074024-6">(</span><span class="p" data-group-id="4636074024-6">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nf">client</span><span class="p" data-group-id="4636074024-7">(</span><span class="p" data-group-id="4636074024-8">[</span><span class="ss">localhost</span><span class="p" data-group-id="4636074024-8">]</span><span class="p" data-group-id="4636074024-7">)</span><span class="p">.</span><span class="w">

</span><span class="nf">client</span><span class="p" data-group-id="4636074024-9">(</span><span class="p" data-group-id="4636074024-10">[</span><span class="n">Host</span><span class="p" data-group-id="4636074024-10">]</span><span class="p" data-group-id="4636074024-9">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nf">client</span><span class="p" data-group-id="4636074024-11">(</span><span class="n">Host</span><span class="p">,</span><span class="w"> </span><span class="mi">2006</span><span class="p" data-group-id="4636074024-11">)</span><span class="p">;</span><span class="w">

</span><span class="nf">client</span><span class="p" data-group-id="4636074024-12">(</span><span class="p" data-group-id="4636074024-13">[</span><span class="n">Host</span><span class="p">,</span><span class="w"> </span><span class="n">Port</span><span class="p" data-group-id="4636074024-13">]</span><span class="p" data-group-id="4636074024-12">)</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="nf">is_list</span><span class="p" data-group-id="4636074024-14">(</span><span class="n">Host</span><span class="p" data-group-id="4636074024-14">)</span><span class="p">,</span><span class="w"> </span><span class="nf">is_list</span><span class="p" data-group-id="4636074024-15">(</span><span class="n">Port</span><span class="p" data-group-id="4636074024-15">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nf">client</span><span class="p" data-group-id="4636074024-16">(</span><span class="n">Host</span><span class="p">,</span><span class="nf">list_to_integer</span><span class="p" data-group-id="4636074024-17">(</span><span class="n">Port</span><span class="p" data-group-id="4636074024-17">)</span><span class="p" data-group-id="4636074024-16">)</span><span class="p">,</span><span class="w">
    </span><span class="nc">init</span><span class="p">:</span><span class="nf">stop</span><span class="p" data-group-id="4636074024-18">(</span><span class="p" data-group-id="4636074024-18">)</span><span class="p">.</span><span class="w">

</span><span class="nf">client</span><span class="p" data-group-id="4636074024-19">(</span><span class="n">Host</span><span class="p">,</span><span class="w"> </span><span class="n">Port</span><span class="p" data-group-id="4636074024-19">)</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="nf">is_integer</span><span class="p" data-group-id="4636074024-20">(</span><span class="n">Port</span><span class="p" data-group-id="4636074024-20">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="4636074024-21">{</span><span class="ss">ok</span><span class="p">,</span><span class="n">S</span><span class="p" data-group-id="4636074024-21">}</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="nc">gen_sctp</span><span class="p">:</span><span class="nf">open</span><span class="p" data-group-id="4636074024-22">(</span><span class="p" data-group-id="4636074024-22">)</span><span class="p">,</span><span class="w">
    </span><span class="p" data-group-id="4636074024-23">{</span><span class="ss">ok</span><span class="p">,</span><span class="n">Assoc</span><span class="p" data-group-id="4636074024-23">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">gen_sctp</span><span class="p">:</span><span class="nf">connect</span><span class="w">
        </span><span class="p" data-group-id="4636074024-24">(</span><span class="n">S</span><span class="p">,</span><span class="w"> </span><span class="n">Host</span><span class="p">,</span><span class="w"> </span><span class="n">Port</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4636074024-25">[</span><span class="p" data-group-id="4636074024-26">{</span><span class="ss">sctp_initmsg</span><span class="p">,</span><span class="o">#</span><span class="ss">sctp_initmsg</span><span class="p" data-group-id="4636074024-27">{</span><span class="ss">num_ostreams</span><span class="o">=</span><span class="mi">5</span><span class="p" data-group-id="4636074024-27">}</span><span class="p" data-group-id="4636074024-26">}</span><span class="p" data-group-id="4636074024-25">]</span><span class="p" data-group-id="4636074024-24">)</span><span class="p">,</span><span class="w">
    </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="4636074024-28">(</span><span class="s">&quot;Connection Successful, Assoc=</span><span class="si">~p</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4636074024-29">[</span><span class="n">Assoc</span><span class="p" data-group-id="4636074024-29">]</span><span class="p" data-group-id="4636074024-28">)</span><span class="p">,</span><span class="w">

    </span><span class="nc">io</span><span class="p">:</span><span class="nf">write</span><span class="p" data-group-id="4636074024-30">(</span><span class="nc">gen_sctp</span><span class="p">:</span><span class="nf">send</span><span class="p" data-group-id="4636074024-31">(</span><span class="n">S</span><span class="p">,</span><span class="w"> </span><span class="n">Assoc</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4636074024-32">&lt;&lt;</span><span class="s">&quot;Test 0&quot;</span><span class="p" data-group-id="4636074024-32">&gt;&gt;</span><span class="p" data-group-id="4636074024-31">)</span><span class="p" data-group-id="4636074024-30">)</span><span class="p">,</span><span class="w">
    </span><span class="nc">io</span><span class="p">:</span><span class="nf">nl</span><span class="p" data-group-id="4636074024-33">(</span><span class="p" data-group-id="4636074024-33">)</span><span class="p">,</span><span class="w">
    </span><span class="nc">timer</span><span class="p">:</span><span class="nf">sleep</span><span class="p" data-group-id="4636074024-34">(</span><span class="mi">10000</span><span class="p" data-group-id="4636074024-34">)</span><span class="p">,</span><span class="w">
    </span><span class="nc">io</span><span class="p">:</span><span class="nf">write</span><span class="p" data-group-id="4636074024-35">(</span><span class="nc">gen_sctp</span><span class="p">:</span><span class="nf">send</span><span class="p" data-group-id="4636074024-36">(</span><span class="n">S</span><span class="p">,</span><span class="w"> </span><span class="n">Assoc</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4636074024-37">&lt;&lt;</span><span class="s">&quot;Test 5&quot;</span><span class="p" data-group-id="4636074024-37">&gt;&gt;</span><span class="p" data-group-id="4636074024-36">)</span><span class="p" data-group-id="4636074024-35">)</span><span class="p">,</span><span class="w">
    </span><span class="nc">io</span><span class="p">:</span><span class="nf">nl</span><span class="p" data-group-id="4636074024-38">(</span><span class="p" data-group-id="4636074024-38">)</span><span class="p">,</span><span class="w">
    </span><span class="nc">timer</span><span class="p">:</span><span class="nf">sleep</span><span class="p" data-group-id="4636074024-39">(</span><span class="mi">10000</span><span class="p" data-group-id="4636074024-39">)</span><span class="p">,</span><span class="w">
    </span><span class="nc">io</span><span class="p">:</span><span class="nf">write</span><span class="p" data-group-id="4636074024-40">(</span><span class="nc">gen_sctp</span><span class="p">:</span><span class="nf">abort</span><span class="p" data-group-id="4636074024-41">(</span><span class="n">S</span><span class="p">,</span><span class="w"> </span><span class="n">Assoc</span><span class="p" data-group-id="4636074024-41">)</span><span class="p" data-group-id="4636074024-40">)</span><span class="p">,</span><span class="w">
    </span><span class="nc">io</span><span class="p">:</span><span class="nf">nl</span><span class="p" data-group-id="4636074024-42">(</span><span class="p" data-group-id="4636074024-42">)</span><span class="p">,</span><span class="w">

    </span><span class="nc">timer</span><span class="p">:</span><span class="nf">sleep</span><span class="p" data-group-id="4636074024-43">(</span><span class="mi">1000</span><span class="p" data-group-id="4636074024-43">)</span><span class="p">,</span><span class="w">
    </span><span class="nc">gen_sctp</span><span class="p">:</span><span class="nf">close</span><span class="p" data-group-id="4636074024-44">(</span><span class="n">S</span><span class="p" data-group-id="4636074024-44">)</span><span class="p">.</span></code></pre><p>A simple Erlang SCTP client that uses the <code class="inline">connect_init</code> API:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">module</span><span class="p" data-group-id="6094960981-1">(</span><span class="ss">ex3</span><span class="p" data-group-id="6094960981-1">)</span><span class="p">.</span><span class="w">
</span><span class="w">
</span><span class="p">-</span><span class="na">export</span><span class="p" data-group-id="6094960981-2">(</span><span class="p" data-group-id="6094960981-3">[</span><span class="ss">client</span><span class="p">/</span><span class="mi">4</span><span class="p" data-group-id="6094960981-3">]</span><span class="p" data-group-id="6094960981-2">)</span><span class="p">.</span><span class="w">
</span><span class="p">-</span><span class="na">include_lib</span><span class="p" data-group-id="6094960981-4">(</span><span class="s">&quot;kernel/include/inet.hrl&quot;</span><span class="p" data-group-id="6094960981-4">)</span><span class="p">.</span><span class="w">
</span><span class="p">-</span><span class="na">include_lib</span><span class="p" data-group-id="6094960981-5">(</span><span class="s">&quot;kernel/include/inet_sctp.hrl&quot;</span><span class="p" data-group-id="6094960981-5">)</span><span class="p">.</span><span class="w">

</span><span class="nf">client</span><span class="p" data-group-id="6094960981-6">(</span><span class="n">Peer1</span><span class="p">,</span><span class="w"> </span><span class="n">Port1</span><span class="p">,</span><span class="w"> </span><span class="n">Peer2</span><span class="p">,</span><span class="w"> </span><span class="n">Port2</span><span class="p" data-group-id="6094960981-6">)</span><span class="w">
  </span><span class="k">when</span><span class="w"> </span><span class="nf">is_tuple</span><span class="p" data-group-id="6094960981-7">(</span><span class="n">Peer1</span><span class="p" data-group-id="6094960981-7">)</span><span class="p">,</span><span class="w"> </span><span class="nf">is_integer</span><span class="p" data-group-id="6094960981-8">(</span><span class="n">Port1</span><span class="p" data-group-id="6094960981-8">)</span><span class="p">,</span><span class="w"> </span><span class="nf">is_tuple</span><span class="p" data-group-id="6094960981-9">(</span><span class="n">Peer2</span><span class="p" data-group-id="6094960981-9">)</span><span class="p">,</span><span class="w"> </span><span class="nf">is_integer</span><span class="p" data-group-id="6094960981-10">(</span><span class="n">Port2</span><span class="p" data-group-id="6094960981-10">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="p" data-group-id="6094960981-11">{</span><span class="ss">ok</span><span class="p">,</span><span class="n">S</span><span class="p" data-group-id="6094960981-11">}</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="nc">gen_sctp</span><span class="p">:</span><span class="nf">open</span><span class="p" data-group-id="6094960981-12">(</span><span class="p" data-group-id="6094960981-12">)</span><span class="p">,</span><span class="w">
    </span><span class="n">SctpInitMsgOpt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="6094960981-13">{</span><span class="ss">sctp_initmsg</span><span class="p">,</span><span class="o">#</span><span class="ss">sctp_initmsg</span><span class="p" data-group-id="6094960981-14">{</span><span class="ss">num_ostreams</span><span class="o">=</span><span class="mi">5</span><span class="p" data-group-id="6094960981-14">}</span><span class="p" data-group-id="6094960981-13">}</span><span class="p">,</span><span class="w">
    </span><span class="n">ActiveOpt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="6094960981-15">{</span><span class="ss">active</span><span class="p">,</span><span class="w"> </span><span class="ss">true</span><span class="p" data-group-id="6094960981-15">}</span><span class="p">,</span><span class="w">
    </span><span class="n">Opts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="6094960981-16">[</span><span class="n">SctpInitMsgOpt</span><span class="p">,</span><span class="w"> </span><span class="n">ActiveOpt</span><span class="p" data-group-id="6094960981-16">]</span><span class="p">,</span><span class="w">
    </span><span class="ss">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">gen_sctp</span><span class="p">:</span><span class="nf">connect</span><span class="p" data-group-id="6094960981-17">(</span><span class="n">S</span><span class="p">,</span><span class="w"> </span><span class="n">Peer1</span><span class="p">,</span><span class="w"> </span><span class="n">Port1</span><span class="p">,</span><span class="w"> </span><span class="n">Opts</span><span class="p" data-group-id="6094960981-17">)</span><span class="p">,</span><span class="w">
    </span><span class="ss">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">gen_sctp</span><span class="p">:</span><span class="nf">connect</span><span class="p" data-group-id="6094960981-18">(</span><span class="n">S</span><span class="p">,</span><span class="w"> </span><span class="n">Peer2</span><span class="p">,</span><span class="w"> </span><span class="n">Port2</span><span class="p">,</span><span class="w"> </span><span class="n">Opts</span><span class="p" data-group-id="6094960981-18">)</span><span class="p">,</span><span class="w">
    </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="6094960981-19">(</span><span class="s">&quot;Connections initiated</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6094960981-20">[</span><span class="p" data-group-id="6094960981-20">]</span><span class="p" data-group-id="6094960981-19">)</span><span class="p">,</span><span class="w">
    </span><span class="nf">client_loop</span><span class="p" data-group-id="6094960981-21">(</span><span class="n">S</span><span class="p">,</span><span class="w"> </span><span class="n">Peer1</span><span class="p">,</span><span class="w"> </span><span class="n">Port1</span><span class="p">,</span><span class="w"> </span><span class="ss">undefined</span><span class="p">,</span><span class="w"> </span><span class="n">Peer2</span><span class="p">,</span><span class="w"> </span><span class="n">Port2</span><span class="p">,</span><span class="w"> </span><span class="ss">undefined</span><span class="p" data-group-id="6094960981-21">)</span><span class="p">.</span><span class="w">

</span><span class="nf">client_loop</span><span class="p" data-group-id="6094960981-22">(</span><span class="n">S</span><span class="p">,</span><span class="w"> </span><span class="n">Peer1</span><span class="p">,</span><span class="w"> </span><span class="n">Port1</span><span class="p">,</span><span class="w"> </span><span class="n">AssocId1</span><span class="p">,</span><span class="w"> </span><span class="n">Peer2</span><span class="p">,</span><span class="w"> </span><span class="n">Port2</span><span class="p">,</span><span class="w"> </span><span class="n">AssocId2</span><span class="p" data-group-id="6094960981-22">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="k">receive</span><span class="w">
        </span><span class="p" data-group-id="6094960981-23">{</span><span class="ss">sctp</span><span class="p">,</span><span class="w"> </span><span class="n">S</span><span class="p">,</span><span class="w"> </span><span class="n">Peer1</span><span class="p">,</span><span class="w"> </span><span class="n">Port1</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6094960981-24">{</span><span class="p">_</span><span class="n">Anc</span><span class="p">,</span><span class="w"> </span><span class="n">SAC</span><span class="p" data-group-id="6094960981-24">}</span><span class="p" data-group-id="6094960981-23">}</span><span class="w">
          </span><span class="k">when</span><span class="w"> </span><span class="nf">is_record</span><span class="p" data-group-id="6094960981-25">(</span><span class="n">SAC</span><span class="p">,</span><span class="w"> </span><span class="ss">sctp_assoc_change</span><span class="p" data-group-id="6094960981-25">)</span><span class="p">,</span><span class="w"> </span><span class="n">AssocId1</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">undefined</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="6094960981-26">(</span><span class="s">&quot;Association 1 connect result: </span><span class="si">~p</span><span class="s">. AssocId: </span><span class="si">~p</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w">
                      </span><span class="p" data-group-id="6094960981-27">[</span><span class="n">SAC</span><span class="o">#</span><span class="ss">sctp_assoc_change</span><span class="p">.</span><span class="ss">state</span><span class="p">,</span><span class="w">
                       </span><span class="n">SAC</span><span class="o">#</span><span class="ss">sctp_assoc_change</span><span class="p">.</span><span class="ss">assoc_id</span><span class="p" data-group-id="6094960981-27">]</span><span class="p" data-group-id="6094960981-26">)</span><span class="p">,</span><span class="w">
            </span><span class="nf">client_loop</span><span class="p" data-group-id="6094960981-28">(</span><span class="n">S</span><span class="p">,</span><span class="w"> </span><span class="n">Peer1</span><span class="p">,</span><span class="w"> </span><span class="n">Port1</span><span class="p">,</span><span class="w"> </span><span class="n">SAC</span><span class="o">#</span><span class="ss">sctp_assoc_change</span><span class="p">.</span><span class="ss">assoc_id</span><span class="p">,</span><span class="w">
                        </span><span class="n">Peer2</span><span class="p">,</span><span class="w"> </span><span class="n">Port2</span><span class="p">,</span><span class="w"> </span><span class="n">AssocId2</span><span class="p" data-group-id="6094960981-28">)</span><span class="p">;</span><span class="w">

        </span><span class="p" data-group-id="6094960981-29">{</span><span class="ss">sctp</span><span class="p">,</span><span class="w"> </span><span class="n">S</span><span class="p">,</span><span class="w"> </span><span class="n">Peer2</span><span class="p">,</span><span class="w"> </span><span class="n">Port2</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6094960981-30">{</span><span class="p">_</span><span class="n">Anc</span><span class="p">,</span><span class="w"> </span><span class="n">SAC</span><span class="p" data-group-id="6094960981-30">}</span><span class="p" data-group-id="6094960981-29">}</span><span class="w">
          </span><span class="k">when</span><span class="w"> </span><span class="nf">is_record</span><span class="p" data-group-id="6094960981-31">(</span><span class="n">SAC</span><span class="p">,</span><span class="w"> </span><span class="ss">sctp_assoc_change</span><span class="p" data-group-id="6094960981-31">)</span><span class="p">,</span><span class="w"> </span><span class="n">AssocId2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">undefined</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="6094960981-32">(</span><span class="s">&quot;Association 2 connect result: </span><span class="si">~p</span><span class="s">. AssocId: </span><span class="si">~p</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w">
                      </span><span class="p" data-group-id="6094960981-33">[</span><span class="n">SAC</span><span class="o">#</span><span class="ss">sctp_assoc_change</span><span class="p">.</span><span class="ss">state</span><span class="p">,</span><span class="w"> </span><span class="n">SAC</span><span class="o">#</span><span class="ss">sctp_assoc_change</span><span class="p">.</span><span class="ss">assoc_id</span><span class="p" data-group-id="6094960981-33">]</span><span class="p" data-group-id="6094960981-32">)</span><span class="p">,</span><span class="w">
            </span><span class="nf">client_loop</span><span class="p" data-group-id="6094960981-34">(</span><span class="n">S</span><span class="p">,</span><span class="w"> </span><span class="n">Peer1</span><span class="p">,</span><span class="w"> </span><span class="n">Port1</span><span class="p">,</span><span class="w"> </span><span class="n">AssocId1</span><span class="p">,</span><span class="w"> </span><span class="n">Peer2</span><span class="p">,</span><span class="w"> </span><span class="n">Port2</span><span class="p">,</span><span class="w">
                       </span><span class="n">SAC</span><span class="o">#</span><span class="ss">sctp_assoc_change</span><span class="p">.</span><span class="ss">assoc_id</span><span class="p" data-group-id="6094960981-34">)</span><span class="p">;</span><span class="w">

        </span><span class="p" data-group-id="6094960981-35">{</span><span class="ss">sctp</span><span class="p">,</span><span class="w"> </span><span class="n">S</span><span class="p">,</span><span class="w"> </span><span class="n">Peer1</span><span class="p">,</span><span class="w"> </span><span class="n">Port1</span><span class="p">,</span><span class="w"> </span><span class="n">Data</span><span class="p" data-group-id="6094960981-35">}</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="6094960981-36">(</span><span class="s">&quot;Association 1: received </span><span class="si">~p</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6094960981-37">[</span><span class="n">Data</span><span class="p" data-group-id="6094960981-37">]</span><span class="p" data-group-id="6094960981-36">)</span><span class="p">,</span><span class="w">
            </span><span class="nf">client_loop</span><span class="p" data-group-id="6094960981-38">(</span><span class="n">S</span><span class="p">,</span><span class="w"> </span><span class="n">Peer1</span><span class="p">,</span><span class="w"> </span><span class="n">Port1</span><span class="p">,</span><span class="w"> </span><span class="n">AssocId1</span><span class="p">,</span><span class="w">
                        </span><span class="n">Peer2</span><span class="p">,</span><span class="w"> </span><span class="n">Port2</span><span class="p">,</span><span class="w"> </span><span class="n">AssocId2</span><span class="p" data-group-id="6094960981-38">)</span><span class="p">;</span><span class="w">

        </span><span class="p" data-group-id="6094960981-39">{</span><span class="ss">sctp</span><span class="p">,</span><span class="w"> </span><span class="n">S</span><span class="p">,</span><span class="w"> </span><span class="n">Peer2</span><span class="p">,</span><span class="w"> </span><span class="n">Port2</span><span class="p">,</span><span class="w"> </span><span class="n">Data</span><span class="p" data-group-id="6094960981-39">}</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="6094960981-40">(</span><span class="s">&quot;Association 2: received </span><span class="si">~p</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6094960981-41">[</span><span class="n">Data</span><span class="p" data-group-id="6094960981-41">]</span><span class="p" data-group-id="6094960981-40">)</span><span class="p">,</span><span class="w">
            </span><span class="nf">client_loop</span><span class="p" data-group-id="6094960981-42">(</span><span class="n">S</span><span class="p">,</span><span class="w"> </span><span class="n">Peer1</span><span class="p">,</span><span class="w"> </span><span class="n">Port1</span><span class="p">,</span><span class="w"> </span><span class="n">AssocId1</span><span class="p">,</span><span class="w">
                        </span><span class="n">Peer2</span><span class="p">,</span><span class="w"> </span><span class="n">Port2</span><span class="p">,</span><span class="w"> </span><span class="n">AssocId2</span><span class="p" data-group-id="6094960981-42">)</span><span class="p">;</span><span class="w">

        </span><span class="n">Other</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="6094960981-43">(</span><span class="s">&quot;Other </span><span class="si">~p</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6094960981-44">[</span><span class="n">Other</span><span class="p" data-group-id="6094960981-44">]</span><span class="p" data-group-id="6094960981-43">)</span><span class="p">,</span><span class="w">
            </span><span class="nf">client_loop</span><span class="p" data-group-id="6094960981-45">(</span><span class="n">S</span><span class="p">,</span><span class="w"> </span><span class="n">Peer1</span><span class="p">,</span><span class="w"> </span><span class="n">Port1</span><span class="p">,</span><span class="w"> </span><span class="n">AssocId1</span><span class="p">,</span><span class="w">
                        </span><span class="n">Peer2</span><span class="p">,</span><span class="w"> </span><span class="n">Port2</span><span class="p">,</span><span class="w"> </span><span class="n">AssocId2</span><span class="p" data-group-id="6094960981-45">)</span><span class="w">

    </span><span class="k">after</span><span class="w"> </span><span class="mi">5000</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="ss">ok</span><span class="w">
    </span><span class="k">end</span><span class="p">.</span></code></pre><h2 id="module-see-also" class="section-heading"><a href="#module-see-also" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text"><a href="" id="seealso"></a> See Also</span></h2><p><a href="gen_tcp.html"><code class="inline">gen_tcp</code></a>, <a href="gen_udp.html"><code class="inline">gen_udp</code></a>, <a href="inet.html"><code class="inline">inet</code></a>,
<a href="http://www.rfc-archive.org/getrfc.php?rfc=2960">RFC 2960</a> (Stream Control
Transmission Protocol),
<a href="http://tools.ietf.org/html/draft-ietf-tsvwg-sctpsocket-13">Sockets API Extensions for SCTP</a></p>
    </section>

</div>

  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-types-exported-data-types summary">
  <h2>
    <a href="#types-exported-data-types">Types: Exported data types</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:assoc_id/0" data-no-tooltip="" translate="no">assoc_id()</a>

      </div>

        <div class="summary-synopsis"><p>Association ID.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:option/0" data-no-tooltip="" translate="no">option()</a>

      </div>

        <div class="summary-synopsis"><p><a>SCTP Socket Option</a> name and value, to set.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:option_name/0" data-no-tooltip="" translate="no">option_name()</a>

      </div>

        <div class="summary-synopsis"><p><a>SCTP Socket Option</a> name, to get.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:option_value/0" data-no-tooltip="" translate="no">option_value()</a>

      </div>

        <div class="summary-synopsis"><p><a>SCTP Socket Option</a> name and value, what you get.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:sctp_socket/0" data-no-tooltip="" translate="no">sctp_socket()</a>

      </div>

        <div class="summary-synopsis"><p>Socket identifier returned from <a><code class="inline">open/*</code></a>.</p></div>

    </div>

</div>
<div class="summary-types-internal-data-types summary">
  <h2>
    <a href="#types-internal-data-types">Types: Internal data types</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:elementary_option/0" data-no-tooltip="" translate="no">elementary_option()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:elementary_option_name/0" data-no-tooltip="" translate="no">elementary_option_name()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:record_option/0" data-no-tooltip="" translate="no">record_option()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:ro_option/0" data-no-tooltip="" translate="no">ro_option()</a>

      </div>

    </div>

</div>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#abort/2" data-no-tooltip="" translate="no">abort(Socket, Assoc)</a>

      </div>

        <div class="summary-synopsis"><p>Abort an association.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#close/1" data-no-tooltip="" translate="no">close(Socket)</a>

      </div>

        <div class="summary-synopsis"><p>Close an SCTP socket.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#connect/3" data-no-tooltip="" translate="no">connect(Socket, SockAddr, Opts)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a><code class="inline">connect(Socket, SockAddr, Opts, infinity)</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#connect/4" data-no-tooltip="" translate="no">connect/4</a>

      </div>

        <div class="summary-synopsis"><p>Establish an association with a peer.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#connect/5" data-no-tooltip="" translate="no">connect(Socket, Addr, Port, Opts, Timeout)</a>

      </div>

        <div class="summary-synopsis"><p>Establish an association with a peer.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#connect_init/3" data-no-tooltip="" translate="no">connect_init(Socket, SockAddr, Opts)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a><code class="inline">connect_init(Socket, SockAddr, Opts, infinity)</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#connect_init/4" data-no-tooltip="" translate="no">connect_init/4</a>

      </div>

        <div class="summary-synopsis"><p>Start establishing an association with a peer.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#connect_init/5" data-no-tooltip="" translate="no">connect_init(Socket, Addr, Port, Opts, Timeout)</a>

      </div>

        <div class="summary-synopsis"><p>Start establishing an association with a peer.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#connectx_init/3" data-no-tooltip="" translate="no">connectx_init(Socket, SockAddrs, Opts)</a>

      </div>

        <div class="summary-synopsis"><p>Start establishing an association with a peer (multiple addresses).</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#connectx_init/4" data-no-tooltip="" translate="no">connectx_init(Socket, Addrs, Port, Opts)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a><code class="inline">connectx_init(Socket, Addrs, Port, Opts, infinity)</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#connectx_init/5" data-no-tooltip="" translate="no">connectx_init(Socket, Addrs, Port, Opts, Timeout)</a>

      </div>

        <div class="summary-synopsis"><p>Start establishing an association with a peer (multiple addresses).</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#controlling_process/2" data-no-tooltip="" translate="no">controlling_process(Socket, Pid)</a>

      </div>

        <div class="summary-synopsis"><p>Change the controlling process (owner) of a socket.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#eof/2" data-no-tooltip="" translate="no">eof(Socket, Assoc)</a>

      </div>

        <div class="summary-synopsis"><p>Terminate an association gracefully.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#error_string/1" data-no-tooltip="" translate="no">error_string(ErrorNumber)</a>

      </div>

        <div class="summary-synopsis"><p>Translate an error number into a string or atom.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#listen/2" data-no-tooltip="" translate="no">listen/2</a>

      </div>

        <div class="summary-synopsis"><p>Make an SCTP socket listen to incoming associations.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#open/0" data-no-tooltip="" translate="no">open()</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a><code class="inline">open([])</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#open/1" data-no-tooltip="" translate="no">open/1</a>

      </div>

        <div class="summary-synopsis"><p>Create an SCTP socket.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#open/2" data-no-tooltip="" translate="no">open(Port, Opts)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a><code class="inline">open([{port, Port} | Opts])</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#peeloff/2" data-no-tooltip="" translate="no">peeloff(Socket, Assoc)</a>

      </div>

        <div class="summary-synopsis"><p>Branch off an association into a new socket of type <code class="inline">stream</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#recv/1" data-no-tooltip="" translate="no">recv(Socket)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a><code class="inline">recv(Socket, infinity)</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#recv/2" data-no-tooltip="" translate="no">recv(Socket, Timeout)</a>

      </div>

        <div class="summary-synopsis"><p>Receive a <code class="inline">Data</code> message.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#send/3" data-no-tooltip="" translate="no">send(Socket, SndRcvInfo, Data)</a>

      </div>

        <div class="summary-synopsis"><p>Send a <code class="inline">Data</code> message, full-featured.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#send/4" data-no-tooltip="" translate="no">send(Socket, Assoc, Stream, Data)</a>

      </div>

        <div class="summary-synopsis"><p>Send a data message.</p></div>

    </div>

</div>

  </section>


  <section id="types-exported-data-types" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types-exported-data-types">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types: Exported data types</span>
    </h1>
    <div class="types-exported-data-types-list">
<section class="detail" id="t:assoc_id/0">

  <div class="detail-header">
    <a href="#t:assoc_id/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">assoc_id()</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/gen_sctp.erl#L664" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> assoc_id() :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Association ID.</p><p>An opaque term returned in, for example, <code class="inline">#sctp_paddr_change{}</code>, which
identifies an association for an SCTP socket. The term is opaque except for the
special value <code class="inline">0</code>, which has a meaning such as &quot;the whole endpoint&quot; or &quot;all
future associations&quot;.</p>
  </section>
</section>
<section class="detail" id="t:option/0">

  <div class="detail-header">
    <a href="#t:option/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">option()</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/gen_sctp.erl#L668" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> option() :: <a href="#t:elementary_option/0">elementary_option</a>() | <a href="#t:record_option/0">record_option</a>().</pre>

      </div>

<p><a href="#options">SCTP Socket Option</a> name and value, to set.</p>
  </section>
</section>
<section class="detail" id="t:option_name/0">

  <div class="detail-header">
    <a href="#t:option_name/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">option_name()</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/gen_sctp.erl#L674" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> option_name() :: <a href="#t:elementary_option_name/0">elementary_option_name</a>() | <a href="#t:record_option/0">record_option</a>() | <a href="#t:ro_option/0">ro_option</a>().</pre>

      </div>

<p><a href="#options">SCTP Socket Option</a> name, to get.</p>
  </section>
</section>
<section class="detail" id="t:option_value/0">

  <div class="detail-header">
    <a href="#t:option_value/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">option_value()</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/gen_sctp.erl#L683" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> option_value() :: <a href="#t:elementary_option/0">elementary_option</a>() | <a href="#t:record_option/0">record_option</a>() | <a href="#t:ro_option/0">ro_option</a>().</pre>

      </div>

<p><a href="#options">SCTP Socket Option</a> name and value, what you get.</p>
  </section>
</section>
<section class="detail" id="t:sctp_socket/0">

  <div class="detail-header">
    <a href="#t:sctp_socket/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">sctp_socket()</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/gen_sctp.erl#L770" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> sctp_socket() :: <a href="../../apps/erts/erlang.html#t:port/0">port</a>().</pre>

      </div>

<p>Socket identifier returned from <a href="#open/0"><code class="inline">open/*</code></a>.</p>
  </section>
</section>

    </div>
  </section>

  <section id="types-internal-data-types" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types-internal-data-types">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types: Internal data types</span>
    </h1>
    <div class="types-internal-data-types-list">
<section class="detail" id="t:elementary_option/0">

  <div class="detail-header">
    <a href="#t:elementary_option/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">elementary_option()</h1>

        <span class="note">(not exported)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/gen_sctp.erl#L689" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> elementary_option() ::
          {active, true | false | once | -32768..32767} |
          {buffer, <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()} |
          {non_block_send, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
          {debug, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
          {dontroute, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
          {exclusiveaddruse, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
          {high_msgq_watermark, <a href="../../apps/erts/erlang.html#t:pos_integer/0">pos_integer</a>()} |
          {linger, {<a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>(), <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()}} |
          {low_msgq_watermark, <a href="../../apps/erts/erlang.html#t:pos_integer/0">pos_integer</a>()} |
          {mode, list | binary} |
          list | binary |
          {priority, <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()} |
          {recbuf, <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()} |
          {reuseaddr, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
          {reuseport, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
          {reuseport_lb, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
          {ipv6_v6only, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
          {sndbuf, <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()} |
          {sctp_autoclose, <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()} |
          {sctp_disable_fragments, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
          {sctp_i_want_mapped_v4_addr, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
          {sctp_maxseg, <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()} |
          {sctp_nodelay, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
          {tos, <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()} |
          {tclass, <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()} |
          {ttl, <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()} |
          {recvtos, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
          {recvtclass, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
          {recvttl, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:elementary_option_name/0">

  <div class="detail-header">
    <a href="#t:elementary_option_name/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">elementary_option_name()</h1>

        <span class="note">(not exported)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/gen_sctp.erl#L720" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> elementary_option_name() ::
          active | buffer | non_block_send | debug | dontroute | exclusiveaddruse |
          high_msgq_watermark | linger | low_msgq_watermark | mode | priority | recbuf | reuseaddr |
          reuseport | reuseport_lb | ipv6_v6only | sctp_autoclose | sctp_disable_fragments |
          sctp_i_want_mapped_v4_addr | sctp_maxseg | sctp_nodelay | sndbuf | tos | tclass | ttl |
          recvtos | recvtclass | recvttl.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:record_option/0">

  <div class="detail-header">
    <a href="#t:record_option/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">record_option()</h1>

        <span class="note">(not exported)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/gen_sctp.erl#L751" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> record_option() ::
          {sctp_adaptation_layer, #sctp_setadaptation{adaptation_ind :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}} |
          {sctp_associnfo,
           #sctp_assocparams{assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                             asocmaxrxt :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                             number_peer_destinations :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                             peer_rwnd :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                             local_rwnd :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                             cookie_life :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}} |
          {sctp_default_send_param,
           #sctp_sndrcvinfo{stream :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                            ssn :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                            flags :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                            ppid :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                            context :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                            timetolive :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                            tsn :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                            cumtsn :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                            assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}} |
          {sctp_delayed_ack_time, #sctp_assoc_value{assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), assoc_value :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}} |
          {sctp_events,
           #sctp_event_subscribe{data_io_event :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                 association_event :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                 address_event :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                 send_failure_event :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                 peer_error_event :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                 shutdown_event :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                 partial_delivery_event :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                 adaptation_layer_event :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                 authentication_event :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}} |
          {sctp_initmsg,
           #sctp_initmsg{num_ostreams :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                         max_instreams :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                         max_attempts :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                         max_init_timeo :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}} |
          {sctp_peer_addr_params,
           #sctp_paddrparams{assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                             address :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                             hbinterval :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                             pathmaxrxt :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                             pathmtu :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                             sackdelay :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                             flags :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}} |
          {sctp_primary_addr, #sctp_prim{assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), addr :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}} |
          {sctp_rtoinfo,
           #sctp_rtoinfo{assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), initial :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), max :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), min :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}} |
          {sctp_set_peer_primary_addr, #sctp_setpeerprim{assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), addr :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:ro_option/0">

  <div class="detail-header">
    <a href="#t:ro_option/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">ro_option()</h1>

        <span class="note">(not exported)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/gen_sctp.erl#L764" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> ro_option() ::
          {sctp_get_peer_addr_info,
           #sctp_paddrinfo{assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                           address :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                           state :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                           cwnd :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                           srtt :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                           rto :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                           mtu :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}} |
          {sctp_status,
           #sctp_status{assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                        state :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                        rwnd :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                        unackdata :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                        penddata :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                        instrms :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                        outstrms :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                        fragmentation_point :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                        primary :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}}.</pre>

      </div>


  </section>
</section>

    </div>
  </section>

  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Functions</span>
    </h1>
    <div class="functions-list">
<section class="detail" id="abort/2">

  <div class="detail-header">
    <a href="#abort/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">abort(Socket, Assoc)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/gen_sctp.erl#L1487" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> abort(Socket, Assoc) -> ok | {error, <a href="inet.html#t:posix/0">inet:posix</a>()}
               when
                   Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
                   Assoc ::
                       #sctp_assoc_change{state :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                          error :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                          outbound_streams :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                          inbound_streams :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                          assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}.</pre>

      </div>

<p>Abort an association.</p><p>Abnormally terminates the association specified by <code class="inline">Assoc</code>,
without flushing unsent data.  The socket itself remains open.
Other associations opened on this socket are still valid,
and the socket can be used in new associations.</p>
  </section>
</section>
<section class="detail" id="close/1">

  <div class="detail-header">
    <a href="#close/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">close(Socket)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/gen_sctp.erl#L882" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> close(Socket) -> ok | {error, <a href="inet.html#t:posix/0">inet:posix</a>()} when Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>().</pre>

      </div>

<p>Close an SCTP socket.</p><p>Closes the socket and all associations on it. The unsent data is flushed
as for <a href="#eof/2"><code class="inline">eof/2</code></a>. The <a href="#close/1"><code class="inline">close/1</code></a> call is blocking
depending of the value of the <a href="inet.html#option-linger"><code class="inline">linger</code></a>
socket [option]. If it is <code class="inline">false</code> or the linger time-out expires,
the call returns and unsent data is flushed in the background.</p>
  </section>
</section>
<section class="detail" id="connect/3">

  <div class="detail-header">
    <a href="#connect/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">connect(Socket, SockAddr, Opts)</h1>

        <span class="note">(since OTP 24.3)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/gen_sctp.erl#L970" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> connect(Socket, SockAddr, Opts) ->
                 {ok,
                  #sctp_assoc_change{state :: comm_up,
                                     error :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                     outbound_streams :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                     inbound_streams :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                     assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}} |
                 {error,
                  #sctp_assoc_change{state :: cant_assoc,
                                     error :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                     outbound_streams :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                     inbound_streams :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                     assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}} |
                 {error, <a href="inet.html#t:posix/0">inet:posix</a>()}
                 when
                     Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
                     SockAddr :: <a href="socket.html#t:sockaddr_in/0">socket:sockaddr_in</a>() | <a href="socket.html#t:sockaddr_in6/0">socket:sockaddr_in6</a>(),
                     Opts :: [Opt :: <a href="#t:option/0">option</a>()].</pre>

      </div>

<p>Equivalent to <a href="#connect/4"><code class="inline">connect(Socket, SockAddr, Opts, infinity)</code></a>.</p>
  </section>
</section>
<section class="detail" id="connect/4">

  <div class="detail-header">
    <a href="#connect/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">connect/4</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/gen_sctp.erl#L1002" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> connect(Socket, SockAddr, Opts, Timeout) ->
                 {ok,
                  #sctp_assoc_change{state :: comm_up,
                                     error :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                     outbound_streams :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                     inbound_streams :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                     assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}} |
                 {error,
                  #sctp_assoc_change{state :: cant_assoc,
                                     error :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                     outbound_streams :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                     inbound_streams :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                     assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}} |
                 {error, <a href="inet.html#t:posix/0">inet:posix</a>()}
                 when
                     Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
                     SockAddr :: <a href="socket.html#t:sockaddr_in/0">socket:sockaddr_in</a>() | <a href="socket.html#t:sockaddr_in6/0">socket:sockaddr_in6</a>(),
                     Opts :: [Opt :: <a href="#t:option/0">option</a>()],
                     Timeout :: <a href="../../apps/erts/erlang.html#t:timeout/0">timeout</a>();
             (Socket, Addr, Port, Opts) ->
                 {ok,
                  #sctp_assoc_change{state :: comm_up,
                                     error :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                     outbound_streams :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                     inbound_streams :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                     assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}} |
                 {error,
                  #sctp_assoc_change{state :: cant_assoc,
                                     error :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                     outbound_streams :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                     inbound_streams :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                     assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}} |
                 {error, <a href="inet.html#t:posix/0">inet:posix</a>()}
                 when
                     Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
                     Addr :: <a href="inet.html#t:ip_address/0">inet:ip_address</a>() | <a href="inet.html#t:hostname/0">inet:hostname</a>(),
                     Port :: <a href="inet.html#t:port_number/0">inet:port_number</a>(),
                     Opts :: [Opt :: <a href="#t:option/0">option</a>()].</pre>

      </div>

<p>Establish an association with a peer.</p><p>With arguments <code class="inline">Addr</code> and <code class="inline">Port</code>, equivalent to
<a href="#connect/5"><code class="inline">connect(Socket, Addr, Port, Opts, infinity)</code></a>.</p><p>With arguments <code class="inline">SockAddr</code> and <code class="inline">Opts</code> <em>(since OTP 24.3)</em>, equivalent to
<a href="#connect/5"><code class="inline">connect(Socket, Addr, Port, Opts, Timeout)</code></a>
where <code class="inline">Addr</code> and <code class="inline">Port</code> are extracted from <code class="inline">SockAddr</code>.</p>
  </section>
</section>
<section class="detail" id="connect/5">

  <div class="detail-header">
    <a href="#connect/5" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">connect(Socket, Addr, Port, Opts, Timeout)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/gen_sctp.erl#L1102" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> connect(Socket, Addr, Port, Opts, Timeout) ->
                 {ok,
                  #sctp_assoc_change{state :: comm_up,
                                     error :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                     outbound_streams :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                     inbound_streams :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                     assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}} |
                 {error,
                  #sctp_assoc_change{state :: cant_assoc,
                                     error :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                     outbound_streams :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                     inbound_streams :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                     assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}} |
                 {error, <a href="inet.html#t:posix/0">inet:posix</a>()}
                 when
                     Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
                     Addr :: <a href="inet.html#t:ip_address/0">inet:ip_address</a>() | <a href="inet.html#t:hostname/0">inet:hostname</a>(),
                     Port :: <a href="inet.html#t:port_number/0">inet:port_number</a>(),
                     Opts :: [Opt :: <a href="#t:option/0">option</a>()],
                     Timeout :: <a href="../../apps/erts/erlang.html#t:timeout/0">timeout</a>().</pre>

      </div>

<p>Establish an association with a peer.</p><p>Establishes a new association for socket <code class="inline">Socket</code>, with the peer
(SCTP server socket) specified by <code class="inline">Addr</code> and <code class="inline">Port</code>.
<code class="inline">Timeout</code>, is expressed in milliseconds.
A socket can be associated with multiple peers.
The socket has to be of type <code class="inline">seqpacket</code>.</p><section role="note" class="admonition warning"><h4 class="admonition-title warning">Warning</h4><p>Using a value of <code class="inline">Timeout</code> less than the maximum time taken by the OS to
establish an association (around 4.5 minutes if the default values from
<a href="https://tools.ietf.org/html/rfc4960">RFC 4960</a> are used), can result in
inconsistent or incorrect return values. This is especially relevant for
associations sharing the same <code class="inline">Socket</code> (that is, source address and port), as
the controlling process blocks until <code class="inline">connect/*</code> returns.
<a href="#connect_init/4"><code class="inline">connect_init/*</code></a> provides an alternative without this
limitation.</p></section><h3 id="connect/5-sctp_assoc_change" class="section-heading"><a href="#connect/5-sctp_assoc_change" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text"><a href="" id="record-sctp_assoc_change"></a> <code class="inline">#sctp_assoc_change{}</code></span></h3><p>The result of <code class="inline">connect/*</code> is an <code class="inline">#sctp_assoc_change{}</code> event that contains,
in particular, the new <a href="#t:assoc_id/0">Association ID</a>:
l</p><pre><code class="makeup erlang" translate="no"><span class="o">#</span><span class="ss">sctp_assoc_change</span><span class="p" data-group-id="1067586772-1">{</span><span class="w">
      </span><span class="ss">state</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="nf">atom</span><span class="p" data-group-id="1067586772-2">(</span><span class="p" data-group-id="1067586772-2">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">error</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="1067586772-3">(</span><span class="p" data-group-id="1067586772-3">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">outbound_streams</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="1067586772-4">(</span><span class="p" data-group-id="1067586772-4">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">inbound_streams</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="1067586772-5">(</span><span class="p" data-group-id="1067586772-5">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">assoc_id</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="nf">assoc_id</span><span class="p" data-group-id="1067586772-6">(</span><span class="p" data-group-id="1067586772-6">)</span><span class="w">
</span><span class="p" data-group-id="1067586772-1">}</span></code></pre><p>The number of outbound and inbound streams for the association
can be set by giving an <code class="inline">sctp_initmsg</code> option to <code class="inline">connect</code> as in:</p><pre><code class="makeup erlang" translate="no"><span class="nf">connect</span><span class="p" data-group-id="6400798259-1">(</span><span class="n">Socket</span><span class="p">,</span><span class="w"> </span><span class="n">Ip</span><span class="p">,</span><span class="w"> </span><span class="n">Port</span><span class="o">&gt;</span><span class="p">,</span><span class="w">
      </span><span class="p" data-group-id="6400798259-2">[</span><span class="p" data-group-id="6400798259-3">{</span><span class="ss">sctp_initmsg</span><span class="p">,</span><span class="o">#</span><span class="ss">sctp_initmsg</span><span class="p" data-group-id="6400798259-4">{</span><span class="ss">num_ostreams</span><span class="o">=</span><span class="n">OutStreams</span><span class="p">,</span><span class="w">
                                   </span><span class="ss">max_instreams</span><span class="o">=</span><span class="n">MaxInStreams</span><span class="p" data-group-id="6400798259-4">}</span><span class="p" data-group-id="6400798259-3">}</span><span class="p" data-group-id="6400798259-2">]</span><span class="p" data-group-id="6400798259-1">)</span></code></pre><p>All options <code class="inline">Opt</code> are set on the socket before the association is attempted.
If an option record has undefined field values, the options record
is first read from the socket for those values. In effect,
<code class="inline">Opt</code> option records only need to define field values to change
before connecting.</p><p>The returned <code class="inline">outbound_streams</code> and <code class="inline">inbound_streams</code> are the number of
stream on the socket. These can be different from the requested values
(<code class="inline">OutStreams</code> and <code class="inline">MaxInStreams</code>, respectively), if the peer
requires lower values.</p><p><code class="inline">state</code> can have the following values:</p><ul><li><p><strong><code class="inline">comm_up</code></strong> - Association is successfully established. This indicates
a successful completion of <code class="inline">connect</code>.</p></li><li><p><strong><code class="inline">cant_assoc</code></strong> - The association cannot be established
(<code class="inline">connect/*</code> failure).</p></li></ul><p>Other states do not normally occur in the output from <code class="inline">connect/*</code>.
Rather, they can occur in <code class="inline">#sctp_assoc_change{}</code> events received
instead of data from <a href="#recv/1"><code class="inline">recv/*</code></a> calls or socket messages.
All of them indicate losing the association because of various
error conditions, and are listed here for the sake of completeness:</p><ul><li><p><strong><code class="inline">comm_lost</code></strong></p></li><li><p><strong><code class="inline">restart</code></strong></p></li><li><p><strong><code class="inline">shutdown_comp</code></strong></p></li></ul><p>The field <code class="inline">error</code> can provide more detailed diagnostics.  Its value
can be converted into a string using <a href="#error_string/1"><code class="inline">error_string/1</code></a>.</p>
  </section>
</section>
<section class="detail" id="connect_init/3">

  <div class="detail-header">
    <a href="#connect_init/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">connect_init(Socket, SockAddr, Opts)</h1>

        <span class="note">(since OTP 24.3)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/gen_sctp.erl#L1120" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> connect_init(Socket, SockAddr, Opts) -> ok | {error, <a href="inet.html#t:posix/0">inet:posix</a>()}
                      when
                          Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
                          SockAddr :: <a href="socket.html#t:sockaddr_in/0">socket:sockaddr_in</a>() | <a href="socket.html#t:sockaddr_in6/0">socket:sockaddr_in6</a>(),
                          Opts :: [<a href="#t:option/0">option</a>()].</pre>

      </div>

<p>Equivalent to <a href="#connect_init/4"><code class="inline">connect_init(Socket, SockAddr, Opts, infinity)</code></a>.</p>
  </section>
</section>
<section class="detail" id="connect_init/4">

  <div class="detail-header">
    <a href="#connect_init/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">connect_init/4</h1>

        <span class="note">(since OTP R13B04)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/gen_sctp.erl#L1147" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> connect_init(Socket, SockAddr, Opts, Timeout) -> ok | {error, <a href="inet.html#t:posix/0">inet:posix</a>()}
                      when
                          Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
                          SockAddr :: <a href="socket.html#t:sockaddr_in/0">socket:sockaddr_in</a>() | <a href="socket.html#t:sockaddr_in6/0">socket:sockaddr_in6</a>(),
                          Opts :: [<a href="#t:option/0">option</a>()],
                          Timeout :: <a href="../../apps/erts/erlang.html#t:timeout/0">timeout</a>();
                  (Socket, Addr, Port, Opts) -> ok | {error, <a href="inet.html#t:posix/0">inet:posix</a>()}
                      when
                          Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
                          Addr :: <a href="inet.html#t:ip_address/0">inet:ip_address</a>() | <a href="inet.html#t:hostname/0">inet:hostname</a>(),
                          Port :: <a href="inet.html#t:port_number/0">inet:port_number</a>(),
                          Opts :: [<a href="#t:option/0">option</a>()].</pre>

      </div>

<p>Start establishing an association with a peer.</p><p>With arguments <code class="inline">Addr</code> and <code class="inline">Port</code>, equivalent to
<a href="#connect/5"><code class="inline">connect_init(Socket, Addr, Port, Opts, infinity)</code></a>.</p><p>With arguments <code class="inline">SockAddr</code> and <code class="inline">Opts</code> <em>(since OTP 24.3)</em>, equivalent to
<a href="#connect/5"><code class="inline">connect_init(Socket, Addr, Port, Opts, Timeout)</code></a>
where <code class="inline">Addr</code> and <code class="inline">Port</code> are extracted from <code class="inline">SockAddr</code>.</p>
  </section>
</section>
<section class="detail" id="connect_init/5">

  <div class="detail-header">
    <a href="#connect_init/5" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">connect_init(Socket, Addr, Port, Opts, Timeout)</h1>

        <span class="note">(since OTP R13B04)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/gen_sctp.erl#L1186" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> connect_init(Socket, Addr, Port, Opts, Timeout) -> ok | {error, <a href="inet.html#t:posix/0">inet:posix</a>()}
                      when
                          Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
                          Addr :: <a href="inet.html#t:ip_address/0">inet:ip_address</a>() | <a href="inet.html#t:hostname/0">inet:hostname</a>(),
                          Port :: <a href="inet.html#t:port_number/0">inet:port_number</a>(),
                          Opts :: [<a href="#t:option/0">option</a>()],
                          Timeout :: <a href="../../apps/erts/erlang.html#t:timeout/0">timeout</a>().</pre>

      </div>

<p>Start establishing an association with a peer.</p><p>Initiates a new association for socket <code class="inline">Socket</code>, with the peer
(SCTP server socket) specified by <code class="inline">Addr</code> and <code class="inline">Port</code>.</p><p>The fundamental difference between this API and <code class="inline">connect/*</code> is that
the return value is that of the underlying OS <code class="inline">connect(2)</code> system call.
If <code class="inline">ok</code> is returned, the operation has been succesfully initiated,
and the final result result of the association establishment
is sent to the socket owner (controlling process) as an
<a href="#record-sctp_assoc_change"><code class="inline">#sctp_assoc_change{}</code></a> event.
The socket owner must be prepared to receive this, the
<a href="#recv/1"><code class="inline">recv/*</code></a> call has to be polled, depending on the value
of the <a href="#option-active">active option</a>.</p><p>The parameters are as described for <a href="#connect/5"><code class="inline">connect/*</code></a>,
except the <code class="inline">Timeout</code> value since for this function, the time-out only
applies to the name resolving of <code class="inline">Addr</code> when it is a <a href="inet.html#t:hostname/0"><code class="inline">inet:hostname/0</code></a>.</p>
  </section>
</section>
<section class="detail" id="connectx_init/3">

  <div class="detail-header">
    <a href="#connectx_init/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">connectx_init(Socket, SockAddrs, Opts)</h1>

        <span class="note">(since OTP 25.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/gen_sctp.erl#L1269" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> connectx_init(Socket, SockAddrs, Opts) -> {ok, <a href="#t:assoc_id/0">assoc_id</a>()} | {error, <a href="inet.html#t:posix/0">inet:posix</a>()}
                       when
                           Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
                           SockAddrs ::
                               [{<a href="inet.html#t:ip_address/0">inet:ip_address</a>(), <a href="inet.html#t:port_number/0">inet:port_number</a>()} |
                                <a href="inet.html#t:family_address/0">inet:family_address</a>() |
                                <a href="socket.html#t:sockaddr_in/0">socket:sockaddr_in</a>() |
                                <a href="socket.html#t:sockaddr_in6/0">socket:sockaddr_in6</a>()],
                           Opts :: [<a href="#t:option/0">option</a>()].</pre>

      </div>

<p>Start establishing an association with a peer (multiple addresses).</p><p>Similar to <a href="#connectx_init/5"><code class="inline">connectx_init/5</code></a> except using socket addresses, and not having a
<code class="inline">Timeout</code>. Since the addresses do not need lookup and the connect is
non-blocking this call returns immediately.</p><p>The value of each socket address <code class="inline">port</code> must be the same or zero.
At least one socket address must have a non-zero <code class="inline">port</code></p>
  </section>
</section>
<section class="detail" id="connectx_init/4">

  <div class="detail-header">
    <a href="#connectx_init/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">connectx_init(Socket, Addrs, Port, Opts)</h1>

        <span class="note">(since OTP 25.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/gen_sctp.erl#L1286" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> connectx_init(Socket, Addrs, Port, Opts) -> {ok, <a href="#t:assoc_id/0">assoc_id</a>()} | {error, <a href="inet.html#t:posix/0">inet:posix</a>()}
                       when
                           Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
                           Addrs :: [<a href="inet.html#t:ip_address/0">inet:ip_address</a>() | <a href="inet.html#t:hostname/0">inet:hostname</a>()],
                           Port :: <a href="inet.html#t:port_number/0">inet:port_number</a>() | <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>(),
                           Opts :: [<a href="#t:option/0">option</a>()].</pre>

      </div>

<p>Equivalent to <a href="#connectx_init/5"><code class="inline">connectx_init(Socket, Addrs, Port, Opts, infinity)</code></a>.</p>
  </section>
</section>
<section class="detail" id="connectx_init/5">

  <div class="detail-header">
    <a href="#connectx_init/5" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">connectx_init(Socket, Addrs, Port, Opts, Timeout)</h1>

        <span class="note">(since OTP 25.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/gen_sctp.erl#L1319" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> connectx_init(Socket, Addrs, Port, Opts, Timeout) -> {ok, <a href="#t:assoc_id/0">assoc_id</a>()} | {error, <a href="inet.html#t:posix/0">inet:posix</a>()}
                       when
                           Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
                           Addrs :: [<a href="inet.html#t:ip_address/0">inet:ip_address</a>() | <a href="inet.html#t:hostname/0">inet:hostname</a>()],
                           Port :: <a href="inet.html#t:port_number/0">inet:port_number</a>() | <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>(),
                           Opts :: [<a href="#t:option/0">option</a>()],
                           Timeout :: <a href="../../apps/erts/erlang.html#t:timeout/0">timeout</a>().</pre>

      </div>

<p>Start establishing an association with a peer (multiple addresses).</p><p>Initiates a new association for socket <code class="inline">Socket</code>, with the peer
(SCTP server socket) specified by <code class="inline">Addrs</code> and <code class="inline">Port</code>.</p><p>This API is similar to <code class="inline">connect_init/*</code> except the underlying OS
<code class="inline">sctp_connectx(3)</code> system call is used, that accepts multiple
destination addresses.</p><p>If successful, the association ID is returned which will be received in a
subsequent <a href="#record-sctp_assoc_change"><code class="inline">#sctp_assoc_change{}</code></a>
event.</p><p>The parameters are as described in <a href="#connect_init/5"><code class="inline">connect_init/5</code></a></p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>This API allows the OS to use all Addrs when establishing an association,
but does not guarantee it will. Therefore, if the connection fails,
the user may want to rotate the order of addresses for a subsequent call.</p></section>
  </section>
</section>
<section class="detail" id="controlling_process/2">

  <div class="detail-header">
    <a href="#controlling_process/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">controlling_process(Socket, Pid)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/gen_sctp.erl#L1797" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> controlling_process(Socket, Pid) -> ok | {error, Reason}
                             when
                                 Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
                                 Pid :: <a href="../../apps/erts/erlang.html#t:pid/0">pid</a>(),
                                 Reason :: closed | not_owner | badarg | <a href="inet.html#t:posix/0">inet:posix</a>().</pre>

      </div>

<p>Change the controlling process (owner) of a socket.</p><p>Assigns a new controlling process <code class="inline">Pid</code> to <code class="inline">Socket</code>.
See <a href="gen_udp.html#controlling_process/2"><code class="inline">gen_udp:controlling_process/2</code></a>.</p>
  </section>
</section>
<section class="detail" id="eof/2">

  <div class="detail-header">
    <a href="#eof/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">eof(Socket, Assoc)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/gen_sctp.erl#L1468" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> eof(Socket, Assoc) -> ok | {error, Reason}
             when
                 Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
                 Assoc ::
                     #sctp_assoc_change{state :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                        error :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                        outbound_streams :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                        inbound_streams :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                        assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()},
                 Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Terminate an association gracefully.</p><p>Gracefully terminates the association specified by <code class="inline">Assoc</code>, flushing
all unsent data. The socket itself remains open.  Other associations
opened on this socket are still valid.  The socket can be used
in new associations.</p>
  </section>
</section>
<section class="detail" id="error_string/1">

  <div class="detail-header">
    <a href="#error_string/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">error_string(ErrorNumber)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/gen_sctp.erl#L1751" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> error_string(ErrorNumber) -> ok | <a href="../../apps/erts/erlang.html#t:string/0">string</a>() | unknown_error when ErrorNumber :: <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>().</pre>

      </div>

<p>Translate an error number into a string or atom.</p><p>Translates an SCTP error number from, for example, <code class="inline">#sctp_remote_error{}</code>
or <code class="inline">#sctp_send_failed{}</code> into an explanatory string, or into
one of the atoms <code class="inline">ok</code> for no error, or <code class="inline">unknown_error</code>
for an unrecognized integer.</p>
  </section>
</section>
<section class="detail" id="listen/2">

  <div class="detail-header">
    <a href="#listen/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">listen/2</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/gen_sctp.erl#L915" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> listen(Socket, IsServer) -> ok | {error, Reason}
                when Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(), IsServer :: <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>(), Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>();
            (Socket, Backlog) -> ok | {error, Reason}
                when Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(), Backlog :: <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>(), Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Make an SCTP socket listen to incoming associations.</p><p>The socket will listen on the IP address(es) and port number it is bound to.</p><p>For type <code class="inline">seqpacket</code>, sockets (the default), the argument<code class="inline">IsServer</code>
must be a <a href="../../apps/erts/erlang.html#t:boolean/0"><code class="inline">boolean/0</code></a>.  In contrast to <code class="inline">stream</code> sockets, there is
no listening queue length.  If <code class="inline">IsServer</code> is <code class="inline">true</code>, the socket accepts
new associations, that is, it becomes an SCTP server socket.</p><p>For type <code class="inline">stream</code> sockets, the argument <code class="inline">Backlog</code> sets
the backlog queue length just like for TCP.</p>
  </section>
</section>
<section class="detail" id="open/0">

  <div class="detail-header">
    <a href="#open/0" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">open()</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/gen_sctp.erl#L780" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> open() -> {ok, Socket} | {error, <a href="inet.html#t:posix/0">inet:posix</a>()} when Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>().</pre>

      </div>

<p>Equivalent to <a href="#open/1"><code class="inline">open([])</code></a>.</p>
  </section>
</section>
<section class="detail" id="open/1">

  <div class="detail-header">
    <a href="#open/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">open/1</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/gen_sctp.erl#L847" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> open(Port) -> {ok, Socket} | {error, <a href="inet.html#t:posix/0">inet:posix</a>()}
              when Port :: <a href="inet.html#t:port_number/0">inet:port_number</a>(), Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>();
          (Opts) -> {ok, Socket} | {error, <a href="inet.html#t:posix/0">inet:posix</a>()}
              when
                  Opts :: [Opt],
                  Opt ::
                      {ifaddr, IP | SockAddr} |
                      {ip, IP} |
                      {port, Port} |
                      <a href="inet.html#t:address_family/0">inet:address_family</a>() |
                      {type, SockType} |
                      {netns, <a href="file.html#t:filename_all/0">file:filename_all</a>()} |
                      {bind_to_device, <a href="../../apps/erts/erlang.html#t:binary/0">binary</a>()} |
                      <a href="#t:option/0">option</a>(),
                  IP :: <a href="inet.html#t:ip_address/0">inet:ip_address</a>() | any | loopback,
                  SockAddr :: <a href="socket.html#t:sockaddr_in/0">socket:sockaddr_in</a>() | <a href="socket.html#t:sockaddr_in6/0">socket:sockaddr_in6</a>(),
                  Port :: <a href="inet.html#t:port_number/0">inet:port_number</a>(),
                  SockType :: seqpacket | stream,
                  Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>().</pre>

      </div>

<p>Create an SCTP socket.</p><p>With argument <a href="inet.html#t:port_number/0"><code class="inline">Port</code></a>,
equivalent to<code class="inline">open([{port, Port}]</code>.</p><p>Creates an SCTP socket and binds it to the local addresses specified by all
<code class="inline">{ip,IP}</code> (or synonymously <code class="inline">{ifaddr,IP}</code>) options (this feature is called
SCTP multi-homing). The default <code class="inline">IP</code> and <code class="inline">Port</code> are <code class="inline">any</code> and <code class="inline">0</code>,
meaning bind to all local addresses on any free port.</p><p>It is also possible to use <code class="inline">{ifaddr, SockAddr}</code>, in which case it takes
precedence over the <code class="inline">ip</code> and <code class="inline">port</code> options. These options can however
be used to update the address and port of ifaddr (if they occur
after ifaddr in the options list), although this is not recommended.</p><p>Other options:</p><ul><li><p><strong><code class="inline">inet6</code></strong> - Sets up the socket for IPv6.</p></li><li><p><strong><code class="inline">inet</code></strong> - Sets up the socket for IPv4. This is the default.</p></li></ul><p>A default set of socket <a href="#options">options</a> is used.
In particular, the socket is opened in <a href="#option-binary">binary</a>
and <a href="#option-active">passive</a> mode, with SockType <code class="inline">seqpacket</code>,
and with reasonably large <a href="inet.html#option-sndbuf">kernel</a> and driver
<a href="inet.html#option-buffer">buffers</a>.</p><p>When the socket is in <a href="#option-active">passive</a> mode,
data can be received through the <a href="#recv/1"><code class="inline">recv/1,2</code></a> calls.</p><p>When the socket is in <a href="#option-active">active</a> mode,
data received data is delivered to the controlling process as messages:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="9617235817-1">{</span><span class="ss">sctp</span><span class="p">,</span><span class="w"> </span><span class="n">Socket</span><span class="p">,</span><span class="w"> </span><span class="n">FromIP</span><span class="p">,</span><span class="w"> </span><span class="n">FromPort</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9617235817-2">{</span><span class="n">AncData</span><span class="p">,</span><span class="w"> </span><span class="n">Data</span><span class="p" data-group-id="9617235817-2">}</span><span class="p" data-group-id="9617235817-1">}</span></code></pre><p>See <a href="#recv/1"><code class="inline">recv/1,2</code></a> for a description of the message fields.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>This message format unfortunately differs slightly from the
<a href="gen_udp.html#open/1"><code class="inline">gen_udp</code></a> message format with ancillary data,
and from the <a href="#recv/1"><code class="inline">recv/1,2</code></a> return tuple format.</p></section>
  </section>
</section>
<section class="detail" id="open/2">

  <div class="detail-header">
    <a href="#open/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">open(Port, Opts)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/gen_sctp.erl#L863" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> open(Port :: <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>(), Opts :: [<a href="../../apps/erts/erlang.html#t:term/0">term</a>()]) -> _.</pre>

      </div>

<p>Equivalent to <a href="#open/1"><code class="inline">open([{port, Port} | Opts])</code></a>.</p>
  </section>
</section>
<section class="detail" id="peeloff/2">

  <div class="detail-header">
    <a href="#peeloff/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">peeloff(Socket, Assoc)</h1>

        <span class="note">(since OTP R15B)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/gen_sctp.erl#L948" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> peeloff(Socket, Assoc) -> {ok, NewSocket} | {error, Reason}
                 when
                     Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
                     Assoc ::
                         #sctp_assoc_change{state :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                            error :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                            outbound_streams :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                            inbound_streams :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                            assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} |
                         <a href="#t:assoc_id/0">assoc_id</a>(),
                     NewSocket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
                     Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Branch off an association into a new socket of type <code class="inline">stream</code>.</p><p>The existing association <code class="inline">Assoc</code> in the socket <code class="inline">Socket</code> (that has to
be of type <code class="inline">seqpacket</code>; one-to-many style) is branched off into
a new socket <code class="inline">NewSocket</code> of type <code class="inline">stream</code> (one-to-one style).</p><p>The existing association argument <code class="inline">Assoc</code> can be a
<a href="#record-sctp_assoc_change"><code class="inline">#sctp_assoc_change{}</code></a> record as
returned from, for example, <a href="#recv/2"><code class="inline">recv/*</code></a>, <a href="#connect/5"><code class="inline">connect/*</code></a>,
or from a listening socket in active mode.
It can also be just the field <code class="inline">assoc_id</code> <a href="../../apps/erts/erlang.html#t:integer/0"><code class="inline">integer/0</code></a> from such a record.</p>
  </section>
</section>
<section class="detail" id="recv/1">

  <div class="detail-header">
    <a href="#recv/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">recv(Socket)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/gen_sctp.erl#L1596" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> recv(Socket) -> {ok, {FromIP, FromPort, AncData, Data}} | {error, Reason}
              when
                  Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
                  FromIP :: <a href="inet.html#t:ip_address/0">inet:ip_address</a>(),
                  FromPort :: <a href="inet.html#t:port_number/0">inet:port_number</a>(),
                  AncData ::
                      [#sctp_sndrcvinfo{stream :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                        ssn :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                        flags :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                        ppid :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                        context :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                        timetolive :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                        tsn :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                        cumtsn :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                        assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} |
                       <a href="inet.html#t:ancillary_data/0">inet:ancillary_data</a>()],
                  Data ::
                      <a href="../../apps/erts/erlang.html#t:binary/0">binary</a>() |
                      <a href="../../apps/erts/erlang.html#t:string/0">string</a>() |
                      #sctp_sndrcvinfo{stream :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                       ssn :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                       flags :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                       ppid :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                       context :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                       timetolive :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                       tsn :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                       cumtsn :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                       assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} |
                      #sctp_assoc_change{state :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                         error :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                         outbound_streams :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                         inbound_streams :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                         assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} |
                      #sctp_paddr_change{addr :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                         state :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                         error :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                         assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} |
                      #sctp_adaptation_event{adaptation_ind :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()},
                  Reason ::
                      <a href="inet.html#t:posix/0">inet:posix</a>() |
                      #sctp_send_failed{flags :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                        error :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                        info :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                        assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                        data :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} |
                      #sctp_paddr_change{addr :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                         state :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                         error :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                         assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} |
                      #sctp_pdapi_event{indication :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} |
                      #sctp_remote_error{error :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), data :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} |
                      #sctp_shutdown_event{assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}.</pre>

      </div>

<p>Equivalent to <a href="#recv/2"><code class="inline">recv(Socket, infinity)</code></a>.</p>
  </section>
</section>
<section class="detail" id="recv/2">

  <div class="detail-header">
    <a href="#recv/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">recv(Socket, Timeout)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/gen_sctp.erl#L1730" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> recv(Socket, Timeout) -> {ok, {FromIP, FromPort, AncData, Data}} | {error, Reason}
              when
                  Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
                  Timeout :: <a href="../../apps/erts/erlang.html#t:timeout/0">timeout</a>(),
                  FromIP :: <a href="inet.html#t:ip_address/0">inet:ip_address</a>(),
                  FromPort :: <a href="inet.html#t:port_number/0">inet:port_number</a>(),
                  AncData ::
                      [#sctp_sndrcvinfo{stream :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                        ssn :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                        flags :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                        ppid :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                        context :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                        timetolive :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                        tsn :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                        cumtsn :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                        assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} |
                       <a href="inet.html#t:ancillary_data/0">inet:ancillary_data</a>()],
                  Data ::
                      <a href="../../apps/erts/erlang.html#t:binary/0">binary</a>() |
                      <a href="../../apps/erts/erlang.html#t:string/0">string</a>() |
                      #sctp_sndrcvinfo{stream :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                       ssn :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                       flags :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                       ppid :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                       context :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                       timetolive :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                       tsn :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                       cumtsn :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                       assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} |
                      #sctp_assoc_change{state :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                         error :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                         outbound_streams :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                         inbound_streams :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                         assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} |
                      #sctp_paddr_change{addr :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                         state :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                         error :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                         assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} |
                      #sctp_adaptation_event{adaptation_ind :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()},
                  Reason ::
                      <a href="inet.html#t:posix/0">inet:posix</a>() |
                      #sctp_send_failed{flags :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                        error :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                        info :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                        assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                        data :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} |
                      #sctp_paddr_change{addr :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                         state :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                         error :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                         assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} |
                      #sctp_pdapi_event{indication :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} |
                      #sctp_remote_error{error :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), data :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} |
                      #sctp_shutdown_event{assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}.</pre>

      </div>

<p>Receive a <code class="inline">Data</code> message.</p><p>Receives the <code class="inline">Data</code> message from any association of the socket.
If the receive times out, <code class="inline">{error,timeout}</code> is returned. The default
time-out is <code class="inline">infinity</code>. <code class="inline">FromIP</code> and <code class="inline">FromPort</code> indicate the address
of the sender.</p><p><code class="inline">AncData</code> is a list of ancillary data items received with the main <code class="inline">Data</code>.
This list can be empty, or contain a single
<a href="#record-sctp_sndrcvinfo"><code class="inline">#sctp_sndrcvinfo{}</code></a> record,
if receiving ancillary data is enabled
(see option <a href="#option-sctp_events"><code class="inline">sctp_events</code></a>).
Per default, it is enabled, as such ancillary data provides an easy way
to determine the association and stream over which the message was received.
(An alternative way is to get the association ID from <code class="inline">FromIP</code> and <code class="inline">FromPort</code>
using socket option
<a href="#option-sctp_get_peer_addr_info"><code class="inline">sctp_get_peer_addr_info</code></a>,
but this does still not give the stream number).</p><p><code class="inline">AncData</code> may also contain <a href="inet.html#t:ancillary_data/0">ancillary data</a>
from the socket <a href="#options">options</a>
<a href="inet.html#option-recvtos"><code class="inline">recvtos</code></a>,
<a href="inet.html#option-recvtclass"><code class="inline">recvtclass</code></a> or
<a href="inet.html#option-recvttl"><code class="inline">recvttl</code></a>, if that is supported for the socket
by the platform.</p><p>The <code class="inline">Data</code> received can, depending on the socket <a href="#option-binary">mode</a>
be a <a href="../../apps/erts/erlang.html#t:binary/0"><code class="inline">binary/0</code></a> or a <a href="../../apps/erts/erlang.html#t:list/0"><code class="inline">list/0</code></a> of bytes (integers in the range
<code class="inline">0</code> through <code class="inline">255</code>), or it can be an SCTP event.</p><h3 id="recv/2-possible-sctp-events" class="section-heading"><a href="#recv/2-possible-sctp-events" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text"><a href="" id="sctp-events"></a> Possible SCTP events</span></h3><ul><li><p><a href="#record-sctp_sndrcvinfo"><code class="inline">#sctp_sndrcvinfo{}</code></a></p></li><li><p><a href="#record-sctp_assoc_change"><code class="inline">#sctp_assoc_change{}</code></a></p></li><li><pre><code class="makeup erlang" translate="no"><span class="o">#</span><span class="ss">sctp_paddr_change</span><span class="p" data-group-id="4507243331-1">{</span><span class="w">
      </span><span class="ss">addr</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="4507243331-2">{</span><span class="nf">ip_address</span><span class="p" data-group-id="4507243331-3">(</span><span class="p" data-group-id="4507243331-3">)</span><span class="p">,</span><span class="nf">port</span><span class="p" data-group-id="4507243331-4">(</span><span class="p" data-group-id="4507243331-4">)</span><span class="p" data-group-id="4507243331-2">}</span><span class="p">,</span><span class="w">
      </span><span class="ss">state</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="nf">atom</span><span class="p" data-group-id="4507243331-5">(</span><span class="p" data-group-id="4507243331-5">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">error</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="4507243331-6">(</span><span class="p" data-group-id="4507243331-6">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">assoc_id</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nf">assoc_id</span><span class="p" data-group-id="4507243331-7">(</span><span class="p" data-group-id="4507243331-7">)</span><span class="w">
</span><span class="p" data-group-id="4507243331-1">}</span></code></pre><p>Indicates change of the status of the IP address of the peer specified by
<code class="inline">addr</code> within association <code class="inline">assoc_id</code>. Possible values of <code class="inline">state</code> (mostly
self-explanatory) include:</p><ul><li><p><strong><code class="inline">addr_unreachable</code></strong></p></li><li><p><strong><code class="inline">addr_available</code></strong></p></li><li><p><strong><code class="inline">addr_removed</code></strong></p></li><li><p><strong><code class="inline">addr_added</code></strong></p></li><li><p><strong><code class="inline">addr_made_prim</code></strong></p></li><li><p><strong><code class="inline">addr_confirmed</code></strong></p></li></ul><p>In case of an error (for example, <code class="inline">addr_unreachable</code>), the field <code class="inline">error</code>
provides more diagnostics. In such cases, event <code class="inline">#sctp_paddr_change{}</code>
is automatically converted into an <code class="inline">error</code> term returned by
<a href="#recv/1"><code class="inline">recv</code></a>. The <code class="inline">error</code> field value can be converted
into a string using <a href="#error_string/1"><code class="inline">error_string/1</code></a>.</p></li><li><pre><code class="makeup erlang" translate="no"><span class="o">#</span><span class="ss">sctp_send_failed</span><span class="p" data-group-id="0952282175-1">{</span><span class="w">
      </span><span class="ss">flags</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="ss">true</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="ss">false</span><span class="p">,</span><span class="w">
      </span><span class="ss">error</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="0952282175-2">(</span><span class="p" data-group-id="0952282175-2">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">info</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="ss">sctp_sndrcvinfo</span><span class="p" data-group-id="0952282175-3">{</span><span class="p" data-group-id="0952282175-3">}</span><span class="p">,</span><span class="w">
      </span><span class="ss">assoc_id</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nf">assoc_id</span><span class="p" data-group-id="0952282175-4">(</span><span class="p" data-group-id="0952282175-4">)</span><span class="w">
      </span><span class="ss">data</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="nf">binary</span><span class="p" data-group-id="0952282175-5">(</span><span class="p" data-group-id="0952282175-5">)</span><span class="w">
</span><span class="p" data-group-id="0952282175-1">}</span></code></pre><p>The sender can receive this event if a send operation fails.</p><ul><li><p><strong><code class="inline">flags</code></strong> - A Boolean specifying if the data has been transmitted
over the wire.</p></li><li><p><strong><code class="inline">error</code></strong> - Provides extended diagnostics, use
<a href="#error_string/1"><code class="inline">error_string/1</code>.</a></p></li><li><p><strong><code class="inline">info</code></strong> - The original
<a href="#record-sctp_sndrcvinfo"><code class="inline">#sctp_sndrcvinfo{}</code></a> record
used in the failed <a href="#send/3"><code class="inline">send/*</code>.</a></p></li><li><p><strong><code class="inline">data</code></strong> - The whole original data chunk attempted to be sent.</p></li></ul><p>In the current implementation of the Erlang/SCTP binding, this event is
internally converted into an <code class="inline">error</code> term returned by <a href="#recv/1"><code class="inline">recv/*</code></a>.</p></li><li><pre><code class="makeup erlang" translate="no"><span class="o">#</span><span class="ss">sctp_adaptation_event</span><span class="p" data-group-id="5462750512-1">{</span><span class="w">
      </span><span class="ss">adaptation_ind</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="5462750512-2">(</span><span class="p" data-group-id="5462750512-2">)</span><span class="p">,</span><span class="w">
      </span><span class="ss">assoc_id</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="nf">assoc_id</span><span class="p" data-group-id="5462750512-3">(</span><span class="p" data-group-id="5462750512-3">)</span><span class="w">
</span><span class="p" data-group-id="5462750512-1">}</span></code></pre><p>Delivered when a peer sends an adaptation layer indication parameter
(configured through option
<a href="#option-sctp_adaptation_layer"><code class="inline">sctp_adaptation_layer</code></a>).
Notie that with the current implementation of the Erlang/SCTP binding,
this event is disabled by default.</p></li><li><pre><code class="makeup erlang" translate="no"><span class="o">#</span><span class="ss">sctp_pdapi_event</span><span class="p" data-group-id="9215918554-1">{</span><span class="w">
      </span><span class="ss">indication</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">sctp_partial_delivery_aborted</span><span class="p">,</span><span class="w">
      </span><span class="ss">assoc_id</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="nf">assoc_id</span><span class="p" data-group-id="9215918554-2">(</span><span class="p" data-group-id="9215918554-2">)</span><span class="w">
</span><span class="p" data-group-id="9215918554-1">}</span></code></pre><p>A partial delivery failure. In the current implementation
of the Erlang/SCTP binding, this event is internally converted
into an <code class="inline">error</code> term returned by <a href="#recv/1"><code class="inline">recv/*</code></a>.</p></li></ul>
  </section>
</section>
<section class="detail" id="send/3">

  <div class="detail-header">
    <a href="#send/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">send(Socket, SndRcvInfo, Data)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/gen_sctp.erl#L1529" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> send(Socket, SndRcvInfo, Data) -> ok | {error, Reason}
              when
                  Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
                  SndRcvInfo ::
                      #sctp_sndrcvinfo{stream :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                       ssn :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                       flags :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                       ppid :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                       context :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                       timetolive :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                       tsn :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                       cumtsn :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                       assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()},
                  Data :: <a href="../../apps/erts/erlang.html#t:binary/0">binary</a>() | <a href="../../apps/erts/erlang.html#t:iolist/0">iolist</a>(),
                  Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Send a <code class="inline">Data</code> message, full-featured.</p><p>Sends the <code class="inline">Data</code> message with all sending parameters from a
<a href="#record-sctp_sndrcvinfo"><code class="inline">#sctp_sndrcvinfo{}</code></a> record.
This way, the user can specify the PPID (passed to the remote end)
and context (passed to the local SCTP layer), which can be used,
for example, for error identification.  However, such a fine grained
user control is rarely required. The function <a href="#send/4"><code class="inline">send/4</code></a>
is sufficient for most applications.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>Send is normally blocking, but if the socket option
<a href="#option_non_block_send"><code class="inline">non_block_send</code></a> is set to true,
the function will return with e.g. {error, eagain}
in the case when the function would otherwise block.
It is then up to the user to try again later.</p></section>
  </section>
</section>
<section class="detail" id="send/4">

  <div class="detail-header">
    <a href="#send/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">send(Socket, Assoc, Stream, Data)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/gen_sctp.erl#L1563" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> send(Socket, Assoc, Stream, Data) -> ok | {error, Reason}
              when
                  Socket :: <a href="#t:sctp_socket/0">sctp_socket</a>(),
                  Assoc ::
                      #sctp_assoc_change{state :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                         error :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                         outbound_streams :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                         inbound_streams :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                         assoc_id :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} |
                      <a href="#t:assoc_id/0">assoc_id</a>(),
                  Stream :: <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>(),
                  Data :: <a href="../../apps/erts/erlang.html#t:binary/0">binary</a>() | <a href="../../apps/erts/erlang.html#t:iolist/0">iolist</a>(),
                  Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Send a data message.</p><p>Sends a <code class="inline">Data</code> message on the association <code class="inline">Assoc</code> and <code class="inline">Stream</code>.</p><p><code class="inline">Assoc</code> can be specified with a
<a href="#record-sctp_assoc_change"><code class="inline">#sctp_assoc_change{}</code></a> record
from an association establishment, or as the <a href="#t:assoc_id/0"><code class="inline">assoc_id/0</code></a>
<a href="../../apps/erts/erlang.html#t:integer/0"><code class="inline">integer/0</code></a> field value.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>Send is normally blocking, but if the socket option
<a href="#option_non_block_send"><code class="inline">non_block_send</code></a> is set to true,
the function will return with e.g. {error, eagain}
in the case when the function would otherwise block.
It is then up to the user to try again later.</p></section>
  </section>
</section>

    </div>
  </section>

    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="kernel.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.1) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>
<p>Copyright © 1996-2025 <a href="https://www.ericsson.com">Ericsson AB</a></p>
    </footer>
  </div>
</main>
</div>
  <script defer src="https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.min.js"></script>
  <script>
  let initialized = false;

  window.addEventListener("exdoc:loaded", () => {
      if (!initialized) {
      mermaid.initialize({
          startOnLoad: false,
          theme: document.body.className.includes("dark") ? "dark" : "default"
      });
      initialized = true;
      }

      let id = 0;
      for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
          graphEl.innerHTML = svg;
          bindFunctions?.(graphEl);
          preEl.insertAdjacentElement("afterend", graphEl);
          preEl.remove();
      });
      }
  });
  </script>

  </body>
</html>
