<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.1">
    <meta name="project" content="os_mon v2.11">


<meta name="exdoc:full-text-search-url" content="/doc/search.html?v=1&q=">
<meta name="major-vsn" content="1">
<link rel="canonical" href="https://www.erlang.org/docs/1/apps/os_mon/notes.html" />
    <title>OS_Mon Release Notes — os_mon v2.11</title>

    <link rel="stylesheet" href="dist/html-erlang-ZK43ZOAC.css" />

    <script defer src="dist/sidebar_items-4D0F1DD0.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-DPJLHKSM.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="../../index.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="os_mon" />
        </a>

      <div>
        <a href="../../index.html" class="sidebar-projectName" translate="no">
os_mon
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v2.11
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-extra" id="main" data-type="extras">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of os_mon</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>OS_Mon Release Notes</h1>


      <a href="https://github.com/erlang/otp/blob/master/lib/os_mon/doc/notes.md#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


<p>This document describes the changes made to the OS_Mon application.</p><h2 id="os_mon-2-11" class="section-heading"><a href="#os_mon-2-11" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.11</span></h2><h3 id="fixed-bugs-and-malfunctions" class="section-heading"><a href="#fixed-bugs-and-malfunctions" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Enhance specs of timeout for improving documentation and dialyzer analysis.</p><p>Own Id: OTP-19604 Aux Id: <a href="https://github.com/erlang/otp/pull/9574" title="">PR-9574</a></p></li></ul><h3 id="improvements-and-new-features" class="section-heading"><a href="#improvements-and-new-features" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p><a href="disksup.html"><code class="inline">disksup</code></a> will now recognize HAMMER2 volumes.</p><p>Own Id: OTP-19207 Aux Id: <a href="https://github.com/erlang/otp/pull/8704" title="">PR-8704</a></p></li><li><p>The license and copyright header has changed format to include an <code class="inline">SPDX-License-Identifier</code>. At the same time, most files have been updated to follow a uniform standard for license headers.</p><p>Own Id: OTP-19575 Aux Id: <a href="https://github.com/erlang/otp/pull/9670" title="">PR-9670</a></p></li></ul><h2 id="os_mon-2-10-1" class="section-heading"><a href="#os_mon-2-10-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.10.1</span></h2><h3 id="fixed-bugs-and-malfunctions-1" class="section-heading"><a href="#fixed-bugs-and-malfunctions-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fixed the <a href="memsup.html"><code class="inline">memsup</code></a> memory alarm to use <code class="inline">available_memory</code> when available, instead of always using <code class="inline">free_memory</code>.</p><p>Own Id: OTP-19304 Aux Id: <a href="https://github.com/erlang/otp/pull/8776" title="">PR-8776</a>, <a href="https://github.com/erlang/otp/issues/8759" title="">GH-8759</a></p></li></ul><h2 id="os_mon-2-10" class="section-heading"><a href="#os_mon-2-10" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.10</span></h2><h3 id="improvements-and-new-features-1" class="section-heading"><a href="#improvements-and-new-features-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Function specifications and types have been added to all public API functions.</p><p>Own Id: OTP-18913</p></li><li><p>The documentation has been migrated to use Markdown and ExDoc.</p><p>Own Id: OTP-18955 Aux Id: <a href="https://github.com/erlang/otp/pull/8026" title="">PR-8026</a></p></li></ul><h2 id="os_mon-2-9-1" class="section-heading"><a href="#os_mon-2-9-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.9.1</span></h2><h3 id="fixed-bugs-and-malfunctions-2" class="section-heading"><a href="#fixed-bugs-and-malfunctions-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fixed some benign compile warnings on Windows.</p><p>Own Id: OTP-18895</p></li></ul><h2 id="os_mon-2-9" class="section-heading"><a href="#os_mon-2-9" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.9</span></h2><h3 id="fixed-bugs-and-malfunctions-3" class="section-heading"><a href="#fixed-bugs-and-malfunctions-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix internal os_mon_sysinfo:get_disk_info/1 function to not crash when run on
Windows with multiple drives.</p><p>Own Id: OTP-18246 Aux Id: PR-6284 GH-6156</p></li><li><p>Fixed a memory leak when calling <code class="inline">cpu_sup:util/0,1</code> on FreeBSD.</p><p>Own Id: OTP-18546 Aux Id: GH-7070, PR-7071</p></li></ul><h3 id="improvements-and-new-features-2" class="section-heading"><a href="#improvements-and-new-features-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The <a href="disksup.html#get_disk_info/0"><code class="inline">disksup:get_disk_info/0</code></a> and <a href="disksup.html#get_disk_info/1"><code class="inline">disksup:get_disk_info/1</code></a> functions have
been introduced. These can be used in order to immediately fetch information
about current disk usage.</p><p>Own Id: OTP-18303 Aux Id: PR-6384</p></li><li><p>Runtime dependencies have been updated.</p><p>Own Id: OTP-18350</p></li><li><p>Support for <code class="inline">cpu_sup:util()</code> on OpenBSD.</p><p>Own Id: OTP-18566 Aux Id: PR-7080</p></li></ul><h2 id="os_mon-2-8-2-1" class="section-heading"><a href="#os_mon-2-8-2-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.8.2.1</span></h2><h3 id="fixed-bugs-and-malfunctions-4" class="section-heading"><a href="#fixed-bugs-and-malfunctions-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fixed runtime dependencies.</p><p>Own Id: OTP-19064</p></li></ul><h2 id="os_mon-2-8-2" class="section-heading"><a href="#os_mon-2-8-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.8.2</span></h2><h3 id="fixed-bugs-and-malfunctions-5" class="section-heading"><a href="#fixed-bugs-and-malfunctions-5" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Avoid error report from failing <code class="inline">erlang:port_close</code> at shutdown of <code class="inline">cpu_sup</code>
and <code class="inline">memsup</code>. Bug exists since OTP 25.3 (os_mon-2.8.1).</p><p>Own Id: OTP-18559 Aux Id: ERIERL-942</p></li></ul><h2 id="os_mon-2-8-1" class="section-heading"><a href="#os_mon-2-8-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.8.1</span></h2><h3 id="fixed-bugs-and-malfunctions-6" class="section-heading"><a href="#fixed-bugs-and-malfunctions-6" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>The port programs used by <code class="inline">cpu_sup</code> and <code class="inline">memsup</code> are now gracefully shut down
when <code class="inline">cpu_sup</code> and <code class="inline">memsup</code> are shut down.</p><p>Own Id: OTP-18469 Aux Id: PR-6689</p></li></ul><h2 id="os_mon-2-8" class="section-heading"><a href="#os_mon-2-8" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.8</span></h2><h3 id="improvements-and-new-features-3" class="section-heading"><a href="#improvements-and-new-features-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The <a href="disksup.html#module-configuration"><code class="inline">disk_space_check_interval</code></a> configuration parameter
of <code class="inline">disksup</code> can now be set to values smaller than a minute.</p><p>Own Id: OTP-18304 Aux Id: PR-6385</p></li></ul><h2 id="os_mon-2-7-1" class="section-heading"><a href="#os_mon-2-7-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.7.1</span></h2><h3 id="fixed-bugs-and-malfunctions-7" class="section-heading"><a href="#fixed-bugs-and-malfunctions-7" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>On a Mac with Apple Silicon, <a href="memsup.html#get_os_wordsize/0"><code class="inline">memsup:get_os_wordsize/0</code></a> would return 32
instead of 64.</p><p>Own Id: OTP-17441</p></li></ul><h2 id="os_mon-2-7" class="section-heading"><a href="#os_mon-2-7" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.7</span></h2><h3 id="improvements-and-new-features-4" class="section-heading"><a href="#improvements-and-new-features-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The temporarily introduced configuration parameter
<code class="inline">memsup_improved_system_memory_data</code> has been removed.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-16943 Aux Id: OTP-16906</p></li><li><p>Fix <code class="inline">disk_sup</code> to also search the system PATH on linux when looking for the
<code class="inline">df</code> program.</p><p>Own Id: OTP-16944 Aux Id: PR-2787</p></li></ul><h2 id="os_mon-2-6-1" class="section-heading"><a href="#os_mon-2-6-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.6.1</span></h2><h3 id="improvements-and-new-features-5" class="section-heading"><a href="#improvements-and-new-features-5" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The configuration parameter <code class="inline">memsup_improved_system_memory_data</code> has been
introduced. It can be used to modify the result returned by
<code class="inline">memsup:get_system_memory_data()</code>. For more information see the <code class="inline">memsup</code>
documentation.</p><p>Note that the configuration parameter is intended to be removed in OTP 24 and
the modified result is intended to be used as of OTP 24.</p><p>Own Id: OTP-16906 Aux Id: ERIERL-532</p></li></ul><h2 id="os_mon-2-6" class="section-heading"><a href="#os_mon-2-6" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.6</span></h2><h3 id="fixed-bugs-and-malfunctions-8" class="section-heading"><a href="#fixed-bugs-and-malfunctions-8" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p><code class="inline">memsup</code> now returns the correct amount of system memory on macOS.</p><p>Own Id: OTP-16798 Aux Id: ERL-1327</p></li></ul><h3 id="improvements-and-new-features-6" class="section-heading"><a href="#improvements-and-new-features-6" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Fix memsup:get_os_wordsize/0 to return the current size on aarch64.</p><p>Own Id: OTP-16742</p></li></ul><h2 id="os_mon-2-5-2" class="section-heading"><a href="#os_mon-2-5-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.5.2</span></h2><h3 id="fixed-bugs-and-malfunctions-9" class="section-heading"><a href="#fixed-bugs-and-malfunctions-9" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix various compiler warnings on 64-bit Windows.</p><p>Own Id: OTP-15800</p></li></ul><h3 id="improvements-and-new-features-7" class="section-heading"><a href="#improvements-and-new-features-7" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Refactored the internal handling of deprecated and removed functions.</p><p>Own Id: OTP-16469</p></li></ul><h2 id="os_mon-2-5-1-1" class="section-heading"><a href="#os_mon-2-5-1-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.5.1.1</span></h2><h3 id="improvements-and-new-features-8" class="section-heading"><a href="#improvements-and-new-features-8" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The configuration parameter <code class="inline">memsup_improved_system_memory_data</code> has been
introduced. It can be used to modify the result returned by
<code class="inline">memsup:get_system_memory_data()</code>. For more information see the <code class="inline">memsup</code>
documentation.</p><p>Note that the configuration parameter is intended to be removed in OTP 24 and
the modified result is intended to be used as of OTP 24.</p><p>Own Id: OTP-16906 Aux Id: ERIERL-532</p></li></ul><h2 id="os_mon-2-5-1" class="section-heading"><a href="#os_mon-2-5-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.5.1</span></h2><h3 id="fixed-bugs-and-malfunctions-10" class="section-heading"><a href="#fixed-bugs-and-malfunctions-10" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix <code class="inline">disk_sup</code> to ignore squashfs on Linux when determining if a mounted
filesystem is full or not.</p><p>Own Id: OTP-15778</p></li><li><p>Fix bug where <code class="inline">cpu_sup:util()</code> always returned 100% on systems not using gnu
libc, for example Alpine OS.</p><p>Own Id: OTP-15974 Aux Id: ERL-1012</p></li></ul><h2 id="os_mon-2-5" class="section-heading"><a href="#os_mon-2-5" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.5</span></h2><h3 id="fixed-bugs-and-malfunctions-11" class="section-heading"><a href="#fixed-bugs-and-malfunctions-11" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix typespec of <code class="inline">cpu_sup:util()</code>.</p><p>Own Id: OTP-15770 Aux Id: PR-2208</p></li></ul><h3 id="improvements-and-new-features-9" class="section-heading"><a href="#improvements-and-new-features-9" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The application otp_mibs has been removed from OTP. Some of its components
(mibs) have been moved to other apps (snmp), or removed completely (os_mon).</p><p>Own Id: OTP-14984 Aux Id: OTP-15329</p></li></ul><h2 id="os_mon-2-4-7" class="section-heading"><a href="#os_mon-2-4-7" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.4.7</span></h2><h3 id="fixed-bugs-and-malfunctions-12" class="section-heading"><a href="#fixed-bugs-and-malfunctions-12" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Due to <code class="inline">/proc</code> restrictions in newer Android releases enforced by SELinux,
cpu_sup is fixed so that it gets some basic CPU stats using the <code class="inline">sysinfo</code>
syscall rather than reading <code class="inline">/proc/loadavg</code>.</p><p>Own Id: OTP-15387 Aux Id: PR-1966</p></li></ul><h2 id="os_mon-2-4-6" class="section-heading"><a href="#os_mon-2-4-6" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.4.6</span></h2><h3 id="fixed-bugs-and-malfunctions-13" class="section-heading"><a href="#fixed-bugs-and-malfunctions-13" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Improved documentation.</p><p>Own Id: OTP-15190</p></li></ul><h2 id="os_mon-2-4-5" class="section-heading"><a href="#os_mon-2-4-5" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.4.5</span></h2><h3 id="fixed-bugs-and-malfunctions-14" class="section-heading"><a href="#fixed-bugs-and-malfunctions-14" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix <code class="inline">disksup</code> to handle mount paths with spaces in them.</p><p>Own Id: OTP-14513</p></li></ul><h2 id="os_mon-2-4-4" class="section-heading"><a href="#os_mon-2-4-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.4.4</span></h2><h3 id="fixed-bugs-and-malfunctions-15" class="section-heading"><a href="#fixed-bugs-and-malfunctions-15" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Removed all old unused files in the documentation.</p><p>Own Id: OTP-14475 Aux Id: ERL-409, PR-1493</p></li></ul><h2 id="os_mon-2-4-3" class="section-heading"><a href="#os_mon-2-4-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.4.3</span></h2><h3 id="fixed-bugs-and-malfunctions-16" class="section-heading"><a href="#fixed-bugs-and-malfunctions-16" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>On macOS 10.13 (High Sierra), disksup could not grab information for any disks
that used the new APFS file system. That has been corrected.</p><p>Own Id: OTP-14560 Aux Id: ERL-461</p></li></ul><h2 id="os_mon-2-4-2" class="section-heading"><a href="#os_mon-2-4-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.4.2</span></h2><h3 id="improvements-and-new-features-10" class="section-heading"><a href="#improvements-and-new-features-10" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Support s390x in os_mon.</p><p>Own Id: OTP-14161 Aux Id: PR-1309</p></li></ul><h2 id="os_mon-2-4-1" class="section-heading"><a href="#os_mon-2-4-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.4.1</span></h2><h3 id="fixed-bugs-and-malfunctions-17" class="section-heading"><a href="#fixed-bugs-and-malfunctions-17" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix type specification for cpu_sup:util/1</p><p>Own Id: OTP-13526 Aux Id: PR-1029</p></li><li><p>Fix strict compilation on SUN/SPARC</p><p>Own Id: OTP-13548 Aux Id: PR-1046</p></li><li><p>Implement cpu_sup:util/0,1 on Mac OSX</p><p>Own Id: OTP-13597 Aux Id: PR-1049</p></li><li><p>Fix memsup:get_os_wordsize() on 64-bit FreeBSD and 64-bit Linux PPC</p><p>Own Id: OTP-13601 Aux Id: PR-1039</p></li></ul><h2 id="os_mon-2-4" class="section-heading"><a href="#os_mon-2-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.4</span></h2><h3 id="improvements-and-new-features-11" class="section-heading"><a href="#improvements-and-new-features-11" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>cpu_sup should use native sysctl/libkvm calls on BSD</p><p>This avoids forking off with os:cmd every time we just want to collect the
load averages. riak does this every second, which results in a lot of
unnecessary load.</p><p>Own Id: OTP-12730</p></li><li><p>Implement native cpu_sup:util/0,1 for FreeBSD</p><p>Own Id: OTP-12796</p></li></ul><h2 id="os_mon-2-3-1" class="section-heading"><a href="#os_mon-2-3-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.3.1</span></h2><h3 id="fixed-bugs-and-malfunctions-18" class="section-heading"><a href="#fixed-bugs-and-malfunctions-18" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Do not crash with badmatch when integer part of loadavg has more than 2
digits.</p><p>Own Id: OTP-12581</p></li></ul><h3 id="improvements-and-new-features-12" class="section-heading"><a href="#improvements-and-new-features-12" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Fix compilation of memsup on OpenBSD.</p><p>Own Id: OTP-12404</p></li></ul><h2 id="os_mon-2-3" class="section-heading"><a href="#os_mon-2-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.3</span></h2><h3 id="improvements-and-new-features-13" class="section-heading"><a href="#improvements-and-new-features-13" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Adds a new application parameter 'disksup_posix_only', to make diskup use only
options defined in the POSIX standard.</p><p>Own Id: OTP-12053</p></li></ul><h2 id="os_mon-2-2-15" class="section-heading"><a href="#os_mon-2-2-15" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.2.15</span></h2><h3 id="fixed-bugs-and-malfunctions-19" class="section-heading"><a href="#fixed-bugs-and-malfunctions-19" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Application upgrade (appup) files are corrected for the following
applications:</p><p><code class="inline">asn1, common_test, compiler, crypto, debugger, dialyzer, edoc, eldap, erl_docgen, et, eunit, gs, hipe, inets, observer, odbc, os_mon, otp_mibs, parsetools, percept, public_key, reltool, runtime_tools, ssh, syntax_tools, test_server, tools, typer, webtool, wx, xmerl</code></p><p>A new test utility for testing appup files is added to test_server. This is
now used by most applications in OTP.</p><p>(Thanks to Tobias Schlager)</p><p>Own Id: OTP-11744</p></li></ul><h3 id="improvements-and-new-features-14" class="section-heading"><a href="#improvements-and-new-features-14" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Calls to erlang:open_port/2 with 'spawn' are updated to handle space in the
command path.</p><p>Own Id: OTP-10842</p></li></ul><h2 id="os_mon-2-2-14" class="section-heading"><a href="#os_mon-2-2-14" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.2.14</span></h2><h3 id="fixed-bugs-and-malfunctions-20" class="section-heading"><a href="#fixed-bugs-and-malfunctions-20" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix incorrect reporting of memory on OS X via memsup. Thanks to Christopher
Meiklejohn.</p><p>Own Id: OTP-11454</p></li></ul><h2 id="os_mon-2-2-13" class="section-heading"><a href="#os_mon-2-2-13" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.2.13</span></h2><h3 id="fixed-bugs-and-malfunctions-21" class="section-heading"><a href="#fixed-bugs-and-malfunctions-21" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Use 'df -k -l' to query FreeBSD and OpenBSD about diskspace on local disks.
Previously 'df' -k -t ufs' was used but this will not handle zfs or other
disks. Just use '-l' instead of listing potential filesystems.</p><p>Own Id: OTP-11207</p></li></ul><h3 id="improvements-and-new-features-15" class="section-heading"><a href="#improvements-and-new-features-15" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Fix compilation on Solaris. Thanks to Maciej Malecki.</p><p>Own Id: OTP-11213</p></li><li><p>Fix broken cpu_sup:nprocs and others on Solaris 64-bit. Thanks to Simon
Cornish.</p><p>Own Id: OTP-11298</p></li></ul><h2 id="os_mon-2-2-12" class="section-heading"><a href="#os_mon-2-2-12" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.2.12</span></h2><h3 id="fixed-bugs-and-malfunctions-22" class="section-heading"><a href="#fixed-bugs-and-malfunctions-22" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Compilation fixes for NetBSD. Thanks to YAMAMOTO Takashi.</p><p>Own Id: OTP-10941</p></li></ul><h3 id="improvements-and-new-features-16" class="section-heading"><a href="#improvements-and-new-features-16" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Fixed disksup:get_disk_data for SUSv3, specifically OS X ML. Thanks to Sriram
Melkote.</p><p>Own Id: OTP-10945</p></li></ul><h2 id="os_mon-2-2-11" class="section-heading"><a href="#os_mon-2-2-11" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.2.11</span></h2><h3 id="fixed-bugs-and-malfunctions-23" class="section-heading"><a href="#fixed-bugs-and-malfunctions-23" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Removed deprecated function calls to snmp</p><p>Own Id: OTP-10448</p></li></ul><h2 id="os_mon-2-2-10" class="section-heading"><a href="#os_mon-2-2-10" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.2.10</span></h2><h3 id="fixed-bugs-and-malfunctions-24" class="section-heading"><a href="#fixed-bugs-and-malfunctions-24" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Infinity timeout added to internal calls in disksup to allow it to work
properly under very heavy load.</p><p>Own Id: OTP-10100</p></li><li><p>Clarify error messages from os_mon port programs</p><p>Own Id: OTP-10161</p></li></ul><h2 id="os_mon-2-2-9" class="section-heading"><a href="#os_mon-2-2-9" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.2.9</span></h2><h3 id="fixed-bugs-and-malfunctions-25" class="section-heading"><a href="#fixed-bugs-and-malfunctions-25" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix segmentation fault in memsup</p><p>when /proc/meminfo does not include information about buffers/cache (for
instance inside OpenVZ container) (Thanks to Anton Vorobev)</p><p>Own Id: OTP-9913</p></li></ul><h2 id="os_mon-2-2-8" class="section-heading"><a href="#os_mon-2-2-8" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.2.8</span></h2><h3 id="improvements-and-new-features-17" class="section-heading"><a href="#improvements-and-new-features-17" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Erlang/OTP can now be built using parallel make if you limit the number of
jobs, for instance using '<code class="inline">make -j6</code>' or '<code class="inline">make -j10</code>'. '<code class="inline">make -j</code>' does not
work at the moment because of some missing dependencies.</p><p>Own Id: OTP-9451</p></li><li><p>Tuple funs (a two-element tuple with a module name and a function) are now
officially deprecated and will be removed in R16. Use '<code class="inline">fun M:F/A</code>' instead.
To make you aware that your system uses tuple funs, the very first time a
tuple fun is applied, a warning will be sent to the error logger.</p><p>Own Id: OTP-9649</p></li></ul><h2 id="os_mon-2-2-7" class="section-heading"><a href="#os_mon-2-2-7" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.2.7</span></h2><h3 id="fixed-bugs-and-malfunctions-26" class="section-heading"><a href="#fixed-bugs-and-malfunctions-26" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Remove misc. compiler warnings</p><p>Own Id: OTP-9542</p></li></ul><h2 id="os_mon-2-2-6" class="section-heading"><a href="#os_mon-2-2-6" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.2.6</span></h2><h3 id="fixed-bugs-and-malfunctions-27" class="section-heading"><a href="#fixed-bugs-and-malfunctions-27" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Add NetBSD support to memsup and disksup (Thanks to Andrew Thompson)</p><p>Own Id: OTP-9216</p></li><li><p>Add support for DragonFlyBSD to memsup</p><p>DragonFly was partially supported by os_mon already but when trying to start
the os_mon application it'd crash with an error about an unknown operating
system in memsup. This patch changes memsup to use the FreeBSD sysctl method
to get memory information when on DragonFly. (Thanks to Andrew Thompson )</p><p>Own Id: OTP-9217</p></li></ul><h2 id="os_mon-2-2-5" class="section-heading"><a href="#os_mon-2-2-5" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.2.5</span></h2><h3 id="improvements-and-new-features-18" class="section-heading"><a href="#improvements-and-new-features-18" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Cleanups suggested by tidier and modernization of types and specs.</p><p>Own Id: OTP-8455</p></li></ul><h2 id="os_mon-2-2-4" class="section-heading"><a href="#os_mon-2-2-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.2.4</span></h2><h3 id="fixed-bugs-and-malfunctions-28" class="section-heading"><a href="#fixed-bugs-and-malfunctions-28" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Memsup did not read memory correctly on macOS X Snowleopard. This has now been
corrected. (Thanks to Joel Reymont)</p><p>Own Id: OTP-8211</p></li><li><p>Removed unused code in <code class="inline">cpu_sup.erl</code>.</p><p>Own Id: OTP-8226</p></li></ul><h3 id="improvements-and-new-features-19" class="section-heading"><a href="#improvements-and-new-features-19" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The documentation is now built with open source tools (xsltproc and fop) that
exists on most platforms. One visible change is that the frames are removed.</p><p>Own Id: OTP-8201</p></li></ul><h2 id="os_mon-2-2-3" class="section-heading"><a href="#os_mon-2-2-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.2.3</span></h2><h3 id="fixed-bugs-and-malfunctions-29" class="section-heading"><a href="#fixed-bugs-and-malfunctions-29" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>A missing define in <code class="inline">memsup.c</code> caused a build error on IRIX machines. This has
now been fixed.</p><p>Own Id: OTP-8094</p></li></ul><h2 id="os_mon-2-2-2" class="section-heading"><a href="#os_mon-2-2-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.2.2</span></h2><h3 id="fixed-bugs-and-malfunctions-30" class="section-heading"><a href="#fixed-bugs-and-malfunctions-30" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>disksup:get_disk_data/0 returned disk volume in bytes instead of kbytes as
stated in the documentation. The problem occurred on Windows only and is now
corrected.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-7741</p></li></ul><h2 id="os_mon-2-2-1" class="section-heading"><a href="#os_mon-2-2-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.2.1</span></h2><h3 id="fixed-bugs-and-malfunctions-31" class="section-heading"><a href="#fixed-bugs-and-malfunctions-31" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>An error in <code class="inline">memsup</code> could cause <code class="inline">os_mon</code> to report erroneous memory values on
windows for ranges of memory between 2GB and 4GB. This have now been fixed.</p><p>Own Id: OTP-7944</p></li></ul><h3 id="improvements-and-new-features-20" class="section-heading"><a href="#improvements-and-new-features-20" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Added support for dragonfly OS.</p><p>Own Id: OTP-7938</p></li></ul><h2 id="os_mon-2-2" class="section-heading"><a href="#os_mon-2-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.2</span></h2><h3 id="improvements-and-new-features-21" class="section-heading"><a href="#improvements-and-new-features-21" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The copyright notices have been updated.</p><p>Own Id: OTP-7851</p></li></ul><h2 id="os_mon-2-1-8" class="section-heading"><a href="#os_mon-2-1-8" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.1.8</span></h2><h3 id="fixed-bugs-and-malfunctions-32" class="section-heading"><a href="#fixed-bugs-and-malfunctions-32" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>A problem with <code class="inline">OTP-OS-MON-MIB.mib</code> for 64-bit environments has now been
fixed. The mib has been extended with 64-bit memory retrieval counterparts.</p><p>In addition, a new function <code class="inline">get_os_wordsize/0</code> has been added in the <code class="inline">memsup</code>
module</p><p>Own Id: OTP-7441</p></li><li><p>An error in <code class="inline">memsup.c</code> caused the compilation to crash on bsd environments.
This has now been fixed.</p><p>Own Id: OTP-7558</p></li></ul><h2 id="os_mon-2-1-7" class="section-heading"><a href="#os_mon-2-1-7" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.1.7</span></h2><h3 id="fixed-bugs-and-malfunctions-33" class="section-heading"><a href="#fixed-bugs-and-malfunctions-33" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fixed a build error that occurred on NetBSD (Thanks to Per Hedeland and
Raphael Langerhorst)</p><p>Own Id: OTP-7505</p></li></ul><h3 id="improvements-and-new-features-22" class="section-heading"><a href="#improvements-and-new-features-22" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Memory information in <a href="memsup.html#get_system_memory_data/0"><code class="inline">memsup:get_system_memory_data/0</code></a> now has additional
entries in its property list for Linux.</p><p>Own Id: OTP-7409 Aux Id: seq10984</p></li></ul><h2 id="os_mon-2-1-6" class="section-heading"><a href="#os_mon-2-1-6" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.1.6</span></h2><h3 id="fixed-bugs-and-malfunctions-34" class="section-heading"><a href="#fixed-bugs-and-malfunctions-34" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>System information retrieval on darwin platforms with environments locales not
conforming to the C locale caused an error in <code class="inline">cpu_sup</code> resulting in process
termination.</p><p>Own Id: OTP-7320</p></li></ul><h2 id="os_mon-2-1-5" class="section-heading"><a href="#os_mon-2-1-5" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.1.5</span></h2><h3 id="improvements-and-new-features-23" class="section-heading"><a href="#improvements-and-new-features-23" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>CPU utilization, on linux, is now measured via a port program instead of
os:cmd in erlang. This should enhance performance.</p><p>Own Id: OTP-7108 Aux Id: OTP-6935</p></li></ul><h2 id="os_mon-2-1-3" class="section-heading"><a href="#os_mon-2-1-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.1.3</span></h2><h3 id="improvements-and-new-features-24" class="section-heading"><a href="#improvements-and-new-features-24" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Extended memsup memory probing on Linux to use a port program to probe memory
usage. This is faster than the previous implementation.</p><p>Own Id: OTP-6860 Aux Id: seq10616</p></li></ul><h2 id="os_mon-2-1-2-1" class="section-heading"><a href="#os_mon-2-1-2-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.1.2.1</span></h2><h3 id="improvements-and-new-features-25" class="section-heading"><a href="#improvements-and-new-features-25" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Minor Makefile changes.</p><p>Own Id: OTP-6689</p></li></ul><h2 id="os_mon-2-1-2" class="section-heading"><a href="#os_mon-2-1-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">OS_Mon 2.1.2</span></h2><h3 id="fixed-bugs-and-malfunctions-35" class="section-heading"><a href="#fixed-bugs-and-malfunctions-35" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>When the <code class="inline">memsup_system_only</code> flag was set to <code class="inline">true</code>, a <code class="inline">badmatch</code> exception
occurred in the function <code class="inline">os_mon_mib:get_load/1</code>.</p><p>Own Id: OTP-6351 Aux Id: seq10517</p></li></ul><h2 id="os_mon-2-1-1" class="section-heading"><a href="#os_mon-2-1-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">OS_Mon 2.1.1</span></h2><h3 id="fixed-bugs-and-malfunctions-36" class="section-heading"><a href="#fixed-bugs-and-malfunctions-36" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Did not build on Mac OS X.</p><p>Added support for IRIX. (Thanks to Michel Urvoy and Daniel Solaz.)</p><p>Own Id: OTP-6136</p></li></ul><h3 id="improvements-and-new-features-26" class="section-heading"><a href="#improvements-and-new-features-26" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p><code class="inline">disksup</code>: Now using <a href="../../apps/erts/erlang.html#round/1"><code class="inline">round(T*100)</code></a> instead of
<a href="../../apps/erts/erlang.html#trunc/1"><code class="inline">trunc(T*100)</code></a> when setting the threshold value given a float
<code class="inline">T</code>.</p><p>Own Id: OTP-6153</p></li></ul><h2 id="os_mon-2-1" class="section-heading"><a href="#os_mon-2-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Os_Mon 2.1</span></h2><h3 id="fixed-bugs-and-malfunctions-37" class="section-heading"><a href="#fixed-bugs-and-malfunctions-37" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>In 2.0, a call to <a href="../../apps/sasl/alarm_handler.html#get_alarms/0"><code class="inline">alarm_handler:get_alarms/0</code></a> was introduced in <code class="inline">memsup</code> and
<code class="inline">disksup</code>. This will lead to problems if the default <code class="inline">alarm_handler</code> event
handler is not used, however, and the call has now been removed. (Thanks to
Serge Aleynikov for pointing this out.)</p><p>Own Id: OTP-6029</p></li><li><p>A bug that in rare cases caused <code class="inline">cpu_sup</code> to crash has been corrected.</p><p>Own Id: OTP-6102 Aux Id: seq10312</p></li></ul><h2 id="os_mon-2-0" class="section-heading"><a href="#os_mon-2-0" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">OS_Mon 2.0</span></h2><p>A note on backwards compatibility: The behaviour of OS_Mon 2.0 is backwards
compatible under normal operation, but has changed somewhat in error situations:
The services do not terminate and the API functions do not raise exceptions in
all cases where they did before. Also, in the case where a service does
terminate, the exit reason may be different. See below for details.</p><h3 id="fixed-bugs-and-malfunctions-38" class="section-heading"><a href="#fixed-bugs-and-malfunctions-38" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>A call to a OS_Mon service (cpu_sup, disksup, ...) when OS_Mon is not running,
or when the service is not available for the OS, or when the service is not
started, will no longer result in an exception. Instead a warning is issued
via error_logger and a dummy value is returned, which one is specified in the
man pages for the respective service.</p><p>The reason is that it should not be necessary for a service to be started on
each and every node of a distributed Erlang system for the OS-MON-MIB and
other OS_Mon users to work properly.</p><p>Own Id: OTP-4332 Aux Id: seq7358</p></li><li><p>References to the obsolete EVA application in OTP-OS-MON-MIB has been removed.</p><p>Own Id: OTP-5699</p></li><li><p>Setting the option <code class="inline">memsup_system_only</code> to <code class="inline">true</code> did not work, but would
crash the <code class="inline">memsup</code> process.</p><p>Own Id: OTP-5890 Aux Id: seq10185</p></li><li><p><a href="cpu_sup.html#nprocs/0"><code class="inline">cpu_sup:nprocs/0</code></a> returned 0 on FreeBsd.</p><p>Own Id: OTP-5901</p></li><li><p>If the OS_Mon service <code class="inline">disksup</code> or <code class="inline">memsup</code> was restarted, the same alarm
could be set twice. Also, set alarms were not cleared when the application was
stopped.</p><p>Own Id: OTP-5910</p></li></ul><h3 id="improvements-and-new-features-27" class="section-heading"><a href="#improvements-and-new-features-27" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Thresholds and time intervals in <code class="inline">disksup</code> and <code class="inline">memsup</code> are now configurable
in run-time.</p><p>Own Id: OTP-4246 Aux Id: Seq7230</p></li><li><p><code class="inline">memsup</code> can now handle systems with more than 4GB of RAM.</p><p>Own Id: OTP-5800 Aux Id: seq10130</p></li><li><p>The entire OS_Mon application (code and documentation) has been reviewed and
consequently updated with the goal to make the application more robust,
homogeneous and easier to configure.</p><p>The behaviour under normal operation is backwards compatible. However,
recoverable errors now no longer terminate the affected service (and thus
possible the entire application), instead <code class="inline">error_logger</code> is used to warn the
user if/when such errors occurs. Also, in the case of unrecoverable errors,
the services have been made more homogeneous with respect to behavior and exit
reasons. See below for more information and refer to the man pages for
details.</p><p>Port handling has been unified, meaning that if a port program sends garbage
or unexpectedly dies, this is now handled the same way by all OS_Mon services,
namely immediate process termination with the exit reason
<code class="inline">{port_error,Garbage}</code> or <code class="inline">{port_died,Reason}</code>, respectively.</p><p>Application configuration parameter handling has been unified. Bad parameter
values are no longer silently ignored (<code class="inline">disksup</code>) or cause application
termination (<code class="inline">memsup</code>, <code class="inline">os_sup</code>). Instead a warning is issued and the default
value for the parameter is used. Also, some cases where a bad parameter value
accidentally could be accepted have been corrected.</p><p>Message handling has been unified. Unknown (<code class="inline">gen_server-</code>) calls cause process
termination, whereas unknown casts and messages are now ignored by all OS_Mon
services.</p><p>Own Id: OTP-5897</p></li><li><p>The following changes have been made to the <code class="inline">os_sup</code> service:</p><p>It is now available on Windows, using <code class="inline">nteventlog</code> as backend.</p><p>On Solaris, enabling the service (that is, installing a new configuration file
for <code class="inline">syslogd</code> etc.) can now be done outside the <code class="inline">os_sup</code> process. The reason
for this is that the Erlang emulator should normally not be run with <code class="inline">root</code>
privileges, as is otherwise required. The new application configuration
parameter <code class="inline">os_sup_config</code> must be set to <code class="inline">false</code>.</p><p>Also, <code class="inline">os_sup</code> can now be configured using a new configuration parameter
<code class="inline">os_sup_mfa</code> to call an arbitrary Erlang function when a message is received
from the OS.</p><p>Own Id: OTP-5925</p></li><li><p>The <code class="inline">memsup</code> service has been rewritten, replacing the supervised
<code class="inline">memsup_helper</code> with a linked help process. This gives the <code class="inline">memsup</code> process
more control and prevents a situation where it gets out of synch with the
received memory data and thus possibly returns erroneous results.</p><p>Own Id: OTP-5927</p></li></ul><h2 id="os_mon-1-8-1" class="section-heading"><a href="#os_mon-1-8-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">OS_Mon 1.8.1</span></h2><h3 id="fixed-bugs-and-malfunctions-39" class="section-heading"><a href="#fixed-bugs-and-malfunctions-39" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p><a href="cpu_sup.html#util/0"><code class="inline">cpu_sup:util/0</code></a> failed with error reason <code class="inline">negative_diff</code> when called the
first time on a machine (hw) that had been up for a very long time.</p><p>Own Id: OTP-5869 Aux Id: seq10166</p></li></ul><h2 id="os_mon-1-8" class="section-heading"><a href="#os_mon-1-8" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">OS_Mon 1.8</span></h2><h3 id="improvements-and-new-features-28" class="section-heading"><a href="#improvements-and-new-features-28" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The memsup part of the OS_Mon application has been made more stable. If there
are (possibly temporary) problems collecting memory data, the interface
functions (<code class="inline">get_memory_data/0</code>, <code class="inline">get_system_memory_data/0</code>) now do not fail,
but return the previously collected value, if any, or a dummy value otherwise.
Also, a warning message is printed.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-5798</p></li></ul><h2 id="os_mon-1-7-4" class="section-heading"><a href="#os_mon-1-7-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">OS_Mon 1.7.4</span></h2><h3 id="fixed-bugs-and-malfunctions-40" class="section-heading"><a href="#fixed-bugs-and-malfunctions-40" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Corrected several problems in the error handling/error recovery (especially
when OS_Mon is starting up).</p><p>Own Id: OTP-5559</p></li></ul><h2 id="os_mon-1-7-3" class="section-heading"><a href="#os_mon-1-7-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">OS_Mon 1.7.3</span></h2><h3 id="improvements-and-new-features-29" class="section-heading"><a href="#improvements-and-new-features-29" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p><code class="inline">memsup.c</code> will now compile on OpenBSD. (Thanks to Geoff White and Jay
Nelson.)</p><p>The <code class="inline">disksup</code> and <code class="inline">cpu_sup</code> modules now work on Mac OS X (tested on Mac OS
10.3.8).</p><p>The <code class="inline">memsup</code> module should now work on Linux 2.6.* as well as on older
Linuxes. (<code class="inline">/proc/meminfo</code> has slightly different formats in different releases
of Linux.)</p><p>Own Id: OTP-5421<br/>Aux Id: OTP-5194, OTP-5228, OTP-5291</p></li></ul><h2 id="os_mon-1-7-2" class="section-heading"><a href="#os_mon-1-7-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">OS_Mon 1.7.2</span></h2><p>This version is identical with 1.7.</p>

</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

      <a href="os_mon_app.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
OS Monitoring Application
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

  </div>
</div>
    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="os_mon.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.1) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>
<p>Copyright © 1996-2025 <a href="https://www.ericsson.com">Ericsson AB</a></p>
    </footer>
  </div>
</main>
</div>
  <script defer src="https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.min.js"></script>
  <script>
  let initialized = false;

  window.addEventListener("exdoc:loaded", () => {
      if (!initialized) {
      mermaid.initialize({
          startOnLoad: false,
          theme: document.body.className.includes("dark") ? "dark" : "default"
      });
      initialized = true;
      }

      let id = 0;
      for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
          graphEl.innerHTML = svg;
          bindFunctions?.(graphEl);
          preEl.insertAdjacentElement("afterend", graphEl);
          preEl.remove();
      });
      }
  });
  </script>

  </body>
</html>
