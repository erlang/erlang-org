<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.1">
    <meta name="project" content="stdlib v7.0">


<meta name="exdoc:full-text-search-url" content="/doc/search.html?v=1&q=">
<meta name="major-vsn" content="1">
<link rel="canonical" href="https://www.erlang.org/docs/1/apps/stdlib/filelib.html" />
    <title>filelib â€” stdlib v7.0</title>

    <link rel="stylesheet" href="dist/html-erlang-ZK43ZOAC.css" />

    <script defer src="dist/sidebar_items-AA1EE98A.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-DPJLHKSM.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="../../index.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="stdlib" />
        </a>

      <div>
        <a href="../../index.html" class="sidebar-projectName" translate="no">
stdlib
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v7.0
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-module" id="main" data-type="modules">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of stdlib</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>
      <span translate="no">filelib</span> 
      <small class="app-vsn" translate="no">(stdlib v7.0)</small>

    </h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/filelib.erl#L22" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


    <section id="moduledoc">
<p>File utilities, such as wildcard matching of filenames.</p><p>This module contains utilities on a higher level than the <a href="../../apps/kernel/file.html"><code class="inline">file</code></a> module.</p><p>This module does not support &quot;raw&quot; filenames (that is, files whose names do not
comply with the expected encoding). Such files are ignored by the functions in
this module.</p><p>For more information about raw filenames, see the <a href="../../apps/kernel/file.html"><code class="inline">file</code></a> module.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>Functionality in this module generally assumes valid input and does not
necessarily fail on input that does not use a valid encoding, but may instead
very likely produce invalid output.</p><p>File operations used to accept filenames containing null characters (integer
value zero). This caused the name to be truncated and in some cases arguments
to primitive operations to be mixed up. Filenames containing null characters
inside the filename are now <em>rejected</em> and will cause primitive file
operations to fail.</p></section><section role="note" class="admonition warning"><h4 class="admonition-title warning">Warning</h4><p>Currently null characters at the end of the filename will be accepted by
primitive file operations. Such filenames are however still documented as
invalid. The implementation will also change in the future and reject such
filenames.</p></section>
    </section>

</div>

  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-types summary">
  <h2>
    <a href="#types">Types</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:dirname/0" data-no-tooltip="" translate="no">dirname()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:dirname_all/0" data-no-tooltip="" translate="no">dirname_all()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:filename/0" data-no-tooltip="" translate="no">filename()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:filename_all/0" data-no-tooltip="" translate="no">filename_all()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:find_file_rule/0" data-no-tooltip="" translate="no">find_file_rule()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:find_source_rule/0" data-no-tooltip="" translate="no">find_source_rule()</a>

      </div>

    </div>

</div>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#ensure_dir/1" data-no-tooltip="" translate="no">ensure_dir(Name)</a>

      </div>

        <div class="summary-synopsis"><p>Ensures that all parent directories for the specified file or directory name
<code class="inline">Name</code> exist, trying to create them if necessary.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#ensure_path/1" data-no-tooltip="" translate="no">ensure_path(Path)</a>

      </div>

        <div class="summary-synopsis"><p>Ensures that all parent directories for the specified path <code class="inline">Path</code> exist, trying
to create them if necessary.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#file_size/1" data-no-tooltip="" translate="no">file_size(Filename)</a>

      </div>

        <div class="summary-synopsis"><p>Returns the size of the specified file.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#find_file/2" data-no-tooltip="" translate="no">find_file(Filename, Dir)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a><code class="inline">find_file(Filename, Dir, [])</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#find_file/3" data-no-tooltip="" translate="no">find_file/3</a>

      </div>

        <div class="summary-synopsis"><p>Looks for a file of the given name by applying suffix rules to the given
directory path.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#find_source/1" data-no-tooltip="" translate="no">find_source(FilePath)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a><code class="inline">find_source(Base, Dir)</code></a>, where <code class="inline">Dir</code> is
<code class="inline">filename:dirname(FilePath)</code> and <code class="inline">Base</code> is <code class="inline">filename:basename(FilePath)</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#find_source/2" data-no-tooltip="" translate="no">find_source(Filename, Dir)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a><code class="inline">find_source(Filename, Dir, [])</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#find_source/3" data-no-tooltip="" translate="no">find_source/3</a>

      </div>

        <div class="summary-synopsis"><p>Applies file extension specific rules to find the source file for a given object
file relative to the object directory.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#fold_files/5" data-no-tooltip="" translate="no">fold_files(Dir, RegExp, Recursive, Fun, AccIn)</a>

      </div>

        <div class="summary-synopsis"><p>Folds function <code class="inline">Fun</code> over all (regular) files <code class="inline">F</code> in directory <code class="inline">Dir</code> whose
basename (for example, just <code class="inline">&quot;baz.erl&quot;</code> in <code class="inline">&quot;foo/bar/baz.erl&quot;</code>) matches the
regular expression <code class="inline">RegExp</code> (for a description of the allowed regular
expressions, see the <a><code class="inline">re</code></a> module).</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#is_dir/1" data-no-tooltip="" translate="no">is_dir(Name)</a>

      </div>

        <div class="summary-synopsis"><p>Returns <code class="inline">true</code> if <code class="inline">Name</code> refers to a directory, otherwise <code class="inline">false</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#is_file/1" data-no-tooltip="" translate="no">is_file(Name)</a>

      </div>

        <div class="summary-synopsis"><p>Returns <code class="inline">true</code> if <code class="inline">Name</code> refers to a file or a directory, otherwise <code class="inline">false</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#is_regular/1" data-no-tooltip="" translate="no">is_regular(Name)</a>

      </div>

        <div class="summary-synopsis"><p>Returns <code class="inline">true</code> if <code class="inline">Name</code> refers to a (regular) file, otherwise <code class="inline">false</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#last_modified/1" data-no-tooltip="" translate="no">last_modified(Name)</a>

      </div>

        <div class="summary-synopsis"><p>Returns the date and time the specified file or directory was last modified, or
<code class="inline">0</code> if the file does not exist.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#safe_relative_path/2" data-no-tooltip="" translate="no">safe_relative_path(Filename, Cwd)</a>

      </div>

        <div class="summary-synopsis"><p>Sanitizes the relative path by eliminating &quot;..&quot; and &quot;.&quot; components to protect
against directory traversal attacks.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#wildcard/1" data-no-tooltip="" translate="no">wildcard(Wildcard)</a>

      </div>

        <div class="summary-synopsis"><p>Returns a list of all files that match Unix-style wildcard string <code class="inline">Wildcard</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#wildcard/2" data-no-tooltip="" translate="no">wildcard(Wildcard, Cwd)</a>

      </div>

        <div class="summary-synopsis"><p>Same as <a><code class="inline">wildcard/1</code></a>, except that <code class="inline">Cwd</code> is used instead of the working
directory.</p></div>

    </div>

</div>

  </section>


  <section id="types" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types</span>
    </h1>
    <div class="types-list">
<section class="detail" id="t:dirname/0">

  <div class="detail-header">
    <a href="#t:dirname/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">dirname()</h1>

        <span class="note">(not exported)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/filelib.erl#L79" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> dirname() :: <a href="#t:filename/0">filename</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:dirname_all/0">

  <div class="detail-header">
    <a href="#t:dirname_all/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">dirname_all()</h1>

        <span class="note">(not exported)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/filelib.erl#L82" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> dirname_all() :: <a href="#t:filename_all/0">filename_all</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:filename/0">

  <div class="detail-header">
    <a href="#t:filename/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">filename()</h1>

        <span class="note">(not exported)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/filelib.erl#L78" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> filename() :: <a href="../../apps/kernel/file.html#t:name/0">file:name</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:filename_all/0">

  <div class="detail-header">
    <a href="#t:filename_all/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">filename_all()</h1>

        <span class="note">(not exported)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/filelib.erl#L81" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> filename_all() :: <a href="../../apps/kernel/file.html#t:name_all/0">file:name_all</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:find_file_rule/0">

  <div class="detail-header">
    <a href="#t:find_file_rule/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">find_file_rule()</h1>

        <span class="note">(not exported)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/filelib.erl#L844" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> find_file_rule() :: {ObjDirSuffix :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>(), SrcDirSuffix :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>()}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:find_source_rule/0">

  <div class="detail-header">
    <a href="#t:find_source_rule/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">find_source_rule()</h1>

        <span class="note">(not exported)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/filelib.erl#L874" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> find_source_rule() :: {ObjExtension :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>(), SrcExtension :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>(), [<a href="#t:find_file_rule/0">find_file_rule</a>()]}.</pre>

      </div>


  </section>
</section>

    </div>
  </section>

  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Functions</span>
    </h1>
    <div class="functions-list">
<section class="detail" id="ensure_dir/1">

  <div class="detail-header">
    <a href="#ensure_dir/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">ensure_dir(Name)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/filelib.erl#L381" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> ensure_dir(Name) -> ok | {error, Reason}
                    when Name :: <a href="#t:filename_all/0">filename_all</a>() | <a href="#t:dirname_all/0">dirname_all</a>(), Reason :: <a href="../../apps/kernel/file.html#t:posix/0">file:posix</a>().</pre>

      </div>

<p>Ensures that all parent directories for the specified file or directory name
<code class="inline">Name</code> exist, trying to create them if necessary.</p><p>Returns <code class="inline">ok</code> if all parent directories already exist or can be created. Returns
<code class="inline">{error, Reason}</code> if some parent directory does not exist and cannot be created.</p>
  </section>
</section>
<section class="detail" id="ensure_path/1">

  <div class="detail-header">
    <a href="#ensure_path/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">ensure_path(Path)</h1>

        <span class="note">(since OTP 25.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/filelib.erl#L401" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> ensure_path(Path) -> ok | {error, Reason} when Path :: <a href="#t:dirname_all/0">dirname_all</a>(), Reason :: <a href="../../apps/kernel/file.html#t:posix/0">file:posix</a>().</pre>

      </div>

<p>Ensures that all parent directories for the specified path <code class="inline">Path</code> exist, trying
to create them if necessary.</p><p>Unlike <a href="#ensure_dir/1"><code class="inline">ensure_dir/1</code></a>, this function will attempt to create all path segments as
a directory, including the last segment.</p><p>Returns <code class="inline">ok</code> if all parent directories already exist or can be created. Returns
<code class="inline">{error, Reason}</code> if some parent directory does not exist and cannot be created.</p>
  </section>
</section>
<section class="detail" id="file_size/1">

  <div class="detail-header">
    <a href="#file_size/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">file_size(Filename)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/filelib.erl#L265" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> file_size(Filename) -> <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>() when Filename :: <a href="#t:filename_all/0">filename_all</a>().</pre>

      </div>

<p>Returns the size of the specified file.</p>
  </section>
</section>
<section class="detail" id="find_file/2">

  <div class="detail-header">
    <a href="#find_file/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">find_file(Filename, Dir)</h1>

        <span class="note">(since OTP 20.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/filelib.erl#L850" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> find_file(Filename :: <a href="#t:filename/0">filename</a>(), Dir :: <a href="#t:filename/0">filename</a>()) -> {ok, <a href="#t:filename/0">filename</a>()} | {error, not_found}.</pre>

      </div>

<p>Equivalent to <a href="#find_file/3"><code class="inline">find_file(Filename, Dir, [])</code></a>.</p>
  </section>
</section>
<section class="detail" id="find_file/3">

  <div class="detail-header">
    <a href="#find_file/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">find_file/3</h1>

        <span class="note">(since OTP 20.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/filelib.erl#L867" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> find_file(<a href="#t:filename/0">filename</a>(), <a href="#t:filename/0">filename</a>(), [<a href="#t:find_file_rule/0">find_file_rule</a>()]) -> {ok, <a href="#t:filename/0">filename</a>()} | {error, not_found}.</pre>

      </div>

<p>Looks for a file of the given name by applying suffix rules to the given
directory path.</p><p>For example, a rule <code class="inline">{&quot;ebin&quot;, &quot;src&quot;}</code> means that if the directory path ends with
 <code class="inline">&quot;ebin&quot;</code>, the corresponding path ending in <code class="inline">&quot;src&quot;</code> should be searched.</p><p>If <code class="inline">Rules</code> is left out or is an empty list, the default system rules are used.
See also the Kernel application parameter
<a href="../../apps/kernel/kernel_app.html#source_search_rules"><code class="inline">source_search_rules</code></a>.</p>
  </section>
</section>
<section class="detail" id="find_source/1">

  <div class="detail-header">
    <a href="#find_source/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">find_source(FilePath)</h1>

        <span class="note">(since OTP 20.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/filelib.erl#L884" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> find_source(<a href="#t:filename/0">filename</a>()) -> {ok, <a href="#t:filename/0">filename</a>()} | {error, not_found}.</pre>

      </div>

<p>Equivalent to <a href="#find_source/2"><code class="inline">find_source(Base, Dir)</code></a>, where <code class="inline">Dir</code> is
<code class="inline">filename:dirname(FilePath)</code> and <code class="inline">Base</code> is <code class="inline">filename:basename(FilePath)</code>.</p>
  </section>
</section>
<section class="detail" id="find_source/2">

  <div class="detail-header">
    <a href="#find_source/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">find_source(Filename, Dir)</h1>

        <span class="note">(since OTP 20.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/filelib.erl#L891" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> find_source(<a href="#t:filename/0">filename</a>(), <a href="#t:filename/0">filename</a>()) -> {ok, <a href="#t:filename/0">filename</a>()} | {error, not_found}.</pre>

      </div>

<p>Equivalent to <a href="#find_source/3"><code class="inline">find_source(Filename, Dir, [])</code></a>.</p>
  </section>
</section>
<section class="detail" id="find_source/3">

  <div class="detail-header">
    <a href="#find_source/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">find_source/3</h1>

        <span class="note">(since OTP 20.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/filelib.erl#L911" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> find_source(<a href="#t:filename/0">filename</a>(), <a href="#t:filename/0">filename</a>(), [<a href="#t:find_source_rule/0">find_source_rule</a>()]) -> {ok, <a href="#t:filename/0">filename</a>()} | {error, not_found}.</pre>

      </div>

<p>Applies file extension specific rules to find the source file for a given object
file relative to the object directory.</p><p>For example, for a file with the extension <code class="inline">.beam</code>, the default rule is to look
for a file with a corresponding extension <code class="inline">.erl</code> by replacing the suffix <code class="inline">&quot;ebin&quot;</code>
of the object directory path with <code class="inline">&quot;src&quot;</code> or <code class="inline">&quot;src/*&quot;</code>. The file search is done
through <a href="#find_file/3"><code class="inline">find_file/3</code></a>. The directory of the object file is always tried before
any other directory specified by the rules.</p><p>If <code class="inline">Rules</code> is left out or is an empty list, the default system rules are used.
See also the Kernel application parameter
<a href="../../apps/kernel/kernel_app.html#source_search_rules"><code class="inline">source_search_rules</code></a>.</p>
  </section>
</section>
<section class="detail" id="fold_files/5">

  <div class="detail-header">
    <a href="#fold_files/5" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">fold_files(Dir, RegExp, Recursive, Fun, AccIn)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/filelib.erl#L240" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> fold_files(Dir, RegExp, Recursive, Fun, AccIn) -> AccOut
                    when
                        Dir :: <a href="#t:dirname/0">dirname</a>(),
                        RegExp :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>(),
                        Recursive :: <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>(),
                        Fun :: fun((F :: <a href="../../apps/kernel/file.html#t:filename/0">file:filename</a>(), AccIn) -> AccOut),
                        AccIn :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                        AccOut :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Folds function <code class="inline">Fun</code> over all (regular) files <code class="inline">F</code> in directory <code class="inline">Dir</code> whose
basename (for example, just <code class="inline">&quot;baz.erl&quot;</code> in <code class="inline">&quot;foo/bar/baz.erl&quot;</code>) matches the
regular expression <code class="inline">RegExp</code> (for a description of the allowed regular
expressions, see the <a href="re.html"><code class="inline">re</code></a> module).</p><p>If <code class="inline">Recursive</code> is <code class="inline">true</code>, all subdirectories to <code class="inline">Dir</code> are processed.
The regular expression matching is only done on the filename without the directory part.</p><p>If Unicode filename translation is in effect and the file system is transparent,
filenames that cannot be interpreted as Unicode can be encountered, in which
case the <code class="inline">fun()</code> must be prepared to handle raw filenames (that is, binaries).
If the regular expression contains codepoints &gt; 255, it does not match filenames
that do not conform to the expected character encoding (that is, are not encoded
in valid UTF-8).</p><p>For more information about raw filenames, see the <a href="../../apps/kernel/file.html"><code class="inline">file</code></a> module.</p>
  </section>
</section>
<section class="detail" id="is_dir/1">

  <div class="detail-header">
    <a href="#is_dir/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">is_dir(Name)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/filelib.erl#L185" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> is_dir(Name) -> <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>() when Name :: <a href="#t:filename_all/0">filename_all</a>() | <a href="#t:dirname_all/0">dirname_all</a>().</pre>

      </div>

<p>Returns <code class="inline">true</code> if <code class="inline">Name</code> refers to a directory, otherwise <code class="inline">false</code>.</p>
  </section>
</section>
<section class="detail" id="is_file/1">

  <div class="detail-header">
    <a href="#is_file/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">is_file(Name)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/filelib.erl#L196" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> is_file(Name) -> <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>() when Name :: <a href="#t:filename_all/0">filename_all</a>() | <a href="#t:dirname_all/0">dirname_all</a>().</pre>

      </div>

<p>Returns <code class="inline">true</code> if <code class="inline">Name</code> refers to a file or a directory, otherwise <code class="inline">false</code>.</p>
  </section>
</section>
<section class="detail" id="is_regular/1">

  <div class="detail-header">
    <a href="#is_regular/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">is_regular(Name)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/filelib.erl#L207" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> is_regular(Name) -> <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>() when Name :: <a href="#t:filename_all/0">filename_all</a>().</pre>

      </div>

<p>Returns <code class="inline">true</code> if <code class="inline">Name</code> refers to a (regular) file, otherwise <code class="inline">false</code>.</p>
  </section>
</section>
<section class="detail" id="last_modified/1">

  <div class="detail-header">
    <a href="#last_modified/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">last_modified(Name)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/filelib.erl#L254" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> last_modified(Name) -> <a href="../../apps/kernel/file.html#t:date_time/0">file:date_time</a>() | 0 when Name :: <a href="#t:filename_all/0">filename_all</a>() | <a href="#t:dirname_all/0">dirname_all</a>().</pre>

      </div>

<p>Returns the date and time the specified file or directory was last modified, or
<code class="inline">0</code> if the file does not exist.</p>
  </section>
</section>
<section class="detail" id="safe_relative_path/2">

  <div class="detail-header">
    <a href="#safe_relative_path/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">safe_relative_path(Filename, Cwd)</h1>

        <span class="note">(since OTP 23.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/filelib.erl#L999" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> safe_relative_path(Filename, Cwd) -> unsafe | SafeFilename
                            when
                                Filename :: <a href="#t:filename_all/0">filename_all</a>(),
                                Cwd :: <a href="#t:filename_all/0">filename_all</a>(),
                                SafeFilename :: <a href="#t:filename_all/0">filename_all</a>().</pre>

      </div>

<p>Sanitizes the relative path by eliminating &quot;..&quot; and &quot;.&quot; components to protect
against directory traversal attacks.</p><p>Either returns the sanitized path name, or the atom <code class="inline">unsafe</code> if the path is unsafe.
The path is considered unsafe in the following circumstances:</p><ul><li>The path is not relative.</li><li>A &quot;..&quot; component would climb up above the root of the relative path.</li><li>A symbolic link in the path points above the root of the relative path.</li></ul><p><em>Examples:</em></p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="p" data-group-id="0338710187-1">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="n">Cwd</span><span class="p" data-group-id="0338710187-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">file</span><span class="p">:</span><span class="nf">get_cwd</span><span class="p" data-group-id="0338710187-2">(</span><span class="p" data-group-id="0338710187-2">)</span><span class="p">.</span><span class="w">
</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="gp unselectable">
2&gt; </span><span class="nc">filelib</span><span class="p">:</span><span class="nf">safe_relative_path</span><span class="p" data-group-id="0338710187-3">(</span><span class="s">&quot;dir/sub_dir/..&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Cwd</span><span class="p" data-group-id="0338710187-3">)</span><span class="p">.</span><span class="w">
</span><span class="s">&quot;dir&quot;</span><span class="gp unselectable">
3&gt; </span><span class="nc">filelib</span><span class="p">:</span><span class="nf">safe_relative_path</span><span class="p" data-group-id="0338710187-4">(</span><span class="s">&quot;dir/..&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Cwd</span><span class="p" data-group-id="0338710187-4">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="0338710187-5">[</span><span class="p" data-group-id="0338710187-5">]</span><span class="gp unselectable">
4&gt; </span><span class="nc">filelib</span><span class="p">:</span><span class="nf">safe_relative_path</span><span class="p" data-group-id="0338710187-6">(</span><span class="s">&quot;dir/../..&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Cwd</span><span class="p" data-group-id="0338710187-6">)</span><span class="p">.</span><span class="w">
</span><span class="ss">unsafe</span><span class="gp unselectable">
5&gt; </span><span class="nc">filelib</span><span class="p">:</span><span class="nf">safe_relative_path</span><span class="p" data-group-id="0338710187-7">(</span><span class="s">&quot;/abs/path&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Cwd</span><span class="p" data-group-id="0338710187-7">)</span><span class="p">.</span><span class="w">
</span><span class="ss">unsafe</span></code></pre>
  </section>
</section>
<section class="detail" id="wildcard/1">

  <div class="detail-header">
    <a href="#wildcard/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">wildcard(Wildcard)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/filelib.erl#L161" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> wildcard(Wildcard) -> [<a href="../../apps/kernel/file.html#t:filename/0">file:filename</a>()] when Wildcard :: <a href="#t:filename/0">filename</a>() | <a href="#t:dirname/0">dirname</a>().</pre>

      </div>

<p>Returns a list of all files that match Unix-style wildcard string <code class="inline">Wildcard</code>.</p><p>The wildcard string looks like an ordinary filename, except that the following
&quot;wildcard characters&quot; are interpreted in a special way:</p><ul><li><p><strong>?</strong> - Matches one character.</p></li><li><p><strong>*</strong> - Matches any number of characters up to the end of the filename, the
next dot, or the next slash.</p></li><li><p><strong>**</strong> - Two adjacent <code class="inline">*</code> used as a single pattern match all files and zero
or more directories and subdirectories.</p></li><li><p><strong>[Character1,Character2,...]</strong> - Matches any of the characters listed. Two
characters separated by a hyphen match a range of characters. Example: <code class="inline">[A-Z]</code>
matches any uppercase letter.</p></li><li><p><strong>{Item,...}</strong> - Alternation. Matches one of the alternatives.</p></li></ul><p>Other characters represent themselves. Only filenames that have exactly the same
character in the same position match. Matching is case-sensitive, for example,
&quot;a&quot; does not match &quot;A&quot;.</p><p>Directory separators must always be written as <code class="inline">/</code>, even on Windows.</p><p>A character preceded by <code class="inline">\</code> loses its special meaning. Note that <code class="inline">\</code> must be
written as <code class="inline">\\</code> in a string literal. For example, &quot;\\?*&quot; will match any
filename starting with <code class="inline">?</code>.</p><p>Notice that multiple &quot;*&quot; characters are allowed (as in Unix wildcards, but
opposed to Windows/DOS wildcards).</p><p><em>Examples:</em></p><p>The following examples assume that the current directory is the top of an
Erlang/OTP installation.</p><p>To find all <code class="inline">.beam</code> files in all applications, use the following line:</p><pre><code class="text">filelib:wildcard(&quot;lib/*/ebin/*.beam&quot;).</code></pre><p>To find <code class="inline">.erl</code> or <code class="inline">.hrl</code> in all applications <code class="inline">src</code> directories, use either of
the following lines:</p><pre><code class="text">filelib:wildcard(&quot;lib/*/src/*.?rl&quot;)</code></pre><pre><code class="text">filelib:wildcard(&quot;lib/*/src/*.{erl,hrl}&quot;)</code></pre><p>To find all <code class="inline">.hrl</code> files in <code class="inline">src</code> or <code class="inline">include</code> directories:</p><pre><code class="text">filelib:wildcard(&quot;lib/*/{src,include}/*.hrl&quot;).</code></pre><p>To find all <code class="inline">.erl</code> or <code class="inline">.hrl</code> files in either <code class="inline">src</code> or <code class="inline">include</code> directories:</p><pre><code class="text">filelib:wildcard(&quot;lib/*/{src,include}/*.{erl,hrl}&quot;)</code></pre><p>To find all <code class="inline">.erl</code> or <code class="inline">.hrl</code> files in any subdirectory:</p><pre><code class="text">filelib:wildcard(&quot;lib/**/*.{erl,hrl}&quot;)</code></pre>
  </section>
</section>
<section class="detail" id="wildcard/2">

  <div class="detail-header">
    <a href="#wildcard/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">wildcard(Wildcard, Cwd)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/filelib.erl#L171" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> wildcard(Wildcard, Cwd) -> [<a href="../../apps/kernel/file.html#t:filename/0">file:filename</a>()]
                  when Wildcard :: <a href="#t:filename/0">filename</a>() | <a href="#t:dirname/0">dirname</a>(), Cwd :: <a href="#t:dirname/0">dirname</a>().</pre>

      </div>

<p>Same as <a href="#wildcard/1"><code class="inline">wildcard/1</code></a>, except that <code class="inline">Cwd</code> is used instead of the working
directory.</p>
  </section>
</section>

    </div>
  </section>

    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="stdlib.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.1) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>
<p>Copyright Â© 1996-2025 <a href="https://www.ericsson.com">Ericsson AB</a></p>
    </footer>
  </div>
</main>
</div>
  <script defer src="https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.min.js"></script>
  <script>
  let initialized = false;

  window.addEventListener("exdoc:loaded", () => {
      if (!initialized) {
      mermaid.initialize({
          startOnLoad: false,
          theme: document.body.className.includes("dark") ? "dark" : "default"
      });
      initialized = true;
      }

      let id = 0;
      for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
          graphEl.innerHTML = svg;
          bindFunctions?.(graphEl);
          preEl.insertAdjacentElement("afterend", graphEl);
          preEl.remove();
      });
      }
  });
  </script>

  </body>
</html>
