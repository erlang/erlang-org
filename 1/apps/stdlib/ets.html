<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.1">
    <meta name="project" content="stdlib v7.0">


<meta name="exdoc:full-text-search-url" content="/doc/search.html?v=1&q=">
<meta name="major-vsn" content="1">
<link rel="canonical" href="https://www.erlang.org/doc/apps/stdlib/ets.html" />
    <title>ets â€” stdlib v7.0</title>

    <link rel="stylesheet" href="dist/html-erlang-ZK43ZOAC.css" />

    <script defer src="dist/sidebar_items-AA1EE98A.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-DPJLHKSM.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="../../index.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="stdlib" />
        </a>

      <div>
        <a href="../../index.html" class="sidebar-projectName" translate="no">
stdlib
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v7.0
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-module" id="main" data-type="modules">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of stdlib</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>
      <span translate="no">ets</span> 
      <small class="app-vsn" translate="no">(stdlib v7.0)</small>

    </h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L22" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


    <section id="moduledoc">
<p>Built-in term storage.</p><p>This module is an interface to the Erlang built-in term storage BIFs. These
provide the ability to store very large quantities of data in an Erlang runtime
system, and to have constant access time to the data. (In the case of
<code class="inline">ordered_set</code>, see below, access time is proportional to the logarithm of the
number of stored objects.)</p><p>Data is organized as a set of dynamic tables, which can store tuples. Each table
is created by a process. When the process terminates, the table is automatically
destroyed. Every table has access rights set at creation.</p><p>Tables are divided into four different types, <code class="inline">set</code>, <code class="inline">ordered_set</code>, <code class="inline">bag</code>, and
<code class="inline">duplicate_bag</code>. A <code class="inline">set</code> or <code class="inline">ordered_set</code> table can only have one object
associated with each key. A <code class="inline">bag</code> or <code class="inline">duplicate_bag</code> table can have many objects
associated with each key.</p><p>Insert and lookup times in tables of type <code class="inline">set</code> are constant, regardless of the
table size. For table types <code class="inline">bag</code> and <code class="inline">duplicate_bag</code> time is proportional to
the number of objects with the same key. Even seemingly unrelated keys may
inflict linear search to be skipped past while looking for the key of interest
(due to hash collision).</p><section role="note" class="admonition warning"><h4 class="admonition-title warning">Warning</h4><p>For tables of type <code class="inline">bag</code> and <code class="inline">duplicate_bag</code>, avoid inserting an extensive
amount of objects with the same key. It will hurt insert and lookup
performance as well as real time characteristics of the runtime environment
(hash bucket linear search do not yield).</p></section><p>The <code class="inline">ordered_set</code> table type uses a binary search tree. Insert and lookup times
are proportional to the logarithm of the number of objects in the table.</p><p><a href="" id="max_ets_tables"></a></p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>The number of tables stored at one Erlang node <em>used</em> to be limited. This is
no longer the case (except by memory usage). The previous default limit was
about 1400 tables and could be increased by setting the environment variable
<code class="inline">ERL_MAX_ETS_TABLES</code> or the command line option
<a href="../../apps/erts/erl_cmd.html#%2Be"><code class="inline">+e</code></a> before starting the Erlang runtime system.
This hard limit has been removed, but it is currently useful to set the
<code class="inline">ERL_MAX_ETS_TABLES</code> anyway. It should be set to an approximate of the maximum
amount of tables used since an internal table for named tables is sized using
this value. If large amounts of named tables are used and <code class="inline">ERL_MAX_ETS_TABLES</code>
hasn't been increased, the performance of named table lookup will degrade.</p></section><p>Notice that there is no automatic garbage collection for tables. Even if there
are no references to a table from any process, it is not automatically destroyed
unless the owner process terminates. To destroy a table explicitly, use function
<a href="#delete/1"><code class="inline">delete/1</code></a>. The default owner is the process that created the table. To transfer
table ownership at process termination, use option <a href="ets.html#heir"><code class="inline">heir</code></a> or
call <a href="#give_away/3"><code class="inline">give_away/3</code></a>.</p><p>Some implementation details:</p><ul><li>In the current implementation, every object insert and look-up operation
results in a copy of the object.</li><li><code class="inline">'$end_of_table'</code> is not to be used as a key, as this atom is used to mark the
end of the table when using functions <a href="#first/1"><code class="inline">first/1</code></a> and <a href="#next/2"><code class="inline">next/2</code></a>.</li></ul><p>Notice the subtle difference between <em>matching</em> and <em>comparing equal</em>, which is
demonstrated by table types <code class="inline">set</code> and <code class="inline">ordered_set</code>:</p><ul><li>Two Erlang terms <code class="inline">match</code> if they are of the same type and have the same value,
so that <code class="inline">1</code> matches <code class="inline">1</code>, but not <code class="inline">1.0</code> (as <code class="inline">1.0</code> is a <a href="../../apps/erts/erlang.html#t:float/0"><code class="inline">float/0</code></a> and not an
<a href="../../apps/erts/erlang.html#t:integer/0"><code class="inline">integer/0</code></a>).</li><li>Two Erlang terms <em>compare equal</em> if they either are of the same type and
value, or if both are numeric types and extend to the same value, so that <code class="inline">1</code>
compares equal to both <code class="inline">1</code> and <code class="inline">1.0</code>.</li><li>The <code class="inline">ordered_set</code> works on the <em>Erlang term order</em> and no defined order exists
between an <a href="../../apps/erts/erlang.html#t:integer/0"><code class="inline">integer/0</code></a> and a <a href="../../apps/erts/erlang.html#t:float/0"><code class="inline">float/0</code></a> that extends to the same value.
Hence the key <code class="inline">1</code> and the key <code class="inline">1.0</code> are regarded as equal in an <code class="inline">ordered_set</code>
table.</li></ul><p><a href="" id="ets_failures"></a></p><h2 id="module-failures" class="section-heading"><a href="#module-failures" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Failures</span></h2><p>Functions in this module fail by raising an error exception with error reason:</p><ul><li><p><strong><code class="inline">badarg</code></strong> - If any argument has the wrong format.</p></li><li><p><strong><code class="inline">badarg</code></strong> - If the table identifier is invalid.</p></li><li><p><strong><code class="inline">badarg</code></strong> - If the operation is denied because of table access rights
(<a href="ets.html#protected">protected</a> or <a href="ets.html#private">private</a>).</p></li><li><p><strong><code class="inline">system_limit</code></strong> - Modification of a value causes it to not be representable
internally in the VM. For example, incrementation of a counter past the
largest integer representable.</p></li><li><p><strong><code class="inline">system_limit</code></strong> - If a match specification passed as argument has excessive
nesting which causes scheduler stack exhaustion for the scheduler that the
calling process is executing on.
<a href="../../apps/erts/erl_cmd.html#sched_thread_stack_size">Scheduler stack size</a> can be
configured when starting the runtime system.</p></li></ul><p><a href="" id="concurrency"></a></p><h2 id="module-concurrency" class="section-heading"><a href="#module-concurrency" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Concurrency</span></h2><p>This module provides some limited support for concurrent access. All updates to
single objects are guaranteed to be both <em>atomic</em> and <em>isolated</em>. This means
that an updating operation to a single object either succeeds or fails
completely without any effect (atomicity) and that no intermediate results of
the update can be seen by other processes (isolation). Some functions that
update many objects state that they even guarantee atomicity and isolation for
the entire operation. In database terms the isolation level can be seen as
&quot;serializable&quot;, as if all isolated operations are carried out serially, one
after the other in a strict order.</p><p><a href="" id="traversal"></a></p><h2 id="module-table-traversal" class="section-heading"><a href="#module-table-traversal" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Table traversal</span></h2><p>There are different ways to traverse through the objects of a table.</p><ul><li><em>Single-step</em> traversal one key at at time, using <a href="#first/1"><code class="inline">first/1</code></a>, <a href="#next/2"><code class="inline">next/2</code></a>,
<a href="#last/1"><code class="inline">last/1</code></a> and <a href="#prev/2"><code class="inline">prev/2</code></a>.</li><li><em>Single-step</em> traversal one key at at time, but using <a href="#first_lookup/1"><code class="inline">first_lookup/1</code></a>,
<a href="#next_lookup/2"><code class="inline">next_lookup/2</code></a>, <a href="#last_lookup/1"><code class="inline">last_lookup/1</code></a> and <a href="#prev_lookup/2"><code class="inline">prev_lookup/2</code></a>. This is more efficient
when you also need to lookup the objects for the keys.</li><li>Search with simple <em>match patterns</em>, using <a href="#match/1"><code class="inline">match/1/2/3</code></a>,
<a href="#match_delete/2"><code class="inline">match_delete/2</code></a> and <a href="#match_object/1"><code class="inline">match_object/1/2/3</code></a>.</li><li>Search with more powerful <em>match specifications</em>, using
<a href="#select/1"><code class="inline">select/1/2/3</code></a>, <a href="#select_count/2"><code class="inline">select_count/2</code></a>, <a href="#select_delete/2"><code class="inline">select_delete/2</code></a>,
<a href="#select_replace/2"><code class="inline">select_replace/2</code></a> and <a href="#select_reverse/1"><code class="inline">select_reverse/1/2/3</code></a>.</li><li><em>Table conversions</em>, using <a href="#tab2file/2"><code class="inline">tab2file/2/3</code></a> and <a href="#tab2list/1"><code class="inline">tab2list/1</code></a>.</li></ul><p>No table traversal will guarantee a consistent snapshot of the entire table if
the table is also updated by concurrent processes during the traversal. The
result of each concurrently updated object may be seen (or not) depending on if
it has happened when the traversal visits that part of the table. The only way
to guarantee a full consistent table snapshot (if you really need that) is to
disallow concurrent updates during the entire traversal.</p><p>Moreover, traversals not done in a <em>safe</em> way, on tables where keys are inserted
or deleted during the traversal, may yield the following undesired effects:</p><ul><li>Any key may be missed.</li><li>Any key may be found more than once.</li><li>The traversal may fail with <code class="inline">badarg</code> exception if keys are deleted.</li></ul><p>A table traversal is <em>safe</em> if either</p><ul><li>the table is of type <code class="inline">ordered_set</code>.</li><li>the entire table traversal is done within one ETS function call.</li><li>function <a href="#safe_fixtable/2"><code class="inline">safe_fixtable/2</code></a> is used to keep the table fixated during the entire
traversal.</li></ul><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>Even though the access of a single object is always guaranteed to be
<a href="ets.html#module-concurrency">atomic and isolated</a>, each traversal through a table to
find the next key is not done with such guarantees. This is often not a
problem, but may cause rare subtle &quot;unexpected&quot; effects if a concurrent
process inserts objects during a traversal. For example, consider one process
doing</p><pre><code class="makeup erlang" translate="no"><span class="nc">ets</span><span class="p">:</span><span class="nf">new</span><span class="p" data-group-id="6867934915-1">(</span><span class="ss">t</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6867934915-2">[</span><span class="ss">ordered_set</span><span class="p">,</span><span class="w"> </span><span class="ss">named_table</span><span class="p" data-group-id="6867934915-2">]</span><span class="p" data-group-id="6867934915-1">)</span><span class="p">,</span><span class="w">
</span><span class="nc">ets</span><span class="p">:</span><span class="nf">insert</span><span class="p" data-group-id="6867934915-3">(</span><span class="ss">t</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6867934915-4">{</span><span class="mi">1</span><span class="p" data-group-id="6867934915-4">}</span><span class="p" data-group-id="6867934915-3">)</span><span class="p">,</span><span class="w">
</span><span class="nc">ets</span><span class="p">:</span><span class="nf">insert</span><span class="p" data-group-id="6867934915-5">(</span><span class="ss">t</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6867934915-6">{</span><span class="mi">2</span><span class="p" data-group-id="6867934915-6">}</span><span class="p" data-group-id="6867934915-5">)</span><span class="p">,</span><span class="w">
</span><span class="nc">ets</span><span class="p">:</span><span class="nf">insert</span><span class="p" data-group-id="6867934915-7">(</span><span class="ss">t</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6867934915-8">{</span><span class="mi">3</span><span class="p" data-group-id="6867934915-8">}</span><span class="p" data-group-id="6867934915-7">)</span><span class="p">,</span></code></pre><p>A concurrent call to <code class="inline">ets:first(t)</code>, done by another process, may then in rare
cases return <code class="inline">2</code> even though <code class="inline">2</code> has never existed in the table ordered as the
first key. In the same way, a concurrent call to <code class="inline">ets:next(t, 1)</code> may return
<code class="inline">3</code> even though <code class="inline">3</code> never existed in the table ordered directly after <code class="inline">1</code>.</p><p>Effects like this are improbable but possible. The probability will further be
reduced (if not vanish) if table option
<a href="ets.html#new_2_write_concurrency"><code class="inline">write_concurrency</code></a> is not enabled. This
can also only be a potential concern for <code class="inline">ordered_set</code> where the traversal
order is defined.</p></section><p>Traversals using <code class="inline">match</code> and <code class="inline">select</code> functions may not need to scan the entire
table depending on how the key is specified. A match pattern with a <em>fully bound
key</em> (without any match variables) will optimize the operation to a single key
lookup without any table traversal at all. For <code class="inline">ordered_set</code> a <em>partially bound
key</em> will limit the traversal to only scan a subset of the table based on term
order. A partially bound key is either a list or a tuple with a prefix that is
fully bound. Example:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="n">T</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">ets</span><span class="p">:</span><span class="nf">new</span><span class="p" data-group-id="2076648602-1">(</span><span class="ss">t</span><span class="p">,</span><span class="p" data-group-id="2076648602-2">[</span><span class="ss">ordered_set</span><span class="p" data-group-id="2076648602-2">]</span><span class="p" data-group-id="2076648602-1">)</span><span class="p">,</span><span class="w"> </span><span class="nc">ets</span><span class="p">:</span><span class="nf">insert</span><span class="p" data-group-id="2076648602-3">(</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2076648602-4">{</span><span class="s">&quot;555-1234&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;John Smith&quot;</span><span class="p" data-group-id="2076648602-4">}</span><span class="p" data-group-id="2076648602-3">)</span><span class="p">.</span><span class="w">
</span><span class="ss">true</span><span class="gp unselectable">
2&gt; </span><span class="c1">%% Efficient search of all with area code 555</span><span class="gp unselectable">
2&gt; </span><span class="nc">ets</span><span class="p">:</span><span class="nf">match</span><span class="p" data-group-id="2076648602-5">(</span><span class="n">T</span><span class="p">,</span><span class="p" data-group-id="2076648602-6">{</span><span class="p" data-group-id="2076648602-7">[</span><span class="sc">$5</span><span class="p">,</span><span class="sc">$5</span><span class="p">,</span><span class="sc">$5</span><span class="p">,</span><span class="sc">$-</span><span class="w"> </span><span class="p">|</span><span class="ss">&#39;$1&#39;</span><span class="p" data-group-id="2076648602-7">]</span><span class="p">,</span><span class="ss">&#39;$2&#39;</span><span class="p" data-group-id="2076648602-6">}</span><span class="p" data-group-id="2076648602-5">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="2076648602-8">[</span><span class="p" data-group-id="2076648602-9">[</span><span class="s">&quot;1234&quot;</span><span class="p">,</span><span class="s">&quot;John Smith&quot;</span><span class="p" data-group-id="2076648602-9">]</span><span class="p" data-group-id="2076648602-8">]</span></code></pre><p><a href="" id="match_spec"></a></p><h2 id="module-match-specifications" class="section-heading"><a href="#module-match-specifications" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Match Specifications</span></h2><p>Some of the functions use a <em>match specification</em>, <code class="inline">match_spec</code>. For a brief
explanation, see <a href="#select/2"><code class="inline">select/2</code></a>. For a detailed description, see section
<a href="../../apps/erts/match_spec.html">Match Specifications in Erlang</a> in ERTS User's Guide.</p><p>A match specifications with excessive nesting will cause a
<a href="ets.html#ets_failures"><code class="inline">system_limit</code></a> error exception to be raised.</p>
    </section>

</div>

  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-types summary">
  <h2>
    <a href="#types">Types</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:comp_match_spec/0" data-no-tooltip="" translate="no">comp_match_spec()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:compiled_match_spec/0" data-no-tooltip="" translate="no">compiled_match_spec()</a>

      </div>

        <div class="summary-synopsis"><p>A compiled match specification.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:continuation/0" data-no-tooltip="" translate="no">continuation()</a>

      </div>

        <div class="summary-synopsis"><p>Opaque continuation used by <a><code class="inline">select/1,3</code></a>,
<a><code class="inline">select_reverse/1,3</code></a>, <a><code class="inline">match/1,3</code></a>, and
<a><code class="inline">match_object/1,3</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:match_pattern/0" data-no-tooltip="" translate="no">match_pattern()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:match_spec/0" data-no-tooltip="" translate="no">match_spec()</a>

      </div>

        <div class="summary-synopsis"><p>A match specification, see <a>Match Specifications</a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:tab/0" data-no-tooltip="" translate="no">tab()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:table/0" data-no-tooltip="" translate="no">table()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:table_access/0" data-no-tooltip="" translate="no">table_access()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:table_type/0" data-no-tooltip="" translate="no">table_type()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:tid/0" data-no-tooltip="" translate="no">tid()</a>

      </div>

        <div class="summary-synopsis"><p>A table identifier, as returned by <a><code class="inline">new/2</code></a>.</p></div>

    </div>

</div>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#all/0" data-no-tooltip="" translate="no">all()</a>

      </div>

        <div class="summary-synopsis"><p>Returns a list of all tables at the node. Named tables are specified by their
names, unnamed tables are specified by their table identifiers.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#delete/1" data-no-tooltip="" translate="no">delete(Table)</a>

      </div>

        <div class="summary-synopsis"><p>Deletes the entire table <code class="inline">Table</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#delete/2" data-no-tooltip="" translate="no">delete(Table, Key)</a>

      </div>

        <div class="summary-synopsis"><p>Deletes all objects with key <code class="inline">Key</code> from table <code class="inline">Table</code>. This function succeeds
even if no objects with key <code class="inline">Key</code> exist.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#delete_all_objects/1" data-no-tooltip="" translate="no">delete_all_objects(Table)</a>

      </div>

        <div class="summary-synopsis"><p>Delete all objects in the ETS table <code class="inline">Table</code>. The operation is guaranteed to be
<a>atomic and isolated</a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#delete_object/2" data-no-tooltip="" translate="no">delete_object(Table, Object)</a>

      </div>

        <div class="summary-synopsis"><p>Delete the exact object <code class="inline">Object</code> from the ETS table, leaving objects with the
same key but other differences (useful for type <code class="inline">bag</code>). In a <code class="inline">duplicate_bag</code>
table, all instances of the object are deleted.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#file2tab/1" data-no-tooltip="" translate="no">file2tab(Filename)</a>

      </div>

        <div class="summary-synopsis"><p>Reads a file produced by <a><code class="inline">tab2file/2</code></a> or <a><code class="inline">tab2file/3</code></a> and creates the
corresponding table <code class="inline">Table</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#file2tab/2" data-no-tooltip="" translate="no">file2tab(Filename, Options)</a>

      </div>

        <div class="summary-synopsis"><p>Reads a file produced by <a><code class="inline">tab2file/2</code></a> or <a><code class="inline">tab2file/3</code></a> and creates the
corresponding table <code class="inline">Table</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#first/1" data-no-tooltip="" translate="no">first(Table)</a>

      </div>

        <div class="summary-synopsis"><p>Returns the first key <code class="inline">Key</code> in table <code class="inline">Table</code>. For an <code class="inline">ordered_set</code> table, the
first key in Erlang term order is returned. For other table types, the first key
according to the internal order of the table is returned. If the table is empty,
<code class="inline">'$end_of_table'</code> is returned.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#first_lookup/1" data-no-tooltip="" translate="no">first_lookup(Table)</a>

      </div>

        <div class="summary-synopsis"><p>Similar to <a><code class="inline">first/1</code></a> except that it returns the object(s) along with the key
stored in the table. This is equivalent to doing <a><code class="inline">first/1</code></a> followed by a
<a><code class="inline">lookup/2</code></a>. If the table is empty, <code class="inline">'$end_of_table'</code> is returned.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#foldl/3" data-no-tooltip="" translate="no">foldl(Function, Acc0, Table)</a>

      </div>

        <div class="summary-synopsis"><p><code class="inline">Acc0</code> is returned if the table is empty. This function is similar to
<a><code class="inline">lists:foldl/3</code></a>. The table elements are traversed in an unspecified order,
except for <code class="inline">ordered_set</code> tables, where they are traversed first to last.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#foldr/3" data-no-tooltip="" translate="no">foldr(Function, Acc0, Table)</a>

      </div>

        <div class="summary-synopsis"><p><code class="inline">Acc0</code> is returned if the table is empty. This function is similar to
<a><code class="inline">lists:foldr/3</code></a>. The table elements are traversed in an unspecified order,
except for <code class="inline">ordered_set</code> tables, where they are traversed last to first.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#from_dets/2" data-no-tooltip="" translate="no">from_dets(Table, DetsTab)</a>

      </div>

        <div class="summary-synopsis"><p>Fills an already created ETS table with the objects in the already opened Dets
table <code class="inline">DetsTab</code>. Existing objects in the ETS table are kept unless overwritten.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#fun2ms/1" data-no-tooltip="" translate="no">fun2ms(LiteralFun)</a>

      </div>

        <div class="summary-synopsis"><p>Pseudo function that by a <code class="inline">parse_transform</code> translates <code class="inline">LiteralFun</code> typed as
parameter in the function call to a <a>match specification</a>.
With &quot;literal&quot; is meant that the fun must textually be written as the parameter
of the function, it cannot be held in a variable that in turn is passed to the
function.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#give_away/3" data-no-tooltip="" translate="no">give_away(Table, Pid, GiftData)</a>

      </div>

        <div class="summary-synopsis"><p>Make process <code class="inline">Pid</code> the new owner of table <code class="inline">Table</code>. If successful, message
<code class="inline">{'ETS-TRANSFER',Table,FromPid,GiftData}</code> is sent to the new owner.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#i/0" data-no-tooltip="" translate="no">i()</a>

      </div>

        <div class="summary-synopsis"><p>Displays information about all ETS tables on a terminal.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#i/1" data-no-tooltip="" translate="no">i(Table)</a>

      </div>

        <div class="summary-synopsis"><p>Browses table <code class="inline">Table</code> on a terminal.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#info/1" data-no-tooltip="" translate="no">info(Table)</a>

      </div>

        <div class="summary-synopsis"><p>Returns information about table <code class="inline">Table</code> as a list of tuples. If <code class="inline">Table</code> has the
correct type for a table identifier, but does not refer to an existing ETS
table, <code class="inline">undefined</code> is returned. If <code class="inline">Table</code> is not of the correct type, a
<code class="inline">badarg</code> exception is raised.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#info/2" data-no-tooltip="" translate="no">info(Table, Item)</a>

      </div>

        <div class="summary-synopsis"><p>Returns the information associated with <code class="inline">Item</code> for table <code class="inline">Table</code>, or returns
<code class="inline">undefined</code> if <code class="inline">Table</code> does not refer an existing ETS table. If <code class="inline">Table</code> is not
of the correct type, or if <code class="inline">Item</code> is not one of the allowed values, a <code class="inline">badarg</code>
exception is raised.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#init_table/2" data-no-tooltip="" translate="no">init_table(Table, InitFun)</a>

      </div>

        <div class="summary-synopsis"><p>Replaces the existing objects of table <code class="inline">Table</code> with objects created by calling
the input function <code class="inline">InitFun</code>, see below. This function is provided for
compatibility with the <code class="inline">dets</code> module, it is not more efficient than filling a
table by using <a><code class="inline">insert/2</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#insert/2" data-no-tooltip="" translate="no">insert(Table, ObjectOrObjects)</a>

      </div>

        <div class="summary-synopsis"><p>Inserts the object or all of the objects in list <code class="inline">ObjectOrObjects</code> into table
<code class="inline">Table</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#insert_new/2" data-no-tooltip="" translate="no">insert_new(Table, ObjectOrObjects)</a>

      </div>

        <div class="summary-synopsis"><p>Same as <a><code class="inline">insert/2</code></a> except that instead of overwriting objects with the same key
(for <code class="inline">set</code> or <code class="inline">ordered_set</code>) or adding more objects with keys already existing
in the table (for <code class="inline">bag</code> and <code class="inline">duplicate_bag</code>), <code class="inline">false</code> is returned.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#is_compiled_ms/1" data-no-tooltip="" translate="no">is_compiled_ms(Term)</a>

      </div>

        <div class="summary-synopsis"><p>Checks if a term represent a valid compiled
<a>match specification</a>. A compiled match specification is
only valid on the Erlang node where it was compiled by calling
<a><code class="inline">match_spec_compile/1</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#last/1" data-no-tooltip="" translate="no">last(Table)</a>

      </div>

        <div class="summary-synopsis"><p>Returns the last key <code class="inline">Key</code> according to Erlang term order in table <code class="inline">Table</code> of
type <code class="inline">ordered_set</code>. For other table types, the function is synonymous to
<a><code class="inline">first/1</code></a>. If the table is empty, <code class="inline">'$end_of_table'</code> is returned.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#last_lookup/1" data-no-tooltip="" translate="no">last_lookup(Table)</a>

      </div>

        <div class="summary-synopsis"><p>Similar to <a><code class="inline">last/1</code></a> except that it returns the object(s) along with the key
stored in the table. This is equivalent to doing <a><code class="inline">last/1</code></a> followed by a
<a><code class="inline">lookup/2</code></a>. If the table is empty, <code class="inline">'$end_of_table'</code> is returned.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#lookup/2" data-no-tooltip="" translate="no">lookup(Table, Key)</a>

      </div>

        <div class="summary-synopsis"><p>Returns a list of all objects with key <code class="inline">Key</code> in table <code class="inline">Table</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#lookup_element/3" data-no-tooltip="" translate="no">lookup_element(Table, Key, Pos)</a>

      </div>

        <div class="summary-synopsis"><p>For a table <code class="inline">Table</code> of type <code class="inline">set</code> or <code class="inline">ordered_set</code>, the function returns the
<code class="inline">Pos</code>:th element of the object with key <code class="inline">Key</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#lookup_element/4" data-no-tooltip="" translate="no">lookup_element(Table, Key, Pos, Default)</a>

      </div>

        <div class="summary-synopsis"><p>For a table <code class="inline">Table</code> of type <code class="inline">set</code> or <code class="inline">ordered_set</code>, the function returns the
<code class="inline">Pos</code>:th element of the object with key <code class="inline">Key</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#match/1" data-no-tooltip="" translate="no">match(Continuation)</a>

      </div>

        <div class="summary-synopsis"><p>Continues a match started with <a><code class="inline">match/3</code></a>. The next chunk of the size specified
in the initial <a><code class="inline">match/3</code></a> call is returned together with a new
<code class="inline">Continuation</code>, which can be used in subsequent calls to this function.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#match/2" data-no-tooltip="" translate="no">match(Table, Pattern)</a>

      </div>

        <div class="summary-synopsis"><p>Matches the objects in table <code class="inline">Table</code> against pattern <code class="inline">Pattern</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#match/3" data-no-tooltip="" translate="no">match(Table, Pattern, Limit)</a>

      </div>

        <div class="summary-synopsis"><p>Works like <a><code class="inline">match/2</code></a>, but returns only a limited (<code class="inline">Limit</code>) number of matching
objects. Term <code class="inline">Continuation</code> can then be used in subsequent calls to <a><code class="inline">match/1</code></a>
to get the next chunk of matching objects. This is a space-efficient way to work
on objects in a table, which is faster than traversing the table object by
object using <a><code class="inline">first/1</code></a> and <a><code class="inline">next/2</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#match_delete/2" data-no-tooltip="" translate="no">match_delete(Table, Pattern)</a>

      </div>

        <div class="summary-synopsis"><p>Deletes all objects that match pattern <code class="inline">Pattern</code> from table <code class="inline">Table</code>. For a
description of patterns, see <a><code class="inline">match/2</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#match_object/1" data-no-tooltip="" translate="no">match_object(Continuation)</a>

      </div>

        <div class="summary-synopsis"><p>Continues a match started with <a><code class="inline">match_object/3</code></a>. The next chunk of the size
specified in the initial <a><code class="inline">match_object/3</code></a> call is returned
together with a new <code class="inline">Continuation</code>, which can be used in subsequent calls to
this function.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#match_object/2" data-no-tooltip="" translate="no">match_object(Table, Pattern)</a>

      </div>

        <div class="summary-synopsis"><p>Matches the objects in table <code class="inline">Table</code> against pattern <code class="inline">Pattern</code>. For a
description of patterns, see <a><code class="inline">match/2</code></a>. The function returns a list of all
objects that match the pattern.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#match_object/3" data-no-tooltip="" translate="no">match_object(Table, Pattern, Limit)</a>

      </div>

        <div class="summary-synopsis"><p>Works like <a><code class="inline">match_object/2</code></a>, but only returns a limited (<code class="inline">Limit</code>) number of
matching objects. Term <code class="inline">Continuation</code> can then be used in subsequent calls to
<a><code class="inline">match_object/1</code></a> to get the next chunk of matching objects. This is a
space-efficient way to work on objects in a table, which is faster than
traversing the table object by object using <a><code class="inline">first/1</code></a> and <a><code class="inline">next/2</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#match_spec_compile/1" data-no-tooltip="" translate="no">match_spec_compile(MatchSpec)</a>

      </div>

        <div class="summary-synopsis"><p>Transforms a <a>match specification</a> into an internal
representation that can be used in subsequent calls to <a><code class="inline">match_spec_run/2</code></a>. The
internal representation is opaque. To check the validity of a compiled match
specification, use <a><code class="inline">is_compiled_ms/1</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#match_spec_run/2" data-no-tooltip="" translate="no">match_spec_run(List, CompiledMatchSpec)</a>

      </div>

        <div class="summary-synopsis"><p>Executes the matching specified in a compiled
<a>match specification</a> on a list of terms. Term
<code class="inline">CompiledMatchSpec</code> is to be the result of a call to <a><code class="inline">match_spec_compile/1</code></a> and
is hence the internal representation of the match specification one wants to
use.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#member/2" data-no-tooltip="" translate="no">member(Table, Key)</a>

      </div>

        <div class="summary-synopsis"><p>Works like <a><code class="inline">lookup/2</code></a>, but does not return the objects. Returns <code class="inline">true</code> if one or
more elements in the table has key <code class="inline">Key</code>, otherwise <code class="inline">false</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#new/2" data-no-tooltip="" translate="no">new(Name, Options)</a>

      </div>

        <div class="summary-synopsis"><p>Creates a new table and returns a table identifier that can be used in
subsequent operations. The table identifier can be sent to other processes so
that a table can be shared between different processes within a node.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#next/2" data-no-tooltip="" translate="no">next(Table, Key1)</a>

      </div>

        <div class="summary-synopsis"><p>Returns the next key <code class="inline">Key2</code>, following key <code class="inline">Key1</code> in table <code class="inline">Table</code>. For table
type <code class="inline">ordered_set</code>, the next key in Erlang term order is returned. For other
table types, the next key according to the internal order of the table is
returned. If no next key exists, <code class="inline">'$end_of_table'</code> is returned.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#next_lookup/2" data-no-tooltip="" translate="no">next_lookup(Table, Key1)</a>

      </div>

        <div class="summary-synopsis"><p>Similar to <a><code class="inline">next/2</code></a> except that it returns the object(s) along with the key
stored in the table. This is equivalent to doing <a><code class="inline">next/2</code></a> followed by a
<a><code class="inline">lookup/2</code></a>. If no next key exists, <code class="inline">'$end_of_table'</code> is returned.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#prev/2" data-no-tooltip="" translate="no">prev(Table, Key1)</a>

      </div>

        <div class="summary-synopsis"><p>Returns the previous key <code class="inline">Key2</code>, preceding key <code class="inline">Key1</code> according to Erlang term
order in table <code class="inline">Table</code> of type <code class="inline">ordered_set</code>. For other table types, the
function is synonymous to <a><code class="inline">next/2</code></a>. If no previous key exists, <code class="inline">'$end_of_table'</code>
is returned.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#prev_lookup/2" data-no-tooltip="" translate="no">prev_lookup(Table, Key1)</a>

      </div>

        <div class="summary-synopsis"><p>Similar to <a><code class="inline">prev/2</code></a> except that it returns the object(s) along with the key
stored in the table. This is equivalent to doing <a><code class="inline">prev/2</code></a> followed by a
<a><code class="inline">lookup/2</code></a>. If no previous key exists, <code class="inline">'$end_of_table'</code> is returned.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#rename/2" data-no-tooltip="" translate="no">rename(Table, Name)</a>

      </div>

        <div class="summary-synopsis"><p>Renames the named table <code class="inline">Table</code> to the new name <code class="inline">Name</code>. Afterwards, the old name
cannot be used to access the table. Renaming an unnamed table has no effect.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#repair_continuation/2" data-no-tooltip="" translate="no">repair_continuation(Continuation, MatchSpec)</a>

      </div>

        <div class="summary-synopsis"><p>Restores an opaque continuation returned by <a><code class="inline">select/3</code></a> or <a><code class="inline">select/1</code></a> if the
continuation has passed through external term format (been sent between nodes or
stored on disk).</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#safe_fixtable/2" data-no-tooltip="" translate="no">safe_fixtable(Table, Fix)</a>

      </div>

        <div class="summary-synopsis"><p>Fixes a table of type <code class="inline">set</code>, <code class="inline">bag</code>, or <code class="inline">duplicate_bag</code> for
<a>safe traversal</a> using <a><code class="inline">first/1</code></a> &amp; <a><code class="inline">next/2</code></a>, <a><code class="inline">match/3</code></a> &amp;
<a><code class="inline">match/1</code></a>, <a><code class="inline">match_object/3</code></a> &amp; <a><code class="inline">match_object/1</code></a>, or <a><code class="inline">select/3</code></a> &amp; <a><code class="inline">select/1</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#select/1" data-no-tooltip="" translate="no">select(Continuation)</a>

      </div>

        <div class="summary-synopsis"><p>Continues a match started with <a><code class="inline">select/3</code></a>. The next chunk of the size specified
in the initial <a><code class="inline">select/3</code></a> call is returned together with a new
<code class="inline">Continuation</code>, which can be used in subsequent calls to this function.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#select/2" data-no-tooltip="" translate="no">select(Table, MatchSpec)</a>

      </div>

        <div class="summary-synopsis"><p>Matches the objects in table <code class="inline">Table</code> using a
<a>match specification</a>. This is a more general call than
<a><code class="inline">match/2</code></a> and <a><code class="inline">match_object/2</code></a> calls. In its simplest form, the match
specification is as follows</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#select/3" data-no-tooltip="" translate="no">select(Table, MatchSpec, Limit)</a>

      </div>

        <div class="summary-synopsis"><p>Works like <a><code class="inline">select/2</code></a>, but only returns a limited (<code class="inline">Limit</code>) number of matching
objects. Term <code class="inline">Continuation</code> can then be used in subsequent calls to <a><code class="inline">select/1</code></a>
to get the next chunk of matching objects. This is a space-efficient way to work
on objects in a table, which is still faster than traversing the table object by
object using <a><code class="inline">first/1</code></a> and <a><code class="inline">next/2</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#select_count/2" data-no-tooltip="" translate="no">select_count(Table, MatchSpec)</a>

      </div>

        <div class="summary-synopsis"><p>Matches the objects in table <code class="inline">Table</code> using a
<a>match specification</a>. If and only if the match specification
returns <code class="inline">true</code> for an object, that object is considered a match and is counted.
For any other result from the match specification the object is not considered a
match and is therefore not counted.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#select_delete/2" data-no-tooltip="" translate="no">select_delete(Table, MatchSpec)</a>

      </div>

        <div class="summary-synopsis"><p>Matches the objects in table <code class="inline">Table</code> using a
<a>match specification</a>. If and only if the match
specification returns <code class="inline">true</code> for an object, that object is removed from the
table. For any other result from the match specification the object is
retained. This is a more general function than <a><code class="inline">match_delete/2</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#select_replace/2" data-no-tooltip="" translate="no">select_replace(Table, MatchSpec)</a>

      </div>

        <div class="summary-synopsis"><p>Matches the objects in the table <code class="inline">Table</code> using a
<a>match specification</a>. For each matched object, the existing
object is replaced with the match specification result.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#select_reverse/1" data-no-tooltip="" translate="no">select_reverse(Continuation)</a>

      </div>

        <div class="summary-synopsis"><p>Continues a match started with <a><code class="inline">select_reverse/3</code></a>. For tables of type
<code class="inline">ordered_set</code>, the traversal of the table continues to objects with keys earlier
in the Erlang term order. The returned list also contains objects with keys in
reverse order. For all other table types, the behavior is exactly that of
<a><code class="inline">select/1</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#select_reverse/2" data-no-tooltip="" translate="no">select_reverse(Table, MatchSpec)</a>

      </div>

        <div class="summary-synopsis"><p>Works like <a><code class="inline">select/2</code></a>, but returns the list in reverse order for table type
<code class="inline">ordered_set</code>. For all other table types, the return value is identical to that
of <a><code class="inline">select/2</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#select_reverse/3" data-no-tooltip="" translate="no">select_reverse(Table, MatchSpec, Limit)</a>

      </div>

        <div class="summary-synopsis"><p>Works like <a><code class="inline">select/3</code></a>, but for table type <code class="inline">ordered_set</code> traversing is done
starting at the last object in Erlang term order and moves to the first. For all
other table types, the return value is identical to that of
<a><code class="inline">select/3</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#setopts/2" data-no-tooltip="" translate="no">setopts(Table, Opts)</a>

      </div>

        <div class="summary-synopsis"><p>Sets table options. The only allowed option to be set after the table has been
created is <a><code class="inline">heir</code></a>. The calling process must be the table owner.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#slot/2" data-no-tooltip="" translate="no">slot(Table, I)</a>

      </div>

        <div class="summary-synopsis"><p>This function is mostly for debugging purposes, normally <code class="inline">first</code>/<code class="inline">next</code> or
<code class="inline">last</code>/<code class="inline">prev</code> are to be used instead.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#tab2file/2" data-no-tooltip="" translate="no">tab2file(Table, Filename)</a>

      </div>

        <div class="summary-synopsis"><p>Dumps table <code class="inline">Table</code> to file <code class="inline">Filename</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#tab2file/3" data-no-tooltip="" translate="no">tab2file(Table, Filename, Options)</a>

      </div>

        <div class="summary-synopsis"><p>Dumps table <code class="inline">Table</code> to file <code class="inline">Filename</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#tab2list/1" data-no-tooltip="" translate="no">tab2list(Table)</a>

      </div>

        <div class="summary-synopsis"><p>Returns a list of all objects in table <code class="inline">Table</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#tabfile_info/1" data-no-tooltip="" translate="no">tabfile_info(Filename)</a>

      </div>

        <div class="summary-synopsis"><p>Returns information about the table dumped to file by <a><code class="inline">tab2file/2</code></a> or
<a><code class="inline">tab2file/3</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#table/1" data-no-tooltip="" translate="no">table(Table)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a><code class="inline">table/2</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#table/2" data-no-tooltip="" translate="no">table(Table, Options)</a>

      </div>

        <div class="summary-synopsis"><p>Returns a Query List Comprehension (QLC) query handle. The <a><code class="inline">qlc</code></a> module
provides a query language aimed mainly at Mnesia, but ETS tables, Dets tables,
and lists are also recognized by QLC as sources of data. Calling <code class="inline">table/1,2</code> is
the means to make the ETS table <code class="inline">Table</code> usable to QLC.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#take/2" data-no-tooltip="" translate="no">take(Table, Key)</a>

      </div>

        <div class="summary-synopsis"><p>Returns and removes a list of all objects with key <code class="inline">Key</code> in table <code class="inline">Table</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#test_ms/2" data-no-tooltip="" translate="no">test_ms(Tuple, MatchSpec)</a>

      </div>

        <div class="summary-synopsis"><p>This function is a utility to test a <a>match specification</a>
used in calls to <a><code class="inline">select/2</code></a>. The function both tests <code class="inline">MatchSpec</code> for &quot;syntactic&quot;
correctness and runs the match specification against object <code class="inline">Tuple</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#to_dets/2" data-no-tooltip="" translate="no">to_dets(Table, DetsTab)</a>

      </div>

        <div class="summary-synopsis"><p>Fills an already created/opened Dets table with the objects in the already
opened ETS table named <code class="inline">Table</code>. The Dets table is emptied before the objects are
inserted.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_counter/3" data-no-tooltip="" translate="no">update_counter/3</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a><code class="inline">update_counter/4</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_counter/4" data-no-tooltip="" translate="no">update_counter/4</a>

      </div>

        <div class="summary-synopsis"><p>This function provides an efficient way to update one or more counters, without
the trouble of having to look up an object, update the object by incrementing an
element, and insert the resulting object into the table again. The operation is
guaranteed to be <a>atomic and isolated</a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_element/3" data-no-tooltip="" translate="no">update_element(Table, Key, ElementSpec)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a><code class="inline">update_element/4</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#update_element/4" data-no-tooltip="" translate="no">update_element(Table, Key, ElementSpec, Default)</a>

      </div>

        <div class="summary-synopsis"><p>This function provides an efficient way to update one or more elements within an
object, without the trouble of having to look up, update, and write back the
entire object.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#whereis/1" data-no-tooltip="" translate="no">whereis(TableName)</a>

      </div>

        <div class="summary-synopsis"><p>This function returns the <a><code class="inline">tid/0</code></a> of the named table identified by
<code class="inline">TableName</code>, or <code class="inline">undefined</code> if no such table exists. The <a><code class="inline">tid/0</code></a> can be used
in place of the table name in all operations, which is slightly faster since the
name does not have to be resolved on each call.</p></div>

    </div>

</div>

  </section>


  <section id="types" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types</span>
    </h1>
    <div class="types-list">
<section class="detail" id="t:comp_match_spec/0">

  <div class="detail-header">
    <a href="#t:comp_match_spec/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">comp_match_spec()</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L1839" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> comp_match_spec() :: <a href="#t:compiled_match_spec/0">compiled_match_spec</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:compiled_match_spec/0">

  <div class="detail-header">
    <a href="#t:compiled_match_spec/0" class="detail-link" data-no-tooltip="" aria-label="Link to this opaque">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">compiled_match_spec()</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L1838" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-opaque</span> compiled_match_spec()</pre>

      </div>

<p>A compiled match specification.</p>
  </section>
</section>
<section class="detail" id="t:continuation/0">

  <div class="detail-header">
    <a href="#t:continuation/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">continuation()</h1>

        <span class="note">(not exported)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L269" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> continuation() ::
          '$end_of_table' |
          {<a href="#t:table/0">table</a>(), <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>(), <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>(), <a href="#t:compiled_match_spec/0">compiled_match_spec</a>(), <a href="../../apps/erts/erlang.html#t:list/0">list</a>(), <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
          {<a href="#t:table/0">table</a>(), _, _, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>(), <a href="#t:compiled_match_spec/0">compiled_match_spec</a>(), <a href="../../apps/erts/erlang.html#t:list/0">list</a>(), <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>(), <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()}.</pre>

      </div>

<p>Opaque continuation used by <a href="#select/1"><code class="inline">select/1,3</code></a>,
<a href="#select_reverse/1"><code class="inline">select_reverse/1,3</code></a>, <a href="#match/1"><code class="inline">match/1,3</code></a>, and
<a href="#match_object/1"><code class="inline">match_object/1,3</code></a>.</p>
  </section>
</section>
<section class="detail" id="t:match_pattern/0">

  <div class="detail-header">
    <a href="#t:match_pattern/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">match_pattern()</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L276" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> match_pattern() :: <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>() | <a href="../../apps/erts/erlang.html#t:tuple/0">tuple</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:match_spec/0">

  <div class="detail-header">
    <a href="#t:match_spec/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">match_spec()</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L278" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> match_spec() :: [{<a href="#t:match_pattern/0">match_pattern</a>(), [_], [_]}].</pre>

      </div>

<p>A match specification, see <a href="ets.html#match_spec">Match Specifications</a>.</p>
  </section>
</section>
<section class="detail" id="t:tab/0">

  <div class="detail-header">
    <a href="#t:tab/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">tab()</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L282" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> tab() :: <a href="#t:table/0">table</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:table/0">

  <div class="detail-header">
    <a href="#t:table/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">table()</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L262" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> table() :: <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>() | <a href="#t:tid/0">tid</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:table_access/0">

  <div class="detail-header">
    <a href="#t:table_access/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">table_access()</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L261" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> table_access() :: public | protected | private.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:table_type/0">

  <div class="detail-header">
    <a href="#t:table_type/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">table_type()</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L263" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> table_type() :: set | ordered_set | bag | duplicate_bag.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:tid/0">

  <div class="detail-header">
    <a href="#t:tid/0" class="detail-link" data-no-tooltip="" aria-label="Link to this opaque">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">tid()</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L274" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-opaque</span> tid()</pre>

      </div>

<p>A table identifier, as returned by <a href="#new/2"><code class="inline">new/2</code></a>.</p>
  </section>
</section>

    </div>
  </section>

  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Functions</span>
    </h1>
    <div class="functions-list">
<section class="detail" id="all/0">

  <div class="detail-header">
    <a href="#all/0" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">all()</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L318" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> all() -> [Table] when Table :: <a href="#t:table/0">table</a>().</pre>

      </div>

<p>Returns a list of all tables at the node. Named tables are specified by their
names, unnamed tables are specified by their table identifiers.</p><p>There is no guarantee of consistency in the returned list. Tables created or
deleted by other processes &quot;during&quot; the <code class="inline">ets:all()</code> call either are or are not
included in the list. Only tables created/deleted <em>before</em> <code class="inline">ets:all()</code> is called
are guaranteed to be included/excluded.</p>
  </section>
</section>
<section class="detail" id="delete/1">

  <div class="detail-header">
    <a href="#delete/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">delete(Table)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L341" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> delete(Table) -> true when Table :: <a href="#t:table/0">table</a>().</pre>

      </div>

<p>Deletes the entire table <code class="inline">Table</code>.</p>
  </section>
</section>
<section class="detail" id="delete/2">

  <div class="detail-header">
    <a href="#delete/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">delete(Table, Key)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L352" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> delete(Table, Key) -> true when Table :: <a href="#t:table/0">table</a>(), Key :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Deletes all objects with key <code class="inline">Key</code> from table <code class="inline">Table</code>. This function succeeds
even if no objects with key <code class="inline">Key</code> exist.</p>
  </section>
</section>
<section class="detail" id="delete_all_objects/1">

  <div class="detail-header">
    <a href="#delete_all_objects/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">delete_all_objects(Table)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L362" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> delete_all_objects(Table) -> true when Table :: <a href="#t:table/0">table</a>().</pre>

      </div>

<p>Delete all objects in the ETS table <code class="inline">Table</code>. The operation is guaranteed to be
<a href="ets.html#module-concurrency">atomic and isolated</a>.</p>
  </section>
</section>
<section class="detail" id="delete_object/2">

  <div class="detail-header">
    <a href="#delete_object/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">delete_object(Table, Object)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L383" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> delete_object(Table, Object) -> true when Table :: <a href="#t:table/0">table</a>(), Object :: <a href="../../apps/erts/erlang.html#t:tuple/0">tuple</a>().</pre>

      </div>

<p>Delete the exact object <code class="inline">Object</code> from the ETS table, leaving objects with the
same key but other differences (useful for type <code class="inline">bag</code>). In a <code class="inline">duplicate_bag</code>
table, all instances of the object are deleted.</p>
  </section>
</section>
<section class="detail" id="file2tab/1">

  <div class="detail-header">
    <a href="#file2tab/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">file2tab(Filename)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L2530" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> file2tab(Filename) -> {ok, Table} | {error, Reason}
                  when Filename :: <a href="../../apps/kernel/file.html#t:name/0">file:name</a>(), Table :: <a href="#t:table/0">table</a>(), Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Reads a file produced by <a href="#tab2file/2"><code class="inline">tab2file/2</code></a> or <a href="#tab2file/3"><code class="inline">tab2file/3</code></a> and creates the
corresponding table <code class="inline">Table</code>.</p><p>Equivalent to <a href="#file2tab/2"><code class="inline">file2tab(Filename, [])</code></a>.</p>
  </section>
</section>
<section class="detail" id="file2tab/2">

  <div class="detail-header">
    <a href="#file2tab/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">file2tab(Filename, Options)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L2563" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> file2tab(Filename, Options) -> {ok, Table} | {error, Reason}
                  when
                      Filename :: <a href="../../apps/kernel/file.html#t:name/0">file:name</a>(),
                      Table :: <a href="#t:table/0">table</a>(),
                      Options :: [Option],
                      Option :: {verify, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()},
                      Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Reads a file produced by <a href="#tab2file/2"><code class="inline">tab2file/2</code></a> or <a href="#tab2file/3"><code class="inline">tab2file/3</code></a> and creates the
corresponding table <code class="inline">Table</code>.</p><p>The only supported option is <code class="inline">{verify,boolean()}</code>. If verification is turned on
(by specifying <code class="inline">{verify,true}</code>), the function uses whatever information is
present in the file to assert that the information is not damaged. How this is
done depends on which <code class="inline">extended_info</code> was written using <a href="#tab2file/3"><code class="inline">tab2file/3</code></a>.</p><p>If no <code class="inline">extended_info</code> is present in the file and <code class="inline">{verify,true}</code> is specified,
the number of objects written is compared to the size of the original table when
the dump was started. This can make verification fail if the table was <code class="inline">public</code>
and objects were added or removed while the table was dumped to file. To avoid
this problem, either do not verify files dumped while updated simultaneously or
use option <code class="inline">{extended_info, [object_count]}</code> to <a href="#tab2file/3"><code class="inline">tab2file/3</code></a>, which extends the
information in the file with the number of objects written.</p><p>If verification is turned on and the file was written with option
<code class="inline">{extended_info, [md5sum]}</code>, reading the file is slower and consumes radically
more CPU time than otherwise.</p><p><code class="inline">{verify,false}</code> is the default.</p>
  </section>
</section>
<section class="detail" id="first/1">

  <div class="detail-header">
    <a href="#first/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">first(Table)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L398" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> first(Table) -> Key | '$end_of_table' when Table :: <a href="#t:table/0">table</a>(), Key :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Returns the first key <code class="inline">Key</code> in table <code class="inline">Table</code>. For an <code class="inline">ordered_set</code> table, the
first key in Erlang term order is returned. For other table types, the first key
according to the internal order of the table is returned. If the table is empty,
<code class="inline">'$end_of_table'</code> is returned.</p><p>To find subsequent keys in the table, use <a href="#next/2"><code class="inline">next/2</code></a>.</p>
  </section>
</section>
<section class="detail" id="first_lookup/1">

  <div class="detail-header">
    <a href="#first_lookup/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">first_lookup(Table)</h1>

        <span class="note">(since OTP 27.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L414" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> first_lookup(Table) -> {Key, [Object]} | '$end_of_table'
                      when Table :: <a href="#t:table/0">table</a>(), Key :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), Object :: <a href="../../apps/erts/erlang.html#t:tuple/0">tuple</a>().</pre>

      </div>

<p>Similar to <a href="#first/1"><code class="inline">first/1</code></a> except that it returns the object(s) along with the key
stored in the table. This is equivalent to doing <a href="#first/1"><code class="inline">first/1</code></a> followed by a
<a href="#lookup/2"><code class="inline">lookup/2</code></a>. If the table is empty, <code class="inline">'$end_of_table'</code> is returned.</p><p>To find subsequent objects in the table, use <a href="#next_lookup/2"><code class="inline">next_lookup/2</code></a>.</p>
  </section>
</section>
<section class="detail" id="foldl/3">

  <div class="detail-header">
    <a href="#foldl/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">foldl(Function, Acc0, Table)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L2071" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> foldl(Function, Acc0, Table) -> Acc1
               when
                   Function :: fun((Element :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), AccIn) -> AccOut),
                   Table :: <a href="#t:table/0">table</a>(),
                   Acc0 :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                   Acc1 :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                   AccIn :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                   AccOut :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p><code class="inline">Acc0</code> is returned if the table is empty. This function is similar to
<a href="lists.html#foldl/3"><code class="inline">lists:foldl/3</code></a>. The table elements are traversed in an unspecified order,
except for <code class="inline">ordered_set</code> tables, where they are traversed first to last.</p><p>If <code class="inline">Function</code> inserts objects into the table, or another process inserts objects
into the table, those objects <em>can</em> (depending on key ordering) be included in
the traversal.</p>
  </section>
</section>
<section class="detail" id="foldr/3">

  <div class="detail-header">
    <a href="#foldr/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">foldr(Function, Acc0, Table)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L2103" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> foldr(Function, Acc0, Table) -> Acc1
               when
                   Function :: fun((Element :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), AccIn) -> AccOut),
                   Table :: <a href="#t:table/0">table</a>(),
                   Acc0 :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                   Acc1 :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                   AccIn :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                   AccOut :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p><code class="inline">Acc0</code> is returned if the table is empty. This function is similar to
<a href="lists.html#foldr/3"><code class="inline">lists:foldr/3</code></a>. The table elements are traversed in an unspecified order,
except for <code class="inline">ordered_set</code> tables, where they are traversed last to first.</p><p>If <code class="inline">Function</code> inserts objects into the table, or another process inserts objects
into the table, those objects <em>can</em> (depending on key ordering) be included in
the traversal.</p>
  </section>
</section>
<section class="detail" id="from_dets/2">

  <div class="detail-header">
    <a href="#from_dets/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">from_dets(Table, DetsTab)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L2136" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> from_dets(Table, DetsTab) -> true when Table :: <a href="#t:table/0">table</a>(), DetsTab :: <a href="dets.html#t:tab_name/0">dets:tab_name</a>().</pre>

      </div>

<p>Fills an already created ETS table with the objects in the already opened Dets
table <code class="inline">DetsTab</code>. Existing objects in the ETS table are kept unless overwritten.</p><p>If any of the tables does not exist or the Dets table is not open, a <code class="inline">badarg</code>
exception is raised.</p>
  </section>
</section>
<section class="detail" id="fun2ms/1">

  <div class="detail-header">
    <a href="#fun2ms/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">fun2ms(LiteralFun)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L2034" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> fun2ms(LiteralFun) -> MatchSpec when LiteralFun :: <a href="../../apps/erts/erlang.html#t:function/0">function</a>(), MatchSpec :: <a href="#t:match_spec/0">match_spec</a>().</pre>

      </div>

<p>Pseudo function that by a <code class="inline">parse_transform</code> translates <code class="inline">LiteralFun</code> typed as
parameter in the function call to a <a href="ets.html#match_spec">match specification</a>.
With &quot;literal&quot; is meant that the fun must textually be written as the parameter
of the function, it cannot be held in a variable that in turn is passed to the
function.</p><p>The parse transform is provided in the <code class="inline">ms_transform</code> module and the source
<em>must</em> include file <code class="inline">ms_transform.hrl</code> in STDLIB for this pseudo function to
work. Failing to include the hrl file in the source results in a runtime error,
not a compile time error. The include file is easiest included by adding line
<code class="inline">-include_lib(&quot;stdlib/include/ms_transform.hrl&quot;).</code> to the source file.</p><p>The fun is very restricted, it can take only a single parameter (the object to
match): a sole variable or a tuple. It must use the <code class="inline">is_</code> guard tests. Language
constructs that have no representation in a match specification (<code class="inline">if</code>, <code class="inline">case</code>,
<code class="inline">receive</code>, and so on) are not allowed.</p><p>The return value is the resulting match specification.</p><p><em>Example:</em></p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="nc">ets</span><span class="p">:</span><span class="nf">fun2ms</span><span class="p" data-group-id="8483267891-1">(</span><span class="nf">fun</span><span class="p" data-group-id="8483267891-2">(</span><span class="p" data-group-id="8483267891-3">{</span><span class="n">M</span><span class="p">,</span><span class="n">N</span><span class="p" data-group-id="8483267891-3">}</span><span class="p" data-group-id="8483267891-2">)</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">M</span><span class="w"> </span><span class="k">end</span><span class="p" data-group-id="8483267891-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="8483267891-4">[</span><span class="p" data-group-id="8483267891-5">{</span><span class="p" data-group-id="8483267891-6">{</span><span class="ss">&#39;$1&#39;</span><span class="p">,</span><span class="ss">&#39;$2&#39;</span><span class="p" data-group-id="8483267891-6">}</span><span class="p">,</span><span class="p" data-group-id="8483267891-7">[</span><span class="p" data-group-id="8483267891-8">{</span><span class="ss">&#39;&gt;&#39;</span><span class="p">,</span><span class="ss">&#39;$2&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p" data-group-id="8483267891-8">}</span><span class="p" data-group-id="8483267891-7">]</span><span class="p">,</span><span class="p" data-group-id="8483267891-9">[</span><span class="ss">&#39;$1&#39;</span><span class="p" data-group-id="8483267891-9">]</span><span class="p" data-group-id="8483267891-5">}</span><span class="p" data-group-id="8483267891-4">]</span></code></pre><p>Variables from the environment can be imported, so that the following works:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">2&gt; </span><span class="n">X</span><span class="o">=</span><span class="mi">3</span><span class="p">.</span><span class="w">
</span><span class="mi">3</span><span class="gp unselectable">
3&gt; </span><span class="nc">ets</span><span class="p">:</span><span class="nf">fun2ms</span><span class="p" data-group-id="2902949508-1">(</span><span class="nf">fun</span><span class="p" data-group-id="2902949508-2">(</span><span class="p" data-group-id="2902949508-3">{</span><span class="n">M</span><span class="p">,</span><span class="n">N</span><span class="p" data-group-id="2902949508-3">}</span><span class="p" data-group-id="2902949508-2">)</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">X</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">M</span><span class="w"> </span><span class="k">end</span><span class="p" data-group-id="2902949508-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="2902949508-4">[</span><span class="p" data-group-id="2902949508-5">{</span><span class="p" data-group-id="2902949508-6">{</span><span class="ss">&#39;$1&#39;</span><span class="p">,</span><span class="ss">&#39;$2&#39;</span><span class="p" data-group-id="2902949508-6">}</span><span class="p">,</span><span class="p" data-group-id="2902949508-7">[</span><span class="p" data-group-id="2902949508-8">{</span><span class="ss">&#39;&gt;&#39;</span><span class="p">,</span><span class="ss">&#39;$2&#39;</span><span class="p">,</span><span class="p" data-group-id="2902949508-9">{</span><span class="ss">const</span><span class="p">,</span><span class="mi">3</span><span class="p" data-group-id="2902949508-9">}</span><span class="p" data-group-id="2902949508-8">}</span><span class="p" data-group-id="2902949508-7">]</span><span class="p">,</span><span class="p" data-group-id="2902949508-10">[</span><span class="ss">&#39;$1&#39;</span><span class="p" data-group-id="2902949508-10">]</span><span class="p" data-group-id="2902949508-5">}</span><span class="p" data-group-id="2902949508-4">]</span></code></pre><p>The imported variables are replaced by match specification <code class="inline">const</code> expressions,
which is consistent with the static scoping for Erlang funs. However, local or
global function calls cannot be in the guard or body of the fun. Calls to
built-in match specification functions is of course allowed:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">4&gt; </span><span class="nc">ets</span><span class="p">:</span><span class="nf">fun2ms</span><span class="p" data-group-id="0147383768-1">(</span><span class="nf">fun</span><span class="p" data-group-id="0147383768-2">(</span><span class="p" data-group-id="0147383768-3">{</span><span class="n">M</span><span class="p">,</span><span class="n">N</span><span class="p" data-group-id="0147383768-3">}</span><span class="p" data-group-id="0147383768-2">)</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="nf">my_fun</span><span class="p" data-group-id="0147383768-4">(</span><span class="n">M</span><span class="p" data-group-id="0147383768-4">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">M</span><span class="w"> </span><span class="k">end</span><span class="p" data-group-id="0147383768-1">)</span><span class="p">.</span><span class="w">
</span><span class="n">Error</span><span class="p">:</span><span class="w"> </span><span class="k">fun</span><span class="w"> </span><span class="ss">containing</span><span class="w"> </span><span class="ss">local</span><span class="w"> </span><span class="n">Erlang</span><span class="w"> </span><span class="ss">function</span><span class="w"> </span><span class="nf">calls</span><span class="w">
</span><span class="p" data-group-id="0147383768-5">(</span><span class="ss">&#39;my_fun&#39;</span><span class="w"> </span><span class="ss">called</span><span class="w"> </span><span class="ss">in</span><span class="w"> </span><span class="ss">guard</span><span class="p" data-group-id="0147383768-5">)</span><span class="w"> </span><span class="ss">cannot</span><span class="w"> </span><span class="ss">be</span><span class="w"> </span><span class="ss">translated</span><span class="w"> </span><span class="ss">into</span><span class="w"> </span><span class="ss">match_spec</span><span class="w">
</span><span class="p" data-group-id="0147383768-6">{</span><span class="ss">error</span><span class="p">,</span><span class="ss">transform_error</span><span class="p" data-group-id="0147383768-6">}</span><span class="gp unselectable">
5&gt; </span><span class="nc">ets</span><span class="p">:</span><span class="nf">fun2ms</span><span class="p" data-group-id="0147383768-7">(</span><span class="nf">fun</span><span class="p" data-group-id="0147383768-8">(</span><span class="p" data-group-id="0147383768-9">{</span><span class="n">M</span><span class="p">,</span><span class="n">N</span><span class="p" data-group-id="0147383768-9">}</span><span class="p" data-group-id="0147383768-8">)</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="nf">is_atom</span><span class="p" data-group-id="0147383768-10">(</span><span class="n">M</span><span class="p" data-group-id="0147383768-10">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">M</span><span class="w"> </span><span class="k">end</span><span class="p" data-group-id="0147383768-7">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="0147383768-11">[</span><span class="p" data-group-id="0147383768-12">{</span><span class="p" data-group-id="0147383768-13">{</span><span class="ss">&#39;$1&#39;</span><span class="p">,</span><span class="ss">&#39;$2&#39;</span><span class="p" data-group-id="0147383768-13">}</span><span class="p">,</span><span class="p" data-group-id="0147383768-14">[</span><span class="p" data-group-id="0147383768-15">{</span><span class="ss">&#39;&gt;&#39;</span><span class="p">,</span><span class="ss">&#39;$2&#39;</span><span class="p">,</span><span class="p" data-group-id="0147383768-16">{</span><span class="ss">const</span><span class="p">,</span><span class="mi">3</span><span class="p" data-group-id="0147383768-16">}</span><span class="p" data-group-id="0147383768-15">}</span><span class="p">,</span><span class="p" data-group-id="0147383768-17">{</span><span class="nb">is_atom</span><span class="p">,</span><span class="ss">&#39;$1&#39;</span><span class="p" data-group-id="0147383768-17">}</span><span class="p" data-group-id="0147383768-14">]</span><span class="p">,</span><span class="p" data-group-id="0147383768-18">[</span><span class="ss">&#39;$1&#39;</span><span class="p" data-group-id="0147383768-18">]</span><span class="p" data-group-id="0147383768-12">}</span><span class="p" data-group-id="0147383768-11">]</span></code></pre><p>As shown by the example, the function can be called from the shell also. The fun
must be literally in the call when used from the shell as well.</p><section role="note" class="admonition warning"><h4 class="admonition-title warning">Warning</h4><p>If the <code class="inline">parse_transform</code> is not applied to a module that calls this pseudo
function, the call fails in runtime (with a <code class="inline">badarg</code>). The <code class="inline">ets</code> module
exports a function with this name, but it is never to be called except when
using the function in the shell. If the <code class="inline">parse_transform</code> is properly applied
by including header file <code class="inline">ms_transform.hrl</code>, compiled code never calls the
function, but the function call is replaced by a literal match specification.</p></section><p>For more information, see <a href="ms_transform.html"><code class="inline">ms_transform</code></a>.</p>
  </section>
</section>
<section class="detail" id="give_away/3">

  <div class="detail-header">
    <a href="#give_away/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">give_away(Table, Pid, GiftData)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L433" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> give_away(Table, Pid, GiftData) -> true when Table :: <a href="#t:table/0">table</a>(), Pid :: <a href="../../apps/erts/erlang.html#t:pid/0">pid</a>(), GiftData :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Make process <code class="inline">Pid</code> the new owner of table <code class="inline">Table</code>. If successful, message
<code class="inline">{'ETS-TRANSFER',Table,FromPid,GiftData}</code> is sent to the new owner.</p><p>The process <code class="inline">Pid</code> must be alive, local, and not already the owner of the table.
The calling process must be the table owner.</p><p>Notice that this function does not affect option <a href="ets.html#heir"><code class="inline">heir</code></a> of the
table. A table owner can, for example, set <code class="inline">heir</code> to itself, give the table
away, and then get it back if the receiver terminates.</p>
  </section>
</section>
<section class="detail" id="i/0">

  <div class="detail-header">
    <a href="#i/0" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">i()</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L3279" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> i() -> ok.</pre>

      </div>

<p>Displays information about all ETS tables on a terminal.</p>
  </section>
</section>
<section class="detail" id="i/1">

  <div class="detail-header">
    <a href="#i/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">i(Table)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L3340" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> i(Table) -> ok when Table :: <a href="#t:table/0">table</a>().</pre>

      </div>

<p>Browses table <code class="inline">Table</code> on a terminal.</p>
  </section>
</section>
<section class="detail" id="info/1">

  <div class="detail-header">
    <a href="#info/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">info(Table)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L504" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> info(Table) -> InfoList | undefined
              when
                  Table :: <a href="#t:table/0">table</a>(),
                  InfoList :: [InfoTuple],
                  InfoTuple ::
                      {compressed, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
                      {decentralized_counters, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
                      {heir, <a href="../../apps/erts/erlang.html#t:pid/0">pid</a>() | none} |
                      {id, <a href="#t:tid/0">tid</a>()} |
                      {keypos, <a href="../../apps/erts/erlang.html#t:pos_integer/0">pos_integer</a>()} |
                      {memory, <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()} |
                      {name, <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>()} |
                      {named_table, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
                      {node, <a href="../../apps/erts/erlang.html#t:node/0">node</a>()} |
                      {owner, <a href="../../apps/erts/erlang.html#t:pid/0">pid</a>()} |
                      {protection, <a href="#t:table_access/0">table_access</a>()} |
                      {size, <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()} |
                      {type, <a href="#t:table_type/0">table_type</a>()} |
                      {write_concurrency, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>() | auto} |
                      {read_concurrency, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()}.</pre>

      </div>

<p>Returns information about table <code class="inline">Table</code> as a list of tuples. If <code class="inline">Table</code> has the
correct type for a table identifier, but does not refer to an existing ETS
table, <code class="inline">undefined</code> is returned. If <code class="inline">Table</code> is not of the correct type, a
<code class="inline">badarg</code> exception is raised.</p><ul><li><p><strong><code class="inline">{compressed, boolean()}</code></strong> - Indicates if the table is compressed.</p></li><li><p><strong><code class="inline">{decentralized_counters, boolean()}</code></strong> - Indicates whether the table uses
<code class="inline">decentralized_counters</code>.</p></li><li><p><strong><code class="inline">{heir, pid() | none}</code></strong> - The pid of the heir of the table, or <code class="inline">none</code> if no
heir is set.</p></li><li><p><strong><code class="inline">{id,</code><a href="#t:tid/0"> <code class="inline">tid()</code></a><code class="inline">}</code></strong> - The table identifier.</p></li><li><p><strong><code class="inline">{keypos, integer() &gt;= 1}</code></strong> - The key position.</p></li><li><p><strong><code class="inline">{memory, integer() &gt;= 0}</code></strong> - The number of words allocated to the table.</p></li><li><p><strong><code class="inline">{name, atom()}</code></strong> - The table name.</p></li><li><p><strong><code class="inline">{named_table, boolean()}</code></strong> - Indicates if the table is named.</p></li><li><p><strong><code class="inline">{node, node()}</code></strong> - The node where the table is stored. This field is no
longer meaningful, as tables cannot be accessed from other nodes.</p></li><li><p><strong><code class="inline">{owner, pid()}</code></strong> - The pid of the owner of the table.</p></li><li><p><strong><code class="inline">{protection,</code> <a href="#t:table_access/0"><code class="inline">access()</code></a><code class="inline">}</code></strong> - The table access
rights.</p></li><li><p><strong><code class="inline">{size, integer() &gt;= 0}</code></strong> - The number of objects inserted in the table.</p></li><li><p><strong><code class="inline">{type,</code> <a href="#t:table_type/0"><code class="inline">type()</code></a><code class="inline">}</code></strong> - The table type.</p></li><li><p><strong><code class="inline">{read_concurrency, boolean()}</code></strong> - Indicates whether the table uses
<code class="inline">read_concurrency</code> or not.</p></li><li><p><strong><code class="inline">{write_concurrency, WriteConcurrencyAlternative}</code></strong> - Indicates which
<code class="inline">write_concurrency</code> option the table uses.</p></li></ul><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>The execution time of this function is affected by the
<a href="ets.html#new_2_decentralized_counters"><code class="inline">decentralized_counters</code></a> table option.
The execution time is much longer when the <code class="inline">decentralized_counters</code> option is
set to <code class="inline">true</code> than when the <code class="inline">decentralized_counters</code> option is set to <code class="inline">false</code>.</p></section>
  </section>
</section>
<section class="detail" id="info/2">

  <div class="detail-header">
    <a href="#info/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">info(Table, Item)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L583" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> info(Table, Item) -> Value | undefined
              when
                  Table :: <a href="#t:table/0">table</a>(),
                  Item ::
                      binary | compressed | decentralized_counters | fixed | heir | id | keypos |
                      memory | name | named_table | node | owner | protection | safe_fixed |
                      safe_fixed_monotonic_time | size | stats | type | write_concurrency |
                      read_concurrency,
                  Value :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Returns the information associated with <code class="inline">Item</code> for table <code class="inline">Table</code>, or returns
<code class="inline">undefined</code> if <code class="inline">Table</code> does not refer an existing ETS table. If <code class="inline">Table</code> is not
of the correct type, or if <code class="inline">Item</code> is not one of the allowed values, a <code class="inline">badarg</code>
exception is raised.</p><p>In addition to the <code class="inline">{Item,Value}</code> pairs defined for <a href="#info/1"><code class="inline">info/1</code></a>, the following
items are allowed:</p><ul><li><p><code class="inline">Item=binary, Value=BinInfo</code></p><p><code class="inline">BinInfo</code> is a list containing miscellaneous information about binaries kept
by the table. This <code class="inline">Item</code> can be changed or removed without prior notice. In
the current implementation <code class="inline">BinInfo</code> is a list of tuples
<code class="inline">{BinaryId,BinarySize,BinaryRefcCount}</code>.</p></li><li><p><code class="inline">Item=fixed, Value=boolean()</code></p><p>Indicates if the table is fixed by any process.</p></li><li><p><a href="" id="info_2_safe_fixed_monotonic_time"></a></p><p><code class="inline">Item=safe_fixed|safe_fixed_monotonic_time, Value={FixationTime,Info}|false</code></p><p>If the table is fixed using <a href="#safe_fixtable/2"><code class="inline">safe_fixtable/2</code></a>, the call returns a tuple where
<code class="inline">FixationTime</code> is the last time when the table changed from unfixed to fixed.</p><p>The format and value of <code class="inline">FixationTime</code> depends on <code class="inline">Item</code>:</p><ul><li><p><strong><code class="inline">safe_fixed</code></strong> - <code class="inline">FixationTime</code> corresponds to the result returned by
<a href="../../apps/erts/erlang.html#timestamp/0"><code class="inline">erlang:timestamp/0</code></a> at the time of fixation. Notice that when the system
uses single or multi
<a href="../../apps/erts/time_correction.html#time-warp-modes">time warp modes</a> this can
produce strange results, as the use of <code class="inline">safe_fixed</code> is not
<a href="../../apps/erts/time_correction.html#time-warp-safe-code">time warp safe</a>. Time warp
safe code must use <code class="inline">safe_fixed_monotonic_time</code> instead.</p></li><li><p><strong><code class="inline">safe_fixed_monotonic_time</code></strong> - <code class="inline">FixationTime</code> corresponds to the result
returned by <a href="../../apps/erts/erlang.html#monotonic_time/0"><code class="inline">erlang:monotonic_time/0</code></a> at the time of fixation. The use of
<code class="inline">safe_fixed_monotonic_time</code> is
<a href="../../apps/erts/time_correction.html#time-warp-safe-code">time warp safe</a>.</p></li></ul><p><code class="inline">Info</code> is a possibly empty lists of tuples <code class="inline">{Pid,RefCount}</code>, one tuple for
every process the table is fixed by now. <code class="inline">RefCount</code> is the value of the
reference counter and it keeps track of how many times the table has been
fixed by the process.</p><p>Table fixations are not limited to <a href="#safe_fixtable/2"><code class="inline">safe_fixtable/2</code></a>. Temporary fixations may
also be done by for example <a href="ets.html#traversal">traversing functions</a> like
<code class="inline">select</code> and <code class="inline">match</code>. Such table fixations are automatically released before
the corresponding functions returns, but they may be seen by a concurrent call
to <code class="inline">ets:info(T,safe_fixed|safe_fixed_monotonic_time)</code>.</p><p>If the table is not fixed at all, the call returns <code class="inline">false</code>.</p></li><li><p><code class="inline">Item=stats, Value=tuple()</code></p><p>Returns internal statistics about tables on an internal format used by OTP
test suites. Not for production use.</p></li></ul><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>The execution time of this function is affected by the
<a href="ets.html#new_2_decentralized_counters"><code class="inline">decentralized_counters</code></a> table option
when the second argument of the function is <code class="inline">size</code> or <code class="inline">memory</code>. The execution
time is much longer when the <code class="inline">decentralized_counters</code> option is set to <code class="inline">true</code>
than when the <code class="inline">decentralized_counters</code> option is set to <code class="inline">false</code>.</p></section>
  </section>
</section>
<section class="detail" id="init_table/2">

  <div class="detail-header">
    <a href="#init_table/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">init_table(Table, InitFun)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L2230" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> init_table(Table, InitFun) -> true
                    when
                        Table :: <a href="#t:table/0">table</a>(),
                        InitFun :: fun((Arg) -> Res),
                        Arg :: read | close,
                        Res :: end_of_input | {Objects :: [<a href="../../apps/erts/erlang.html#t:term/0">term</a>()], InitFun} | <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Replaces the existing objects of table <code class="inline">Table</code> with objects created by calling
the input function <code class="inline">InitFun</code>, see below. This function is provided for
compatibility with the <code class="inline">dets</code> module, it is not more efficient than filling a
table by using <a href="#insert/2"><code class="inline">insert/2</code></a>.</p><p>When called with argument <code class="inline">read</code>, the function <code class="inline">InitFun</code> is assumed to return
<code class="inline">end_of_input</code> when there is no more input, or <code class="inline">{Objects, Fun}</code>, where <code class="inline">Objects</code>
is a list of objects and <code class="inline">Fun</code> is a new input function. Any other value <code class="inline">Value</code>
is returned as an error <code class="inline">{error, {init_fun, Value}}</code>. Each input function is
called exactly once, and if an error occur, the last function is called with
argument <code class="inline">close</code>, the reply of which is ignored.</p><p>If the table type is <code class="inline">set</code> and more than one object exists with a given key, one
of the objects is chosen. This is not necessarily the last object with the given
key in the sequence of objects returned by the input functions. This holds also
for duplicated objects stored in tables of type <code class="inline">bag</code>.</p>
  </section>
</section>
<section class="detail" id="insert/2">

  <div class="detail-header">
    <a href="#insert/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">insert(Table, ObjectOrObjects)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L627" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> insert(Table, ObjectOrObjects) -> true
                when Table :: <a href="#t:table/0">table</a>(), ObjectOrObjects :: <a href="../../apps/erts/erlang.html#t:tuple/0">tuple</a>() | [<a href="../../apps/erts/erlang.html#t:tuple/0">tuple</a>()].</pre>

      </div>

<p>Inserts the object or all of the objects in list <code class="inline">ObjectOrObjects</code> into table
<code class="inline">Table</code>.</p><ul><li>If the table type is <code class="inline">set</code> and the key of the inserted objects <em>matches</em> the
key of any object in the table, the old object is replaced.</li><li>If the table type is <code class="inline">ordered_set</code> and the key of the inserted object
<em>compares equal</em> to the key of any object in the table, the old object is
replaced.</li><li>If the table type is <code class="inline">bag</code> and the object <em>matches</em> any whole object in the
table, the object is not inserted.</li><li>If the list contains more than one object with <em>matching</em> keys and the table
type is <code class="inline">set</code>, one is inserted, which one is not defined. The same holds for
table type <code class="inline">ordered_set</code> if the keys <em>compare equal</em>.</li></ul><p>The entire operation is guaranteed to be
<a href="ets.html#module-concurrency">atomic and isolated</a>, even when a list of objects is
inserted.</p><p><a href="" id="insert_list_order"></a></p><p>For <code class="inline">bag</code> and <code class="inline">duplicate_bag</code>, objects in the list with identical keys will be
inserted in list order (from head to tail). That is, a subsequent call to
<a href="#lookup/2"><code class="inline">lookup(T,Key)</code></a> will return them in that inserted order.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>For <code class="inline">bag</code> the insertion order of indentical keys described above was
accidentally reverted in OTP 23.0 and later fixed in OTP 25.3. That is, from
OTP 23.0 up until OTP 25.3 the objects in a list are inserted in reverse order
(from tail to head).</p><p>For <code class="inline">duplicate_bag</code> the same faulty reverse insertion exist from OTP 23.0
until OTP 25.3. However, it is unpredictable and may or may not happen. A
longer list will increase the probabiliy of the insertion being done in
reverse.</p></section>
  </section>
</section>
<section class="detail" id="insert_new/2">

  <div class="detail-header">
    <a href="#insert_new/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">insert_new(Table, ObjectOrObjects)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L644" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> insert_new(Table, ObjectOrObjects) -> <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()
                    when Table :: <a href="#t:table/0">table</a>(), ObjectOrObjects :: <a href="../../apps/erts/erlang.html#t:tuple/0">tuple</a>() | [<a href="../../apps/erts/erlang.html#t:tuple/0">tuple</a>()].</pre>

      </div>

<p>Same as <a href="#insert/2"><code class="inline">insert/2</code></a> except that instead of overwriting objects with the same key
(for <code class="inline">set</code> or <code class="inline">ordered_set</code>) or adding more objects with keys already existing
in the table (for <code class="inline">bag</code> and <code class="inline">duplicate_bag</code>), <code class="inline">false</code> is returned.</p><p>If <code class="inline">ObjectOrObjects</code> is a list, the function checks <em>every</em> key before inserting
anything. Nothing is inserted unless <em>all</em> keys present in the list are absent
from the table. Like <a href="#insert/2"><code class="inline">insert/2</code></a>, the entire operation is
guaranteed to be <a href="ets.html#module-concurrency">atomic and isolated</a>.</p>
  </section>
</section>
<section class="detail" id="is_compiled_ms/1">

  <div class="detail-header">
    <a href="#is_compiled_ms/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">is_compiled_ms(Term)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L671" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> is_compiled_ms(Term) -> <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>() when Term :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Checks if a term represent a valid compiled
<a href="ets.html#match_spec">match specification</a>. A compiled match specification is
only valid on the Erlang node where it was compiled by calling
<a href="#match_spec_compile/1"><code class="inline">match_spec_compile/1</code></a>.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>Before STDLIB 3.4 (OTP 20.0) compiled match specifications did not have an
external representation. If passed through
<a href="../../apps/erts/erlang.html#binary_to_term/1"><code class="inline">binary_to_term(term_to_binary(CMS))</code></a> or sent to another
node and back, the result was always an empty binary <code class="inline">&lt;&lt;&gt;&gt;</code>.</p><p>After STDLIB 3.4 (OTP 20.0) compiled match specifications have an external
representation as a node specific reference to the original compiled match
specification. If passed through
<a href="../../apps/erts/erlang.html#binary_to_term/1"><code class="inline">binary_to_term(term_to_binary(CMS))</code></a> or sent to another
node and back, the result <em>may or may not</em> be a valid compiled match
specification depending on if the original compiled match specification was
still alive.</p></section>
  </section>
</section>
<section class="detail" id="last/1">

  <div class="detail-header">
    <a href="#last/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">last(Table)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L685" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> last(Table) -> Key | '$end_of_table' when Table :: <a href="#t:table/0">table</a>(), Key :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Returns the last key <code class="inline">Key</code> according to Erlang term order in table <code class="inline">Table</code> of
type <code class="inline">ordered_set</code>. For other table types, the function is synonymous to
<a href="#first/1"><code class="inline">first/1</code></a>. If the table is empty, <code class="inline">'$end_of_table'</code> is returned.</p><p>To find preceding keys in the table, use <a href="#prev/2"><code class="inline">prev/2</code></a>.</p>
  </section>
</section>
<section class="detail" id="last_lookup/1">

  <div class="detail-header">
    <a href="#last_lookup/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">last_lookup(Table)</h1>

        <span class="note">(since OTP 27.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L701" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> last_lookup(Table) -> {Key, [Object]} | '$end_of_table'
                     when Table :: <a href="#t:table/0">table</a>(), Key :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), Object :: <a href="../../apps/erts/erlang.html#t:tuple/0">tuple</a>().</pre>

      </div>

<p>Similar to <a href="#last/1"><code class="inline">last/1</code></a> except that it returns the object(s) along with the key
stored in the table. This is equivalent to doing <a href="#last/1"><code class="inline">last/1</code></a> followed by a
<a href="#lookup/2"><code class="inline">lookup/2</code></a>. If the table is empty, <code class="inline">'$end_of_table'</code> is returned.</p><p>To find preceding objects in the table, use <a href="#prev_lookup/2"><code class="inline">prev_lookup/2</code></a>.</p>
  </section>
</section>
<section class="detail" id="lookup/2">

  <div class="detail-header">
    <a href="#lookup/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">lookup(Table, Key)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L733" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> lookup(Table, Key) -> [Object] when Table :: <a href="#t:table/0">table</a>(), Key :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), Object :: <a href="../../apps/erts/erlang.html#t:tuple/0">tuple</a>().</pre>

      </div>

<p>Returns a list of all objects with key <code class="inline">Key</code> in table <code class="inline">Table</code>.</p><ul><li>For tables of type <code class="inline">set</code>, <code class="inline">bag</code>, or <code class="inline">duplicate_bag</code>, an object is returned
only if the specified key <em>matches</em> the key of the object in the table.</li><li>For tables of type <code class="inline">ordered_set</code>, an object is returned if the specified key
<em>compares equal</em> to the key of an object in the table.</li></ul><p>The difference is the same as between <code class="inline">=:=</code> and <code class="inline">==</code>.</p><p>As an example, one can insert an object with <a href="../../apps/erts/erlang.html#t:integer/0"><code class="inline">integer/0</code></a> <code class="inline">1</code> as a key in an
<code class="inline">ordered_set</code> and get the object returned as a result of doing a
<a href="#lookup/2"><code class="inline">lookup/2</code></a> with <a href="../../apps/erts/erlang.html#t:float/0"><code class="inline">float/0</code></a> <code class="inline">1.0</code> as the key to search for.</p><p>For tables of type <code class="inline">set</code> or <code class="inline">ordered_set</code>, the function returns either the empty
list or a list with one element, as there cannot be more than one object with
the same key. For tables of type <code class="inline">bag</code> or <code class="inline">duplicate_bag</code>, the function returns
a list of arbitrary length.</p><p>Notice that the sequential order of object insertions is preserved; the first
object inserted with the specified key is the first in the resulting list, and
so on. See also the note about
<a href="ets.html#insert_list_order">list insertion order</a>.</p>
  </section>
</section>
<section class="detail" id="lookup_element/3">

  <div class="detail-header">
    <a href="#lookup_element/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">lookup_element(Table, Key, Pos)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L759" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> lookup_element(Table, Key, Pos) -> Elem
                        when
                            Table :: <a href="#t:table/0">table</a>(),
                            Key :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                            Pos :: <a href="../../apps/erts/erlang.html#t:pos_integer/0">pos_integer</a>(),
                            Elem :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>() | [<a href="../../apps/erts/erlang.html#t:term/0">term</a>()].</pre>

      </div>

<p>For a table <code class="inline">Table</code> of type <code class="inline">set</code> or <code class="inline">ordered_set</code>, the function returns the
<code class="inline">Pos</code>:th element of the object with key <code class="inline">Key</code>.</p><p>For tables of type <code class="inline">bag</code> or <code class="inline">duplicate_bag</code>, the functions returns a list with
the <code class="inline">Pos</code>:th element of every object with key <code class="inline">Key</code>.</p><p>If no object with key <code class="inline">Key</code> exists, the function exits with reason <code class="inline">badarg</code>.</p><p>If <code class="inline">Pos</code> is larger than the size of the tuple, the function exits with reason
<code class="inline">badarg</code>.</p><p>The difference between <code class="inline">set</code>, <code class="inline">bag</code>, and <code class="inline">duplicate_bag</code> on one hand, and
<code class="inline">ordered_set</code> on the other, regarding the fact that <code class="inline">ordered_set</code> view keys as
equal when they <em>compare equal</em> whereas the other table types regard them equal
only when they <em>match</em>, holds for <a href="#lookup_element/3"><code class="inline">lookup_element/3</code></a>.</p>
  </section>
</section>
<section class="detail" id="lookup_element/4">

  <div class="detail-header">
    <a href="#lookup_element/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">lookup_element(Table, Key, Pos, Default)</h1>

        <span class="note">(since OTP 26.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L787" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> lookup_element(Table, Key, Pos, Default) -> Elem
                        when
                            Table :: <a href="#t:table/0">table</a>(),
                            Key :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                            Pos :: <a href="../../apps/erts/erlang.html#t:pos_integer/0">pos_integer</a>(),
                            Default :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                            Elem :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>() | [<a href="../../apps/erts/erlang.html#t:term/0">term</a>()].</pre>

      </div>

<p>For a table <code class="inline">Table</code> of type <code class="inline">set</code> or <code class="inline">ordered_set</code>, the function returns the
<code class="inline">Pos</code>:th element of the object with key <code class="inline">Key</code>.</p><p>For tables of type <code class="inline">bag</code> or <code class="inline">duplicate_bag</code>, the functions returns a list with
the <code class="inline">Pos</code>:th element of every object with key <code class="inline">Key</code>.</p><p>If no object with key <code class="inline">Key</code> exists, the function returns <code class="inline">Default</code>.</p><p>If <code class="inline">Pos</code> is larger than the size of any tuple with a matching key, the function
exits with reason <code class="inline">badarg</code>.</p><p>The difference between <code class="inline">set</code>, <code class="inline">bag</code>, and <code class="inline">duplicate_bag</code> on one hand, and
<code class="inline">ordered_set</code> on the other, regarding the fact that <code class="inline">ordered_set</code> view keys as
equal when they <em>compare equal</em> whereas the other table types regard them equal
only when they <em>match</em>, holds for <a href="#lookup_element/4"><code class="inline">lookup_element/4</code></a>.</p>
  </section>
</section>
<section class="detail" id="match/1">

  <div class="detail-header">
    <a href="#match/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">match(Continuation)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L862" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> match(Continuation) -> {[Match], Continuation} | '$end_of_table'
               when Match :: [<a href="../../apps/erts/erlang.html#t:term/0">term</a>()], Continuation :: <a href="#t:continuation/0">continuation</a>().</pre>

      </div>

<p>Continues a match started with <a href="#match/3"><code class="inline">match/3</code></a>. The next chunk of the size specified
in the initial <a href="#match/3"><code class="inline">match/3</code></a> call is returned together with a new
<code class="inline">Continuation</code>, which can be used in subsequent calls to this function.</p><p>When there are no more objects in the table, <code class="inline">'$end_of_table'</code> is returned.</p>
  </section>
</section>
<section class="detail" id="match/2">

  <div class="detail-header">
    <a href="#match/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">match(Table, Pattern)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L824" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> match(Table, Pattern) -> [Match]
               when Table :: <a href="#t:table/0">table</a>(), Pattern :: <a href="#t:match_pattern/0">match_pattern</a>(), Match :: [<a href="../../apps/erts/erlang.html#t:term/0">term</a>()].</pre>

      </div>

<p>Matches the objects in table <code class="inline">Table</code> against pattern <code class="inline">Pattern</code>.</p><p>A pattern is a term that can contain:</p><ul><li>Bound parts (Erlang terms)</li><li><code class="inline">'_'</code> that matches any Erlang term</li><li>Pattern variables <code class="inline">'$N'</code>, where <code class="inline">N</code>=0,1,...</li></ul><p>The function returns a list with one element for each matching object, where
each element is an ordered list of pattern variable bindings, for example:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">6&gt; </span><span class="nc">ets</span><span class="p">:</span><span class="nf">match</span><span class="p" data-group-id="6281403594-1">(</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="ss">&#39;$1&#39;</span><span class="p" data-group-id="6281403594-1">)</span><span class="p">.</span><span class="w"> </span><span class="c1">% Matches every object in table</span><span class="w">
</span><span class="p" data-group-id="6281403594-2">[</span><span class="p" data-group-id="6281403594-3">[</span><span class="p" data-group-id="6281403594-4">{</span><span class="ss">rufsen</span><span class="p">,</span><span class="ss">dog</span><span class="p">,</span><span class="mi">7</span><span class="p" data-group-id="6281403594-4">}</span><span class="p" data-group-id="6281403594-3">]</span><span class="p">,</span><span class="p" data-group-id="6281403594-5">[</span><span class="p" data-group-id="6281403594-6">{</span><span class="ss">brunte</span><span class="p">,</span><span class="ss">horse</span><span class="p">,</span><span class="mi">5</span><span class="p" data-group-id="6281403594-6">}</span><span class="p" data-group-id="6281403594-5">]</span><span class="p">,</span><span class="p" data-group-id="6281403594-7">[</span><span class="p" data-group-id="6281403594-8">{</span><span class="ss">ludde</span><span class="p">,</span><span class="ss">dog</span><span class="p">,</span><span class="mi">5</span><span class="p" data-group-id="6281403594-8">}</span><span class="p" data-group-id="6281403594-7">]</span><span class="p" data-group-id="6281403594-2">]</span><span class="gp unselectable">
7&gt; </span><span class="nc">ets</span><span class="p">:</span><span class="nf">match</span><span class="p" data-group-id="6281403594-9">(</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6281403594-10">{</span><span class="ss">&#39;_&#39;</span><span class="p">,</span><span class="ss">dog</span><span class="p">,</span><span class="ss">&#39;$1&#39;</span><span class="p" data-group-id="6281403594-10">}</span><span class="p" data-group-id="6281403594-9">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="6281403594-11">[</span><span class="p" data-group-id="6281403594-12">[</span><span class="mi">7</span><span class="p" data-group-id="6281403594-12">]</span><span class="p">,</span><span class="p" data-group-id="6281403594-13">[</span><span class="mi">5</span><span class="p" data-group-id="6281403594-13">]</span><span class="p" data-group-id="6281403594-11">]</span><span class="gp unselectable">
8&gt; </span><span class="nc">ets</span><span class="p">:</span><span class="nf">match</span><span class="p" data-group-id="6281403594-14">(</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6281403594-15">{</span><span class="ss">&#39;_&#39;</span><span class="p">,</span><span class="ss">cow</span><span class="p">,</span><span class="ss">&#39;$1&#39;</span><span class="p" data-group-id="6281403594-15">}</span><span class="p" data-group-id="6281403594-14">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="6281403594-16">[</span><span class="p" data-group-id="6281403594-16">]</span></code></pre><p>If the key is specified in the pattern, the match is very efficient. If the key
is not specified, that is, if it is a variable or an underscore, the entire
table must be searched. The search time can be substantial if the table is very
large.</p><p>For tables of type <code class="inline">ordered_set</code>, the result is in the same order as in a
<code class="inline">first</code>/<code class="inline">next</code> traversal.</p>
  </section>
</section>
<section class="detail" id="match/3">

  <div class="detail-header">
    <a href="#match/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">match(Table, Pattern, Limit)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L847" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> match(Table, Pattern, Limit) -> {[Match], Continuation} | '$end_of_table'
               when
                   Table :: <a href="#t:table/0">table</a>(),
                   Pattern :: <a href="#t:match_pattern/0">match_pattern</a>(),
                   Limit :: <a href="../../apps/erts/erlang.html#t:pos_integer/0">pos_integer</a>(),
                   Match :: [<a href="../../apps/erts/erlang.html#t:term/0">term</a>()],
                   Continuation :: <a href="#t:continuation/0">continuation</a>().</pre>

      </div>

<p>Works like <a href="#match/2"><code class="inline">match/2</code></a>, but returns only a limited (<code class="inline">Limit</code>) number of matching
objects. Term <code class="inline">Continuation</code> can then be used in subsequent calls to <a href="#match/1"><code class="inline">match/1</code></a>
to get the next chunk of matching objects. This is a space-efficient way to work
on objects in a table, which is faster than traversing the table object by
object using <a href="#first/1"><code class="inline">first/1</code></a> and <a href="#next/2"><code class="inline">next/2</code></a>.</p><p>If the table is empty, <code class="inline">'$end_of_table'</code> is returned.</p><p>Use <a href="#safe_fixtable/2"><code class="inline">safe_fixtable/2</code></a> to guarantee <a href="ets.html#traversal">safe traversal</a> for
subsequent calls to <a href="#match/1"><code class="inline">match/1</code></a>.</p>
  </section>
</section>
<section class="detail" id="match_delete/2">

  <div class="detail-header">
    <a href="#match_delete/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">match_delete(Table, Pattern)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L2261" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> match_delete(Table, Pattern) -> true when Table :: <a href="#t:table/0">table</a>(), Pattern :: <a href="#t:match_pattern/0">match_pattern</a>().</pre>

      </div>

<p>Deletes all objects that match pattern <code class="inline">Pattern</code> from table <code class="inline">Table</code>. For a
description of patterns, see <a href="#match/2"><code class="inline">match/2</code></a>.</p>
  </section>
</section>
<section class="detail" id="match_object/1">

  <div class="detail-header">
    <a href="#match_object/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">match_object(Continuation)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L922" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> match_object(Continuation) -> {[Object], Continuation} | '$end_of_table'
                      when Object :: <a href="../../apps/erts/erlang.html#t:tuple/0">tuple</a>(), Continuation :: <a href="#t:continuation/0">continuation</a>().</pre>

      </div>

<p>Continues a match started with <a href="#match_object/3"><code class="inline">match_object/3</code></a>. The next chunk of the size
specified in the initial <a href="#match_object/3"><code class="inline">match_object/3</code></a> call is returned
together with a new <code class="inline">Continuation</code>, which can be used in subsequent calls to
this function.</p><p>When there are no more objects in the table, <code class="inline">'$end_of_table'</code> is returned.</p>
  </section>
</section>
<section class="detail" id="match_object/2">

  <div class="detail-header">
    <a href="#match_object/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">match_object(Table, Pattern)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L883" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> match_object(Table, Pattern) -> [Object]
                      when Table :: <a href="#t:table/0">table</a>(), Pattern :: <a href="#t:match_pattern/0">match_pattern</a>(), Object :: <a href="../../apps/erts/erlang.html#t:tuple/0">tuple</a>().</pre>

      </div>

<p>Matches the objects in table <code class="inline">Table</code> against pattern <code class="inline">Pattern</code>. For a
description of patterns, see <a href="#match/2"><code class="inline">match/2</code></a>. The function returns a list of all
objects that match the pattern.</p><p>If the key is specified in the pattern, the match is very efficient. If the key
is not specified, that is, if it is a variable or an underscore, the entire
table must be searched. The search time can be substantial if the table is very
large.</p><p>For tables of type <code class="inline">ordered_set</code>, the result is in the same order as in a
<code class="inline">first</code>/<code class="inline">next</code> traversal.</p>
  </section>
</section>
<section class="detail" id="match_object/3">

  <div class="detail-header">
    <a href="#match_object/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">match_object(Table, Pattern, Limit)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L906" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> match_object(Table, Pattern, Limit) -> {[Object], Continuation} | '$end_of_table'
                      when
                          Table :: <a href="#t:table/0">table</a>(),
                          Pattern :: <a href="#t:match_pattern/0">match_pattern</a>(),
                          Limit :: <a href="../../apps/erts/erlang.html#t:pos_integer/0">pos_integer</a>(),
                          Object :: <a href="../../apps/erts/erlang.html#t:tuple/0">tuple</a>(),
                          Continuation :: <a href="#t:continuation/0">continuation</a>().</pre>

      </div>

<p>Works like <a href="#match_object/2"><code class="inline">match_object/2</code></a>, but only returns a limited (<code class="inline">Limit</code>) number of
matching objects. Term <code class="inline">Continuation</code> can then be used in subsequent calls to
<a href="#match_object/1"><code class="inline">match_object/1</code></a> to get the next chunk of matching objects. This is a
space-efficient way to work on objects in a table, which is faster than
traversing the table object by object using <a href="#first/1"><code class="inline">first/1</code></a> and <a href="#next/2"><code class="inline">next/2</code></a>.</p><p>If the table is empty, <code class="inline">'$end_of_table'</code> is returned.</p><p>Use <a href="#safe_fixtable/2"><code class="inline">safe_fixtable/2</code></a> to guarantee <a href="ets.html#traversal">safe traversal</a> for
subsequent calls to <a href="#match_object/1"><code class="inline">match_object/1</code></a>.</p>
  </section>
</section>
<section class="detail" id="match_spec_compile/1">

  <div class="detail-header">
    <a href="#match_spec_compile/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">match_spec_compile(MatchSpec)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L943" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> match_spec_compile(MatchSpec) -> CompiledMatchSpec
                            when MatchSpec :: <a href="#t:match_spec/0">match_spec</a>(), CompiledMatchSpec :: <a href="#t:compiled_match_spec/0">compiled_match_spec</a>().</pre>

      </div>

<p>Transforms a <a href="ets.html#match_spec">match specification</a> into an internal
representation that can be used in subsequent calls to <a href="#match_spec_run/2"><code class="inline">match_spec_run/2</code></a>. The
internal representation is opaque. To check the validity of a compiled match
specification, use <a href="#is_compiled_ms/1"><code class="inline">is_compiled_ms/1</code></a>.</p><p>If term <code class="inline">MatchSpec</code> does not represent a valid match specification, a <code class="inline">badarg</code>
exception is raised.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>This function has limited use in normal code. It is used by the <a href="dets.html"><code class="inline">dets</code></a>
module to perform the <a href="dets.html#select/1"><code class="inline">dets:select/1</code></a> operations.</p></section>
  </section>
</section>
<section class="detail" id="match_spec_run/2">

  <div class="detail-header">
    <a href="#match_spec_run/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">match_spec_run(List, CompiledMatchSpec)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L1878" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> match_spec_run(List, CompiledMatchSpec) -> <a href="../../apps/erts/erlang.html#t:list/0">list</a>()
                        when List :: [<a href="../../apps/erts/erlang.html#t:term/0">term</a>()], CompiledMatchSpec :: <a href="#t:compiled_match_spec/0">compiled_match_spec</a>().</pre>

      </div>

<p>Executes the matching specified in a compiled
<a href="ets.html#match_spec">match specification</a> on a list of terms. Term
<code class="inline">CompiledMatchSpec</code> is to be the result of a call to <a href="#match_spec_compile/1"><code class="inline">match_spec_compile/1</code></a> and
is hence the internal representation of the match specification one wants to
use.</p><p>The matching is executed on each element in <code class="inline">List</code> and the function returns a
list containing all results. If an element in <code class="inline">List</code> does not match, nothing is
returned for that element. The length of the result list is therefore equal or
less than the length of parameter <code class="inline">List</code>.</p><p><em>Example:</em></p><p>The following two calls give the same result (but certainly not the same
execution time):</p><pre><code class="makeup erlang" translate="no"><span class="n">Table</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">ets</span><span class="p">:</span><span class="ss">new</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="w">
</span><span class="n">MatchSpec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="w">
</span><span class="c1">% The following call...</span><span class="w">
</span><span class="nc">ets</span><span class="p">:</span><span class="nf">match_spec_run</span><span class="p" data-group-id="8379979951-1">(</span><span class="nc">ets</span><span class="p">:</span><span class="nf">tab2list</span><span class="p" data-group-id="8379979951-2">(</span><span class="n">Table</span><span class="p" data-group-id="8379979951-2">)</span><span class="p">,</span><span class="w">
                   </span><span class="nc">ets</span><span class="p">:</span><span class="nf">match_spec_compile</span><span class="p" data-group-id="8379979951-3">(</span><span class="n">MatchSpec</span><span class="p" data-group-id="8379979951-3">)</span><span class="p" data-group-id="8379979951-1">)</span><span class="p">,</span><span class="w">
</span><span class="c1">% ...gives the same result as the more common (and more efficient)</span><span class="w">
</span><span class="nc">ets</span><span class="p">:</span><span class="nf">select</span><span class="p" data-group-id="8379979951-4">(</span><span class="n">Table</span><span class="p">,</span><span class="w"> </span><span class="n">MatchSpec</span><span class="p" data-group-id="8379979951-4">)</span><span class="p">,</span></code></pre><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>This function has limited use in normal code. It is used by the <a href="dets.html"><code class="inline">dets</code></a>
module to perform the <a href="dets.html#select/1"><code class="inline">dets:select/1</code></a> operations and by Mnesia during
transactions.</p></section>
  </section>
</section>
<section class="detail" id="member/2">

  <div class="detail-header">
    <a href="#member/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">member(Table, Key)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L962" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> member(Table, Key) -> <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>() when Table :: <a href="#t:table/0">table</a>(), Key :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Works like <a href="#lookup/2"><code class="inline">lookup/2</code></a>, but does not return the objects. Returns <code class="inline">true</code> if one or
more elements in the table has key <code class="inline">Key</code>, otherwise <code class="inline">false</code>.</p>
  </section>
</section>
<section class="detail" id="new/2">

  <div class="detail-header">
    <a href="#new/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">new(Name, Options)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L1155" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> new(Name, Options) -> <a href="#t:table/0">table</a>()
             when
                 Name :: <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>(),
                 Options :: [Option],
                 Option ::
                     Type | Access | named_table |
                     {keypos, Pos} |
                     {heir, Pid} |
                     {heir, Pid, HeirData} |
                     {heir, none} |
                     Tweaks,
                 Type :: <a href="#t:table_type/0">table_type</a>(),
                 Access :: <a href="#t:table_access/0">table_access</a>(),
                 WriteConcurrencyAlternative :: <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>() | auto,
                 Tweaks ::
                     {write_concurrency, WriteConcurrencyAlternative} |
                     {read_concurrency, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
                     {decentralized_counters, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
                     compressed,
                 Pos :: <a href="../../apps/erts/erlang.html#t:pos_integer/0">pos_integer</a>(),
                 Pid :: <a href="../../apps/erts/erlang.html#t:pid/0">pid</a>(),
                 HeirData :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Creates a new table and returns a table identifier that can be used in
subsequent operations. The table identifier can be sent to other processes so
that a table can be shared between different processes within a node.</p><p>Parameter <code class="inline">Options</code> is a list of options that specifies table type, access
rights, key position, and whether the table is named. Default values are used
for omitted options. This means that not specifying any options (<code class="inline">[]</code>) is the
same as specifying
<code class="inline">[set, protected, {keypos,1}, {heir,none}, {write_concurrency,false}, {read_concurrency,false}, {decentralized_counters,false}]</code>.</p><ul><li><p><strong><code class="inline">set</code></strong> - The table is a <code class="inline">set</code> table: one key, one object, no order among
objects. This is the default table type.</p></li><li><p><strong><code class="inline">ordered_set</code></strong> - The table is a <code class="inline">ordered_set</code> table: one key, one object,
ordered in Erlang term order, which is the order implied by the &lt; and &gt;
operators. Tables of this type have a somewhat different behavior in some
situations than tables of other types. Most notably, the <code class="inline">ordered_set</code> tables
regard keys as equal when they <em>compare equal</em>, not only when they match. This
means that to an <code class="inline">ordered_set</code> table, <a href="../../apps/erts/erlang.html#t:integer/0"><code class="inline">integer/0</code></a> <code class="inline">1</code> and <a href="../../apps/erts/erlang.html#t:float/0"><code class="inline">float/0</code></a> <code class="inline">1.0</code>
are regarded as equal. This also means that the key used to lookup an element
does not necessarily <em>match</em> the key in the returned elements, if
<a href="../../apps/erts/erlang.html#t:float/0"><code class="inline">float/0</code></a>'s and <a href="../../apps/erts/erlang.html#t:integer/0"><code class="inline">integer/0</code></a>'s are mixed in keys of a table.</p></li><li><p><strong><code class="inline">bag</code></strong> - The table is a <code class="inline">bag</code> table, which can have many objects, but only
one instance of each object, per key.</p></li><li><p><strong><code class="inline">duplicate_bag</code></strong> - The table is a <code class="inline">duplicate_bag</code> table, which can have
many objects, including multiple copies of the same object, per key.</p></li><li><p><strong><code class="inline">public</code></strong> - Any process can read or write to the table.</p><p><a href="" id="protected"></a></p></li><li><p><strong><code class="inline">protected</code></strong> - The owner process can read and write to the table. Other
processes can only read the table. This is the default setting for the access
rights.</p><p><a href="" id="private"></a></p></li><li><p><strong><code class="inline">private</code></strong> - Only the owner process can read or write to the table.</p></li><li><p><strong><code class="inline">named_table</code></strong> - If this option is present, the table is registered under
its <code class="inline">Name</code> which can then be used instead of the table identifier in
subsequent operations.</p><p>The function will also return the <code class="inline">Name</code> instead of the table identifier. To
get the table identifier of a named table, use <a href="#whereis/1"><code class="inline">whereis/1</code></a>.</p></li><li><p><strong><code class="inline">{keypos,Pos}</code></strong> - Specifies which element in the stored tuples to use as
key. By default, it is the first element, that is, <code class="inline">Pos=1</code>. However, this is
not always appropriate. In particular, we do not want the first element to be
the key if we want to store Erlang records in a table.</p><p>Notice that any tuple stored in the table must have at least <code class="inline">Pos</code> number of
elements.</p><p><a href="" id="heir"></a></p></li><li><p><strong><code class="inline">{heir,Pid,HeirData} | {heir,Pid} | {heir,none}</code></strong> - Set a process as heir.
The heir inherits the table if the owner terminates. If <code class="inline">HeirData</code> is given, a
message <code class="inline">{'ETS-TRANSFER',tid(),FromPid,HeirData}</code> is sent to the heir when
that occurs. If <code class="inline">{heir,Pid}</code> is given, no <code class="inline">'ETS-TRANSFER'</code> message is
sent. The user must then make sure the heir gets notified some other way
(through a link or monitor for example) to avoid the table being left unnoticed
by its new owner.</p><p>The heir must be a local process. Default heir is <code class="inline">none</code>, which
destroys the table when the owner terminates.</p><p><a href="" id="new_2_write_concurrency"></a></p></li><li><p><strong><code class="inline">{write_concurrency,WriteConcurrencyAlternative}</code></strong> - Performance tuning.
Defaults to <code class="inline">false</code>, in which case an operation that mutates (writes to) the
table obtains exclusive access, blocking any concurrent access of the same
table until finished. If set to <code class="inline">true</code>, the table is optimized for concurrent
write access. Different objects of the same table can be mutated (and read) by
concurrent processes. This is achieved to some degree at the expense of memory
consumption and the performance of sequential access and concurrent reading.</p><p>The <code class="inline">auto</code> alternative for the <code class="inline">write_concurrency</code> option is similar to the
<code class="inline">true</code> option but automatically adjusts the synchronization granularity during
runtime depending on how the table is used. This is the recommended
<code class="inline">write_concurrency</code> option when using Erlang/OTP 25 and above as it performs
well in most scenarios.</p><p>The <code class="inline">write_concurrency</code> option can be combined with the options
<a href="ets.html#new_2_read_concurrency"><code class="inline">read_concurrency</code></a> and
<a href="ets.html#new_2_decentralized_counters"><code class="inline">decentralized_counters</code></a>. You
typically want to combine <code class="inline">write_concurrency</code> with <code class="inline">read_concurrency</code> when
large concurrent read bursts and large concurrent write bursts are common; for
more information, see option
<a href="ets.html#new_2_read_concurrency"><code class="inline">read_concurrency</code></a>. It is almost always a
good idea to combine the <code class="inline">write_concurrency</code> option with the
<a href="ets.html#new_2_decentralized_counters"><code class="inline">decentralized_counters</code></a> option.</p><p>Notice that this option does not change any guarantees about
<a href="ets.html#module-concurrency">atomicity and isolation</a>. Functions that makes such
promises over many objects (like <a href="#insert/2"><code class="inline">insert/2</code></a>) gain less (or nothing) from this
option.</p><p>The memory consumption inflicted by both <code class="inline">write_concurrency</code> and
<code class="inline">read_concurrency</code> is a constant overhead per table for <code class="inline">set</code>, <code class="inline">bag</code> and
<code class="inline">duplicate_bag</code> when the <code class="inline">true</code> alternative for the <code class="inline">write_concurrency</code> option
is not used. For all tables with the <code class="inline">auto</code> alternative and <code class="inline">ordered_set</code>
tables with <code class="inline">true</code> alternative the memory overhead depends on the amount of
actual detected concurrency during runtime. The memory overhead can be
especially large when both <code class="inline">write_concurrency</code> and <code class="inline">read_concurrency</code> are
combined.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>Prior to stdlib-3.7 (OTP-22.0) <code class="inline">write_concurrency</code> had no effect on
<code class="inline">ordered_set</code>.</p></section><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>The <code class="inline">auto</code> alternative for the <code class="inline">write_concurrency</code> option is only available
in OTP-25.0 and above.</p></section><p><a href="" id="new_2_read_concurrency"></a></p></li><li><p><strong><code class="inline">{read_concurrency,boolean()}</code></strong>(Since OTP R14B)<br/>Performance tuning. Defaults to <code class="inline">false</code>. When set to <code class="inline">true</code>, the table is
optimized for concurrent read operations. When this option is enabled read
operations become much cheaper; especially on systems with multiple physical
processors. However, switching between read and write operations becomes more
expensive.</p><p>You typically want to enable this option when concurrent read operations are
much more frequent than write operations, or when concurrent reads and writes
comes in large read and write bursts (that is, many reads not interrupted by
writes, and many writes not interrupted by reads).</p><p>You typically do <em>not</em> want to enable this option when the common access
pattern is a few read operations interleaved with a few write operations
repeatedly. In this case, you would get a performance degradation by enabling
this option.</p><p>Option <code class="inline">read_concurrency</code> can be combined with option
<a href="ets.html#new_2_write_concurrency"><code class="inline">write_concurrency</code></a>. You typically want to
combine these when large concurrent read bursts and large concurrent write
bursts are common.</p><p><a href="" id="new_2_decentralized_counters"></a></p></li><li><p><strong><code class="inline">{decentralized_counters,boolean()}</code></strong>(Since OTP 23.0)<br/>Performance tuning. Defaults to <code class="inline">true</code> for all tables with the
<code class="inline">write_concurrency</code> option set to <code class="inline">auto</code>. For tables of type <code class="inline">ordered_set</code> the
option also defaults to true when the <code class="inline">write_concurrency</code> option is set to
<code class="inline">true</code>. The option defaults to <code class="inline">false</code> for all other configurations. This
option has no effect if the <code class="inline">write_concurrency</code> option is set to <code class="inline">false</code>.</p><p>When this option is set to <code class="inline">true</code>, the table is optimized for frequent
concurrent calls to operations that modify the tables size and/or its memory
consumption (e.g., <a href="#insert/2"><code class="inline">insert/2</code></a> and <a href="#delete/2"><code class="inline">delete/2</code></a>). The drawback is that calls to
<a href="#info/1"><code class="inline">info/1</code></a> and <a href="#info/2"><code class="inline">info/2</code></a> with <code class="inline">size</code> or <code class="inline">memory</code> as the second argument can get
much slower when the <code class="inline">decentralized_counters</code> option is turned on.</p><p>When this option is enabled the counters for the table size and memory
consumption are distributed over several cache lines and the scheduling
threads are mapped to one of those cache lines. The <code class="inline">erl</code> option
<a href="../../apps/erts/erl_cmd.html#%2Bdcg"><code class="inline">+dcg</code></a> can be used to control the number of
cache lines that the counters are distributed over.</p><p><a href="" id="new_2_compressed"></a></p></li><li><p><strong><code class="inline">compressed</code></strong>(Since OTP R14B01)<br/>If this option is present, the table data is stored in a more compact format
to consume less memory. However, it will make table operations slower.
Especially operations that need to inspect entire objects, such as <code class="inline">match</code> and
<code class="inline">select</code>, get much slower. The key element is not compressed.</p></li></ul>
  </section>
</section>
<section class="detail" id="next/2">

  <div class="detail-header">
    <a href="#next/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">next(Table, Key1)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L1177" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> next(Table, Key1) -> Key2 | '$end_of_table' when Table :: <a href="#t:table/0">table</a>(), Key1 :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), Key2 :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Returns the next key <code class="inline">Key2</code>, following key <code class="inline">Key1</code> in table <code class="inline">Table</code>. For table
type <code class="inline">ordered_set</code>, the next key in Erlang term order is returned. For other
table types, the next key according to the internal order of the table is
returned. If no next key exists, <code class="inline">'$end_of_table'</code> is returned.</p><p>To find the first key in the table, use <a href="#first/1"><code class="inline">first/1</code></a>.</p><p>Unless a table of type <code class="inline">set</code>, <code class="inline">bag</code>, or <code class="inline">duplicate_bag</code> is fixated using
<a href="#safe_fixtable/2"><code class="inline">safe_fixtable/2</code></a>, a call to <a href="#next/2"><code class="inline">next/2</code></a> will fail if <code class="inline">Key1</code> no longer
exists in the table. For table type <code class="inline">ordered_set</code>, the function always returns
the next key after <code class="inline">Key1</code> in term order, regardless whether <code class="inline">Key1</code> ever existed
in the table.</p>
  </section>
</section>
<section class="detail" id="next_lookup/2">

  <div class="detail-header">
    <a href="#next_lookup/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">next_lookup(Table, Key1)</h1>

        <span class="note">(since OTP 27.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L1194" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> next_lookup(Table, Key1) -> {Key2, [Object]} | '$end_of_table'
                     when Table :: <a href="#t:table/0">table</a>(), Key1 :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), Key2 :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), Object :: <a href="../../apps/erts/erlang.html#t:tuple/0">tuple</a>().</pre>

      </div>

<p>Similar to <a href="#next/2"><code class="inline">next/2</code></a> except that it returns the object(s) along with the key
stored in the table. This is equivalent to doing <a href="#next/2"><code class="inline">next/2</code></a> followed by a
<a href="#lookup/2"><code class="inline">lookup/2</code></a>. If no next key exists, <code class="inline">'$end_of_table'</code> is returned.</p><p>It can be interleaved with <a href="#next/2"><code class="inline">next/2</code></a> during traversal.</p>
  </section>
</section>
<section class="detail" id="prev/2">

  <div class="detail-header">
    <a href="#prev/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">prev(Table, Key1)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L1210" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> prev(Table, Key1) -> Key2 | '$end_of_table' when Table :: <a href="#t:table/0">table</a>(), Key1 :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), Key2 :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Returns the previous key <code class="inline">Key2</code>, preceding key <code class="inline">Key1</code> according to Erlang term
order in table <code class="inline">Table</code> of type <code class="inline">ordered_set</code>. For other table types, the
function is synonymous to <a href="#next/2"><code class="inline">next/2</code></a>. If no previous key exists, <code class="inline">'$end_of_table'</code>
is returned.</p><p>To find the last key in an <code class="inline">ordered_set</code> table, use <a href="#last/1"><code class="inline">last/1</code></a>.</p>
  </section>
</section>
<section class="detail" id="prev_lookup/2">

  <div class="detail-header">
    <a href="#prev_lookup/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">prev_lookup(Table, Key1)</h1>

        <span class="note">(since OTP 27.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L1227" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> prev_lookup(Table, Key1) -> {Key2, [Object]} | '$end_of_table'
                     when Table :: <a href="#t:table/0">table</a>(), Key1 :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), Key2 :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), Object :: <a href="../../apps/erts/erlang.html#t:tuple/0">tuple</a>().</pre>

      </div>

<p>Similar to <a href="#prev/2"><code class="inline">prev/2</code></a> except that it returns the object(s) along with the key
stored in the table. This is equivalent to doing <a href="#prev/2"><code class="inline">prev/2</code></a> followed by a
<a href="#lookup/2"><code class="inline">lookup/2</code></a>. If no previous key exists, <code class="inline">'$end_of_table'</code> is returned.</p><p>It can be interleaved with <a href="#prev/2"><code class="inline">prev/2</code></a> during traversal.</p>
  </section>
</section>
<section class="detail" id="rename/2">

  <div class="detail-header">
    <a href="#rename/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">rename(Table, Name)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L1239" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> rename(Table, Name) -> Name when Table :: <a href="#t:table/0">table</a>(), Name :: <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>().</pre>

      </div>

<p>Renames the named table <code class="inline">Table</code> to the new name <code class="inline">Name</code>. Afterwards, the old name
cannot be used to access the table. Renaming an unnamed table has no effect.</p>
  </section>
</section>
<section class="detail" id="repair_continuation/2">

  <div class="detail-header">
    <a href="#repair_continuation/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">repair_continuation(Continuation, MatchSpec)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L1935" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> repair_continuation(Continuation, MatchSpec) -> Continuation
                             when Continuation :: <a href="#t:continuation/0">continuation</a>(), MatchSpec :: <a href="#t:match_spec/0">match_spec</a>().</pre>

      </div>

<p>Restores an opaque continuation returned by <a href="#select/3"><code class="inline">select/3</code></a> or <a href="#select/1"><code class="inline">select/1</code></a> if the
continuation has passed through external term format (been sent between nodes or
stored on disk).</p><p>The reason for this function is that continuation terms contain compiled match
specifications and may therefore be invalidated if converted to external term
format. Given that the original match specification is kept intact, the
continuation can be restored, meaning it can once again be used in subsequent
<a href="#select/1"><code class="inline">select/1</code></a> calls even though it has been stored on disk or on
another node.</p><p><em>Examples:</em></p><p>The following sequence of calls may fail:</p><pre><code class="makeup erlang" translate="no"><span class="n">T</span><span class="o">=</span><span class="nc">ets</span><span class="p">:</span><span class="nf">new</span><span class="p" data-group-id="5585813087-1">(</span><span class="ss">x</span><span class="p">,</span><span class="p" data-group-id="5585813087-2">[</span><span class="p" data-group-id="5585813087-2">]</span><span class="p" data-group-id="5585813087-1">)</span><span class="p">,</span><span class="w">
</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="w">
</span><span class="n">MS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">ets</span><span class="p">:</span><span class="nf">fun2ms</span><span class="p" data-group-id="5585813087-3">(</span><span class="nf">fun</span><span class="p" data-group-id="5585813087-4">(</span><span class="p" data-group-id="5585813087-5">{</span><span class="n">N</span><span class="p">,</span><span class="p">_</span><span class="p" data-group-id="5585813087-5">}</span><span class="o">=</span><span class="n">A</span><span class="p" data-group-id="5585813087-4">)</span><span class="w"> </span><span class="nf">when</span><span class="w"> </span><span class="p" data-group-id="5585813087-6">(</span><span class="n">N</span><span class="w"> </span><span class="ow">rem</span><span class="w"> </span><span class="mi">10</span><span class="p" data-group-id="5585813087-6">)</span><span class="w"> </span><span class="o">=:=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="k">end</span><span class="p" data-group-id="5585813087-3">)</span><span class="p">,</span><span class="w">
</span><span class="p" data-group-id="5585813087-7">{</span><span class="p">_</span><span class="p">,</span><span class="n">C</span><span class="p" data-group-id="5585813087-7">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">ets</span><span class="p">:</span><span class="nf">select</span><span class="p" data-group-id="5585813087-8">(</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">MS</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p" data-group-id="5585813087-8">)</span><span class="p">,</span><span class="w">
</span><span class="n">MaybeBroken</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">binary_to_term</span><span class="p" data-group-id="5585813087-9">(</span><span class="nf">term_to_binary</span><span class="p" data-group-id="5585813087-10">(</span><span class="n">C</span><span class="p" data-group-id="5585813087-10">)</span><span class="p" data-group-id="5585813087-9">)</span><span class="p">,</span><span class="w">
</span><span class="nc">ets</span><span class="p">:</span><span class="nf">select</span><span class="p" data-group-id="5585813087-11">(</span><span class="n">MaybeBroken</span><span class="p" data-group-id="5585813087-11">)</span><span class="p">.</span></code></pre><p>The following sequence works, as the call to
<a href="#repair_continuation/2"><code class="inline">repair_continuation/2</code></a> reestablishes the
<code class="inline">MaybeBroken</code> continuation.</p><pre><code class="makeup erlang" translate="no"><span class="n">T</span><span class="o">=</span><span class="nc">ets</span><span class="p">:</span><span class="nf">new</span><span class="p" data-group-id="1123994528-1">(</span><span class="ss">x</span><span class="p">,</span><span class="p" data-group-id="1123994528-2">[</span><span class="p" data-group-id="1123994528-2">]</span><span class="p" data-group-id="1123994528-1">)</span><span class="p">,</span><span class="w">
</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="w">
</span><span class="n">MS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">ets</span><span class="p">:</span><span class="nf">fun2ms</span><span class="p" data-group-id="1123994528-3">(</span><span class="nf">fun</span><span class="p" data-group-id="1123994528-4">(</span><span class="p" data-group-id="1123994528-5">{</span><span class="n">N</span><span class="p">,</span><span class="p">_</span><span class="p" data-group-id="1123994528-5">}</span><span class="o">=</span><span class="n">A</span><span class="p" data-group-id="1123994528-4">)</span><span class="w"> </span><span class="nf">when</span><span class="w"> </span><span class="p" data-group-id="1123994528-6">(</span><span class="n">N</span><span class="w"> </span><span class="ow">rem</span><span class="w"> </span><span class="mi">10</span><span class="p" data-group-id="1123994528-6">)</span><span class="w"> </span><span class="o">=:=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="k">end</span><span class="p" data-group-id="1123994528-3">)</span><span class="p">,</span><span class="w">
</span><span class="p" data-group-id="1123994528-7">{</span><span class="p">_</span><span class="p">,</span><span class="n">C</span><span class="p" data-group-id="1123994528-7">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">ets</span><span class="p">:</span><span class="nf">select</span><span class="p" data-group-id="1123994528-8">(</span><span class="n">T</span><span class="p">,</span><span class="n">MS</span><span class="p">,</span><span class="mi">10</span><span class="p" data-group-id="1123994528-8">)</span><span class="p">,</span><span class="w">
</span><span class="n">MaybeBroken</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">binary_to_term</span><span class="p" data-group-id="1123994528-9">(</span><span class="nf">term_to_binary</span><span class="p" data-group-id="1123994528-10">(</span><span class="n">C</span><span class="p" data-group-id="1123994528-10">)</span><span class="p" data-group-id="1123994528-9">)</span><span class="p">,</span><span class="w">
</span><span class="nc">ets</span><span class="p">:</span><span class="nf">select</span><span class="p" data-group-id="1123994528-11">(</span><span class="nc">ets</span><span class="p">:</span><span class="nf">repair_continuation</span><span class="p" data-group-id="1123994528-12">(</span><span class="n">MaybeBroken</span><span class="p">,</span><span class="n">MS</span><span class="p" data-group-id="1123994528-12">)</span><span class="p" data-group-id="1123994528-11">)</span><span class="p">.</span></code></pre><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>This function is rarely needed in application code. It is used by Mnesia to
provide distributed <a href="#select/3"><code class="inline">select/3</code></a> and <a href="#select/1"><code class="inline">select/1</code></a>
sequences. A normal application would either use Mnesia or keep the
continuation from being converted to external format.</p><p>The actual behavior of compiled match specifications when recreated from
external format has changed and may change in future releases, but this
interface remains for backward compatibility. See <a href="#is_compiled_ms/1"><code class="inline">is_compiled_ms/1</code></a>.</p></section>
  </section>
</section>
<section class="detail" id="safe_fixtable/2">

  <div class="detail-header">
    <a href="#safe_fixtable/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">safe_fixtable(Table, Fix)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L1301" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> safe_fixtable(Table, Fix) -> true when Table :: <a href="#t:table/0">table</a>(), Fix :: <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>().</pre>

      </div>

<p>Fixes a table of type <code class="inline">set</code>, <code class="inline">bag</code>, or <code class="inline">duplicate_bag</code> for
<a href="ets.html#traversal">safe traversal</a> using <a href="#first/1"><code class="inline">first/1</code></a> &amp; <a href="#next/2"><code class="inline">next/2</code></a>, <a href="#match/3"><code class="inline">match/3</code></a> &amp;
<a href="#match/1"><code class="inline">match/1</code></a>, <a href="#match_object/3"><code class="inline">match_object/3</code></a> &amp; <a href="#match_object/1"><code class="inline">match_object/1</code></a>, or <a href="#select/3"><code class="inline">select/3</code></a> &amp; <a href="#select/1"><code class="inline">select/1</code></a>.</p><p>A process fixes a table by calling
<a href="#safe_fixtable/2"><code class="inline">safe_fixtable(Table, true)</code></a>. The table remains fixed until
the process releases it by calling
<a href="#safe_fixtable/2"><code class="inline">safe_fixtable(Table, false)</code></a>, or until the process
terminates.</p><p>If many processes fix a table, the table remains fixed until all processes have
released it (or terminated). A reference counter is kept on a per process basis,
and N consecutive fixes requires N releases to release the table.</p><p>When a table is fixed, a sequence of <a href="#first/1"><code class="inline">first/1</code></a> and <a href="#next/2"><code class="inline">next/2</code></a> calls are guaranteed
to succeed even if keys are removed during the traversal. The keys for objects
inserted or deleted during a traversal may or may not be returned by
<a href="#next/2"><code class="inline">next/2</code></a> depending on the ordering of keys within the table and if
the key exists at the time <a href="#next/2"><code class="inline">next/2</code></a> is called.</p><p><em>Example:</em></p><pre><code class="makeup erlang" translate="no"><span class="nf">clean_all_with_value</span><span class="p" data-group-id="2707705960-1">(</span><span class="n">Table</span><span class="p">,</span><span class="n">X</span><span class="p" data-group-id="2707705960-1">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nf">safe_fixtable</span><span class="p" data-group-id="2707705960-2">(</span><span class="n">Table</span><span class="p">,</span><span class="ss">true</span><span class="p" data-group-id="2707705960-2">)</span><span class="p">,</span><span class="w">
    </span><span class="nf">clean_all_with_value</span><span class="p" data-group-id="2707705960-3">(</span><span class="n">Table</span><span class="p">,</span><span class="n">X</span><span class="p">,</span><span class="nc">ets</span><span class="p">:</span><span class="nf">first</span><span class="p" data-group-id="2707705960-4">(</span><span class="n">Table</span><span class="p" data-group-id="2707705960-4">)</span><span class="p" data-group-id="2707705960-3">)</span><span class="p">,</span><span class="w">
    </span><span class="nf">safe_fixtable</span><span class="p" data-group-id="2707705960-5">(</span><span class="n">Table</span><span class="p">,</span><span class="ss">false</span><span class="p" data-group-id="2707705960-5">)</span><span class="p">.</span><span class="w">

</span><span class="nf">clean_all_with_value</span><span class="p" data-group-id="2707705960-6">(</span><span class="n">Table</span><span class="p">,</span><span class="n">X</span><span class="p">,</span><span class="ss">&#39;$end_of_table&#39;</span><span class="p" data-group-id="2707705960-6">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="ss">true</span><span class="p">;</span><span class="w">
</span><span class="nf">clean_all_with_value</span><span class="p" data-group-id="2707705960-7">(</span><span class="n">Table</span><span class="p">,</span><span class="n">X</span><span class="p">,</span><span class="n">Key</span><span class="p" data-group-id="2707705960-7">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="k">case</span><span class="w"> </span><span class="nc">ets</span><span class="p">:</span><span class="nf">lookup</span><span class="p" data-group-id="2707705960-8">(</span><span class="n">Table</span><span class="p">,</span><span class="n">Key</span><span class="p" data-group-id="2707705960-8">)</span><span class="w"> </span><span class="k">of</span><span class="w">
        </span><span class="p" data-group-id="2707705960-9">[</span><span class="p" data-group-id="2707705960-10">{</span><span class="n">Key</span><span class="p">,</span><span class="n">X</span><span class="p" data-group-id="2707705960-10">}</span><span class="p" data-group-id="2707705960-9">]</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="nc">ets</span><span class="p">:</span><span class="nf">delete</span><span class="p" data-group-id="2707705960-11">(</span><span class="n">Table</span><span class="p">,</span><span class="n">Key</span><span class="p" data-group-id="2707705960-11">)</span><span class="p">;</span><span class="w">
        </span><span class="p">_</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="ss">true</span><span class="w">
    </span><span class="k">end</span><span class="p">,</span><span class="w">
    </span><span class="nf">clean_all_with_value</span><span class="p" data-group-id="2707705960-12">(</span><span class="n">Table</span><span class="p">,</span><span class="n">X</span><span class="p">,</span><span class="nc">ets</span><span class="p">:</span><span class="nf">next</span><span class="p" data-group-id="2707705960-13">(</span><span class="n">Table</span><span class="p">,</span><span class="n">Key</span><span class="p" data-group-id="2707705960-13">)</span><span class="p" data-group-id="2707705960-12">)</span><span class="p">.</span></code></pre><p>Notice that deleted objects are not freed from a fixed table until it has been
released. If a process fixes a table but never releases it, the memory used by
the deleted objects is never freed. The performance of operations on the table
also degrades significantly.</p><p>To retrieve information about which processes have fixed which tables, use
<a href="ets.html#info_2_safe_fixed_monotonic_time"><code class="inline">info(Table, safe_fixed_monotonic_time)</code></a>.
A system with many processes fixing tables can need a monitor that sends alarms
when tables have been fixed for too long.</p><p>Notice that <a href="#safe_fixtable/2"><code class="inline">safe_fixtable/2</code></a> is not necessary for table
type <code class="inline">ordered_set</code> and for traversals done by a single ETS function call, like
<a href="#select/2"><code class="inline">select/2</code></a>.</p>
  </section>
</section>
<section class="detail" id="select/1">

  <div class="detail-header">
    <a href="#select/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">select(Continuation)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L1455" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> select(Continuation) -> {[Match], Continuation} | '$end_of_table'
                when Match :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), Continuation :: <a href="#t:continuation/0">continuation</a>().</pre>

      </div>

<p>Continues a match started with <a href="#select/3"><code class="inline">select/3</code></a>. The next chunk of the size specified
in the initial <a href="#select/3"><code class="inline">select/3</code></a> call is returned together with a new
<code class="inline">Continuation</code>, which can be used in subsequent calls to this function.</p><p>When there are no more objects in the table, <code class="inline">'$end_of_table'</code> is returned.</p>
  </section>
</section>
<section class="detail" id="select/2">

  <div class="detail-header">
    <a href="#select/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">select(Table, MatchSpec)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L1418" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> select(Table, MatchSpec) -> [Match]
                when Table :: <a href="#t:table/0">table</a>(), MatchSpec :: <a href="#t:match_spec/0">match_spec</a>(), Match :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Matches the objects in table <code class="inline">Table</code> using a
<a href="ets.html#match_spec">match specification</a>. This is a more general call than
<a href="#match/2"><code class="inline">match/2</code></a> and <a href="#match_object/2"><code class="inline">match_object/2</code></a> calls. In its simplest form, the match
specification is as follows:</p><pre><code class="text">MatchSpec = [MatchFunction]
MatchFunction = {MatchHead, [Guard], [Result]}
MatchHead = &quot;Pattern as in ets:match&quot;
Guard = {&quot;Guardtest name&quot;, ...}
Result = &quot;Term construct&quot;</code></pre><p>This means that the match specification is always a list of one or more tuples
(of arity 3). The first element of the tuple is to be a pattern as described in
<a href="#match/2"><code class="inline">match/2</code></a>. The second element of the tuple is to be a list of 0 or more guard
tests (described below). The third element of the tuple is to be a list
containing a description of the value to return. In almost all normal cases, the
list contains exactly one term that fully describes the value to return for each
object.</p><p>The return value is constructed using the &quot;match variables&quot; bound in <code class="inline">MatchHead</code>
or using the special match variables <code class="inline">'$_'</code> (the whole matching object) and
<code class="inline">'$$'</code> (all match variables in a list), so that the following
<a href="#match/2"><code class="inline">match/2</code></a> expression:</p><pre><code class="makeup erlang" translate="no"><span class="nc">ets</span><span class="p">:</span><span class="nf">match</span><span class="p" data-group-id="7318664898-1">(</span><span class="n">Table</span><span class="p">,</span><span class="p" data-group-id="7318664898-2">{</span><span class="ss">&#39;$1&#39;</span><span class="p">,</span><span class="ss">&#39;$2&#39;</span><span class="p">,</span><span class="ss">&#39;$3&#39;</span><span class="p" data-group-id="7318664898-2">}</span><span class="p" data-group-id="7318664898-1">)</span></code></pre><p>is exactly equivalent to:</p><pre><code class="makeup erlang" translate="no"><span class="nc">ets</span><span class="p">:</span><span class="nf">select</span><span class="p" data-group-id="5736367668-1">(</span><span class="n">Table</span><span class="p">,</span><span class="p" data-group-id="5736367668-2">[</span><span class="p" data-group-id="5736367668-3">{</span><span class="p" data-group-id="5736367668-4">{</span><span class="ss">&#39;$1&#39;</span><span class="p">,</span><span class="ss">&#39;$2&#39;</span><span class="p">,</span><span class="ss">&#39;$3&#39;</span><span class="p" data-group-id="5736367668-4">}</span><span class="p">,</span><span class="p" data-group-id="5736367668-5">[</span><span class="p" data-group-id="5736367668-5">]</span><span class="p">,</span><span class="p" data-group-id="5736367668-6">[</span><span class="ss">&#39;$$&#39;</span><span class="p" data-group-id="5736367668-6">]</span><span class="p" data-group-id="5736367668-3">}</span><span class="p" data-group-id="5736367668-2">]</span><span class="p" data-group-id="5736367668-1">)</span></code></pre><p>And that the following <a href="#match_object/2"><code class="inline">match_object/2</code></a> call:</p><pre><code class="makeup erlang" translate="no"><span class="nc">ets</span><span class="p">:</span><span class="nf">match_object</span><span class="p" data-group-id="4719222273-1">(</span><span class="n">Table</span><span class="p">,</span><span class="p" data-group-id="4719222273-2">{</span><span class="ss">&#39;$1&#39;</span><span class="p">,</span><span class="ss">&#39;$2&#39;</span><span class="p">,</span><span class="ss">&#39;$1&#39;</span><span class="p" data-group-id="4719222273-2">}</span><span class="p" data-group-id="4719222273-1">)</span></code></pre><p>is exactly equivalent to</p><pre><code class="makeup erlang" translate="no"><span class="nc">ets</span><span class="p">:</span><span class="nf">select</span><span class="p" data-group-id="9373540011-1">(</span><span class="n">Table</span><span class="p">,</span><span class="p" data-group-id="9373540011-2">[</span><span class="p" data-group-id="9373540011-3">{</span><span class="p" data-group-id="9373540011-4">{</span><span class="ss">&#39;$1&#39;</span><span class="p">,</span><span class="ss">&#39;$2&#39;</span><span class="p">,</span><span class="ss">&#39;$1&#39;</span><span class="p" data-group-id="9373540011-4">}</span><span class="p">,</span><span class="p" data-group-id="9373540011-5">[</span><span class="p" data-group-id="9373540011-5">]</span><span class="p">,</span><span class="p" data-group-id="9373540011-6">[</span><span class="ss">&#39;$_&#39;</span><span class="p" data-group-id="9373540011-6">]</span><span class="p" data-group-id="9373540011-3">}</span><span class="p" data-group-id="9373540011-2">]</span><span class="p" data-group-id="9373540011-1">)</span></code></pre><p>Composite terms can be constructed in the <code class="inline">Result</code> part either by simply writing
a list, so that the following code:</p><pre><code class="makeup erlang" translate="no"><span class="nc">ets</span><span class="p">:</span><span class="nf">select</span><span class="p" data-group-id="5192244435-1">(</span><span class="n">Table</span><span class="p">,</span><span class="p" data-group-id="5192244435-2">[</span><span class="p" data-group-id="5192244435-3">{</span><span class="p" data-group-id="5192244435-4">{</span><span class="ss">&#39;$1&#39;</span><span class="p">,</span><span class="ss">&#39;$2&#39;</span><span class="p">,</span><span class="ss">&#39;$3&#39;</span><span class="p" data-group-id="5192244435-4">}</span><span class="p">,</span><span class="p" data-group-id="5192244435-5">[</span><span class="p" data-group-id="5192244435-5">]</span><span class="p">,</span><span class="p" data-group-id="5192244435-6">[</span><span class="ss">&#39;$$&#39;</span><span class="p" data-group-id="5192244435-6">]</span><span class="p" data-group-id="5192244435-3">}</span><span class="p" data-group-id="5192244435-2">]</span><span class="p" data-group-id="5192244435-1">)</span></code></pre><p>gives the same output as:</p><pre><code class="makeup erlang" translate="no"><span class="nc">ets</span><span class="p">:</span><span class="nf">select</span><span class="p" data-group-id="4374101016-1">(</span><span class="n">Table</span><span class="p">,</span><span class="p" data-group-id="4374101016-2">[</span><span class="p" data-group-id="4374101016-3">{</span><span class="p" data-group-id="4374101016-4">{</span><span class="ss">&#39;$1&#39;</span><span class="p">,</span><span class="ss">&#39;$2&#39;</span><span class="p">,</span><span class="ss">&#39;$3&#39;</span><span class="p" data-group-id="4374101016-4">}</span><span class="p">,</span><span class="p" data-group-id="4374101016-5">[</span><span class="p" data-group-id="4374101016-5">]</span><span class="p">,</span><span class="p" data-group-id="4374101016-6">[</span><span class="p" data-group-id="4374101016-7">[</span><span class="ss">&#39;$1&#39;</span><span class="p">,</span><span class="ss">&#39;$2&#39;</span><span class="p">,</span><span class="ss">&#39;$3&#39;</span><span class="p" data-group-id="4374101016-7">]</span><span class="p" data-group-id="4374101016-6">]</span><span class="p" data-group-id="4374101016-3">}</span><span class="p" data-group-id="4374101016-2">]</span><span class="p" data-group-id="4374101016-1">)</span></code></pre><p>That is, all the bound variables in the match head as a list. If tuples are to
be constructed, one has to write a tuple of arity 1 where the single element in
the tuple is the tuple one wants to construct (as an ordinary tuple can be
mistaken for a <code class="inline">Guard</code>).</p><p>Therefore the following call:</p><pre><code class="makeup erlang" translate="no"><span class="nc">ets</span><span class="p">:</span><span class="nf">select</span><span class="p" data-group-id="2469922430-1">(</span><span class="n">Table</span><span class="p">,</span><span class="p" data-group-id="2469922430-2">[</span><span class="p" data-group-id="2469922430-3">{</span><span class="p" data-group-id="2469922430-4">{</span><span class="ss">&#39;$1&#39;</span><span class="p">,</span><span class="ss">&#39;$2&#39;</span><span class="p">,</span><span class="ss">&#39;$1&#39;</span><span class="p" data-group-id="2469922430-4">}</span><span class="p">,</span><span class="p" data-group-id="2469922430-5">[</span><span class="p" data-group-id="2469922430-5">]</span><span class="p">,</span><span class="p" data-group-id="2469922430-6">[</span><span class="ss">&#39;$_&#39;</span><span class="p" data-group-id="2469922430-6">]</span><span class="p" data-group-id="2469922430-3">}</span><span class="p" data-group-id="2469922430-2">]</span><span class="p" data-group-id="2469922430-1">)</span></code></pre><p>gives the same output as:</p><pre><code class="makeup erlang" translate="no"><span class="nc">ets</span><span class="p">:</span><span class="nf">select</span><span class="p" data-group-id="9149490455-1">(</span><span class="n">Table</span><span class="p">,</span><span class="p" data-group-id="9149490455-2">[</span><span class="p" data-group-id="9149490455-3">{</span><span class="p" data-group-id="9149490455-4">{</span><span class="ss">&#39;$1&#39;</span><span class="p">,</span><span class="ss">&#39;$2&#39;</span><span class="p">,</span><span class="ss">&#39;$1&#39;</span><span class="p" data-group-id="9149490455-4">}</span><span class="p">,</span><span class="p" data-group-id="9149490455-5">[</span><span class="p" data-group-id="9149490455-5">]</span><span class="p">,</span><span class="p" data-group-id="9149490455-6">[</span><span class="p" data-group-id="9149490455-7">{</span><span class="p" data-group-id="9149490455-8">{</span><span class="ss">&#39;$1&#39;</span><span class="p">,</span><span class="ss">&#39;$2&#39;</span><span class="p">,</span><span class="ss">&#39;$3&#39;</span><span class="p" data-group-id="9149490455-8">}</span><span class="p" data-group-id="9149490455-7">}</span><span class="p" data-group-id="9149490455-6">]</span><span class="p" data-group-id="9149490455-3">}</span><span class="p" data-group-id="9149490455-2">]</span><span class="p" data-group-id="9149490455-1">)</span></code></pre><p>This syntax is equivalent to the syntax used in the trace patterns (see the
<a href="../../apps/runtime_tools/dbg.html"><code class="inline">dbg</code></a>) module in Runtime_Tools.</p><p>The <code class="inline">Guard</code>s are constructed as tuples, where the first element is the test name
and the remaining elements are the test parameters. To check for a specific type
(say a list) of the element bound to the match variable <code class="inline">'$1'</code>, one would write
the test as <code class="inline">{is_list, '$1'}</code>. If the test fails, the object in the table does
not match and the next <code class="inline">MatchFunction</code> (if any) is tried. Most guard tests
present in Erlang can be used, but only the new versions prefixed <code class="inline">is_</code> are
allowed (<code class="inline">is_float</code>, <code class="inline">is_atom</code>, and so on).</p><p>The <code class="inline">Guard</code> section can also contain logic and arithmetic operations, which are
written with the same syntax as the guard tests (prefix notation), so that the
following guard test written in Erlang:</p><pre><code class="makeup erlang" translate="no"><span class="nf">is_integer</span><span class="p" data-group-id="6975544774-1">(</span><span class="n">X</span><span class="p" data-group-id="6975544774-1">)</span><span class="p">,</span><span class="w"> </span><span class="nf">is_integer</span><span class="p" data-group-id="6975544774-2">(</span><span class="n">Y</span><span class="p" data-group-id="6975544774-2">)</span><span class="p">,</span><span class="w"> </span><span class="n">X</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Y</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">4711</span></code></pre><p>is expressed as follows (<code class="inline">X</code> replaced with <code class="inline">'$1'</code> and <code class="inline">Y</code> with <code class="inline">'$2'</code>):</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="2272636994-1">[</span><span class="p" data-group-id="2272636994-2">{</span><span class="nb">is_integer</span><span class="p">,</span><span class="w"> </span><span class="ss">&#39;$1&#39;</span><span class="p" data-group-id="2272636994-2">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2272636994-3">{</span><span class="nb">is_integer</span><span class="p">,</span><span class="w"> </span><span class="ss">&#39;$2&#39;</span><span class="p" data-group-id="2272636994-3">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2272636994-4">{</span><span class="ss">&#39;&lt;&#39;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2272636994-5">{</span><span class="ss">&#39;+&#39;</span><span class="p">,</span><span class="w"> </span><span class="ss">&#39;$1&#39;</span><span class="p">,</span><span class="w"> </span><span class="ss">&#39;$2&#39;</span><span class="p" data-group-id="2272636994-5">}</span><span class="p">,</span><span class="w"> </span><span class="mi">4711</span><span class="p" data-group-id="2272636994-4">}</span><span class="p" data-group-id="2272636994-1">]</span></code></pre><p>For tables of type <code class="inline">ordered_set</code>, objects are visited in the same order as in a
<code class="inline">first</code>/<code class="inline">next</code> traversal. This means that the match specification is executed
against objects with keys in the <code class="inline">first</code>/<code class="inline">next</code> order and the corresponding
result list is in the order of that execution.</p>
  </section>
</section>
<section class="detail" id="select/3">

  <div class="detail-header">
    <a href="#select/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">select(Table, MatchSpec, Limit)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L1441" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> select(Table, MatchSpec, Limit) -> {[Match], Continuation} | '$end_of_table'
                when
                    Table :: <a href="#t:table/0">table</a>(),
                    MatchSpec :: <a href="#t:match_spec/0">match_spec</a>(),
                    Limit :: <a href="../../apps/erts/erlang.html#t:pos_integer/0">pos_integer</a>(),
                    Match :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                    Continuation :: <a href="#t:continuation/0">continuation</a>().</pre>

      </div>

<p>Works like <a href="#select/2"><code class="inline">select/2</code></a>, but only returns a limited (<code class="inline">Limit</code>) number of matching
objects. Term <code class="inline">Continuation</code> can then be used in subsequent calls to <a href="#select/1"><code class="inline">select/1</code></a>
to get the next chunk of matching objects. This is a space-efficient way to work
on objects in a table, which is still faster than traversing the table object by
object using <a href="#first/1"><code class="inline">first/1</code></a> and <a href="#next/2"><code class="inline">next/2</code></a>.</p><p>If the table is empty, <code class="inline">'$end_of_table'</code> is returned.</p><p>Use <a href="#safe_fixtable/2"><code class="inline">safe_fixtable/2</code></a> to guarantee <a href="ets.html#traversal">safe traversal</a> for
subsequent calls to <a href="#select/1"><code class="inline">select/1</code></a>.</p>
  </section>
</section>
<section class="detail" id="select_count/2">

  <div class="detail-header">
    <a href="#select_count/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">select_count(Table, MatchSpec)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L1472" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> select_count(Table, MatchSpec) -> NumMatched
                      when Table :: <a href="#t:table/0">table</a>(), MatchSpec :: <a href="#t:match_spec/0">match_spec</a>(), NumMatched :: <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>().</pre>

      </div>

<p>Matches the objects in table <code class="inline">Table</code> using a
<a href="ets.html#match_spec">match specification</a>. If and only if the match specification
returns <code class="inline">true</code> for an object, that object is considered a match and is counted.
For any other result from the match specification the object is not considered a
match and is therefore not counted.</p><p>The function returns the number of objects matched.</p>
  </section>
</section>
<section class="detail" id="select_delete/2">

  <div class="detail-header">
    <a href="#select_delete/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">select_delete(Table, MatchSpec)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L1495" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> select_delete(Table, MatchSpec) -> NumDeleted
                       when Table :: <a href="#t:table/0">table</a>(), MatchSpec :: <a href="#t:match_spec/0">match_spec</a>(), NumDeleted :: <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>().</pre>

      </div>

<p>Matches the objects in table <code class="inline">Table</code> using a
<a href="ets.html#match_spec">match specification</a>. If and only if the match
specification returns <code class="inline">true</code> for an object, that object is removed from the
table. For any other result from the match specification the object is
retained. This is a more general function than <a href="#match_delete/2"><code class="inline">match_delete/2</code></a>.</p><p>The function returns the number of objects deleted from the table.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>The match specification has to return the atom <code class="inline">true</code> if the object is to be
deleted. No other return value gets the object deleted. So one cannot use the
same match specification for looking up elements as for deleting them.</p></section>
  </section>
</section>
<section class="detail" id="select_replace/2">

  <div class="detail-header">
    <a href="#select_replace/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">select_replace(Table, MatchSpec)</h1>

        <span class="note">(since OTP 20.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L1557" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> select_replace(Table, MatchSpec) -> NumReplaced
                        when
                            Table :: <a href="#t:table/0">table</a>(),
                            MatchSpec :: <a href="#t:match_spec/0">match_spec</a>(),
                            NumReplaced :: <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>().</pre>

      </div>

<p>Matches the objects in the table <code class="inline">Table</code> using a
<a href="ets.html#match_spec">match specification</a>. For each matched object, the existing
object is replaced with the match specification result.</p><p>The match-and-replace operation for each individual object is guaranteed to be
<a href="ets.html#module-concurrency">atomic and isolated</a>. The <code class="inline">select_replace</code> table traversal
as a whole, like all other select functions, does not give such guarantees.</p><p>The match specification must be guaranteed to <em>retain the key</em> of any matched
object. If not, <code class="inline">select_replace</code> will fail with <code class="inline">badarg</code> without updating any
objects.</p><p>For the moment, due to performance and semantic constraints, tables of type
<code class="inline">bag</code> are not yet supported.</p><p>The function returns the total number of replaced objects.</p><p><em>Example</em></p><p>For all 2-tuples with a list in second position, add atom <code class="inline">'marker'</code> first in
the list:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="n">T</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">ets</span><span class="p">:</span><span class="nf">new</span><span class="p" data-group-id="0492095302-1">(</span><span class="ss">x</span><span class="p">,</span><span class="p" data-group-id="0492095302-2">[</span><span class="p" data-group-id="0492095302-2">]</span><span class="p" data-group-id="0492095302-1">)</span><span class="p">,</span><span class="w"> </span><span class="nc">ets</span><span class="p">:</span><span class="nf">insert</span><span class="p" data-group-id="0492095302-3">(</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0492095302-4">{</span><span class="ss">key</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0492095302-5">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p" data-group-id="0492095302-5">]</span><span class="p" data-group-id="0492095302-4">}</span><span class="p" data-group-id="0492095302-3">)</span><span class="p">.</span><span class="w">
</span><span class="ss">true</span><span class="gp unselectable">
2&gt; </span><span class="n">MS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">ets</span><span class="p">:</span><span class="nf">fun2ms</span><span class="p" data-group-id="0492095302-6">(</span><span class="nf">fun</span><span class="p" data-group-id="0492095302-7">(</span><span class="p" data-group-id="0492095302-8">{</span><span class="n">K</span><span class="p">,</span><span class="w"> </span><span class="n">L</span><span class="p" data-group-id="0492095302-8">}</span><span class="p" data-group-id="0492095302-7">)</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="nf">is_list</span><span class="p" data-group-id="0492095302-9">(</span><span class="n">L</span><span class="p" data-group-id="0492095302-9">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="p" data-group-id="0492095302-10">{</span><span class="n">K</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0492095302-11">[</span><span class="ss">marker</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="n">L</span><span class="p" data-group-id="0492095302-11">]</span><span class="p" data-group-id="0492095302-10">}</span><span class="w"> </span><span class="k">end</span><span class="p" data-group-id="0492095302-6">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="0492095302-12">[</span><span class="p" data-group-id="0492095302-13">{</span><span class="p" data-group-id="0492095302-14">{</span><span class="ss">&#39;$1&#39;</span><span class="p">,</span><span class="ss">&#39;$2&#39;</span><span class="p" data-group-id="0492095302-14">}</span><span class="p">,</span><span class="p" data-group-id="0492095302-15">[</span><span class="p" data-group-id="0492095302-16">{</span><span class="nb">is_list</span><span class="p">,</span><span class="ss">&#39;$2&#39;</span><span class="p" data-group-id="0492095302-16">}</span><span class="p" data-group-id="0492095302-15">]</span><span class="p">,</span><span class="p" data-group-id="0492095302-17">[</span><span class="p" data-group-id="0492095302-18">{</span><span class="p" data-group-id="0492095302-19">{</span><span class="ss">&#39;$1&#39;</span><span class="p">,</span><span class="p" data-group-id="0492095302-20">[</span><span class="ss">marker</span><span class="p">|</span><span class="ss">&#39;$2&#39;</span><span class="p" data-group-id="0492095302-20">]</span><span class="p" data-group-id="0492095302-19">}</span><span class="p" data-group-id="0492095302-18">}</span><span class="p" data-group-id="0492095302-17">]</span><span class="p" data-group-id="0492095302-13">}</span><span class="p" data-group-id="0492095302-12">]</span><span class="gp unselectable">
3&gt; </span><span class="nc">ets</span><span class="p">:</span><span class="nf">select_replace</span><span class="p" data-group-id="0492095302-21">(</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">MS</span><span class="p" data-group-id="0492095302-21">)</span><span class="p">.</span><span class="w">
</span><span class="mi">1</span><span class="gp unselectable">
4&gt; </span><span class="nc">ets</span><span class="p">:</span><span class="nf">tab2list</span><span class="p" data-group-id="0492095302-22">(</span><span class="n">T</span><span class="p" data-group-id="0492095302-22">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="0492095302-23">[</span><span class="p" data-group-id="0492095302-24">{</span><span class="ss">key</span><span class="p">,</span><span class="p" data-group-id="0492095302-25">[</span><span class="ss">marker</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p" data-group-id="0492095302-25">]</span><span class="p" data-group-id="0492095302-24">}</span><span class="p" data-group-id="0492095302-23">]</span></code></pre><p>A generic single object compare-and-swap operation:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="3212720131-1">[</span><span class="n">Old</span><span class="p" data-group-id="3212720131-1">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">ets</span><span class="p">:</span><span class="nf">lookup</span><span class="p" data-group-id="3212720131-2">(</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">Key</span><span class="p" data-group-id="3212720131-2">)</span><span class="p">,</span><span class="w">
</span><span class="n">New</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">update_object</span><span class="p" data-group-id="3212720131-3">(</span><span class="n">Old</span><span class="p" data-group-id="3212720131-3">)</span><span class="p">,</span><span class="w">
</span><span class="n">Success</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="3212720131-4">(</span><span class="mi">1</span><span class="w"> </span><span class="o">=:=</span><span class="w"> </span><span class="nc">ets</span><span class="p">:</span><span class="nf">select_replace</span><span class="p" data-group-id="3212720131-5">(</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3212720131-6">[</span><span class="p" data-group-id="3212720131-7">{</span><span class="n">Old</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3212720131-8">[</span><span class="p" data-group-id="3212720131-8">]</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3212720131-9">[</span><span class="p" data-group-id="3212720131-10">{</span><span class="ss">const</span><span class="p">,</span><span class="w"> </span><span class="n">New</span><span class="p" data-group-id="3212720131-10">}</span><span class="p" data-group-id="3212720131-9">]</span><span class="p" data-group-id="3212720131-7">}</span><span class="p" data-group-id="3212720131-6">]</span><span class="p" data-group-id="3212720131-5">)</span><span class="p" data-group-id="3212720131-4">)</span><span class="p">,</span></code></pre>
  </section>
</section>
<section class="detail" id="select_reverse/1">

  <div class="detail-header">
    <a href="#select_reverse/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">select_reverse(Continuation)</h1>

        <span class="note">(since OTP R14B)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L1631" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> select_reverse(Continuation) -> {[Match], Continuation} | '$end_of_table'
                        when Continuation :: <a href="#t:continuation/0">continuation</a>(), Match :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Continues a match started with <a href="#select_reverse/3"><code class="inline">select_reverse/3</code></a>. For tables of type
<code class="inline">ordered_set</code>, the traversal of the table continues to objects with keys earlier
in the Erlang term order. The returned list also contains objects with keys in
reverse order. For all other table types, the behavior is exactly that of
<a href="#select/1"><code class="inline">select/1</code></a>.</p><p><em>Example:</em></p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="n">T</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">ets</span><span class="p">:</span><span class="nf">new</span><span class="p" data-group-id="1386836829-1">(</span><span class="ss">x</span><span class="p">,</span><span class="p" data-group-id="1386836829-2">[</span><span class="ss">ordered_set</span><span class="p" data-group-id="1386836829-2">]</span><span class="p" data-group-id="1386836829-1">)</span><span class="p">.</span><span class="gp unselectable">
2&gt; </span><span class="p" data-group-id="1386836829-3">[</span><span class="w"> </span><span class="nc">ets</span><span class="p">:</span><span class="nf">insert</span><span class="p" data-group-id="1386836829-4">(</span><span class="n">T</span><span class="p">,</span><span class="p" data-group-id="1386836829-5">{</span><span class="n">N</span><span class="p" data-group-id="1386836829-5">}</span><span class="p" data-group-id="1386836829-4">)</span><span class="w"> </span><span class="p">||</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nc">lists</span><span class="p">:</span><span class="nf">seq</span><span class="p" data-group-id="1386836829-6">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p" data-group-id="1386836829-6">)</span><span class="w"> </span><span class="p" data-group-id="1386836829-3">]</span><span class="p">.</span><span class="w">
</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="gp unselectable">
3&gt; </span><span class="p" data-group-id="1386836829-7">{</span><span class="n">R0</span><span class="p">,</span><span class="n">C0</span><span class="p" data-group-id="1386836829-7">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">ets</span><span class="p">:</span><span class="nf">select_reverse</span><span class="p" data-group-id="1386836829-8">(</span><span class="n">T</span><span class="p">,</span><span class="p" data-group-id="1386836829-9">[</span><span class="p" data-group-id="1386836829-10">{</span><span class="ss">&#39;_&#39;</span><span class="p">,</span><span class="p" data-group-id="1386836829-11">[</span><span class="p" data-group-id="1386836829-11">]</span><span class="p">,</span><span class="p" data-group-id="1386836829-12">[</span><span class="ss">&#39;$_&#39;</span><span class="p" data-group-id="1386836829-12">]</span><span class="p" data-group-id="1386836829-10">}</span><span class="p" data-group-id="1386836829-9">]</span><span class="p">,</span><span class="mi">4</span><span class="p" data-group-id="1386836829-8">)</span><span class="p">.</span><span class="w">
</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="gp unselectable">
4&gt; </span><span class="n">R0</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="1386836829-13">[</span><span class="p" data-group-id="1386836829-14">{</span><span class="mi">10</span><span class="p" data-group-id="1386836829-14">}</span><span class="p">,</span><span class="p" data-group-id="1386836829-15">{</span><span class="mi">9</span><span class="p" data-group-id="1386836829-15">}</span><span class="p">,</span><span class="p" data-group-id="1386836829-16">{</span><span class="mi">8</span><span class="p" data-group-id="1386836829-16">}</span><span class="p">,</span><span class="p" data-group-id="1386836829-17">{</span><span class="mi">7</span><span class="p" data-group-id="1386836829-17">}</span><span class="p" data-group-id="1386836829-13">]</span><span class="gp unselectable">
5&gt; </span><span class="p" data-group-id="1386836829-18">{</span><span class="n">R1</span><span class="p">,</span><span class="n">C1</span><span class="p" data-group-id="1386836829-18">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">ets</span><span class="p">:</span><span class="nf">select_reverse</span><span class="p" data-group-id="1386836829-19">(</span><span class="n">C0</span><span class="p" data-group-id="1386836829-19">)</span><span class="p">.</span><span class="w">
</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="gp unselectable">
6&gt; </span><span class="n">R1</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="1386836829-20">[</span><span class="p" data-group-id="1386836829-21">{</span><span class="mi">6</span><span class="p" data-group-id="1386836829-21">}</span><span class="p">,</span><span class="p" data-group-id="1386836829-22">{</span><span class="mi">5</span><span class="p" data-group-id="1386836829-22">}</span><span class="p">,</span><span class="p" data-group-id="1386836829-23">{</span><span class="mi">4</span><span class="p" data-group-id="1386836829-23">}</span><span class="p">,</span><span class="p" data-group-id="1386836829-24">{</span><span class="mi">3</span><span class="p" data-group-id="1386836829-24">}</span><span class="p" data-group-id="1386836829-20">]</span><span class="gp unselectable">
7&gt; </span><span class="p" data-group-id="1386836829-25">{</span><span class="n">R2</span><span class="p">,</span><span class="n">C2</span><span class="p" data-group-id="1386836829-25">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">ets</span><span class="p">:</span><span class="nf">select_reverse</span><span class="p" data-group-id="1386836829-26">(</span><span class="n">C1</span><span class="p" data-group-id="1386836829-26">)</span><span class="p">.</span><span class="w">
</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="gp unselectable">
8&gt; </span><span class="n">R2</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="1386836829-27">[</span><span class="p" data-group-id="1386836829-28">{</span><span class="mi">2</span><span class="p" data-group-id="1386836829-28">}</span><span class="p">,</span><span class="p" data-group-id="1386836829-29">{</span><span class="mi">1</span><span class="p" data-group-id="1386836829-29">}</span><span class="p" data-group-id="1386836829-27">]</span><span class="gp unselectable">
9&gt; </span><span class="ss">&#39;$end_of_table&#39;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">ets</span><span class="p">:</span><span class="nf">select_reverse</span><span class="p" data-group-id="1386836829-30">(</span><span class="n">C2</span><span class="p" data-group-id="1386836829-30">)</span><span class="p">.</span><span class="w">
</span><span class="p">.</span><span class="p">.</span><span class="p">.</span></code></pre>
  </section>
</section>
<section class="detail" id="select_reverse/2">

  <div class="detail-header">
    <a href="#select_reverse/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">select_reverse(Table, MatchSpec)</h1>

        <span class="note">(since OTP R14B)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L1571" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> select_reverse(Table, MatchSpec) -> [Match]
                        when Table :: <a href="#t:table/0">table</a>(), MatchSpec :: <a href="#t:match_spec/0">match_spec</a>(), Match :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Works like <a href="#select/2"><code class="inline">select/2</code></a>, but returns the list in reverse order for table type
<code class="inline">ordered_set</code>. For all other table types, the return value is identical to that
of <a href="#select/2"><code class="inline">select/2</code></a>.</p>
  </section>
</section>
<section class="detail" id="select_reverse/3">

  <div class="detail-header">
    <a href="#select_reverse/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">select_reverse(Table, MatchSpec, Limit)</h1>

        <span class="note">(since OTP R14B)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L1593" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> select_reverse(Table, MatchSpec, Limit) -> {[Match], Continuation} | '$end_of_table'
                        when
                            Table :: <a href="#t:table/0">table</a>(),
                            MatchSpec :: <a href="#t:match_spec/0">match_spec</a>(),
                            Limit :: <a href="../../apps/erts/erlang.html#t:pos_integer/0">pos_integer</a>(),
                            Match :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                            Continuation :: <a href="#t:continuation/0">continuation</a>().</pre>

      </div>

<p>Works like <a href="#select/3"><code class="inline">select/3</code></a>, but for table type <code class="inline">ordered_set</code> traversing is done
starting at the last object in Erlang term order and moves to the first. For all
other table types, the return value is identical to that of
<a href="#select/3"><code class="inline">select/3</code></a>.</p><p>Notice that this is <em>not</em> equivalent to reversing the result list of a
<a href="#select/3"><code class="inline">select/3</code></a> call, as the result list is not only reversed, but also
contains the last <code class="inline">Limit</code> matching objects in the table, not the first.</p>
  </section>
</section>
<section class="detail" id="setopts/2">

  <div class="detail-header">
    <a href="#setopts/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">setopts(Table, Opts)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L1645" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> setopts(Table, Opts) -> true
                 when
                     Table :: <a href="#t:table/0">table</a>(),
                     Opts :: Opt | [Opt],
                     Opt :: {heir, Pid} | {heir, Pid, HeirData} | {heir, none},
                     Pid :: <a href="../../apps/erts/erlang.html#t:pid/0">pid</a>(),
                     HeirData :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Sets table options. The only allowed option to be set after the table has been
created is <a href="ets.html#heir"><code class="inline">heir</code></a>. The calling process must be the table owner.</p>
  </section>
</section>
<section class="detail" id="slot/2">

  <div class="detail-header">
    <a href="#slot/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">slot(Table, I)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L1667" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> slot(Table, I) -> [Object] | '$end_of_table'
              when Table :: <a href="#t:table/0">table</a>(), I :: <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>(), Object :: <a href="../../apps/erts/erlang.html#t:tuple/0">tuple</a>().</pre>

      </div>

<p>This function is mostly for debugging purposes, normally <code class="inline">first</code>/<code class="inline">next</code> or
<code class="inline">last</code>/<code class="inline">prev</code> are to be used instead.</p><p>Returns all objects in slot <code class="inline">I</code> of table <code class="inline">Table</code>. A table can be traversed by
repeatedly calling the function, starting with the first slot <code class="inline">I=0</code> and ending
when <code class="inline">'$end_of_table'</code> is returned. If argument <code class="inline">I</code> is out of range, the
function fails with reason <code class="inline">badarg</code>.</p><p>Unless a table of type <code class="inline">set</code>, <code class="inline">bag</code>, or <code class="inline">duplicate_bag</code> is protected using
<a href="#safe_fixtable/2"><code class="inline">safe_fixtable/2</code></a>, a traversal can fail if concurrent updates are made to the
table. For table type <code class="inline">ordered_set</code>, the function returns a list containing
object <code class="inline">I</code> in Erlang term order.</p>
  </section>
</section>
<section class="detail" id="tab2file/2">

  <div class="detail-header">
    <a href="#tab2file/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">tab2file(Table, Filename)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L2302" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> tab2file(Table, Filename) -> ok | {error, Reason}
                  when Table :: <a href="#t:table/0">table</a>(), Filename :: <a href="../../apps/kernel/file.html#t:name/0">file:name</a>(), Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Dumps table <code class="inline">Table</code> to file <code class="inline">Filename</code>.</p><p>Equivalent to <a href="#tab2file/3"><code class="inline">tab2file(Table, Filename,[])</code></a></p>
  </section>
</section>
<section class="detail" id="tab2file/3">

  <div class="detail-header">
    <a href="#tab2file/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">tab2file(Table, Filename, Options)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L2347" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> tab2file(Table, Filename, Options) -> ok | {error, Reason}
                  when
                      Table :: <a href="#t:table/0">table</a>(),
                      Filename :: <a href="../../apps/kernel/file.html#t:name/0">file:name</a>(),
                      Options :: [Option],
                      Option :: {extended_info, [ExtInfo]} | {sync, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()},
                      ExtInfo :: md5sum | object_count,
                      Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Dumps table <code class="inline">Table</code> to file <code class="inline">Filename</code>.</p><p>When dumping the table, some information about the table is dumped to a header
at the beginning of the dump. This information contains data about the table
type, name, protection, size, version, and if it is a named table. It also
contains notes about what extended information is added to the file, which can
be a count of the objects in the file or a MD5 sum of the header and records in
the file.</p><p>The size field in the header might not correspond to the number of records in
the file if the table is public and records are added or removed from the table
during dumping. Public tables updated during dump, and that one wants to verify
when reading, needs at least one field of extended information for the read
verification process to be reliable later.</p><p>Option <code class="inline">extended_info</code> specifies what extra information is written to the table
dump:</p><ul><li><p><strong><code class="inline">object_count</code></strong> - The number of objects written to the file is noted in the
file footer, so file truncation can be verified even if the file was updated
during dump.</p></li><li><p><strong><code class="inline">md5sum</code></strong> - The header and objects in the file are checksummed using the
built-in MD5 functions. The MD5 sum of all objects is written in the file
footer, so that verification while reading detects the slightest bitflip in
the file data. Using this costs a fair amount of CPU time.</p></li></ul><p>Whenever option <code class="inline">extended_info</code> is used, it results in a file not readable by
versions of ETS before that in STDLIB 1.15.1</p><p>If option <code class="inline">sync</code> is set to <code class="inline">true</code>, it ensures that the content of the file is
written to the disk before <code class="inline">tab2file</code> returns. Defaults to <code class="inline">{sync, false}</code>.</p>
  </section>
</section>
<section class="detail" id="tab2list/1">

  <div class="detail-header">
    <a href="#tab2list/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">tab2list(Table)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L2272" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> tab2list(Table) -> [Object] when Table :: <a href="#t:table/0">table</a>(), Object :: <a href="../../apps/erts/erlang.html#t:tuple/0">tuple</a>().</pre>

      </div>

<p>Returns a list of all objects in table <code class="inline">Table</code>.</p>
  </section>
</section>
<section class="detail" id="tabfile_info/1">

  <div class="detail-header">
    <a href="#tabfile_info/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">tabfile_info(Filename)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L3027" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> tabfile_info(Filename) -> {ok, TableInfo} | {error, Reason}
                      when
                          Filename :: <a href="../../apps/kernel/file.html#t:name/0">file:name</a>(),
                          TableInfo :: [InfoItem],
                          InfoItem ::
                              {name, <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>()} |
                              {type, Type} |
                              {protection, Protection} |
                              {named_table, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
                              {keypos, <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()} |
                              {size, <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()} |
                              {extended_info, [ExtInfo]} |
                              {version, {Major :: <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>(), Minor :: <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()}},
                          ExtInfo :: md5sum | object_count,
                          Type :: bag | duplicate_bag | ordered_set | set,
                          Protection :: private | protected | public,
                          Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Returns information about the table dumped to file by <a href="#tab2file/2"><code class="inline">tab2file/2</code></a> or
<a href="#tab2file/3"><code class="inline">tab2file/3</code></a>.</p><p>The following items are returned:</p><ul><li><p><strong><code class="inline">name</code></strong> - The name of the dumped table. If the table was a named table, a
table with the same name cannot exist when the table is loaded from file with
<a href="#file2tab/2"><code class="inline">file2tab/2</code></a>. If the table is not saved as a named table, this field has no
significance when loading the table from file.</p></li><li><p><strong><code class="inline">type</code></strong> - The ETS type of the dumped table (that is, <code class="inline">set</code>, <code class="inline">bag</code>,
<code class="inline">duplicate_bag</code>, or <code class="inline">ordered_set</code>). This type is used when loading the table
again.</p></li><li><p><strong><code class="inline">protection</code></strong> - The protection of the dumped table (that is, <code class="inline">private</code>,
<code class="inline">protected</code>, or <code class="inline">public</code>). A table loaded from the file gets the same
protection.</p></li><li><p><strong><code class="inline">named_table</code></strong> - <code class="inline">true</code> if the table was a named table when dumped to file,
otherwise <code class="inline">false</code>. Notice that when a named table is loaded from a file, there
cannot exist a table in the system with the same name.</p></li><li><p><strong><code class="inline">keypos</code></strong> - The <code class="inline">keypos</code> of the table dumped to file, which is used when
loading the table again.</p></li><li><p><strong><code class="inline">size</code></strong> - The number of objects in the table when the table dump to file
started. For a <code class="inline">public</code> table, this number does not need to correspond to the
number of objects saved to the file, as objects can have been added or deleted
by another process during table dump.</p></li><li><p><strong><code class="inline">extended_info</code></strong> - The extended information written in the file footer to
allow stronger verification during table loading from file, as specified to
<a href="#tab2file/3"><code class="inline">tab2file/3</code></a>. Notice that this function only tells <em>which</em> information is
present, not the values in the file footer. The value is a list containing one
or more of the atoms <code class="inline">object_count</code> and <code class="inline">md5sum</code>.</p></li><li><p><strong><code class="inline">version</code></strong> - A tuple <code class="inline">{Major,Minor}</code> containing the major and minor version
of the file format for ETS table dumps. This version field was added beginning
with STDLIB 1.5.1. Files dumped with older versions return <code class="inline">{0,0}</code> in this
field.</p></li></ul><p>An error is returned if the file is inaccessible, badly damaged, or not produced
with <a href="#tab2file/2"><code class="inline">tab2file/2</code></a> or <a href="#tab2file/3"><code class="inline">tab2file/3</code></a>.</p>
  </section>
</section>
<section class="detail" id="table/1">

  <div class="detail-header">
    <a href="#table/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">table(Table)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L3077" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> table(Table) -> QueryHandle when Table :: <a href="#t:table/0">table</a>(), QueryHandle :: <a href="qlc.html#t:query_handle/0">qlc:query_handle</a>().</pre>

      </div>

<p>Equivalent to <a href="#table/2"><code class="inline">table/2</code></a>.</p>
  </section>
</section>
<section class="detail" id="table/2">

  <div class="detail-header">
    <a href="#table/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">table(Table, Options)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L3147" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> table(Table, Options) -> QueryHandle
               when
                   Table :: <a href="#t:table/0">table</a>(),
                   QueryHandle :: <a href="qlc.html#t:query_handle/0">qlc:query_handle</a>(),
                   Options :: [Option] | Option,
                   Option :: {n_objects, NObjects} | {traverse, TraverseMethod},
                   NObjects :: default | <a href="../../apps/erts/erlang.html#t:pos_integer/0">pos_integer</a>(),
                   TraverseMethod ::
                       first_next | last_prev | select | {select, MatchSpec :: <a href="#t:match_spec/0">match_spec</a>()}.</pre>

      </div>

<p>Returns a Query List Comprehension (QLC) query handle. The <a href="qlc.html"><code class="inline">qlc</code></a> module
provides a query language aimed mainly at Mnesia, but ETS tables, Dets tables,
and lists are also recognized by QLC as sources of data. Calling <code class="inline">table/1,2</code> is
the means to make the ETS table <code class="inline">Table</code> usable to QLC.</p><p>When there are only simple restrictions on the key position, QLC uses <a href="#lookup/2"><code class="inline">lookup/2</code></a>
to look up the keys. When that is not possible, the whole table is traversed.
Option <code class="inline">traverse</code> determines how this is done:</p><ul><li><p><strong><code class="inline">first_next</code></strong> - The table is traversed one key at a time by calling
<a href="#first/1"><code class="inline">first/1</code></a> and <a href="#next/2"><code class="inline">next/2</code></a>.</p></li><li><p><strong><code class="inline">last_prev</code></strong> - The table is traversed one key at a time by calling <a href="#last/1"><code class="inline">last/1</code></a>
and <a href="#prev/2"><code class="inline">prev/2</code></a>.</p></li><li><p><strong><code class="inline">select</code></strong> - The table is traversed by calling <a href="#select/3"><code class="inline">select/3</code></a> and <a href="#select/1"><code class="inline">select/1</code></a>.
Option <code class="inline">n_objects</code> determines the number of objects returned (the third
argument of <a href="#select/3"><code class="inline">select/3</code></a>); the default is to return <code class="inline">100</code> objects
at a time. The <a href="ets.html#match_spec">match specification</a> (the second argument
of <a href="#select/3"><code class="inline">select/3</code></a>) is assembled by QLC: simple filters are
translated into equivalent match specifications while more complicated filters
must be applied to all objects returned by <a href="#select/3"><code class="inline">select/3</code></a> given a
match specification that matches all objects.</p></li><li><p><strong><code class="inline">{select, MatchSpec}</code></strong> - As for <code class="inline">select</code>, the table is traversed by calling
<a href="#select/3"><code class="inline">select/3</code></a> and <a href="#select/1"><code class="inline">select/1</code></a>. The difference is that the match specification is
explicitly specified. This is how to state match specifications that cannot
easily be expressed within the syntax provided by QLC.</p></li></ul><p><em>Examples:</em></p><p>An explicit match specification is here used to traverse the table:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">9&gt; </span><span class="ss">true</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">ets</span><span class="p">:</span><span class="nf">insert</span><span class="p" data-group-id="4160854611-1">(</span><span class="n">Table</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">ets</span><span class="p">:</span><span class="nf">new</span><span class="p" data-group-id="4160854611-2">(</span><span class="ss">t</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4160854611-3">[</span><span class="p" data-group-id="4160854611-3">]</span><span class="p" data-group-id="4160854611-2">)</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4160854611-4">[</span><span class="p" data-group-id="4160854611-5">{</span><span class="mi">1</span><span class="p">,</span><span class="ss">a</span><span class="p" data-group-id="4160854611-5">}</span><span class="p">,</span><span class="p" data-group-id="4160854611-6">{</span><span class="mi">2</span><span class="p">,</span><span class="ss">b</span><span class="p" data-group-id="4160854611-6">}</span><span class="p">,</span><span class="p" data-group-id="4160854611-7">{</span><span class="mi">3</span><span class="p">,</span><span class="ss">c</span><span class="p" data-group-id="4160854611-7">}</span><span class="p">,</span><span class="p" data-group-id="4160854611-8">{</span><span class="mi">4</span><span class="p">,</span><span class="ss">d</span><span class="p" data-group-id="4160854611-8">}</span><span class="p" data-group-id="4160854611-4">]</span><span class="p" data-group-id="4160854611-1">)</span><span class="p">,</span><span class="w">
</span><span class="n">MS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">ets</span><span class="p">:</span><span class="nf">fun2ms</span><span class="p" data-group-id="4160854611-9">(</span><span class="nf">fun</span><span class="p" data-group-id="4160854611-10">(</span><span class="p" data-group-id="4160854611-11">{</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p" data-group-id="4160854611-11">}</span><span class="p" data-group-id="4160854611-10">)</span><span class="w"> </span><span class="nf">when</span><span class="w"> </span><span class="p" data-group-id="4160854611-12">(</span><span class="n">X</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="4160854611-12">)</span><span class="w"> </span><span class="nf">or</span><span class="w"> </span><span class="p" data-group-id="4160854611-13">(</span><span class="n">X</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p" data-group-id="4160854611-13">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="p" data-group-id="4160854611-14">{</span><span class="n">Y</span><span class="p" data-group-id="4160854611-14">}</span><span class="w"> </span><span class="k">end</span><span class="p" data-group-id="4160854611-9">)</span><span class="p">,</span><span class="w">
</span><span class="n">QH1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">ets</span><span class="p">:</span><span class="nf">table</span><span class="p" data-group-id="4160854611-15">(</span><span class="n">Table</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4160854611-16">[</span><span class="p" data-group-id="4160854611-17">{</span><span class="ss">traverse</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4160854611-18">{</span><span class="ss">select</span><span class="p">,</span><span class="w"> </span><span class="n">MS</span><span class="p" data-group-id="4160854611-18">}</span><span class="p" data-group-id="4160854611-17">}</span><span class="p" data-group-id="4160854611-16">]</span><span class="p" data-group-id="4160854611-15">)</span><span class="p">.</span></code></pre><p>An example with an implicit match specification:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">10&gt; </span><span class="n">QH2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">qlc</span><span class="p">:</span><span class="nf">q</span><span class="p" data-group-id="4691950435-1">(</span><span class="p" data-group-id="4691950435-2">[</span><span class="p" data-group-id="4691950435-3">{</span><span class="n">Y</span><span class="p" data-group-id="4691950435-3">}</span><span class="w"> </span><span class="p">||</span><span class="w"> </span><span class="p" data-group-id="4691950435-4">{</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p" data-group-id="4691950435-4">}</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nc">ets</span><span class="p">:</span><span class="nf">table</span><span class="p" data-group-id="4691950435-5">(</span><span class="n">Table</span><span class="p" data-group-id="4691950435-5">)</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4691950435-6">(</span><span class="n">X</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="4691950435-6">)</span><span class="w"> </span><span class="nf">or</span><span class="w"> </span><span class="p" data-group-id="4691950435-7">(</span><span class="n">X</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p" data-group-id="4691950435-7">)</span><span class="p" data-group-id="4691950435-2">]</span><span class="p" data-group-id="4691950435-1">)</span><span class="p">.</span></code></pre><p>The latter example is equivalent to the former, which can be verified using
function <a href="qlc.html#info/1"><code class="inline">qlc:info/1</code></a>:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">11&gt; </span><span class="nc">qlc</span><span class="p">:</span><span class="nf">info</span><span class="p" data-group-id="4711735310-1">(</span><span class="n">QH1</span><span class="p" data-group-id="4711735310-1">)</span><span class="w"> </span><span class="o">=:=</span><span class="w"> </span><span class="nc">qlc</span><span class="p">:</span><span class="nf">info</span><span class="p" data-group-id="4711735310-2">(</span><span class="n">QH2</span><span class="p" data-group-id="4711735310-2">)</span><span class="p">.</span><span class="w">
</span><span class="ss">true</span></code></pre><p><a href="qlc.html#info/1"><code class="inline">qlc:info/1</code></a> returns information about a query handle, and in this case
identical information is returned for the two query handles.</p>
  </section>
</section>
<section class="detail" id="take/2">

  <div class="detail-header">
    <a href="#take/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">take(Table, Key)</h1>

        <span class="note">(since OTP 18.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L1683" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> take(Table, Key) -> [Object] when Table :: <a href="#t:table/0">table</a>(), Key :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), Object :: <a href="../../apps/erts/erlang.html#t:tuple/0">tuple</a>().</pre>

      </div>

<p>Returns and removes a list of all objects with key <code class="inline">Key</code> in table <code class="inline">Table</code>.</p><p>The specified <code class="inline">Key</code> is used to identify the object by either <em>comparing equal</em>
the key of an object in an <code class="inline">ordered_set</code> table, or <em>matching</em> in other types of
tables (for details on the difference, see <a href="#lookup/2"><code class="inline">lookup/2</code></a> and <a href="#new/2"><code class="inline">new/2</code></a>).</p>
  </section>
</section>
<section class="detail" id="test_ms/2">

  <div class="detail-header">
    <a href="#test_ms/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">test_ms(Tuple, MatchSpec)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L2198" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> test_ms(Tuple, MatchSpec) -> {ok, Result} | {error, Errors}
                 when
                     Tuple :: <a href="../../apps/erts/erlang.html#t:tuple/0">tuple</a>(),
                     MatchSpec :: <a href="#t:match_spec/0">match_spec</a>(),
                     Result :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                     Errors :: [{warning | error, <a href="../../apps/erts/erlang.html#t:string/0">string</a>()}].</pre>

      </div>

<p>This function is a utility to test a <a href="ets.html#match_spec">match specification</a>
used in calls to <a href="#select/2"><code class="inline">select/2</code></a>. The function both tests <code class="inline">MatchSpec</code> for &quot;syntactic&quot;
correctness and runs the match specification against object <code class="inline">Tuple</code>.</p><p>If the match specification is syntactically correct, the function either returns
<code class="inline">{ok,Result}</code>, where <code class="inline">Result</code> is what would have been the result in a real
<a href="#select/2"><code class="inline">select/2</code></a> call, or <code class="inline">false</code> if the match specification does not
match object <code class="inline">Tuple</code>.</p><p>If the match specification contains errors, tuple <code class="inline">{error, Errors}</code> is returned,
where <code class="inline">Errors</code> is a list of natural language descriptions of what was wrong with
the match specification.</p><p>This is a useful debugging and test tool, especially when writing complicated
<a href="#select/2"><code class="inline">select/2</code></a> calls.</p><p>See also: <a href="../../apps/erts/erlang.html#match_spec_test/3"><code class="inline">erlang:match_spec_test/3</code></a>.</p>
  </section>
</section>
<section class="detail" id="to_dets/2">

  <div class="detail-header">
    <a href="#to_dets/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">to_dets(Table, DetsTab)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L2159" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> to_dets(Table, DetsTab) -> DetsTab when Table :: <a href="#t:table/0">table</a>(), DetsTab :: <a href="dets.html#t:tab_name/0">dets:tab_name</a>().</pre>

      </div>

<p>Fills an already created/opened Dets table with the objects in the already
opened ETS table named <code class="inline">Table</code>. The Dets table is emptied before the objects are
inserted.</p>
  </section>
</section>
<section class="detail" id="update_counter/3">

  <div class="detail-header">
    <a href="#update_counter/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_counter/3</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L1697" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> update_counter(Table, Key, UpdateOp | [UpdateOp] | Incr) -> Result | [Result]
                        when
                            Table :: <a href="#t:table/0">table</a>(),
                            Key :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                            UpdateOp :: {Pos, Incr} | {Pos, Incr, Threshold, SetValue},
                            Pos :: <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>(),
                            Incr :: <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>(),
                            Threshold :: <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>(),
                            SetValue :: <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>(),
                            Result :: <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>().</pre>

      </div>

<p>Equivalent to <a href="#update_counter/4"><code class="inline">update_counter/4</code></a>.</p>
  </section>
</section>
<section class="detail" id="update_counter/4">

  <div class="detail-header">
    <a href="#update_counter/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_counter/4</h1>

        <span class="note">(since OTP 18.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L1762" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> update_counter(Table, Key, UpdateOp | Incr | [UpdateOp], Default) -> Result | [Result]
                        when
                            Table :: <a href="#t:table/0">table</a>(),
                            Key :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                            UpdateOp :: {Pos, Incr} | {Pos, Incr, Threshold, SetValue},
                            Pos :: <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>(),
                            Incr :: <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>(),
                            Threshold :: <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>(),
                            SetValue :: <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>(),
                            Result :: <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>(),
                            Default :: <a href="../../apps/erts/erlang.html#t:tuple/0">tuple</a>().</pre>

      </div>

<p>This function provides an efficient way to update one or more counters, without
the trouble of having to look up an object, update the object by incrementing an
element, and insert the resulting object into the table again. The operation is
guaranteed to be <a href="ets.html#module-concurrency">atomic and isolated</a>.</p><p>This function destructively updates the object with key <code class="inline">Key</code> in table <code class="inline">Table</code>
by adding <code class="inline">Incr</code> to the element at position <code class="inline">Pos</code>. The new counter value is
returned. If no position is specified, the element directly following key
(<code class="inline">&lt;keypos&gt;+1</code>) is updated.</p><p>If a <code class="inline">Threshold</code> is specified, the counter is reset to value <code class="inline">SetValue</code> if the
following conditions occur:</p><ul><li><code class="inline">Incr</code> is not negative (<code class="inline">&gt;= 0</code>) and the result would be greater than (<code class="inline">&gt;</code>)
<code class="inline">Threshold</code>.</li><li><code class="inline">Incr</code> is negative (<code class="inline">&lt; 0</code>) and the result would be less than (<code class="inline">&lt;</code>)
<code class="inline">Threshold</code>.</li></ul><p>A list of <code class="inline">UpdateOp</code> can be supplied to do many update operations within the
object. The operations are carried out in the order specified in the list. If
the same counter position occurs more than once in the list, the corresponding
counter is thus updated many times, each time based on the previous result. The
return value is a list of the new counter values from each update operation in
the same order as in the operation list. If an empty list is specified, nothing
is updated and an empty list is returned. If the function fails, no updates are
done.</p><p>The specified <code class="inline">Key</code> is used to identify the object by either <em>matching</em> the key
of an object in a <code class="inline">set</code> table, or <em>compare equal</em> to the key of an object in an
<code class="inline">ordered_set</code> table (for details on the difference, see <a href="#lookup/2"><code class="inline">lookup/2</code></a> and <a href="#new/2"><code class="inline">new/2</code></a>).</p><p>If a default object <code class="inline">Default</code> is specified, it is used as the object to be
updated if the key is missing from the table. The value in place of the key is
ignored and replaced by the proper key value. The return value is as if the
default object had not been used, that is, a single updated element or a list of
them.</p><p>The function fails with reason <code class="inline">badarg</code> in the following situations:</p><ul><li>The table type is not <code class="inline">set</code> or <code class="inline">ordered_set</code>.</li><li>No object with the correct key exists and no default object was supplied.</li><li>The object has the wrong arity.</li><li>The default object arity is smaller than <code class="inline">&lt;keypos&gt;</code>.</li><li>Any field from the default object that is updated is not an integer.</li><li>The element to update is not an integer.</li><li>The element to update is also the key.</li><li>Any of <code class="inline">Pos</code>, <code class="inline">Incr</code>, <code class="inline">Threshold</code>, or <code class="inline">SetValue</code> is not an integer.</li></ul>
  </section>
</section>
<section class="detail" id="update_element/3">

  <div class="detail-header">
    <a href="#update_element/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_element(Table, Key, ElementSpec)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L1773" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> update_element(Table, Key, ElementSpec) -> <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()
                        when
                            Table :: <a href="#t:table/0">table</a>(),
                            Key :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                            ElementSpec :: {Pos, Value} | [{Pos, Value}],
                            Pos :: <a href="../../apps/erts/erlang.html#t:pos_integer/0">pos_integer</a>(),
                            Value :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Equivalent to <a href="#update_element/4"><code class="inline">update_element/4</code></a>.</p>
  </section>
</section>
<section class="detail" id="update_element/4">

  <div class="detail-header">
    <a href="#update_element/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">update_element(Table, Key, ElementSpec, Default)</h1>

        <span class="note">(since OTP 27.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L1817" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> update_element(Table, Key, ElementSpec, Default) -> <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()
                        when
                            Table :: <a href="#t:table/0">table</a>(),
                            Key :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                            ElementSpec :: {Pos, Value} | [{Pos, Value}],
                            Pos :: <a href="../../apps/erts/erlang.html#t:pos_integer/0">pos_integer</a>(),
                            Value :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                            Default :: <a href="../../apps/erts/erlang.html#t:tuple/0">tuple</a>().</pre>

      </div>

<p>This function provides an efficient way to update one or more elements within an
object, without the trouble of having to look up, update, and write back the
entire object.</p><p>This function destructively updates the object with key <code class="inline">Key</code> in table <code class="inline">Table</code>.
The element at position <code class="inline">Pos</code> is given the value <code class="inline">Value</code>.</p><p>A list of <code class="inline">{Pos,Value}</code> can be supplied to update many elements within the same
object. If the same position occurs more than once in the list, the last value
in the list is written. If the list is empty or the function fails, no updates
are done. The function is also atomic in the sense that other processes can
never see any intermediate results.</p><p>Returns <code class="inline">true</code> if an object with key <code class="inline">Key</code> is found, otherwise <code class="inline">false</code>.</p><p>The specified <code class="inline">Key</code> is used to identify the object by either <em>matching</em> the key
of an object in a <code class="inline">set</code> table, or <em>compare equal</em> to the key of an object in an
<code class="inline">ordered_set</code> table (for details on the difference, see <a href="#lookup/2"><code class="inline">lookup/2</code></a> and <a href="#new/2"><code class="inline">new/2</code></a>).</p><p>If a default object <code class="inline">Default</code> is specified, it is used as the object to be
updated if the key is missing from the table. The value in place of the key is
ignored and replaced by the proper key value.</p><p>The function fails with reason <code class="inline">badarg</code> in the following situations:</p><ul><li>The table type is not <code class="inline">set</code> or <code class="inline">ordered_set</code>.</li><li><code class="inline">Pos</code> &lt; 1.</li><li><code class="inline">Pos</code> &gt; object arity.</li><li>The default object arity is smaller than <code class="inline">&lt;keypos&gt;</code>.</li><li>The element to update is also the key.</li></ul>
  </section>
</section>
<section class="detail" id="whereis/1">

  <div class="detail-header">
    <a href="#whereis/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">whereis(TableName)</h1>

        <span class="note">(since OTP 21.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/ets.erl#L1832" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> whereis(TableName) -> <a href="#t:tid/0">tid</a>() | undefined when TableName :: <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>().</pre>

      </div>

<p>This function returns the <a href="#t:tid/0"><code class="inline">tid/0</code></a> of the named table identified by
<code class="inline">TableName</code>, or <code class="inline">undefined</code> if no such table exists. The <a href="#t:tid/0"><code class="inline">tid/0</code></a> can be used
in place of the table name in all operations, which is slightly faster since the
name does not have to be resolved on each call.</p><p>If the table is deleted, the <a href="#t:tid/0"><code class="inline">tid/0</code></a> will be invalid even if another named
table is created with the same name.</p>
  </section>
</section>

    </div>
  </section>

    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="stdlib.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.1) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>
<p>Copyright Â© 1996-2025 <a href="https://www.ericsson.com">Ericsson AB</a></p>
    </footer>
  </div>
</main>
</div>
  <script defer src="https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.min.js"></script>
  <script>
  let initialized = false;

  window.addEventListener("exdoc:loaded", () => {
      if (!initialized) {
      mermaid.initialize({
          startOnLoad: false,
          theme: document.body.className.includes("dark") ? "dark" : "default"
      });
      initialized = true;
      }

      let id = 0;
      for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
          graphEl.innerHTML = svg;
          bindFunctions?.(graphEl);
          preEl.insertAdjacentElement("afterend", graphEl);
          preEl.remove();
      });
      }
  });
  </script>

  </body>
</html>
