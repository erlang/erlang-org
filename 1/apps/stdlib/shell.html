<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.1">
    <meta name="project" content="stdlib v7.0">


<meta name="exdoc:full-text-search-url" content="/doc/search.html?v=1&q=">
<meta name="major-vsn" content="1">
<link rel="canonical" href="https://www.erlang.org/doc/apps/stdlib/shell.html" />
    <title>shell — stdlib v7.0</title>

    <link rel="stylesheet" href="dist/html-erlang-ZK43ZOAC.css" />

    <script defer src="dist/sidebar_items-AA1EE98A.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-DPJLHKSM.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="../../index.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="stdlib" />
        </a>

      <div>
        <a href="../../index.html" class="sidebar-projectName" translate="no">
stdlib
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v7.0
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-module" id="main" data-type="modules">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of stdlib</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>
      <span translate="no">shell</span> 
      <small class="app-vsn" translate="no">(stdlib v7.0)</small>

    </h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/shell.erl#L22" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


    <section id="moduledoc">
<!--%% %CopyrightBegin%%%%% SPDX-License-Identifier: Apache-2.0%%%% Copyright Ericsson AB 1996-2025. All Rights Reserved.%%%% Licensed under the Apache License, Version 2.0 (the "License");%% you may not use this file except in compliance with the License.%% You may obtain a copy of the License at%%%%     http://www.apache.org/licenses/LICENSE-2.0%%%% Unless required by applicable law or agreed to in writing, software%% distributed under the License is distributed on an "AS IS" BASIS,%% WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.%% See the License for the specific language governing permissions and%% limitations under the License.%%%% %CopyrightEnd%--><p>The Erlang shell.</p><p>The shell is a user interface program for entering expression sequences. The
expressions are evaluated and a value is returned. The shell provides an Emacs
like set of shortcuts for editing the text of the current line. See
<a href="../../apps/erts/tty.html">tty - A Command-Line Interface</a> in the ERTS User's Guide for a
list of all available shortcuts. You may also change the shortcuts to suit your
preferences more, see <a href="edlin.html">edlin - line editor in the shell</a>.</p><p>A history mechanism saves previous commands and their values, which can then be
incorporated in later commands. How many commands and results to save can be
determined by the user, either interactively, by calling <a href="#history/1"><code class="inline">history/1</code></a> and
<a href="#results/1"><code class="inline">results/1</code></a>, or by setting the application configuration parameters
<a href="stdlib_app.html#shell_history_length"><code class="inline">shell_history_length</code></a> and
<a href="stdlib_app.html#shell_saved_results"><code class="inline">shell_saved_results</code></a> for the STDLIB
application. The shell history can be saved to disk by setting the application
configuration parameter
<a href="../../apps/kernel/kernel_app.html#shell_history"><code class="inline">shell_history</code></a> for the Kernel
application.</p><p>The shell uses a helper process for evaluating commands to protect the history
mechanism from exceptions. By default the evaluator process is killed when an
exception occurs, but by calling <a href="#catch_exception/1"><code class="inline">catch_exception/1</code></a> or by setting the
application configuration parameter <code class="inline">shell_catch_exception</code> for the STDLIB
application this behavior can be changed. See also the example below.</p><p>Variable bindings, and local process dictionary changes that are generated in
user expressions are preserved, and the variables can be used in later commands
to access their values. The bindings can also be forgotten so the variables can
be reused.</p><p>The special shell commands all have the syntax of (local) function calls. They
are evaluated as normal function calls and many commands can be used in one
expression sequence.</p><p>If a command (local function call) is not recognized by the shell, an attempt is
first made to find the function in module <code class="inline">user_default</code>, where customized local
commands can be placed. If found, the function is evaluated, otherwise an
attempt is made to evaluate the function in module <code class="inline">shell_default</code>. Module
<code class="inline">user_default</code> must be explicitly loaded.</p><p>The shell also permits the user to start multiple concurrent jobs. A job can be
regarded as a set of processes that can communicate with the shell.</p><p>There is some support for reading and printing records in the shell. During
compilation record expressions are translated to tuple expressions. In runtime
it is not known whether a tuple represents a record, and the record definitions
used by the compiler are unavailable at runtime. So, to read the record syntax
and print tuples as records when possible, record definitions must be maintained
by the shell itself.</p><p>The shell commands for reading, defining, forgetting, listing, and printing
records are described below. Notice that each job has its own set of record
definitions. To facilitate matters, record definitions in modules
<code class="inline">shell_default</code> and <code class="inline">user_default</code> (if loaded) are read each time a new job is
started. For example, adding the following line to <code class="inline">user_default</code> makes the
definition of <code class="inline">file_info</code> readily available in the shell:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">include_lib</span><span class="p" data-group-id="5698644662-1">(</span><span class="s">&quot;kernel/include/file.hrl&quot;</span><span class="p" data-group-id="5698644662-1">)</span><span class="p">.</span></code></pre><p>The shell runs in two modes:</p><ul><li><code class="inline">Normal (possibly restricted)</code> mode, in which commands can be edited and
expressions evaluated</li><li>Job Control Mode, <code class="inline">JCL</code>, in which jobs can be started, killed, detached, and
connected</li></ul><p>Only the currently connected job can 'talk' to the shell.</p><h2 id="module-shell-commands" class="section-heading"><a href="#module-shell-commands" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Shell Commands</span></h2><p>The commands below are the built-in shell commands that are always available. In
most system the commands listed in the <a href="c.html"><code class="inline">c</code></a> module are also available in the
shell.</p><ul><li><p><strong><code class="inline">b()</code></strong> - Prints the current variable bindings.</p></li><li><p><strong><code class="inline">f()</code></strong> - Removes all variable bindings.</p></li><li><p><strong><code class="inline">f(X)</code></strong> - Removes the binding of variable <code class="inline">X</code>.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>If a huge value is stored in a variable binding, you have to both call
<code class="inline">f(X)</code> and call <a href="#history/1"><code class="inline">history(0)</code></a> or <a href="#results/1"><code class="inline">results(0)</code></a>
to free up that memory.</p></section></li><li><p><strong><code class="inline">h()</code></strong> - Prints the history list.</p></li><li><p><strong><a href="#history/1"><code class="inline">history(N)</code></a></strong> - Sets the number of previous commands to keep
in the history list to <code class="inline">N</code>. The previous number is returned. Defaults to 20.</p></li><li><p><strong><a href="#results/1"><code class="inline">results(N)</code></a></strong> - Sets the number of results from previous
commands to keep in the history list to <code class="inline">N</code>. The previous number is returned.
Defaults to 20.</p></li><li><p><strong><code class="inline">e(N)</code></strong> - Repeats command <code class="inline">N</code>, if <code class="inline">N</code> is positive. If it is negative, the
<code class="inline">N</code>th previous command is repeated (that is, <code class="inline">e(-1)</code> repeats the previous
command).</p></li><li><p><strong><code class="inline">v(N)</code></strong> - Uses the return value of command <code class="inline">N</code> in the current command, if
<code class="inline">N</code> is positive. If it is negative, the return value of the <code class="inline">N</code>th previous
command is used (that is, <code class="inline">v(-1)</code> uses the value of the previous command).</p></li><li><p><strong><code class="inline">help()</code></strong> - Evaluates <code class="inline">shell_default:help()</code>.</p></li><li><p><strong><code class="inline">h(Module, Function)</code></strong> - Print the documentation for <code class="inline">Module:Function</code> in
the shell if available.</p></li><li><p><strong><code class="inline">ht(Module, Type)</code></strong> - Print the documentation for <code class="inline">Module:Type</code> in the
shell if available.</p></li><li><p><strong><code class="inline">hcb(Module, Callback)</code></strong> - Print the documentation for <code class="inline">Module:Callback</code> in
the shell if available.</p></li><li><p><strong><code class="inline">c(Mod)</code></strong> - Evaluates <code class="inline">shell_default:c(Mod)</code>. This compiles and loads the
module <code class="inline">Mod</code> and purges old versions of the code, if necessary. <code class="inline">Mod</code> can be
either a module name or a a source file path, with or without <code class="inline">.erl</code>
extension.</p></li><li><p><strong><a href="#catch_exception/1"><code class="inline">catch_exception(Bool)</code></a></strong> - Sets the exception
handling of the evaluator process. The previous exception handling is
returned. The default (<code class="inline">false</code>) is to kill the evaluator process when an
exception occurs, which causes the shell to create a new evaluator process.
When the exception handling is set to <code class="inline">true</code>, the evaluator process lives on.
This means, for example, that ports and ETS tables as well as processes linked
to the evaluator process survive the exception.</p></li><li><p><strong><code class="inline">rd(RecordName, RecordDefinition)</code></strong> - Defines a record in the shell.
<code class="inline">RecordName</code> is an atom and <code class="inline">RecordDefinition</code> lists the field names and the
default values. Usually record definitions are made known to the shell by use
of the <code class="inline">rr/1,2,3</code> commands described below, but sometimes it is handy to
define records on the fly.</p></li><li><p><strong><code class="inline">rf()</code></strong> - Removes all record definitions, then reads record definitions
from the modules <code class="inline">shell_default</code> and <code class="inline">user_default</code> (if loaded). Returns the
names of the records defined.</p></li><li><p><strong><code class="inline">rf(RecordNames)</code></strong> - Removes selected record definitions. <code class="inline">RecordNames</code> is
a record name or a list of record names. To remove all record definitions, use
<code class="inline">'_'</code>.</p></li><li><p><strong><code class="inline">rl()</code></strong> - Prints all record definitions.</p></li><li><p><strong><code class="inline">rl(RecordNames)</code></strong> - Prints selected record definitions. <code class="inline">RecordNames</code> is a
record name or a list of record names.</p></li><li><p><strong><code class="inline">rp(Term)</code></strong> - Prints a term using the record definitions known to the
shell. All of <code class="inline">Term</code> is printed; the depth is not limited as is the case when
a return value is printed.</p></li><li><p><strong><code class="inline">rr(Module)</code></strong> - Reads record definitions from a module's BEAM file. If
there are no record definitions in the BEAM file, the source file is located
and read instead. Returns the names of the record definitions read. <code class="inline">Module</code>
is an atom.</p></li><li><p><strong><code class="inline">rr(Wildcard)</code></strong> - Reads record definitions from files. Existing definitions
of any of the record names read are replaced. <code class="inline">Wildcard</code> is a wildcard string
as defined in <a href="filelib.html"><code class="inline">filelib</code></a>, but not an atom.</p></li><li><p><strong><code class="inline">rr(WildcardOrModule, RecordNames)</code></strong> - Reads record definitions from files
but discards record names not mentioned in <code class="inline">RecordNames</code> (a record name or a
list of record names).</p></li><li><p><strong><code class="inline">rr(WildcardOrModule, RecordNames, Options)</code></strong> - Reads record definitions
from files. The compiler options <code class="inline">{i, Dir}</code>, <code class="inline">{d, Macro}</code>, and
<code class="inline">{d, Macro, Value}</code> are recognized and used for setting up the include path
and macro definitions. To read all record definitions, use <code class="inline">'_'</code> as value of
<code class="inline">RecordNames</code>.</p></li><li><p><strong><code class="inline">lf()</code></strong> - Outputs locally defined function with function specs if they
exist.</p></li><li><p><strong><code class="inline">lt()</code></strong> - Outputs locally defined types.</p></li><li><p><strong><code class="inline">lr()</code></strong> - Outputs locally defined records.</p></li><li><p><strong><code class="inline">ff()</code></strong> - Forget locally defined functions (including function specs if
they exist).</p></li><li><p><strong><code class="inline">ff({FunName,Arity})</code></strong> - Forget a locally defined function (including
function spec if it exist). Where <code class="inline">FunName</code> is the name of the function as an
atom and <code class="inline">Arity</code> is an integer.</p></li><li><p><strong><code class="inline">tf()</code></strong> - Forget locally defined types.</p></li><li><p><strong><code class="inline">tf(Type)</code></strong> - Forget locally defined type where <code class="inline">Type</code> is the name of the
type represented as an atom.</p></li><li><p><strong><code class="inline">fl()</code></strong> - Forget locally defined functions, types and records.</p></li><li><p><strong><code class="inline">save_module(FilePath)</code></strong> - Saves all locally defined functions, types and
records to a module file, where <code class="inline">FilePath</code> should include both the path to the
file and the name of the module with <code class="inline">.erl</code> suffix.</p><p>Example: <code class="inline">src/my_module.erl</code></p></li></ul><h2 id="module-example" class="section-heading"><a href="#module-example" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Example</span></h2><p>The following example is a long dialog with the shell. Commands starting with
<code class="inline">&gt;</code> are inputs to the shell. All other lines are output from the shell.</p><pre><code class="makeup erlang" translate="no"><span class="ss">strider</span><span class="w"> </span><span class="mi">1</span><span class="o">&gt;</span><span class="w"> </span><span class="ss">erl</span><span class="w">
</span><span class="n">Erlang</span><span class="w"> </span><span class="p" data-group-id="7160446557-1">(</span><span class="n">BEAM</span><span class="p" data-group-id="7160446557-1">)</span><span class="w"> </span><span class="ss">emulator</span><span class="w"> </span><span class="ss">version</span><span class="w"> </span><span class="mf">5.3</span><span class="w"> </span><span class="p" data-group-id="7160446557-2">[</span><span class="ss">hipe</span><span class="p" data-group-id="7160446557-2">]</span><span class="w"> </span><span class="p" data-group-id="7160446557-3">[</span><span class="nc">threads</span><span class="p">:</span><span class="mi">0</span><span class="p" data-group-id="7160446557-3">]</span><span class="w">

</span><span class="n">Eshell</span><span class="w"> </span><span class="n">V5</span><span class="p">.</span><span class="mi">3</span><span class="w">  </span><span class="p" data-group-id="7160446557-4">(</span><span class="ss">abort</span><span class="w"> </span><span class="ss">with</span><span class="w"> </span><span class="err">^</span><span class="n">G</span><span class="p" data-group-id="7160446557-4">)</span><span class="gp unselectable">
1&gt; </span><span class="n">Str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abcd&quot;</span><span class="p">.</span><span class="w">
</span><span class="s">&quot;abcd&quot;</span></code></pre><p>Command 1 sets variable <code class="inline">Str</code> to string <code class="inline">&quot;abcd&quot;</code>.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">2&gt; </span><span class="n">L</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">length</span><span class="p" data-group-id="5953384571-1">(</span><span class="n">Str</span><span class="p" data-group-id="5953384571-1">)</span><span class="p">.</span><span class="w">
</span><span class="mi">4</span></code></pre><p>Command 2 sets <code class="inline">L</code> to the length of string <code class="inline">Str</code>.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">3&gt; </span><span class="n">Descriptor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="4463157456-1">{</span><span class="n">L</span><span class="p">,</span><span class="w"> </span><span class="nf">list_to_atom</span><span class="p" data-group-id="4463157456-2">(</span><span class="n">Str</span><span class="p" data-group-id="4463157456-2">)</span><span class="p" data-group-id="4463157456-1">}</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="4463157456-3">{</span><span class="mi">4</span><span class="p">,</span><span class="ss">abcd</span><span class="p" data-group-id="4463157456-3">}</span></code></pre><p>Command 3 builds the tuple <code class="inline">Descriptor</code>, evaluating the BIF
<a href="../../apps/erts/erlang.html#list_to_atom/1"><code class="inline">list_to_atom/1</code> </a>.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">4&gt; </span><span class="n">L</span><span class="p">.</span><span class="w">
</span><span class="mi">4</span></code></pre><p>Command 4 prints the value of variable <code class="inline">L</code>.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">5&gt; </span><span class="nf">b</span><span class="p" data-group-id="7309220999-1">(</span><span class="p" data-group-id="7309220999-1">)</span><span class="p">.</span><span class="w">
</span><span class="n">Descriptor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="7309220999-2">{</span><span class="mi">4</span><span class="p">,</span><span class="ss">abcd</span><span class="p" data-group-id="7309220999-2">}</span><span class="w">
</span><span class="n">L</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="w">
</span><span class="n">Str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abcd&quot;</span><span class="w">
</span><span class="ss">ok</span></code></pre><p>Command 5 evaluates the internal shell command <code class="inline">b()</code>, which is an abbreviation
of &quot;bindings&quot;. This prints the current shell variables and their bindings. <code class="inline">ok</code>
at the end is the return value of function <code class="inline">b()</code>.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">6&gt; </span><span class="nf">f</span><span class="p" data-group-id="2149841047-1">(</span><span class="n">L</span><span class="p" data-group-id="2149841047-1">)</span><span class="p">.</span><span class="w">
</span><span class="ss">ok</span></code></pre><p>Command 6 evaluates the internal shell command <code class="inline">f(L)</code> (abbreviation of
&quot;forget&quot;). The value of variable <code class="inline">L</code> is removed.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">7&gt; </span><span class="nf">b</span><span class="p" data-group-id="9487831560-1">(</span><span class="p" data-group-id="9487831560-1">)</span><span class="p">.</span><span class="w">
</span><span class="n">Descriptor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="9487831560-2">{</span><span class="mi">4</span><span class="p">,</span><span class="ss">abcd</span><span class="p" data-group-id="9487831560-2">}</span><span class="w">
</span><span class="n">Str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abcd&quot;</span><span class="w">
</span><span class="ss">ok</span></code></pre><p>Command 7 prints the new bindings.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">8&gt; </span><span class="nf">f</span><span class="p" data-group-id="9244297997-1">(</span><span class="n">L</span><span class="p" data-group-id="9244297997-1">)</span><span class="p">.</span><span class="w">
</span><span class="ss">ok</span></code></pre><p>Command 8 has no effect, as <code class="inline">L</code> has no value.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">9&gt; </span><span class="p" data-group-id="6985934574-1">{</span><span class="n">L</span><span class="p">,</span><span class="w"> </span><span class="p">_</span><span class="p" data-group-id="6985934574-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Descriptor</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="6985934574-2">{</span><span class="mi">4</span><span class="p">,</span><span class="ss">abcd</span><span class="p" data-group-id="6985934574-2">}</span></code></pre><p>Command 9 performs a pattern matching operation on <code class="inline">Descriptor</code>, binding a new
value to <code class="inline">L</code>.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">10&gt; </span><span class="n">L</span><span class="p">.</span><span class="w">
</span><span class="mi">4</span></code></pre><p>Command 10 prints the current value of <code class="inline">L</code>.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">11&gt; </span><span class="p" data-group-id="1393536257-1">{</span><span class="n">P</span><span class="p">,</span><span class="w"> </span><span class="n">Q</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="p" data-group-id="1393536257-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Descriptor</span><span class="p">.</span><span class="w">
</span><span class="gt">** exception error: no match of right hand side value {4,abcd}</span></code></pre><p>Command 11 tries to match <code class="inline">{P, Q, R}</code> against <code class="inline">Descriptor</code>, which is <code class="inline">{4, abc}</code>.
The match fails and none of the new variables become bound. The printout
starting with &quot;<code class="inline">** exception error:</code>&quot; is not the value of the expression (the
expression had no value because its evaluation failed), but a warning printed by
the system to inform the user that an error has occurred. The values of the
other variables (<code class="inline">L</code>, <code class="inline">Str</code>, and so on) are unchanged.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">12&gt; </span><span class="n">P</span><span class="p">.</span><span class="w">
</span><span class="gt">* 1:1: variable &#39;P&#39; is unbound</span><span class="gp unselectable">
13&gt; </span><span class="n">Descriptor</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="6957813200-1">{</span><span class="mi">4</span><span class="p">,</span><span class="ss">abcd</span><span class="p" data-group-id="6957813200-1">}</span></code></pre><p>Commands 12 and 13 show that <code class="inline">P</code> is unbound because the previous command failed,
and that <code class="inline">Descriptor</code> has not changed.</p><pre><code class="makeup erlang" translate="no"><span class="mi">14</span><span class="o">&gt;</span><span class="p" data-group-id="6548068973-1">{</span><span class="n">P</span><span class="p">,</span><span class="w"> </span><span class="n">Q</span><span class="p" data-group-id="6548068973-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Descriptor</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="6548068973-2">{</span><span class="mi">4</span><span class="p">,</span><span class="ss">abcd</span><span class="p" data-group-id="6548068973-2">}</span><span class="gp unselectable">
15&gt; </span><span class="n">P</span><span class="p">.</span><span class="w">
</span><span class="mi">4</span></code></pre><p>Commands 14 and 15 show a correct match where <code class="inline">P</code> and <code class="inline">Q</code> are bound.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">16&gt; </span><span class="nf">f</span><span class="p" data-group-id="8638829563-1">(</span><span class="p" data-group-id="8638829563-1">)</span><span class="p">.</span><span class="w">
</span><span class="ss">ok</span></code></pre><p>Command 16 clears all bindings.</p><p>The next few commands assume that <code class="inline">test1:demo(X)</code> is defined as follows:</p><pre><code class="makeup erlang" translate="no"><span class="nf">demo</span><span class="p" data-group-id="4902895484-1">(</span><span class="n">X</span><span class="p" data-group-id="4902895484-1">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
</span><span class="err"> </span><span class="err"> </span><span class="err"> </span><span class="err"> </span><span class="nf">put</span><span class="p" data-group-id="4902895484-2">(</span><span class="ss">aa</span><span class="p">,</span><span class="w"> </span><span class="ss">worked</span><span class="p" data-group-id="4902895484-2">)</span><span class="p">,</span><span class="w">
</span><span class="err"> </span><span class="err"> </span><span class="err"> </span><span class="err"> </span><span class="n">X</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
</span><span class="err"> </span><span class="err"> </span><span class="err"> </span><span class="err"> </span><span class="n">X</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">10</span><span class="p">.</span></code></pre><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">17&gt; </span><span class="nf">put</span><span class="p" data-group-id="4848079855-1">(</span><span class="ss">aa</span><span class="p">,</span><span class="w"> </span><span class="ss">hello</span><span class="p" data-group-id="4848079855-1">)</span><span class="p">.</span><span class="w">
</span><span class="ss">undefined</span><span class="gp unselectable">
18&gt; </span><span class="nf">get</span><span class="p" data-group-id="4848079855-2">(</span><span class="ss">aa</span><span class="p" data-group-id="4848079855-2">)</span><span class="p">.</span><span class="w">
</span><span class="ss">hello</span></code></pre><p>Commands 17 and 18 set and inspect the value of item <code class="inline">aa</code> in the process
dictionary.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">19&gt; </span><span class="n">Y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">test1</span><span class="p">:</span><span class="nf">demo</span><span class="p" data-group-id="8617178222-1">(</span><span class="mi">1</span><span class="p" data-group-id="8617178222-1">)</span><span class="p">.</span><span class="w">
</span><span class="mi">11</span></code></pre><p>Command 19 evaluates <code class="inline">test1:demo(1)</code>. The evaluation succeeds and the changes
made in the process dictionary become visible to the shell. The new value of
dictionary item <code class="inline">aa</code> can be seen in command 20.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">20&gt; </span><span class="nf">get</span><span class="p" data-group-id="3335477091-1">(</span><span class="p" data-group-id="3335477091-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="3335477091-2">[</span><span class="p" data-group-id="3335477091-3">{</span><span class="ss">aa</span><span class="p">,</span><span class="ss">worked</span><span class="p" data-group-id="3335477091-3">}</span><span class="p" data-group-id="3335477091-2">]</span><span class="gp unselectable">
21&gt; </span><span class="nf">put</span><span class="p" data-group-id="3335477091-4">(</span><span class="ss">aa</span><span class="p">,</span><span class="w"> </span><span class="ss">hello</span><span class="p" data-group-id="3335477091-4">)</span><span class="p">.</span><span class="w">
</span><span class="ss">worked</span><span class="gp unselectable">
22&gt; </span><span class="n">Z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">test1</span><span class="p">:</span><span class="nf">demo</span><span class="p" data-group-id="3335477091-5">(</span><span class="mi">2</span><span class="p" data-group-id="3335477091-5">)</span><span class="p">.</span><span class="w">
</span><span class="gt">** exception error: no match of right hand side value 1
     in function  test1:demo/1</span></code></pre><p>Commands 21 and 22 change the value of dictionary item <code class="inline">aa</code> to <code class="inline">hello</code> and call
<code class="inline">test1:demo(2)</code>. Evaluation fails and the changes made to the dictionary in
<code class="inline">test1:demo(2)</code>, before the error occurred, are discarded.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">23&gt; </span><span class="n">Z</span><span class="p">.</span><span class="w">
</span><span class="gt">* 1:1: variable &#39;Z&#39; is unbound</span><span class="gp unselectable">
24&gt; </span><span class="nf">get</span><span class="p" data-group-id="8982525704-1">(</span><span class="ss">aa</span><span class="p" data-group-id="8982525704-1">)</span><span class="p">.</span><span class="w">
</span><span class="ss">hello</span></code></pre><p>Commands 23 and 24 show that <code class="inline">Z</code> was not bound and that dictionary item <code class="inline">aa</code> has
retained its original value.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">25&gt; </span><span class="nf">erase</span><span class="p" data-group-id="5828118284-1">(</span><span class="p" data-group-id="5828118284-1">)</span><span class="p">,</span><span class="w"> </span><span class="nf">put</span><span class="p" data-group-id="5828118284-2">(</span><span class="ss">aa</span><span class="p">,</span><span class="w"> </span><span class="ss">hello</span><span class="p" data-group-id="5828118284-2">)</span><span class="p">.</span><span class="w">
</span><span class="ss">undefined</span><span class="gp unselectable">
26&gt; </span><span class="nf">spawn</span><span class="p" data-group-id="5828118284-3">(</span><span class="ss">test1</span><span class="p">,</span><span class="w"> </span><span class="ss">demo</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5828118284-4">[</span><span class="mi">1</span><span class="p" data-group-id="5828118284-4">]</span><span class="p" data-group-id="5828118284-3">)</span><span class="p">.</span><span class="w">
</span><span class="o">&lt;</span><span class="mf">0.57</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span><span class="gp unselectable">
27&gt; </span><span class="nf">get</span><span class="p" data-group-id="5828118284-5">(</span><span class="ss">aa</span><span class="p" data-group-id="5828118284-5">)</span><span class="p">.</span><span class="w">
</span><span class="ss">hello</span></code></pre><p>Commands 25, 26, and 27 show the effect of evaluating <code class="inline">test1:demo(1)</code> in the
background. In this case, the expression is evaluated in a newly spawned
process. Any changes made in the process dictionary are local to the newly
spawned process and therefore not visible to the shell.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">28&gt; </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="9687013194-1">(</span><span class="s">&quot;hello hello\n&quot;</span><span class="p" data-group-id="9687013194-1">)</span><span class="p">.</span><span class="w">
</span><span class="ss">hello</span><span class="w"> </span><span class="ss">hello</span><span class="w">
</span><span class="ss">ok</span><span class="gp unselectable">
29&gt; </span><span class="nf">e</span><span class="p" data-group-id="9687013194-2">(</span><span class="mi">28</span><span class="p" data-group-id="9687013194-2">)</span><span class="p">.</span><span class="w">
</span><span class="ss">hello</span><span class="w"> </span><span class="ss">hello</span><span class="w">
</span><span class="ss">ok</span><span class="gp unselectable">
30&gt; </span><span class="nf">v</span><span class="p" data-group-id="9687013194-3">(</span><span class="mi">28</span><span class="p" data-group-id="9687013194-3">)</span><span class="p">.</span><span class="w">
</span><span class="ss">ok</span></code></pre><p>Commands 28, 29 and 30 use the history facilities of the shell. Command 29
re-evaluates command 28. Command 30 uses the value (result) of command 28. In
the cases of a pure function (a function with no side effects), the result is
the same. For a function with side effects, the result can be different.</p><p>The next few commands show some record manipulation. It is assumed that <code class="inline">ex.erl</code>
defines a record as follows:</p><p><code class="inline">-record(rec, {a, b = val()}).</code></p><p><code class="inline">val() -&gt;</code><br/>    <code class="inline">3.</code></p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">31&gt; </span><span class="nf">c</span><span class="p" data-group-id="7978567909-1">(</span><span class="ss">ex</span><span class="p" data-group-id="7978567909-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="7978567909-2">{</span><span class="ss">ok</span><span class="p">,</span><span class="ss">ex</span><span class="p" data-group-id="7978567909-2">}</span><span class="gp unselectable">
32&gt; </span><span class="nf">rr</span><span class="p" data-group-id="7978567909-3">(</span><span class="ss">ex</span><span class="p" data-group-id="7978567909-3">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="7978567909-4">[</span><span class="ss">rec</span><span class="p" data-group-id="7978567909-4">]</span></code></pre><p>Commands 31 and 32 compile file <code class="inline">ex.erl</code> and read the record definitions in
<code class="inline">ex.beam</code>. If the compiler did not output any record definitions on the BEAM
file, <code class="inline">rr(ex)</code> tries to read record definitions from the source file instead.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">33&gt; </span><span class="nf">rl</span><span class="p" data-group-id="3096660768-1">(</span><span class="ss">rec</span><span class="p" data-group-id="3096660768-1">)</span><span class="p">.</span><span class="w">
</span><span class="p">-</span><span class="na">record</span><span class="p" data-group-id="3096660768-2">(</span><span class="ss">rec</span><span class="p">,</span><span class="p" data-group-id="3096660768-3">{</span><span class="ss">a</span><span class="p">,</span><span class="ss">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">val</span><span class="p" data-group-id="3096660768-4">(</span><span class="p" data-group-id="3096660768-4">)</span><span class="p" data-group-id="3096660768-3">}</span><span class="p" data-group-id="3096660768-2">)</span><span class="p">.</span><span class="w">
</span><span class="ss">ok</span></code></pre><p>Command 33 prints the definition of the record named <code class="inline">rec</code>.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">34&gt; </span><span class="o">#</span><span class="ss">rec</span><span class="p" data-group-id="3425987305-1">{</span><span class="p" data-group-id="3425987305-1">}</span><span class="p">.</span><span class="w">
</span><span class="gt">** exception error: undefined shell command val/0</span></code></pre><p>Command 34 tries to create a <code class="inline">rec</code> record, but fails as function <code class="inline">val/0</code> is
undefined.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">35&gt; </span><span class="o">#</span><span class="ss">rec</span><span class="p" data-group-id="3997765010-1">{</span><span class="ss">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p" data-group-id="3997765010-1">}</span><span class="p">.</span><span class="w">
</span><span class="o">#</span><span class="ss">rec</span><span class="p" data-group-id="3997765010-2">{</span><span class="ss">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">undefined</span><span class="p">,</span><span class="ss">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p" data-group-id="3997765010-2">}</span></code></pre><p>Command 35 shows the workaround: explicitly assign values to record fields that
cannot otherwise be initialized.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">36&gt; </span><span class="nf">rp</span><span class="p" data-group-id="3253448077-1">(</span><span class="nf">v</span><span class="p" data-group-id="3253448077-2">(</span><span class="o">-</span><span class="mi">1</span><span class="p" data-group-id="3253448077-2">)</span><span class="p" data-group-id="3253448077-1">)</span><span class="p">.</span><span class="w">
</span><span class="o">#</span><span class="ss">rec</span><span class="p" data-group-id="3253448077-3">{</span><span class="ss">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">undefined</span><span class="p">,</span><span class="ss">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p" data-group-id="3253448077-3">}</span><span class="w">
</span><span class="ss">ok</span></code></pre><p>Command 36 prints the newly created record using record definitions maintained
by the shell.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">37&gt; </span><span class="nf">rd</span><span class="p" data-group-id="1654218526-1">(</span><span class="ss">rec</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1654218526-2">{</span><span class="ss">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">orddict</span><span class="p">:</span><span class="nf">new</span><span class="p" data-group-id="1654218526-3">(</span><span class="p" data-group-id="1654218526-3">)</span><span class="p" data-group-id="1654218526-2">}</span><span class="p" data-group-id="1654218526-1">)</span><span class="p">.</span><span class="w">
</span><span class="ss">rec</span></code></pre><p>Command 37 defines a record directly in the shell. The definition replaces the
one read from file <code class="inline">ex.beam</code>.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">38&gt; </span><span class="o">#</span><span class="ss">rec</span><span class="p" data-group-id="9002559431-1">{</span><span class="p" data-group-id="9002559431-1">}</span><span class="p">.</span><span class="w">
</span><span class="o">#</span><span class="ss">rec</span><span class="p" data-group-id="9002559431-2">{</span><span class="ss">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="9002559431-3">[</span><span class="p" data-group-id="9002559431-3">]</span><span class="p" data-group-id="9002559431-2">}</span><span class="w">
</span><span class="ss">ok</span></code></pre><p>Command 38 creates a record using the new definition, and prints the result.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">39&gt; </span><span class="nf">rd</span><span class="p" data-group-id="3050896274-1">(</span><span class="ss">rec</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3050896274-2">{</span><span class="ss">c</span><span class="p" data-group-id="3050896274-2">}</span><span class="p" data-group-id="3050896274-1">)</span><span class="p">,</span><span class="w"> </span><span class="n">A</span><span class="p">.</span><span class="w">
</span><span class="gt">* 1:15: variable &#39;A&#39; is unbound</span><span class="gp unselectable">
40&gt; </span><span class="o">#</span><span class="ss">rec</span><span class="p" data-group-id="3050896274-3">{</span><span class="p" data-group-id="3050896274-3">}</span><span class="p">.</span><span class="w">
</span><span class="o">#</span><span class="ss">rec</span><span class="p" data-group-id="3050896274-4">{</span><span class="ss">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">undefined</span><span class="p" data-group-id="3050896274-4">}</span><span class="w">
</span><span class="ss">ok</span></code></pre><p>Command 39 and 40 show that record definitions are updated as side effects. The
evaluation of the command fails, but the definition of <code class="inline">rec</code> has been carried
out.</p><p>For the next command, it is assumed that <code class="inline">test1:loop(N)</code> is defined as follows:</p><p><code class="inline">loop(N) -&gt;</code><br/>    <code class="inline">io:format(&quot;Hello Number: ~w~n&quot;, [N]),</code><br/>    <code class="inline">loop(N+1).</code></p><pre><code class="text">41&gt; test1:loop(0).
Hello Number: 0
Hello Number: 1
Hello Number: 2
Hello Number: 3

User switch command
 --&gt; i
 --&gt; c
.
.
.
Hello Number: 3374
Hello Number: 3375
Hello Number: 3376
Hello Number: 3377
Hello Number: 3378
** exception exit: killed</code></pre><p>Command 41 evaluates <code class="inline">test1:loop(0)</code>, which puts the system into an infinite
loop. At this point the user types <code class="inline">^G</code> (Control G), which suspends output from
the current process, which is stuck in a loop, and activates <code class="inline">JCL</code> mode. In
<code class="inline">JCL</code> mode the user can start and stop jobs.</p><p>In this particular case, command <code class="inline">i</code> (&quot;interrupt&quot;) terminates the looping
program, and command <code class="inline">c</code> connects to the shell again. As the process was running
in the background before we killed it, more printouts occur before message
&quot;<code class="inline">** exception exit: killed</code>&quot; is shown.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">42&gt; </span><span class="n">E</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">ets</span><span class="p">:</span><span class="nf">new</span><span class="p" data-group-id="3424918111-1">(</span><span class="ss">t</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3424918111-2">[</span><span class="p" data-group-id="3424918111-2">]</span><span class="p" data-group-id="3424918111-1">)</span><span class="p">.</span><span class="w">
</span><span class="p">#</span><span class="n">Ref</span><span class="o">&lt;</span><span class="mf">0.1662103692</span><span class="p">.</span><span class="mf">2407923716.214192</span><span class="o">&gt;</span></code></pre><p>Command 42 creates an ETS table.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">43&gt; </span><span class="nc">ets</span><span class="p">:</span><span class="nf">insert</span><span class="p" data-group-id="0234383557-1">(</span><span class="p" data-group-id="0234383557-2">{</span><span class="ss">d</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p" data-group-id="0234383557-2">}</span><span class="p" data-group-id="0234383557-1">)</span><span class="p">.</span><span class="w">
</span><span class="gt">** exception error: undefined function ets:insert/1</span></code></pre><p>Command 43 tries to insert a tuple into the ETS table, but the first argument
(the table) is missing. The exception kills the evaluator process.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">44&gt; </span><span class="nc">ets</span><span class="p">:</span><span class="nf">insert</span><span class="p" data-group-id="1166896231-1">(</span><span class="n">E</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1166896231-2">{</span><span class="ss">d</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p" data-group-id="1166896231-2">}</span><span class="p" data-group-id="1166896231-1">)</span><span class="p">.</span><span class="w">
</span><span class="gt">** exception error: argument is of wrong type
     in function  ets:insert/2
        called as ets:insert(16,{d,1,2})</span></code></pre><p>Command 44 corrects the mistake, but the ETS table has been destroyed as it was
owned by the killed evaluator process.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">45&gt; </span><span class="nf">f</span><span class="p" data-group-id="2942419852-1">(</span><span class="n">E</span><span class="p" data-group-id="2942419852-1">)</span><span class="p">.</span><span class="w">
</span><span class="ss">ok</span><span class="gp unselectable">
46&gt; </span><span class="nf">catch_exception</span><span class="p" data-group-id="2942419852-2">(</span><span class="ss">true</span><span class="p" data-group-id="2942419852-2">)</span><span class="p">.</span><span class="w">
</span><span class="ss">false</span></code></pre><p>Command 46 sets the exception handling of the evaluator process to <code class="inline">true</code>. The
exception handling can also be set when starting Erlang by
<code class="inline">erl -stdlib shell_catch_exception true</code>.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">47&gt; </span><span class="n">E</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">ets</span><span class="p">:</span><span class="nf">new</span><span class="p" data-group-id="1292374667-1">(</span><span class="ss">t</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1292374667-2">[</span><span class="p" data-group-id="1292374667-2">]</span><span class="p" data-group-id="1292374667-1">)</span><span class="p">.</span><span class="w">
</span><span class="p">#</span><span class="n">Ref</span><span class="o">&lt;</span><span class="mf">0.1662103692</span><span class="p">.</span><span class="mf">2407923716.214197</span><span class="o">&gt;</span><span class="gp unselectable">
48&gt; </span><span class="nc">ets</span><span class="p">:</span><span class="nf">insert</span><span class="p" data-group-id="1292374667-3">(</span><span class="p" data-group-id="1292374667-4">{</span><span class="ss">d</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p" data-group-id="1292374667-4">}</span><span class="p" data-group-id="1292374667-3">)</span><span class="p">.</span><span class="w">
</span><span class="gt">* exception error: undefined function ets:insert/1</span></code></pre><p>Command 48 makes the same mistake as in command 43, but this time the evaluator
process lives on. The single star at the beginning of the printout signals that
the exception has been caught.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">49&gt; </span><span class="nc">ets</span><span class="p">:</span><span class="nf">insert</span><span class="p" data-group-id="0354766661-1">(</span><span class="n">E</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0354766661-2">{</span><span class="ss">d</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p" data-group-id="0354766661-2">}</span><span class="p" data-group-id="0354766661-1">)</span><span class="p">.</span><span class="w">
</span><span class="ss">true</span></code></pre><p>Command 49 successfully inserts the tuple into the ETS table.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">50&gt; </span><span class="nc">ets</span><span class="p">:</span><span class="nf">insert</span><span class="p" data-group-id="6514717099-1">(</span><span class="p">#</span><span class="n">Ref</span><span class="o">&lt;</span><span class="mf">0.1662103692</span><span class="p">.</span><span class="mf">2407923716.214197</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6514717099-2">{</span><span class="ss">e</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p" data-group-id="6514717099-2">}</span><span class="p" data-group-id="6514717099-1">)</span><span class="p">.</span><span class="w">
</span><span class="ss">true</span></code></pre><p>Command 50 inserts another tuple into the ETS table. This time the first
argument is the table identifier itself. The shell can parse commands with pids
(<code class="inline">&lt;0.60.0&gt;</code>), ports (<code class="inline">#Port&lt;0.536&gt;</code>), references
(<code class="inline">#Ref&lt;0.1662103692.2407792644.214210&gt;</code>), and external functions
(<code class="inline">#Fun&lt;a.b.1&gt;</code>), but the command fails unless the corresponding pid, port,
reference, or function can be created in the running system.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">51&gt; </span><span class="nf">halt</span><span class="p" data-group-id="8653338783-1">(</span><span class="p" data-group-id="8653338783-1">)</span><span class="p">.</span><span class="w">
</span><span class="ss">strider</span><span class="w"> </span><span class="mi">2</span><span class="o">&gt;</span></code></pre><p>Command 51 exits the Erlang runtime system.</p><h2 id="module-jcl-mode" class="section-heading"><a href="#module-jcl-mode" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">JCL Mode</span></h2><p>When the shell starts, it starts a single evaluator process. This process,
together with any local processes that it spawns, is referred to as a <code class="inline">job</code>.
Only the current job, which is said to be <code class="inline">connected</code>, can perform operations
with standard I/O. All other jobs, which are said to be <code class="inline">detached</code>, are
<code class="inline">blocked</code> if they attempt to use standard I/O.</p><p>All jobs that do not use standard I/O run in the normal way.</p><p>The shell escape key <code class="inline">^G</code> (Control G) detaches the current job and activates
<code class="inline">JCL</code> mode. The <code class="inline">JCL</code> mode prompt is <code class="inline">&quot;--&gt;&quot;</code>. If <code class="inline">&quot;?&quot;</code> is entered at the prompt,
the following help message is displayed:</p><pre><code class="text">--&gt; ?
c [nn]            - connect to job
i [nn]            - interrupt job
k [nn]            - kill job
j                 - list all jobs
s [shell]         - start local shell
r [node [shell]]  - start remote shell
q                 - quit erlang
? | h             - this message</code></pre><p>The <code class="inline">JCL</code> commands have the following meaning:</p><ul><li><p><strong><code class="inline">c [nn]</code></strong> - Connects to job number <code class="inline">&lt;nn&gt;</code> or the current job. The standard
shell is resumed. Operations that use standard I/O by the current job are
interleaved with user inputs to the shell.</p></li><li><p><strong><code class="inline">i [nn]</code></strong> - Stops the current evaluator process for job number <code class="inline">nn</code> or the
current job, but does not kill the shell process. So, any variable bindings
and the process dictionary are preserved and the job can be connected again.
This command can be used to interrupt an endless loop.</p></li><li><p><strong><code class="inline">k [nn]</code></strong> - Kills job number <code class="inline">nn</code> or the current job. All spawned processes
in the job are killed, provided they have not evaluated the <code class="inline">group_leader/1</code>
BIF and are located on the local machine. Processes spawned on remote nodes
are not killed.</p></li><li><p><strong><code class="inline">j</code></strong> - Lists all jobs. A list of all known jobs is printed. The current job
name is prefixed with '*'.</p></li><li><p><strong><code class="inline">s</code></strong> - Starts a new job. This is assigned the new index <code class="inline">[nn]</code>, which can
be used in references.</p></li><li><p><strong><code class="inline">s [shell]</code></strong> - Starts a new job. This is assigned the new index <code class="inline">[nn]</code>,
which can be used in references. If optional argument <code class="inline">shell</code> is specified, it
is assumed to be a module that implements an alternative shell.</p></li><li><p><strong><code class="inline">r [node]</code></strong> - Starts a remote job on <code class="inline">node</code>. This is used in distributed
Erlang to allow a shell running on one node to control a number of
applications running on a network of nodes. If optional argument <code class="inline">shell</code> is
specified, it is assumed to be a module that implements an alternative shell.</p></li><li><p><strong><code class="inline">q</code></strong> - Quits Erlang. Notice that this option is disabled if Erlang is
started with the ignore break, <code class="inline">+Bi</code>, system flag (which can be useful, for
example when running a restricted shell, see the next section).</p></li><li><p><strong><code class="inline">?</code></strong> - Displays the help message above.</p></li></ul><p>The behavior of shell escape can be changed by the STDLIB application variable
<code class="inline">shell_esc</code>. The value of the variable can be either <code class="inline">jcl</code>
(<code class="inline">erl -stdlib shell_esc jcl</code>) or <code class="inline">abort</code> (<code class="inline">erl -stdlib shell_esc abort</code>). The
first option sets <code class="inline">^G</code> to activate <code class="inline">JCL</code> mode (which is also default behavior).
The latter sets <code class="inline">^G</code> to terminate the current shell and start a new one. <code class="inline">JCL</code>
mode cannot be invoked when <code class="inline">shell_esc</code> is set to <code class="inline">abort</code>.</p><p>If you want an Erlang node to have a remote job active from the start (rather
than the default local job), start Erlang with flag
<a href="../../apps/erts/erl_cmd.html#remsh"><code class="inline">-remsh</code></a>, for example,
<code class="inline">erl -remsh other_node@other_host</code></p><h2 id="module-restricted-shell" class="section-heading"><a href="#module-restricted-shell" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Restricted Shell</span></h2><p>The shell can be started in a restricted mode. In this mode, the shell evaluates
a function call only if allowed. This feature makes it possible to, for example,
prevent a user from accidentally calling a function from the prompt that could
harm a running system (useful in combination with system flag <code class="inline">+Bi</code>).</p><p>When the restricted shell evaluates an expression and encounters a function call
or an operator application, it calls a callback function (with information about
the function call in question). This callback function returns <code class="inline">true</code> to let the
shell go ahead with the evaluation, or <code class="inline">false</code> to abort it. There are two
possible callback functions for the user to implement:</p><ul><li><p><code class="inline">local_allowed(Func, ArgList, State) -&gt; {boolean(),NewState}</code></p><p>This is used to determine if the call to the local function <code class="inline">Func</code> with
arguments <code class="inline">ArgList</code> is to be allowed.</p></li><li><p><code class="inline">non_local_allowed(FuncSpec, ArgList, State) -&gt; {boolean(),NewState} | {{redirect,NewFuncSpec,NewArgList},NewState}</code></p><p>This is used to determine if the call to non-local function <code class="inline">FuncSpec</code>
(<code class="inline">{Module,Func}</code> or a fun) with arguments <code class="inline">ArgList</code> is to be allowed. The
return value <code class="inline">{redirect,NewFuncSpec,NewArgList}</code> can be used to let the shell
evaluate some other function than the one specified by <code class="inline">FuncSpec</code> and
<code class="inline">ArgList</code>.</p></li></ul><p>These callback functions are called from local and non-local evaluation function
handlers, described in the <a href="erl_eval.html"><code class="inline">erl_eval</code></a> manual page. (Arguments in <code class="inline">ArgList</code> are
evaluated before the callback functions are called.)</p><p>From OTP 25.0, if there are errors evaluating Erlang constructs, such as
<code class="inline">badmatch</code> during pattern matching or <code class="inline">bad_generator</code> in a comprehension, the
evaluator will dispatch to <code class="inline">erlang:raise(error, Reason, Stacktrace)</code>. This call
will be checked against the <code class="inline">non_local_allowed/3</code> callback function. You can
either forbid it, allow it, or redirect to another call of your choice.</p><p>Argument <code class="inline">State</code> is a tuple <code class="inline">{ShellState,ExprState}</code>. The return value
<code class="inline">NewState</code> has the same form. This can be used to carry a state between calls to
the callback functions. Data saved in <code class="inline">ShellState</code> lives through an entire shell
session. Data saved in <code class="inline">ExprState</code> lives only through the evaluation of the
current expression.</p><p>There are two ways to start a restricted shell session:</p><ul><li>Use STDLIB application variable <code class="inline">restricted_shell</code> and specify, as its value,
the name of the callback module. Example (with callback functions implemented
in <code class="inline">callback_mod.erl</code>): <code class="inline">$ erl -stdlib restricted_shell callback_mod</code>.</li><li>From a normal shell session, call function <a href="#start_restricted/1"><code class="inline">start_restricted/1</code></a>. This exits
the current evaluator and starts a new one in restricted mode.</li></ul><p><em>Notes:</em></p><ul><li>When restricted shell mode is activated or deactivated, new jobs started on
the node run in restricted or normal mode, respectively.</li><li>If restricted mode has been enabled on a particular node, remote shells
connecting to this node also run in restricted mode.</li><li>The callback functions cannot be used to allow or disallow execution of
functions called from compiled code (only functions called from expressions
entered at the shell prompt).</li></ul><p>Errors when loading the callback module is handled in different ways depending
on how the restricted shell is activated:</p><ul><li>If the restricted shell is activated by setting the STDLIB variable during
emulator startup, and the callback module cannot be loaded, a default
restricted shell allowing only the commands <code class="inline">q()</code> and <code class="inline">init:stop()</code> is used as
fallback.</li><li>If the restricted shell is activated using <a href="#start_restricted/1"><code class="inline">start_restricted/1</code></a> and the
callback module cannot be loaded, an error report is sent to the error logger
and the call returns <code class="inline">{error,Reason}</code>.</li></ul><h2 id="module-prompting" class="section-heading"><a href="#module-prompting" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Prompting</span></h2><p>The default shell prompt function displays the name of the node (if the node can
be part of a distributed system) and the current command number. The user can
customize the prompt function by calling <a href="#prompt_func/1"><code class="inline">prompt_func/1</code></a> or by setting
application configuration parameter <code class="inline">shell_prompt_func</code> for the STDLIB
application. Similarly the multiline prompt can be configured as well, by
calling <a href="#multiline_prompt_func/1"><code class="inline">multiline_prompt_func/1</code></a> or by setting the application parameter
<code class="inline">shell_multiline_prompt</code> for the STDLIB application.</p><p>A customized prompt function is stated as a tuple <code class="inline">{Mod, Func}</code>. The function is
called as <code class="inline">Mod:Func(L)</code>, where <code class="inline">L</code> is a list of key-value pairs created by the
shell. Currently there is only one pair: <code class="inline">{history, N}</code>, where <code class="inline">N</code> is the
current command number. The function is to return a list of characters or an
atom. This constraint is because of the Erlang I/O protocol. Unicode characters
beyond code point 255 are allowed in the list and the atom. Notice that in
restricted mode the call <code class="inline">Mod:Func(L)</code> must be allowed or the default shell
prompt function is called.</p>
    </section>

</div>

  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#catch_exception/1" data-no-tooltip="" translate="no">catch_exception(Bool)</a>

      </div>

        <div class="summary-synopsis"><p>Sets the exception handling of the evaluator process. The previous exception
handling is returned. The default (<code class="inline">false</code>) is to kill the evaluator process
when an exception occurs, which causes the shell to create a new evaluator
process. When the exception handling is set to <code class="inline">true</code>, the evaluator process
lives on, which means that, for example, ports and ETS tables as well as
processes linked to the evaluator process survive the exception.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#default_multiline_prompt/1" data-no-tooltip="" translate="no">default_multiline_prompt(Pbs)</a>

      </div>

        <div class="summary-synopsis"><p>Configures the multiline prompt as two trailing dots. This is the default
function but it may also be set explicitly as
<code class="inline">-stdlib shell_multiline_prompt {shell, default_multiline_prompt}</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#erl_pp_format_func/1" data-no-tooltip="" translate="no">erl_pp_format_func(String)</a>

      </div>

        <div class="summary-synopsis"><p>A formatting function that can be set with <a><code class="inline">format_shell_func/1</code></a> that will make
expressions submitted to the shell prettier.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#format_shell_func/1" data-no-tooltip="" translate="no">format_shell_func(ShellFormatFunc)</a>

      </div>

        <div class="summary-synopsis"><p>Can be used to set the formatting of the Erlang shell output.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#history/1" data-no-tooltip="" translate="no">history(N)</a>

      </div>

        <div class="summary-synopsis"><p>Sets the number of previous commands to keep in the history list to <code class="inline">N</code>. The
previous number is returned. Defaults to 20.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#inverted_space_prompt/1" data-no-tooltip="" translate="no">inverted_space_prompt(Pbs)</a>

      </div>

        <div class="summary-synopsis"><p>Configures the multiline prompt as inverted space. It may be set explicitly as
<code class="inline">-stdlib shell_multiline_prompt {shell, inverted_space_prompt}</code> or calling
<code class="inline">multiline_prompt_func({shell, inverted_space_prompt}).</code></p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#multiline_prompt_func/1" data-no-tooltip="" translate="no">multiline_prompt_func(PromptFunc)</a>

      </div>

        <div class="summary-synopsis"><p>Sets the shell multiline prompt function to <code class="inline">PromptFunc</code>. The previous prompt
function is returned.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#prompt_func/1" data-no-tooltip="" translate="no">prompt_func(PromptFunc)</a>

      </div>

        <div class="summary-synopsis"><p>Sets the shell prompt function to <code class="inline">PromptFunc</code>. The previous prompt function is
returned.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#prompt_width/1" data-no-tooltip="" translate="no">prompt_width(String)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a><code class="inline">prompt_width/2</code></a> with <code class="inline">Encoding</code> set to the encoding used by
<a><code class="inline">io:user/0</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#prompt_width/2" data-no-tooltip="" translate="no">prompt_width(String, Encoding)</a>

      </div>

        <div class="summary-synopsis"><p>It receives a prompt and computes its width, considering its Unicode characters
and ANSI escapes.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#results/1" data-no-tooltip="" translate="no">results(N)</a>

      </div>

        <div class="summary-synopsis"><p>Sets the number of results from previous commands to keep in the history list to
<code class="inline">N</code>. The previous number is returned. Defaults to 20.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#start_interactive/0" data-no-tooltip="" translate="no">start_interactive()</a>

      </div>

        <div class="summary-synopsis"><p>Starts the interactive shell if it has not already been started. It can be used
to programatically start the shell from an escript or when erl is started with
the -noinput or -noshell flags.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#start_interactive/1" data-no-tooltip="" translate="no">start_interactive/1</a>

      </div>

        <div class="summary-synopsis"><p>Starts the interactive shell if it has not already been started. It can be used
to programatically start the shell from an <a><code class="inline">escript</code></a>
or when <a><code class="inline">erl</code></a> is started with the
<a><code class="inline">-noinput</code></a> or
<a><code class="inline">-noshell</code></a> flags. The following options are
allowed</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#start_restricted/1" data-no-tooltip="" translate="no">start_restricted(Module)</a>

      </div>

        <div class="summary-synopsis"><p>Exits a normal shell and starts a restricted shell. <code class="inline">Module</code> specifies the
callback module for the functions <code class="inline">local_allowed/3</code> and <code class="inline">non_local_allowed/3</code>.
The function is meant to be called from the shell.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#stop_restricted/0" data-no-tooltip="" translate="no">stop_restricted()</a>

      </div>

        <div class="summary-synopsis"><p>Exits a restricted shell and starts a normal shell. The function is meant to be
called from the shell.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#strings/1" data-no-tooltip="" translate="no">strings(Strings)</a>

      </div>

        <div class="summary-synopsis"><p>Sets pretty printing of lists to <code class="inline">Strings</code>. The previous value of the flag is
returned.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#whereis/0" data-no-tooltip="" translate="no">whereis()</a>

      </div>

        <div class="summary-synopsis"><p>Returns the current shell process on the node where the calling process'
group_leader is located. If that node has no shell this function will return
undefined.</p></div>

    </div>

</div>

  </section>


  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Functions</span>
    </h1>
    <div class="functions-list">
<section class="detail" id="catch_exception/1">

  <div class="detail-header">
    <a href="#catch_exception/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">catch_exception(Bool)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/shell.erl#L2040" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> catch_exception(Bool) -> <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>() when Bool :: <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>().</pre>

      </div>

<p>Sets the exception handling of the evaluator process. The previous exception
handling is returned. The default (<code class="inline">false</code>) is to kill the evaluator process
when an exception occurs, which causes the shell to create a new evaluator
process. When the exception handling is set to <code class="inline">true</code>, the evaluator process
lives on, which means that, for example, ports and ETS tables as well as
processes linked to the evaluator process survive the exception.</p>
  </section>
</section>
<section class="detail" id="default_multiline_prompt/1">

  <div class="detail-header">
    <a href="#default_multiline_prompt/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">default_multiline_prompt(Pbs)</h1>

        <span class="note">(since OTP 27.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/shell.erl#L2217" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> default_multiline_prompt(<a href="unicode.html#t:chardata/0">unicode:chardata</a>()) -> <a href="unicode.html#t:chardata/0">unicode:chardata</a>().</pre>

      </div>

<p>Configures the multiline prompt as two trailing dots. This is the default
function but it may also be set explicitly as
<code class="inline">-stdlib shell_multiline_prompt {shell, default_multiline_prompt}</code>.</p>
  </section>
</section>
<section class="detail" id="erl_pp_format_func/1">

  <div class="detail-header">
    <a href="#erl_pp_format_func/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">erl_pp_format_func(String)</h1>

        <span class="note">(since OTP 27.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/shell.erl#L2108" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> erl_pp_format_func(String) -> String2 when String :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>(), String2 :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>().</pre>

      </div>

<p>A formatting function that can be set with <a href="#format_shell_func/1"><code class="inline">format_shell_func/1</code></a> that will make
expressions submitted to the shell prettier.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>This formatting function filter comments away from the expressions.</p></section>
  </section>
</section>
<section class="detail" id="format_shell_func/1">

  <div class="detail-header">
    <a href="#format_shell_func/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">format_shell_func(ShellFormatFunc)</h1>

        <span class="note">(since OTP 27.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/shell.erl#L2093" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> format_shell_func(ShellFormatFunc) -> ShellFormatFunc2
                           when
                               ShellFormatFunc :: default | {<a href="../../apps/erts/erlang.html#t:module/0">module</a>(), <a href="../../apps/erts/erlang.html#t:function/0">function</a>()} | <a href="../../apps/erts/erlang.html#t:string/0">string</a>(),
                               ShellFormatFunc2 :: default | {<a href="../../apps/erts/erlang.html#t:module/0">module</a>(), <a href="../../apps/erts/erlang.html#t:function/0">function</a>()} | <a href="../../apps/erts/erlang.html#t:string/0">string</a>().</pre>

      </div>

<p>Can be used to set the formatting of the Erlang shell output.</p><p>This has an effect on commands that have been submitted, and how it is saved in history.
Or if the formatting hotkey is pressed while editing an expression (Alt+R by default). You
can specify a <code class="inline">Mod:Func/1</code> that expects the whole expression as a string and
returns a formatted expressions as a string. See
<a href="stdlib_app.html#format_shell_func"><code class="inline">stdlib app config</code></a> for how to set it before
shell started.</p><p>If instead a string is provided, it will be used as a shell command. Your
command must include <code class="inline">${file}</code> somewhere in the string, for the shell to know
where the file goes in the command.</p><pre><code class="makeup erlang" translate="no"><span class="nc">shell</span><span class="p">:</span><span class="nf">format_shell_func</span><span class="p" data-group-id="9631233814-1">(</span><span class="s">&quot;\&quot;emacs -batch \${file} -l ~/erlang-format/emacs-format-file -f emacs-format-function\&quot;&quot;</span><span class="p" data-group-id="9631233814-1">)</span><span class="p">.</span></code></pre><pre><code class="makeup erlang" translate="no"><span class="nc">shell</span><span class="p">:</span><span class="nf">format_shell_func</span><span class="p" data-group-id="2962800938-1">(</span><span class="p" data-group-id="2962800938-2">{</span><span class="ss">shell</span><span class="p">,</span><span class="w"> </span><span class="ss">erl_pp_format_func</span><span class="p" data-group-id="2962800938-2">}</span><span class="p" data-group-id="2962800938-1">)</span><span class="p">.</span></code></pre>
  </section>
</section>
<section class="detail" id="history/1">

  <div class="detail-header">
    <a href="#history/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">history(N)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/shell.erl#L2016" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> history(N) -> <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>() when N :: <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>().</pre>

      </div>

<p>Sets the number of previous commands to keep in the history list to <code class="inline">N</code>. The
previous number is returned. Defaults to 20.</p>
  </section>
</section>
<section class="detail" id="inverted_space_prompt/1">

  <div class="detail-header">
    <a href="#inverted_space_prompt/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">inverted_space_prompt(Pbs)</h1>

        <span class="note">(since OTP 27.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/shell.erl#L2229" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> inverted_space_prompt(<a href="unicode.html#t:chardata/0">unicode:chardata</a>()) -> <a href="unicode.html#t:chardata/0">unicode:chardata</a>().</pre>

      </div>

<p>Configures the multiline prompt as inverted space. It may be set explicitly as
<code class="inline">-stdlib shell_multiline_prompt {shell, inverted_space_prompt}</code> or calling
<code class="inline">multiline_prompt_func({shell, inverted_space_prompt}).</code></p>
  </section>
</section>
<section class="detail" id="multiline_prompt_func/1">

  <div class="detail-header">
    <a href="#multiline_prompt_func/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">multiline_prompt_func(PromptFunc)</h1>

        <span class="note">(since OTP 27.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/shell.erl#L2064" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> multiline_prompt_func(PromptFunc) -> PromptFunc2
                               when
                                   PromptFunc :: default | {<a href="../../apps/erts/erlang.html#t:module/0">module</a>(), <a href="../../apps/erts/erlang.html#t:function/0">function</a>()} | <a href="../../apps/erts/erlang.html#t:string/0">string</a>(),
                                   PromptFunc2 :: default | {<a href="../../apps/erts/erlang.html#t:module/0">module</a>(), <a href="../../apps/erts/erlang.html#t:function/0">function</a>()} | <a href="../../apps/erts/erlang.html#t:string/0">string</a>().</pre>

      </div>

<p>Sets the shell multiline prompt function to <code class="inline">PromptFunc</code>. The previous prompt
function is returned.</p>
  </section>
</section>
<section class="detail" id="prompt_func/1">

  <div class="detail-header">
    <a href="#prompt_func/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">prompt_func(PromptFunc)</h1>

        <span class="note">(since OTP R13B04)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/shell.erl#L2052" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> prompt_func(PromptFunc) -> PromptFunc2
                     when
                         PromptFunc :: default | {<a href="../../apps/erts/erlang.html#t:module/0">module</a>(), <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>()},
                         PromptFunc2 :: default | {<a href="../../apps/erts/erlang.html#t:module/0">module</a>(), <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>()}.</pre>

      </div>

<p>Sets the shell prompt function to <code class="inline">PromptFunc</code>. The previous prompt function is
returned.</p>
  </section>
</section>
<section class="detail" id="prompt_width/1">

  <div class="detail-header">
    <a href="#prompt_width/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">prompt_width(String)</h1>

        <span class="note">(since OTP 27.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/shell.erl#L2153" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> prompt_width(<a href="unicode.html#t:chardata/0">unicode:chardata</a>()) -> <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>().</pre>

      </div>

<p>Equivalent to <a href="#prompt_width/2"><code class="inline">prompt_width/2</code></a> with <code class="inline">Encoding</code> set to the encoding used by
<a href="io.html#t:user/0"><code class="inline">io:user/0</code></a>.</p>
  </section>
</section>
<section class="detail" id="prompt_width/2">

  <div class="detail-header">
    <a href="#prompt_width/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">prompt_width(String, Encoding)</h1>

        <span class="note">(since OTP 27.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/shell.erl#L2193" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> prompt_width(<a href="unicode.html#t:chardata/0">unicode:chardata</a>(), unicode | latin1) -> <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>().</pre>

      </div>

<p>It receives a prompt and computes its width, considering its Unicode characters
and ANSI escapes.</p><p>Useful for creating custom multiline prompts.</p><p>Example:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="nc">shell</span><span class="p">:</span><span class="nf">prompt_width</span><span class="p" data-group-id="3666481661-1">(</span><span class="s">&quot;olá&gt; &quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">unicode</span><span class="p" data-group-id="3666481661-1">)</span><span class="p">.</span><span class="w">
</span><span class="mi">5</span><span class="w">
</span><span class="c1">%% &quot;olá&gt; &quot; is printed as &quot;ol\341&gt; &quot; on a latin1 systems</span><span class="gp unselectable">
2&gt; </span><span class="nc">shell</span><span class="p">:</span><span class="nf">prompt_width</span><span class="p" data-group-id="3666481661-2">(</span><span class="s">&quot;olá&gt; &quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">latin1</span><span class="p" data-group-id="3666481661-2">)</span><span class="p">.</span><span class="w">
</span><span class="mi">8</span><span class="w">
</span><span class="c1">%% Ansi escapes are ignored</span><span class="gp unselectable">
3&gt; </span><span class="nc">shell</span><span class="p">:</span><span class="nf">prompt_width</span><span class="p" data-group-id="3666481661-3">(</span><span class="s">&quot;\e[32molá\e[0m&gt; &quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">unicode</span><span class="p" data-group-id="3666481661-3">)</span><span class="p">.</span><span class="w">
</span><span class="mi">5</span><span class="w">
</span><span class="c1">%% Double width characters count as 2</span><span class="gp unselectable">
4&gt; </span><span class="nc">shell</span><span class="p">:</span><span class="nf">prompt_width</span><span class="p" data-group-id="3666481661-4">(</span><span class="s">&quot;😀&gt; &quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">unicode</span><span class="p" data-group-id="3666481661-4">)</span><span class="p">.</span><span class="w">
</span><span class="mi">4</span><span class="w">
</span><span class="c1">%% &quot;😀&gt; &quot; is printed as &quot;\x{1F600}&gt; &quot; on latin1 systems</span><span class="gp unselectable">
5&gt; </span><span class="nc">shell</span><span class="p">:</span><span class="nf">prompt_width</span><span class="p" data-group-id="3666481661-5">(</span><span class="s">&quot;😀&gt; &quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">latin1</span><span class="p" data-group-id="3666481661-5">)</span><span class="p">.</span><span class="w">
</span><span class="mi">11</span></code></pre>
  </section>
</section>
<section class="detail" id="results/1">

  <div class="detail-header">
    <a href="#results/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">results(N)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/shell.erl#L2026" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> results(N) -> <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>() when N :: <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>().</pre>

      </div>

<p>Sets the number of results from previous commands to keep in the history list to
<code class="inline">N</code>. The previous number is returned. Defaults to 20.</p>
  </section>
</section>
<section class="detail" id="start_interactive/0">

  <div class="detail-header">
    <a href="#start_interactive/0" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">start_interactive()</h1>

        <span class="note">(since OTP 26.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/shell.erl#L78" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> start_interactive() -> ok | {error, already_started}.</pre>

      </div>

<p>Starts the interactive shell if it has not already been started. It can be used
to programatically start the shell from an escript or when erl is started with
the -noinput or -noshell flags.</p><p>Calling this function will start a remote shell if <code class="inline">-remsh</code> is given on the
command line or a local shell if not.</p>
  </section>
</section>
<section class="detail" id="start_interactive/1">

  <div class="detail-header">
    <a href="#start_interactive/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">start_interactive/1</h1>

        <span class="note">(since OTP 26.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/shell.erl#L141" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> start_interactive(noshell | {noshell, raw | cooked} | {<a href="../../apps/erts/erlang.html#t:module/0">module</a>(), <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>(), [<a href="../../apps/erts/erlang.html#t:term/0">term</a>()]}) ->
                           ok | {error, already_started};
                       ({remote, <a href="../../apps/erts/erlang.html#t:string/0">string</a>()}) -> ok | {error, already_started | noconnection};
                       ({<a href="../../apps/erts/erlang.html#t:node/0">node</a>(), {<a href="../../apps/erts/erlang.html#t:module/0">module</a>(), <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>(), [<a href="../../apps/erts/erlang.html#t:term/0">term</a>()]}} |
                        {remote, <a href="../../apps/erts/erlang.html#t:string/0">string</a>(), {<a href="../../apps/erts/erlang.html#t:module/0">module</a>(), <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>(), [<a href="../../apps/erts/erlang.html#t:term/0">term</a>()]}}) ->
                           ok |
                           {error, already_started | noconnection | badfile | nofile | on_load_failure}.</pre>

      </div>

<p>Starts the interactive shell if it has not already been started. It can be used
to programatically start the shell from an <a href="../../apps/erts/escript_cmd.html"><code class="inline">escript</code></a>
or when <a href="../../apps/erts/erl_cmd.html"><code class="inline">erl</code></a> is started with the
<a href="../../apps/erts/erl_cmd.html#noinput"><code class="inline">-noinput</code></a> or
<a href="../../apps/erts/erl_cmd.html#noshell"><code class="inline">-noshell</code></a> flags. The following options are
allowed:</p><ul><li><p><strong id="noshell_raw">noshell | {noshell, Mode}</strong> - Starts the interactive shell
as if <a href="../../apps/erts/erl_cmd.html#noshell"><code class="inline">-noshell</code></a> was given to
<a href="../../apps/erts/erl_cmd.html"><code class="inline">erl</code></a>.</p><p>It is possible to give a <code class="inline">Mode</code> indicating if the input should be set
in <code class="inline">cooked</code> or <code class="inline">raw</code> mode. <code class="inline">Mode</code> only has en effect if <a href="io.html#t:user/0"><code class="inline">io:user/0</code></a> is a tty.
If no <code class="inline">Mode</code> is given, it defaults is <code class="inline">cooked</code>.</p><p>When in <code class="inline">raw</code> mode all key presses are passed to <a href="io.html#t:user/0"><code class="inline">io:user/0</code></a> as they are
typed when they are typed and the characters are not echoed to the terminal.
It is possible to set the <code class="inline">echo</code> to <code class="inline">true</code> using <a href="io.html#setopts/2"><code class="inline">io:setopts/2</code></a> to enabling
echoing again.</p><p>When in <code class="inline">cooked</code> mode the OS will handle the line editing and all data is
passed to <a href="io.html#t:user/0"><code class="inline">io:user/0</code></a> when a newline is entered.</p></li><li><p><strong><a href="../../apps/erts/erlang.html#t:mfa/0">mfa()</a></strong> - Starts the interactive shell using
<a href="../../apps/erts/erlang.html#t:mfa/0"><code class="inline">mfa()</code></a> as the default shell. The <a href="../../apps/erts/erlang.html#t:mfa/0"><code class="inline">mfa/0</code></a> should
return the <a href="../../apps/erts/erlang.html#t:pid/0"><code class="inline">pid/0</code></a> of the created shell process.</p></li><li><p><strong>{<a href="../../apps/erts/erlang.html#t:node/0">node()</a>, <a href="../../apps/erts/erlang.html#t:mfa/0">mfa()</a>}</strong> - Starts the
interactive shell using <a href="../../apps/erts/erlang.html#t:mfa/0"><code class="inline">mfa()</code></a> on
<a href="../../apps/erts/erlang.html#t:node/0"><code class="inline">node()</code></a> as the default shell. The <a href="../../apps/erts/erlang.html#t:mfa/0"><code class="inline">mfa/0</code></a> should
return the <a href="../../apps/erts/erlang.html#t:pid/0"><code class="inline">pid/0</code></a> of the created shell process.</p></li><li><p><strong>{remote, <a href="../../apps/erts/erlang.html#t:string/0"><code class="inline">string()</code></a>}</strong> - Starts the interactive
shell using as if <a href="../../apps/erts/erl_cmd.html#remsh"><code class="inline">-remsh</code></a> was given to
<a href="../../apps/erts/erl_cmd.html"><code class="inline">erl</code></a>.</p></li><li><p><strong>{remote, <a href="../../apps/erts/erlang.html#t:string/0"><code class="inline">string()</code></a>,
<a href="../../apps/erts/erlang.html#t:mfa/0"><code class="inline">mfa()</code></a>}</strong> - Starts the interactive shell using as if
<a href="../../apps/erts/erl_cmd.html#remsh"><code class="inline">-remsh</code></a> was given to
<a href="../../apps/erts/erl_cmd.html"><code class="inline">erl</code></a> but with an alternative shell implementation.</p></li></ul><p>On error this function will return:</p><ul><li><p><strong>already_started</strong> - if an interactive shell is already started.</p></li><li><p><strong>noconnection</strong> - if a remote shell was requested but it could not be
connected to.</p></li><li><p><strong>badfile | nofile | on_load_failure</strong> - if a remote shell was requested with
a custom <a href="../../apps/erts/erlang.html#t:mfa/0">mfa()</a>, but the module could not be loaded. See
<a href="../../apps/kernel/code.html#error_reasons">Error Reasons for Code-Loading Functions</a> for a
description of the error reasons.</p></li></ul>
  </section>
</section>
<section class="detail" id="start_restricted/1">

  <div class="detail-header">
    <a href="#start_restricted/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">start_restricted(Module)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/shell.erl#L199" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> start_restricted(Module) -> {error, Reason}
                          when Module :: <a href="../../apps/erts/erlang.html#t:module/0">module</a>(), Reason :: <a href="../../apps/kernel/code.html#t:load_error_rsn/0">code:load_error_rsn</a>().</pre>

      </div>

<p>Exits a normal shell and starts a restricted shell. <code class="inline">Module</code> specifies the
callback module for the functions <code class="inline">local_allowed/3</code> and <code class="inline">non_local_allowed/3</code>.
The function is meant to be called from the shell.</p><p>If the callback module cannot be loaded, an error tuple is returned. The
<code class="inline">Reason</code> in the error tuple is the one returned by the code loader when trying
to load the code of the callback module.</p>
  </section>
</section>
<section class="detail" id="stop_restricted/0">

  <div class="detail-header">
    <a href="#stop_restricted/0" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">stop_restricted()</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/shell.erl#L219" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> stop_restricted() -> <a href="../../apps/erts/erlang.html#t:no_return/0">no_return</a>().</pre>

      </div>

<p>Exits a restricted shell and starts a normal shell. The function is meant to be
called from the shell.</p>
  </section>
</section>
<section class="detail" id="strings/1">

  <div class="detail-header">
    <a href="#strings/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">strings(Strings)</h1>

        <span class="note">(since OTP R16B)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/shell.erl#L2144" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> strings(Strings) -> Strings2 when Strings :: <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>(), Strings2 :: <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>().</pre>

      </div>

<p>Sets pretty printing of lists to <code class="inline">Strings</code>. The previous value of the flag is
returned.</p><p>The flag can also be set by the STDLIB application variable <code class="inline">shell_strings</code>.
Defaults to <code class="inline">true</code>, which means that lists of integers are printed using the
string syntax, when possible. Value <code class="inline">false</code> means that no lists are printed
using the string syntax.</p>
  </section>
</section>
<section class="detail" id="whereis/0">

  <div class="detail-header">
    <a href="#whereis/0" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">whereis()</h1>

        <span class="note">(since OTP 26.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/shell.erl#L157" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> whereis() -> <a href="../../apps/erts/erlang.html#t:pid/0">pid</a>() | undefined.</pre>

      </div>

<p>Returns the current shell process on the node where the calling process'
group_leader is located. If that node has no shell this function will return
undefined.</p>
  </section>
</section>

    </div>
  </section>

    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="stdlib.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.1) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>
<p>Copyright © 1996-2025 <a href="https://www.ericsson.com">Ericsson AB</a></p>
    </footer>
  </div>
</main>
</div>
  <script defer src="https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.min.js"></script>
  <script>
  let initialized = false;

  window.addEventListener("exdoc:loaded", () => {
      if (!initialized) {
      mermaid.initialize({
          startOnLoad: false,
          theme: document.body.className.includes("dark") ? "dark" : "default"
      });
      initialized = true;
      }

      let id = 0;
      for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
          graphEl.innerHTML = svg;
          bindFunctions?.(graphEl);
          preEl.insertAdjacentElement("afterend", graphEl);
          preEl.remove();
      });
      }
  });
  </script>

  </body>
</html>
