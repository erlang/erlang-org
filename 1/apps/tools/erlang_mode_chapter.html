<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.1">
    <meta name="project" content="tools v4.1.2">


<meta name="exdoc:full-text-search-url" content="/doc/search.html?v=1&q=">
<meta name="major-vsn" content="1">
<link rel="canonical" href="https://www.erlang.org/doc/apps/tools/erlang_mode_chapter.html" />
    <title>The Erlang mode for Emacs — tools v4.1.2</title>

    <link rel="stylesheet" href="dist/html-erlang-ZK43ZOAC.css" />

    <script defer src="dist/sidebar_items-FEEFEFAE.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-DPJLHKSM.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="../../index.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="tools" />
        </a>

      <div>
        <a href="../../index.html" class="sidebar-projectName" translate="no">
tools
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v4.1.2
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-extra" id="main" data-type="extras">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of tools</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>The Erlang mode for Emacs</h1>


      <a href="https://github.com/erlang/otp/blob/master/lib/tools/doc/guides/erlang_mode_chapter.md#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


<h2 id="purpose" class="section-heading"><a href="#purpose" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Purpose</span></h2><p>The purpose of this user guide is to introduce you to the Erlang mode
for Emacs and gives some relevant background information of the
functions and features.  See also <a href="erlang-el.html">Erlang mode reference
manual</a> The purpose of the Erlang mode
itself is to facilitate the developing process for the Erlang
programmer.</p><h2 id="pre-requisites" class="section-heading"><a href="#pre-requisites" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Pre-requisites</span></h2><p>Basic knowledge of Emacs and Erlang/OTP.</p><h2 id="elisp" class="section-heading"><a href="#elisp" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Elisp</span></h2><p>Two Elisp modules are included in this tool package for
Emacs. <code class="inline">erlang.el</code> defines the actual Erlang mode and
<code class="inline">erlang-start.el</code> makes some nice initializations.</p><h2 id="setup-on-unix" class="section-heading"><a href="#setup-on-unix" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Setup on UNIX</span></h2><p>To set up the Erlang Emacs mode on a UNIX systems, edit or create the file <code class="inline">.emacs</code>
in the your home directory.</p><p>Below is a complete example of what should be added to a user's <code class="inline">.emacs</code>
provided that OTP is installed in the directory <code class="inline">/usr/local/otp</code>:</p><pre><code class="text">(setq load-path (cons  &quot;/usr/local/otp/lib/tools-&lt;ToolsVer&gt;/emacs&quot;
load-path))
(setq erlang-root-dir &quot;/usr/local/otp&quot;)
(setq exec-path (cons &quot;/usr/local/otp/bin&quot; exec-path))
(require 'erlang-start)</code></pre><h2 id="setup-on-windows" class="section-heading"><a href="#setup-on-windows" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Setup on Windows</span></h2><p>To set up the Erlang Emacs mode on a Windows systems, edit/create the file
<code class="inline">.emacs</code>, the location of the file depends on the configuration of the system.
If the <em>HOME</em> environment variable is set, Emacs will look for the <code class="inline">.emacs</code> file
in the directory indicated by the <code class="inline">HOME</code> variable. If <code class="inline">HOME</code> is not set, Emacs
will look for the <code class="inline">.emacs</code> file in <code class="inline">C:\</code>.</p><p>Below is a complete example of what should be added to a user's <code class="inline">.emacs</code>
provided that OTP is installed in the directory <code class="inline">C:\Program Files\Erlang OTP</code>:</p><pre><code class="lisp">(setq load-path (cons  &quot;C:/Program Files/Erlang OTP/lib/tools-&lt;ToolsVer&gt;/emacs&quot;
load-path))
(setq erlang-root-dir &quot;C:/Program Files/Erlang OTP&quot;)
(setq exec-path (cons &quot;C:/Program Files/Erlang OTP/bin&quot; exec-path))
(require 'erlang-start)</code></pre><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>In <code class="inline">.emacs</code>, the slash character (<code class="inline">/</code>) can be used as path separator. But if you
decide to use the backslash character (<code class="inline">\</code>), note that backslashes have to be
doubled, since they are treated as escape characters by Emacs.</p></section><h2 id="indentation" class="section-heading"><a href="#indentation" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Indentation</span></h2><p>The &quot;Oxford Advanced Learners Dictionary of Current English&quot; says the following
about the word &quot;indent&quot;:</p><blockquote><p>&quot;start (a line of print or writing) farther from the margin than the others&quot;.</p></blockquote><p>The Erlang mode does, of course, provide this feature. The layout used is based
on the common use of the language.</p><p>It is strongly recommended to use this feature and avoid to indent lines in a
nonstandard way. Some motivations are:</p><ul><li>Code using the same layout is easy to read and maintain.</li><li>Since several features of Erlang mode is based on the standard layout they
might not work correctly if a nonstandard layout is used.</li></ul><p>The indentation features can be used to reindent large sections of a file. If
some lines use nonstandard indentation they will be reindented.</p><h2 id="editing" class="section-heading"><a href="#editing" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Editing</span></h2><ul><li><em><code class="inline">M-x erlang-mode RET</code></em> - This command activates the Erlang major mode for
the current buffer. When this mode is active the mode line contain the word
&quot;Erlang&quot;.</li></ul><p>When the Erlang mode is correctly installed, it is automatically activated when
a file ending in <code class="inline">.erl</code> or <code class="inline">.hrl</code> is opened in Emacs.</p><p>When a file is saved the name in the <code class="inline">-module().</code> line is checked against the
file name. Should they mismatch Emacs can change the module specifier so that it
matches the file name. By default, the user is asked before the change is
performed.</p><p>An &quot;electric&quot; command is a character that in addition to just inserting the
character performs some type of action. For example the <code class="inline">;</code> character is typed
in a situation where is ends a function clause a new function header is
generated. The electric commands are as follows:</p><ul><li><code class="inline">erlang-electric-comma</code> - Insert a comma character and possibly a new
indented line.</li><li><code class="inline">erlang-electric-semicolon</code> - Insert a semicolon character and possibly a
prototype for the next line.</li><li><code class="inline">erlang-electric-gt</code> - Insert a <code class="inline">&gt;</code> character and possible a new indented line.</li></ul><p>To disable all electric commands set the variable <code class="inline">erlang-electric-commands</code> to
the empty list. In short, place the following line in your <code class="inline">.emacs</code>-file:</p><pre><code class="text">(setq erlang-electric-commands '())</code></pre><h2 id="syntax-highlighting" class="section-heading"><a href="#syntax-highlighting" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Syntax highlighting</span></h2><p>It is possible for Emacs to use colors when displaying a buffer. By &quot;syntax
highlighting&quot;, we mean that syntactic components, for example keywords and
function names, will be colored.</p><p>The basic idea of syntax highlighting is to make the structure of a program
clearer. For example, the highlighting will make it easier to spot simple bugs.
Have not you ever written a variable in lower-case only? With syntax
highlighting a variable will colored while atoms will be shown with the normal
text color.</p><h2 id="tags" class="section-heading"><a href="#tags" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tags</span></h2><p>Tags is a standard Emacs package used to record information about source files
in large development projects. In addition to listing the files of a project, a
tags file normally contains information about all functions and variables that
are defined. By far, the most useful command of the tags system is its ability
to find the definition of functions in any file in the project. But the Tags
system is not limited to this feature, for example, it is possible to do a text
search in all files in a project, or to perform a project-wide search and
replace.</p><p>In order to use the Tags system a file named <code class="inline">TAGS</code> must be created. The file
can be seen as a database over all functions, records, and macros in all files
in the project. The <code class="inline">TAGS</code> file can be created using two different methods for
Erlang. The first is the standard Emacs utility &quot;etags&quot;, the second is by using
the Erlang module <code class="inline">tags</code>.</p><h2 id="etags" class="section-heading"><a href="#etags" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Etags</span></h2><p><code class="inline">etags</code> is a program that is part of the Emacs distribution. It is normally
executed from a command line, like a Unix shell or a DOS box.</p><p>The <code class="inline">etags</code> program of fairly modern versions of Emacs and XEmacs has native
support for Erlang. To check if your version does include this support, issue
the command <code class="inline">etags --help</code> at a the command line prompt. At the end of the help
text there is a list of supported languages. Unless Erlang is a member of this
list I suggest that you should upgrade to a newer version of Emacs.</p><p>As seen in the help text — unless you have not upgraded your Emacs yet — <code class="inline">etags</code>
associate the file extensions <code class="inline">.erl</code> and <code class="inline">.hrl</code> with Erlang.</p><p>Basically, the <code class="inline">etags</code> utility is run using the following form:</p><pre><code class="makeup bash" translate="no"><span class="">etags file1.erl file2.erl
</span></code></pre><p>This will create a file named <code class="inline">TAGS</code> in the current directory.</p><p>The <code class="inline">etags</code> utility can also read a list of files from its standard input by
supplying a single dash in place of the file names. This feature is useful when
a project consists of a large number of files. The standard UNIX command <code class="inline">find</code>
can be used to generate the list of files, for example:</p><pre><code class="makeup bash" translate="no"><span class="">find . -name &quot;*.[he]rl&quot; -print | etags -
</span></code></pre><p>The above line will create a <code class="inline">TAGS</code> file covering all the Erlang source files in
the current directory, and in the subdirectories below.</p><p>See the GNU Emacs Manual and the etags man page for more info.</p><h2 id="shell" class="section-heading"><a href="#shell" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Shell</span></h2><p>The look and feel on an Erlang shell inside Emacs should be the same as in a
normal Erlang shell. There is just one major difference, the cursor keys will
actually move the cursor around just like in any normal Emacs buffer. The
command line history can be accessed by the following commands:</p><ul><li><em><code class="inline">C-up</code></em>or <em><code class="inline">M-p</code></em>(<code class="inline">comint-previous-input</code>) - Move to the previous line in
the input history.</li><li><em><code class="inline">C-down</code></em>or <em><code class="inline">M-n</code></em>(<code class="inline">comint-next-input</code>) - Move to the next line in the
input history.</li></ul><p>If the Erlang shell buffer would be killed the command line history is saved to
a file. The command line history is automatically retrieved when a new Erlang
shell is started.</p><h2 id="compilation" class="section-heading"><a href="#compilation" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Compilation</span></h2><p>The classic edit-compile-bugfix cycle for Erlang is to edit the source file in
an editor, save it to a file and switch to an Erlang shell. In the shell the
compilation command is given. Should the compilation fail you have to bring out
the editor and locate the correct line.</p><p>With the Erlang editing mode the entire edit-compile-bugfix cycle can be
performed without leaving Emacs. Emacs can order Erlang to compile a file and it
can parse the error messages to automatically place the point on the erroneous
lines.</p>

</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

      <a href="cprof_chapter.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
cprof - The Call Count Profiler
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="fprof_chapter.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
fprof - The File Trace Profiler
        </span>
      </a>

  </div>
</div>
    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="tools.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.1) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>
<p>Copyright © 1996-2025 <a href="https://www.ericsson.com">Ericsson AB</a></p>
    </footer>
  </div>
</main>
</div>
  <script defer src="https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.min.js"></script>
  <script>
  let initialized = false;

  window.addEventListener("exdoc:loaded", () => {
      if (!initialized) {
      mermaid.initialize({
          startOnLoad: false,
          theme: document.body.className.includes("dark") ? "dark" : "default"
      });
      initialized = true;
      }

      let id = 0;
      for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
          graphEl.innerHTML = svg;
          bindFunctions?.(graphEl);
          preEl.insertAdjacentElement("afterend", graphEl);
          preEl.remove();
      });
      }
  });
  </script>

  </body>
</html>
