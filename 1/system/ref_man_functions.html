<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.1">
    <meta name="project" content="Erlang System Documentation v29.0-rc0">


<meta name="exdoc:full-text-search-url" content="/doc/search.html?v=1&q=">
<meta name="major-vsn" content="1">
<link rel="canonical" href="https://www.erlang.org/doc/system/ref_man_functions.html" />
<meta name="exdoc:autocomplete" content="off">
    <title>Functions — Erlang System Documentation v29.0-rc0</title>

    <link rel="stylesheet" href="dist/html-erlang-ZK43ZOAC.css" />

    <script defer src="dist/sidebar_items-09F1912C.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-DPJLHKSM.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="../index.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="Erlang System Documentation" />
        </a>

      <div>
        <a href="../index.html" class="sidebar-projectName" translate="no">
Erlang System Documentation
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v29.0-rc0
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-extra" id="main" data-type="extras">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of Erlang System Documentation</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>Functions</h1>


      <a href="https://github.com/erlang/otp/blob/master/system/doc/reference_manual/ref_man_functions.md#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


<p><a href="" id="syntax"></a></p><h2 id="function-declaration-syntax" class="section-heading"><a href="#function-declaration-syntax" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Function Declaration Syntax</span></h2><p>A <em>function declaration</em> is a sequence of function clauses separated by
semicolons, and terminated by a period (<code class="inline">.</code>).</p><p>A <em>function clause</em> consists of a <em>clause head</em> and a <em>clause body</em>, separated by
<code class="inline">-&gt;</code>.</p><p>A clause <em>head</em> consists of the function name, an argument list, and an optional
guard sequence beginning with the keyword <code class="inline">when</code>:</p><pre><code class="makeup erlang" translate="no"><span class="n">Name</span><span class="p" data-group-id="4487901435-1">(</span><span class="n">Pattern11</span><span class="p">,</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="p">,</span><span class="n">Pattern1N</span><span class="p" data-group-id="4487901435-1">)</span><span class="w"> </span><span class="p" data-group-id="4487901435-2">[</span><span class="k">when</span><span class="w"> </span><span class="n">GuardSeq1</span><span class="p" data-group-id="4487901435-2">]</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="n">Body1</span><span class="p">;</span><span class="w">
</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="p">;</span><span class="w">
</span><span class="n">Name</span><span class="p" data-group-id="4487901435-3">(</span><span class="n">PatternK1</span><span class="p">,</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="p">,</span><span class="n">PatternKN</span><span class="p" data-group-id="4487901435-3">)</span><span class="w"> </span><span class="p" data-group-id="4487901435-4">[</span><span class="k">when</span><span class="w"> </span><span class="n">GuardSeqK</span><span class="p" data-group-id="4487901435-4">]</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="n">BodyK</span><span class="p">.</span></code></pre><p>The function name is an atom. Each argument is a pattern.</p><p>The number of arguments <code class="inline">N</code> is the <em>arity</em> of the function. A function is
uniquely defined by the module name, function name, and arity. That is, two
functions with the same name and in the same module, but with different arities
are two different functions.</p><p>A function named <code class="inline">f</code> in module <code class="inline">mod</code> and with arity <code class="inline">N</code> is often denoted as
<code class="inline">mod:f/N</code>.</p><p>A clause <em>body</em> consists of a sequence of expressions separated by comma (<code class="inline">,</code>):</p><pre><code class="text">Expr1,
...,
ExprN</code></pre><p>Valid Erlang expressions and guard sequences are described in
<a href="expressions.html">Expressions</a>.</p><p><em>Example:</em></p><pre><code class="makeup erlang" translate="no"><span class="nf">fact</span><span class="p" data-group-id="8583359740-1">(</span><span class="n">N</span><span class="p" data-group-id="8583359740-1">)</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">  </span><span class="c1">% first clause head</span><span class="w">
    </span><span class="n">N</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nf">fact</span><span class="p" data-group-id="8583359740-2">(</span><span class="n">N</span><span class="o">-</span><span class="mi">1</span><span class="p" data-group-id="8583359740-2">)</span><span class="p">;</span><span class="w">     </span><span class="c1">% first clause body</span><span class="w">

</span><span class="nf">fact</span><span class="p" data-group-id="8583359740-3">(</span><span class="mi">0</span><span class="p" data-group-id="8583359740-3">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">             </span><span class="c1">% second clause head</span><span class="w">
    </span><span class="mi">1</span><span class="p">.</span><span class="w">                 </span><span class="c1">% second clause body</span></code></pre><p><a href="" id="eval"></a></p><h2 id="function-evaluation" class="section-heading"><a href="#function-evaluation" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Function Evaluation</span></h2><p>When a function <code class="inline">M:F/N</code> is called, first the code for the function is located.
If the function cannot be found, an <code class="inline">undef</code> runtime error occurs. Notice that
the function must be exported to be visible outside the module it is defined in.</p><p>If the function is found, the function clauses are scanned sequentially until a
clause is found that fulfills both of the following two conditions:</p><ol><li>The patterns in the clause head can be successfully matched against the given
arguments.</li><li>The guard sequence, if any, is true.</li></ol><p>If such a clause cannot be found, a <code class="inline">function_clause</code> runtime error occurs.</p><p>If such a clause is found, the corresponding clause body is evaluated. That is,
the expressions in the body are evaluated sequentially and the value of the last
expression is returned.</p><p>Consider the function <code class="inline">fact</code>:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">module</span><span class="p" data-group-id="0318406095-1">(</span><span class="ss">mod</span><span class="p" data-group-id="0318406095-1">)</span><span class="p">.</span><span class="w">
</span><span class="p">-</span><span class="na">export</span><span class="p" data-group-id="0318406095-2">(</span><span class="p" data-group-id="0318406095-3">[</span><span class="ss">fact</span><span class="p">/</span><span class="mi">1</span><span class="p" data-group-id="0318406095-3">]</span><span class="p" data-group-id="0318406095-2">)</span><span class="p">.</span><span class="w">

</span><span class="nf">fact</span><span class="p" data-group-id="0318406095-4">(</span><span class="n">N</span><span class="p" data-group-id="0318406095-4">)</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="n">N</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nf">fact</span><span class="p" data-group-id="0318406095-5">(</span><span class="n">N</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="0318406095-5">)</span><span class="p">;</span><span class="w">
</span><span class="nf">fact</span><span class="p" data-group-id="0318406095-6">(</span><span class="mi">0</span><span class="p" data-group-id="0318406095-6">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="mi">1</span><span class="p">.</span></code></pre><p>Assume that you want to calculate the factorial for 1:</p><pre><code class="text">1&gt; mod:fact(1).</code></pre><p>Evaluation starts at the first clause. The pattern <code class="inline">N</code> is matched against
argument 1. The matching succeeds and the guard (<code class="inline">N &gt; 0</code>) is true, thus <code class="inline">N</code> is
bound to 1, and the corresponding body is evaluated:</p><pre><code class="makeup erlang" translate="no"><span class="n">N</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nf">fact</span><span class="p" data-group-id="0353618637-1">(</span><span class="n">N</span><span class="o">-</span><span class="mi">1</span><span class="p" data-group-id="0353618637-1">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p" data-group-id="0353618637-2">(</span><span class="n">N</span><span class="w"> </span><span class="ss">is</span><span class="w"> </span><span class="ss">bound</span><span class="w"> </span><span class="ss">to</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="0353618637-2">)</span><span class="w">
</span><span class="mi">1</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nf">fact</span><span class="p" data-group-id="0353618637-3">(</span><span class="mi">0</span><span class="p" data-group-id="0353618637-3">)</span></code></pre><p>Now, <code class="inline">fact(0)</code> is called, and the function clauses are scanned
sequentially again. First, the pattern <code class="inline">N</code> is matched against 0. The
matching succeeds, but the guard (<code class="inline">N &gt; 0</code>) is false. Second, the
pattern <code class="inline">0</code> is matched against the argument <code class="inline">0</code>. The matching succeeds
and the body is evaluated:</p><pre><code class="text">1 * fact(0) =&gt;
1 * 1 =&gt;
1</code></pre><p>Evaluation has succeed and <code class="inline">mod:fact(1)</code> returns 1.</p><p>If <code class="inline">mod:fact/1</code> is called with a negative number as argument, no clause head
matches. A <code class="inline">function_clause</code> runtime error occurs.</p><h2 id="tail-recursion" class="section-heading"><a href="#tail-recursion" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tail recursion</span></h2><p>If the last expression of a function body is a function call, a
<em>tail-recursive call</em> is done. This is to ensure that no system
resources, for example, call stack, are consumed. This means that an
infinite loop using tail-recursive calls will not exhaust the call
stack and can (in principle) run forever.</p><p><em>Example:</em></p><pre><code class="makeup erlang" translate="no"><span class="nf">loop</span><span class="p" data-group-id="3267453633-1">(</span><span class="n">N</span><span class="p" data-group-id="3267453633-1">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="3267453633-2">(</span><span class="s">&quot;</span><span class="si">~w</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3267453633-3">[</span><span class="n">N</span><span class="p" data-group-id="3267453633-3">]</span><span class="p" data-group-id="3267453633-2">)</span><span class="p">,</span><span class="w">
    </span><span class="nf">loop</span><span class="p" data-group-id="3267453633-4">(</span><span class="n">N</span><span class="o">+</span><span class="mi">1</span><span class="p" data-group-id="3267453633-4">)</span><span class="p">.</span></code></pre><p>The earlier factorial example is a counter-example. It is not
tail-recursive, since a multiplication is done on the result of the recursive
call to <code class="inline">fact(N-1)</code>.</p><h2 id="built-in-functions-bifs" class="section-heading"><a href="#built-in-functions-bifs" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Built-In Functions (BIFs)</span></h2><p>Built-In Functions (BIFs) are implemented in C code in the runtime
system. BIFs do things that are difficult or impossible to implement
in Erlang. Most of the BIFs belong to module <a href="../apps/erts/erlang.html"><code class="inline">erlang</code></a>, but there
are also BIFs belonging to a few other modules, for example <a href="../apps/stdlib/lists.html"><code class="inline">lists</code></a>
and <a href="../apps/stdlib/ets.html"><code class="inline">ets</code></a>.</p><p>The most commonly used BIFs belonging to <a href="../apps/erts/erlang.html"><code class="inline">erlang</code></a> are <em>auto-imported</em>. They do
not need to be prefixed with the module name. Which BIFs that are auto-imported
is specified in the <a href="../apps/erts/erlang.html"><code class="inline">erlang</code></a> module in ERTS. For example, standard-type
conversion BIFs like <code class="inline">atom_to_list</code> and BIFs allowed in guards can be called
without specifying the module name.</p><p><em>Examples:</em></p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="nf">tuple_size</span><span class="p" data-group-id="6156668433-1">(</span><span class="p" data-group-id="6156668433-2">{</span><span class="ss">a</span><span class="p">,</span><span class="ss">b</span><span class="p">,</span><span class="ss">c</span><span class="p" data-group-id="6156668433-2">}</span><span class="p" data-group-id="6156668433-1">)</span><span class="p">.</span><span class="w">
</span><span class="mi">3</span><span class="gp unselectable">
2&gt; </span><span class="nf">atom_to_list</span><span class="p" data-group-id="6156668433-3">(</span><span class="ss">&#39;Erlang&#39;</span><span class="p" data-group-id="6156668433-3">)</span><span class="p">.</span><span class="w">
</span><span class="s">&quot;Erlang&quot;</span></code></pre>

</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

      <a href="documentation.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
Documentation
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="typespec.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
Types and Function Specifications
        </span>
      </a>

  </div>
</div>
    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="Erlang System Documentation.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.1) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>
<p>Copyright © 1996-2025 <a href="https://www.ericsson.com">Ericsson AB</a></p>
    </footer>
  </div>
</main>
</div>
  <script defer src="https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.min.js"></script>
  <script>
  let initialized = false;

  window.addEventListener("exdoc:loaded", () => {
      if (!initialized) {
      mermaid.initialize({
          startOnLoad: false,
          theme: document.body.className.includes("dark") ? "dark" : "default"
      });
      initialized = true;
      }

      let id = 0;
      for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
          graphEl.innerHTML = svg;
          bindFunctions?.(graphEl);
          preEl.insertAdjacentElement("afterend", graphEl);
          preEl.remove();
      });
      }
  });
  </script>

  </body>
</html>
