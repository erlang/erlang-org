<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:erl="http://erlang.org" xmlns:fn="http://www.w3.org/2005/02/xpath-functions">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="../otp_doc.css" type="text/css">
<title>Erlang -- erl_ddll</title>
</head>
<body bgcolor="white" text="#000000" link="#0000ff" vlink="#ff00ff" alink="#ff0000"><div id="container">
<script id="js" type="text/javascript" language="JavaScript" src="../js/flipmenu/flipmenu.js"></script><script id="js2" type="text/javascript" src="../js/erlresolvelinks.js"></script><script language="JavaScript" type="text/javascript">
            <!--
              function getWinHeight() {
                var myHeight = 0;
                if( typeof( window.innerHeight ) == 'number' ) {
                  //Non-IE
                  myHeight = window.innerHeight;
                } else if( document.documentElement && ( document.documentElement.clientWidth ||
                                                         document.documentElement.clientHeight ) ) {
                  //IE 6+ in 'standards compliant mode'
                  myHeight = document.documentElement.clientHeight;
                } else if( document.body && ( document.body.clientWidth || document.body.clientHeight ) ) {
                  //IE 4 compatible
                  myHeight = document.body.clientHeight;
                }
                return myHeight;
              }

              function setscrollpos() {
                var objf=document.getElementById('loadscrollpos');
                 document.getElementById("leftnav").scrollTop = objf.offsetTop - getWinHeight()/2;
              }

              function addEvent(obj, evType, fn){
                if (obj.addEventListener){
                obj.addEventListener(evType, fn, true);
                return true;
              } else if (obj.attachEvent){
                var r = obj.attachEvent("on"+evType, fn);
                return r;
              } else {
                return false;
              }
             }

             addEvent(window, 'load', setscrollpos);

             //--></script><div id="leftnav"><div class="innertube">
<img alt="Erlang logo" src="../erlang-logo.png"><br><small><a href="../apps/kernel/index.html">Reference Manual</a><br><a href="../apps/kernel/release_notes.html">Release Notes</a><br><a href="../apps/kernel/kernel.pdf">PDF</a><br><a href="../index.html">Top</a></small><p><strong>Kernel</strong><br><strong>Reference Manual</strong><br><small>Version 5.2</small></p>
<br><a href="javascript:openAllFlips()">Expand All</a><br><a href="javascript:closeAllFlips()">Contract All</a><p><small><strong>Table of Contents</strong></small></p>
<ul class="flipMenu">
<li title="kernel (App)"><a href="kernel_app.html">kernel (App)
                </a></li>
<li id="no" title="application " expanded="false">application<ul>
<li><a href="application.html">
                  Top of manual page
                </a></li>
    <li title="ensure_all_started-1"><a href="application.html#ensure_all_started-1">ensure_all_started/1</a></li>
    <li title="ensure_all_started-2"><a href="application.html#ensure_all_started-2">ensure_all_started/2</a></li>
    <li title="ensure_started-1"><a href="application.html#ensure_started-1">ensure_started/1</a></li>
    <li title="ensure_started-2"><a href="application.html#ensure_started-2">ensure_started/2</a></li>
    <li title="get_all_env-0"><a href="application.html#get_all_env-0">get_all_env/0</a></li>
    <li title="get_all_env-1"><a href="application.html#get_all_env-1">get_all_env/1</a></li>
    <li title="get_all_key-0"><a href="application.html#get_all_key-0">get_all_key/0</a></li>
    <li title="get_all_key-1"><a href="application.html#get_all_key-1">get_all_key/1</a></li>
    <li title="get_application-0"><a href="application.html#get_application-0">get_application/0</a></li>
    <li title="get_application-1"><a href="application.html#get_application-1">get_application/1</a></li>
    <li title="get_env-1"><a href="application.html#get_env-1">get_env/1</a></li>
    <li title="get_env-2"><a href="application.html#get_env-2">get_env/2</a></li>
    <li title="get_env-3"><a href="application.html#get_env-3">get_env/3</a></li>
    <li title="get_key-1"><a href="application.html#get_key-1">get_key/1</a></li>
    <li title="get_key-2"><a href="application.html#get_key-2">get_key/2</a></li>
    <li title="load-1"><a href="application.html#load-1">load/1</a></li>
    <li title="load-2"><a href="application.html#load-2">load/2</a></li>
    <li title="loaded_applications-0"><a href="application.html#loaded_applications-0">loaded_applications/0</a></li>
    <li title="permit-2"><a href="application.html#permit-2">permit/2</a></li>
    <li title="set_env-3"><a href="application.html#set_env-3">set_env/3</a></li>
    <li title="set_env-4"><a href="application.html#set_env-4">set_env/4</a></li>
    <li title="start-1"><a href="application.html#start-1">start/1</a></li>
    <li title="start-2"><a href="application.html#start-2">start/2</a></li>
    <li title="start_type-0"><a href="application.html#start_type-0">start_type/0</a></li>
    <li title="stop-1"><a href="application.html#stop-1">stop/1</a></li>
    <li title="takeover-2"><a href="application.html#takeover-2">takeover/2</a></li>
    <li title="unload-1"><a href="application.html#unload-1">unload/1</a></li>
    <li title="unset_env-2"><a href="application.html#unset_env-2">unset_env/2</a></li>
    <li title="unset_env-3"><a href="application.html#unset_env-3">unset_env/3</a></li>
    <li title="which_applications-0"><a href="application.html#which_applications-0">which_applications/0</a></li>
    <li title="which_applications-1"><a href="application.html#which_applications-1">which_applications/1</a></li>
    <li title="Module:config_change-3"><a href="application.html#Module:config_change-3">Module:config_change/3</a></li>
    <li title="Module:prep_stop-1"><a href="application.html#Module:prep_stop-1">Module:prep_stop/1</a></li>
    <li title="Module:start-2"><a href="application.html#Module:start-2">Module:start/2</a></li>
    <li title="Module:start_phase-3"><a href="application.html#Module:start_phase-3">Module:start_phase/3</a></li>
    <li title="Module:stop-1"><a href="application.html#Module:stop-1">Module:stop/1</a></li>
    </ul>
</li>
<li id="no" title="auth " expanded="false">auth<ul>
<li><a href="auth.html">
                  Top of manual page
                </a></li>
    <li title="cookie-0"><a href="auth.html#cookie-0">cookie/0</a></li>
    <li title="cookie-1"><a href="auth.html#cookie-1">cookie/1</a></li>
    <li title="is_auth-1"><a href="auth.html#is_auth-1">is_auth/1</a></li>
    <li title="node_cookie-2"><a href="auth.html#node_cookie-2">node_cookie/2</a></li>
    <li title="node_cookie-1"><a href="auth.html#node_cookie-1">node_cookie/1</a></li>
    </ul>
</li>
<li id="no" title="code " expanded="false">code<ul>
<li><a href="code.html">
                  Top of manual page
                </a></li>
    <li title="add_path-1"><a href="code.html#add_path-1">add_path/1</a></li>
    <li title="add_patha-1"><a href="code.html#add_patha-1">add_patha/1</a></li>
    <li title="add_paths-1"><a href="code.html#add_paths-1">add_paths/1</a></li>
    <li title="add_pathsa-1"><a href="code.html#add_pathsa-1">add_pathsa/1</a></li>
    <li title="add_pathsz-1"><a href="code.html#add_pathsz-1">add_pathsz/1</a></li>
    <li title="add_pathz-1"><a href="code.html#add_pathz-1">add_pathz/1</a></li>
    <li title="all_loaded-0"><a href="code.html#all_loaded-0">all_loaded/0</a></li>
    <li title="atomic_load-1"><a href="code.html#atomic_load-1">atomic_load/1</a></li>
    <li title="clash-0"><a href="code.html#clash-0">clash/0</a></li>
    <li title="compiler_dir-0"><a href="code.html#compiler_dir-0">compiler_dir/0</a></li>
    <li title="del_path-1"><a href="code.html#del_path-1">del_path/1</a></li>
    <li title="delete-1"><a href="code.html#delete-1">delete/1</a></li>
    <li title="ensure_loaded-1"><a href="code.html#ensure_loaded-1">ensure_loaded/1</a></li>
    <li title="ensure_modules_loaded-1"><a href="code.html#ensure_modules_loaded-1">ensure_modules_loaded/1</a></li>
    <li title="finish_loading-1"><a href="code.html#finish_loading-1">finish_loading/1</a></li>
    <li title="get_mode-0"><a href="code.html#get_mode-0">get_mode/0</a></li>
    <li title="get_object_code-1"><a href="code.html#get_object_code-1">get_object_code/1</a></li>
    <li title="get_path-0"><a href="code.html#get_path-0">get_path/0</a></li>
    <li title="is_loaded-1"><a href="code.html#is_loaded-1">is_loaded/1</a></li>
    <li title="is_module_native-1"><a href="code.html#is_module_native-1">is_module_native/1</a></li>
    <li title="is_sticky-1"><a href="code.html#is_sticky-1">is_sticky/1</a></li>
    <li title="lib_dir-0"><a href="code.html#lib_dir-0">lib_dir/0</a></li>
    <li title="lib_dir-1"><a href="code.html#lib_dir-1">lib_dir/1</a></li>
    <li title="lib_dir-2"><a href="code.html#lib_dir-2">lib_dir/2</a></li>
    <li title="load_abs-1"><a href="code.html#load_abs-1">load_abs/1</a></li>
    <li title="load_binary-3"><a href="code.html#load_binary-3">load_binary/3</a></li>
    <li title="load_file-1"><a href="code.html#load_file-1">load_file/1</a></li>
    <li title="objfile_extension-0"><a href="code.html#objfile_extension-0">objfile_extension/0</a></li>
    <li title="prepare_loading-1"><a href="code.html#prepare_loading-1">prepare_loading/1</a></li>
    <li title="priv_dir-1"><a href="code.html#priv_dir-1">priv_dir/1</a></li>
    <li title="purge-1"><a href="code.html#purge-1">purge/1</a></li>
    <li title="replace_path-2"><a href="code.html#replace_path-2">replace_path/2</a></li>
    <li title="root_dir-0"><a href="code.html#root_dir-0">root_dir/0</a></li>
    <li title="set_path-1"><a href="code.html#set_path-1">set_path/1</a></li>
    <li title="soft_purge-1"><a href="code.html#soft_purge-1">soft_purge/1</a></li>
    <li title="stick_dir-1"><a href="code.html#stick_dir-1">stick_dir/1</a></li>
    <li title="unstick_dir-1"><a href="code.html#unstick_dir-1">unstick_dir/1</a></li>
    <li title="where_is_file-1"><a href="code.html#where_is_file-1">where_is_file/1</a></li>
    <li title="which-1"><a href="code.html#which-1">which/1</a></li>
    </ul>
</li>
<li id="no" title="disk_log " expanded="false">disk_log<ul>
<li><a href="disk_log.html">
                  Top of manual page
                </a></li>
    <li title="accessible_logs-0"><a href="disk_log.html#accessible_logs-0">accessible_logs/0</a></li>
    <li title="alog-2"><a href="disk_log.html#alog-2">alog/2</a></li>
    <li title="alog_terms-2"><a href="disk_log.html#alog_terms-2">alog_terms/2</a></li>
    <li title="balog-2"><a href="disk_log.html#balog-2">balog/2</a></li>
    <li title="balog_terms-2"><a href="disk_log.html#balog_terms-2">balog_terms/2</a></li>
    <li title="bchunk-2"><a href="disk_log.html#bchunk-2">bchunk/2</a></li>
    <li title="bchunk-3"><a href="disk_log.html#bchunk-3">bchunk/3</a></li>
    <li title="block-1"><a href="disk_log.html#block-1">block/1</a></li>
    <li title="block-2"><a href="disk_log.html#block-2">block/2</a></li>
    <li title="blog-2"><a href="disk_log.html#blog-2">blog/2</a></li>
    <li title="blog_terms-2"><a href="disk_log.html#blog_terms-2">blog_terms/2</a></li>
    <li title="breopen-3"><a href="disk_log.html#breopen-3">breopen/3</a></li>
    <li title="btruncate-2"><a href="disk_log.html#btruncate-2">btruncate/2</a></li>
    <li title="change_header-2"><a href="disk_log.html#change_header-2">change_header/2</a></li>
    <li title="change_notify-3"><a href="disk_log.html#change_notify-3">change_notify/3</a></li>
    <li title="change_size-2"><a href="disk_log.html#change_size-2">change_size/2</a></li>
    <li title="chunk-2"><a href="disk_log.html#chunk-2">chunk/2</a></li>
    <li title="chunk-3"><a href="disk_log.html#chunk-3">chunk/3</a></li>
    <li title="chunk_info-1"><a href="disk_log.html#chunk_info-1">chunk_info/1</a></li>
    <li title="chunk_step-3"><a href="disk_log.html#chunk_step-3">chunk_step/3</a></li>
    <li title="close-1"><a href="disk_log.html#close-1">close/1</a></li>
    <li title="format_error-1"><a href="disk_log.html#format_error-1">format_error/1</a></li>
    <li title="inc_wrap_file-1"><a href="disk_log.html#inc_wrap_file-1">inc_wrap_file/1</a></li>
    <li title="info-1"><a href="disk_log.html#info-1">info/1</a></li>
    <li title="lclose-1"><a href="disk_log.html#lclose-1">lclose/1</a></li>
    <li title="lclose-2"><a href="disk_log.html#lclose-2">lclose/2</a></li>
    <li title="log-2"><a href="disk_log.html#log-2">log/2</a></li>
    <li title="log_terms-2"><a href="disk_log.html#log_terms-2">log_terms/2</a></li>
    <li title="open-1"><a href="disk_log.html#open-1">open/1</a></li>
    <li title="pid2name-1"><a href="disk_log.html#pid2name-1">pid2name/1</a></li>
    <li title="reopen-2"><a href="disk_log.html#reopen-2">reopen/2</a></li>
    <li title="reopen-3"><a href="disk_log.html#reopen-3">reopen/3</a></li>
    <li title="sync-1"><a href="disk_log.html#sync-1">sync/1</a></li>
    <li title="truncate-1"><a href="disk_log.html#truncate-1">truncate/1</a></li>
    <li title="truncate-2"><a href="disk_log.html#truncate-2">truncate/2</a></li>
    <li title="unblock-1"><a href="disk_log.html#unblock-1">unblock/1</a></li>
    </ul>
</li>
<li id="no" title="erl_boot_server " expanded="false">erl_boot_server<ul>
<li><a href="erl_boot_server.html">
                  Top of manual page
                </a></li>
    <li title="add_slave-1"><a href="erl_boot_server.html#add_slave-1">add_slave/1</a></li>
    <li title="delete_slave-1"><a href="erl_boot_server.html#delete_slave-1">delete_slave/1</a></li>
    <li title="start-1"><a href="erl_boot_server.html#start-1">start/1</a></li>
    <li title="start_link-1"><a href="erl_boot_server.html#start_link-1">start_link/1</a></li>
    <li title="which_slaves-0"><a href="erl_boot_server.html#which_slaves-0">which_slaves/0</a></li>
    </ul>
</li>
<li id="loadscrollpos" title="erl_ddll " expanded="true">erl_ddll<ul>
<li><a href="erl_ddll.html">
                  Top of manual page
                </a></li>
    <li title="demonitor-1"><a href="erl_ddll.html#demonitor-1">demonitor/1</a></li>
    <li title="format_error-1"><a href="erl_ddll.html#format_error-1">format_error/1</a></li>
    <li title="info-0"><a href="erl_ddll.html#info-0">info/0</a></li>
    <li title="info-1"><a href="erl_ddll.html#info-1">info/1</a></li>
    <li title="info-2"><a href="erl_ddll.html#info-2">info/2</a></li>
    <li title="load-2"><a href="erl_ddll.html#load-2">load/2</a></li>
    <li title="load_driver-2"><a href="erl_ddll.html#load_driver-2">load_driver/2</a></li>
    <li title="loaded_drivers-0"><a href="erl_ddll.html#loaded_drivers-0">loaded_drivers/0</a></li>
    <li title="monitor-2"><a href="erl_ddll.html#monitor-2">monitor/2</a></li>
    <li title="reload-2"><a href="erl_ddll.html#reload-2">reload/2</a></li>
    <li title="reload_driver-2"><a href="erl_ddll.html#reload_driver-2">reload_driver/2</a></li>
    <li title="try_load-3"><a href="erl_ddll.html#try_load-3">try_load/3</a></li>
    <li title="try_unload-2"><a href="erl_ddll.html#try_unload-2">try_unload/2</a></li>
    <li title="unload-1"><a href="erl_ddll.html#unload-1">unload/1</a></li>
    <li title="unload_driver-1"><a href="erl_ddll.html#unload_driver-1">unload_driver/1</a></li>
    </ul>
</li>
<li title="erl_prim_loader"><a href="../apps/kernel/erl_prim_loader.html">erl_prim_loader</a></li>
<li title="erlang"><a href="../apps/kernel/erlang.html">erlang</a></li>
<li id="no" title="error_handler " expanded="false">error_handler<ul>
<li><a href="error_handler.html">
                  Top of manual page
                </a></li>
    <li title="raise_undef_exception-3"><a href="error_handler.html#raise_undef_exception-3">raise_undef_exception/3</a></li>
    <li title="undefined_function-3"><a href="error_handler.html#undefined_function-3">undefined_function/3</a></li>
    <li title="undefined_lambda-3"><a href="error_handler.html#undefined_lambda-3">undefined_lambda/3</a></li>
    </ul>
</li>
<li id="no" title="error_logger " expanded="false">error_logger<ul>
<li><a href="error_logger.html">
                  Top of manual page
                </a></li>
    <li title="add_report_handler-1"><a href="error_logger.html#add_report_handler-1">add_report_handler/1</a></li>
    <li title="add_report_handler-2"><a href="error_logger.html#add_report_handler-2">add_report_handler/2</a></li>
    <li title="delete_report_handler-1"><a href="error_logger.html#delete_report_handler-1">delete_report_handler/1</a></li>
    <li title="error_msg-1"><a href="error_logger.html#error_msg-1">error_msg/1</a></li>
    <li title="error_msg-2"><a href="error_logger.html#error_msg-2">error_msg/2</a></li>
    <li title="error_report-1"><a href="error_logger.html#error_report-1">error_report/1</a></li>
    <li title="error_report-2"><a href="error_logger.html#error_report-2">error_report/2</a></li>
    <li title="format-2"><a href="error_logger.html#format-2">format/2</a></li>
    <li title="info_msg-1"><a href="error_logger.html#info_msg-1">info_msg/1</a></li>
    <li title="info_msg-2"><a href="error_logger.html#info_msg-2">info_msg/2</a></li>
    <li title="info_report-1"><a href="error_logger.html#info_report-1">info_report/1</a></li>
    <li title="info_report-2"><a href="error_logger.html#info_report-2">info_report/2</a></li>
    <li title="logfile-1"><a href="error_logger.html#logfile-1">logfile/1</a></li>
    <li title="tty-1"><a href="error_logger.html#tty-1">tty/1</a></li>
    <li title="warning_map-0"><a href="error_logger.html#warning_map-0">warning_map/0</a></li>
    <li title="warning_msg-1"><a href="error_logger.html#warning_msg-1">warning_msg/1</a></li>
    <li title="warning_msg-2"><a href="error_logger.html#warning_msg-2">warning_msg/2</a></li>
    <li title="warning_report-1"><a href="error_logger.html#warning_report-1">warning_report/1</a></li>
    <li title="warning_report-2"><a href="error_logger.html#warning_report-2">warning_report/2</a></li>
    </ul>
</li>
<li id="no" title="file " expanded="false">file<ul>
<li><a href="file.html">
                  Top of manual page
                </a></li>
    <li title="advise-4"><a href="file.html#advise-4">advise/4</a></li>
    <li title="allocate-3"><a href="file.html#allocate-3">allocate/3</a></li>
    <li title="change_group-2"><a href="file.html#change_group-2">change_group/2</a></li>
    <li title="change_mode-2"><a href="file.html#change_mode-2">change_mode/2</a></li>
    <li title="change_owner-2"><a href="file.html#change_owner-2">change_owner/2</a></li>
    <li title="change_owner-3"><a href="file.html#change_owner-3">change_owner/3</a></li>
    <li title="change_time-2"><a href="file.html#change_time-2">change_time/2</a></li>
    <li title="change_time-3"><a href="file.html#change_time-3">change_time/3</a></li>
    <li title="close-1"><a href="file.html#close-1">close/1</a></li>
    <li title="consult-1"><a href="file.html#consult-1">consult/1</a></li>
    <li title="copy-2"><a href="file.html#copy-2">copy/2</a></li>
    <li title="copy-3"><a href="file.html#copy-3">copy/3</a></li>
    <li title="datasync-1"><a href="file.html#datasync-1">datasync/1</a></li>
    <li title="del_dir-1"><a href="file.html#del_dir-1">del_dir/1</a></li>
    <li title="delete-1"><a href="file.html#delete-1">delete/1</a></li>
    <li title="eval-1"><a href="file.html#eval-1">eval/1</a></li>
    <li title="eval-2"><a href="file.html#eval-2">eval/2</a></li>
    <li title="format_error-1"><a href="file.html#format_error-1">format_error/1</a></li>
    <li title="get_cwd-0"><a href="file.html#get_cwd-0">get_cwd/0</a></li>
    <li title="get_cwd-1"><a href="file.html#get_cwd-1">get_cwd/1</a></li>
    <li title="list_dir-1"><a href="file.html#list_dir-1">list_dir/1</a></li>
    <li title="list_dir_all-1"><a href="file.html#list_dir_all-1">list_dir_all/1</a></li>
    <li title="make_dir-1"><a href="file.html#make_dir-1">make_dir/1</a></li>
    <li title="make_link-2"><a href="file.html#make_link-2">make_link/2</a></li>
    <li title="make_symlink-2"><a href="file.html#make_symlink-2">make_symlink/2</a></li>
    <li title="native_name_encoding-0"><a href="file.html#native_name_encoding-0">native_name_encoding/0</a></li>
    <li title="open-2"><a href="file.html#open-2">open/2</a></li>
    <li title="path_consult-2"><a href="file.html#path_consult-2">path_consult/2</a></li>
    <li title="path_eval-2"><a href="file.html#path_eval-2">path_eval/2</a></li>
    <li title="path_open-3"><a href="file.html#path_open-3">path_open/3</a></li>
    <li title="path_script-2"><a href="file.html#path_script-2">path_script/2</a></li>
    <li title="path_script-3"><a href="file.html#path_script-3">path_script/3</a></li>
    <li title="pid2name-1"><a href="file.html#pid2name-1">pid2name/1</a></li>
    <li title="position-2"><a href="file.html#position-2">position/2</a></li>
    <li title="pread-2"><a href="file.html#pread-2">pread/2</a></li>
    <li title="pread-3"><a href="file.html#pread-3">pread/3</a></li>
    <li title="pwrite-2"><a href="file.html#pwrite-2">pwrite/2</a></li>
    <li title="pwrite-3"><a href="file.html#pwrite-3">pwrite/3</a></li>
    <li title="read-2"><a href="file.html#read-2">read/2</a></li>
    <li title="read_file-1"><a href="file.html#read_file-1">read_file/1</a></li>
    <li title="read_file_info-1"><a href="file.html#read_file_info-1">read_file_info/1</a></li>
    <li title="read_file_info-2"><a href="file.html#read_file_info-2">read_file_info/2</a></li>
    <li title="read_line-1"><a href="file.html#read_line-1">read_line/1</a></li>
    <li title="read_link-1"><a href="file.html#read_link-1">read_link/1</a></li>
    <li title="read_link_all-1"><a href="file.html#read_link_all-1">read_link_all/1</a></li>
    <li title="read_link_info-1"><a href="file.html#read_link_info-1">read_link_info/1</a></li>
    <li title="read_link_info-2"><a href="file.html#read_link_info-2">read_link_info/2</a></li>
    <li title="rename-2"><a href="file.html#rename-2">rename/2</a></li>
    <li title="script-1"><a href="file.html#script-1">script/1</a></li>
    <li title="script-2"><a href="file.html#script-2">script/2</a></li>
    <li title="sendfile-2"><a href="file.html#sendfile-2">sendfile/2</a></li>
    <li title="sendfile-5"><a href="file.html#sendfile-5">sendfile/5</a></li>
    <li title="set_cwd-1"><a href="file.html#set_cwd-1">set_cwd/1</a></li>
    <li title="sync-1"><a href="file.html#sync-1">sync/1</a></li>
    <li title="truncate-1"><a href="file.html#truncate-1">truncate/1</a></li>
    <li title="write-2"><a href="file.html#write-2">write/2</a></li>
    <li title="write_file-2"><a href="file.html#write_file-2">write_file/2</a></li>
    <li title="write_file-3"><a href="file.html#write_file-3">write_file/3</a></li>
    <li title="write_file_info-2"><a href="file.html#write_file_info-2">write_file_info/2</a></li>
    <li title="write_file_info-3"><a href="file.html#write_file_info-3">write_file_info/3</a></li>
    </ul>
</li>
<li id="no" title="gen_sctp " expanded="false">gen_sctp<ul>
<li><a href="gen_sctp.html">
                  Top of manual page
                </a></li>
    <li title="abort-2"><a href="gen_sctp.html#abort-2">abort/2</a></li>
    <li title="close-1"><a href="gen_sctp.html#close-1">close/1</a></li>
    <li title="connect-4"><a href="gen_sctp.html#connect-4">connect/4</a></li>
    <li title="connect-5"><a href="gen_sctp.html#connect-5">connect/5</a></li>
    <li title="connect_init-4"><a href="gen_sctp.html#connect_init-4">connect_init/4</a></li>
    <li title="connect_init-5"><a href="gen_sctp.html#connect_init-5">connect_init/5</a></li>
    <li title="controlling_process-2"><a href="gen_sctp.html#controlling_process-2">controlling_process/2</a></li>
    <li title="eof-2"><a href="gen_sctp.html#eof-2">eof/2</a></li>
    <li title="error_string-1"><a href="gen_sctp.html#error_string-1">error_string/1</a></li>
    <li title="listen-2"><a href="gen_sctp.html#listen-2">listen/2</a></li>
    <li title="open-0"><a href="gen_sctp.html#open-0">open/0</a></li>
    <li title="open-1"><a href="gen_sctp.html#open-1">open/1</a></li>
    <li title="open-2"><a href="gen_sctp.html#open-2">open/2</a></li>
    <li title="peeloff-2"><a href="gen_sctp.html#peeloff-2">peeloff/2</a></li>
    <li title="recv-1"><a href="gen_sctp.html#recv-1">recv/1</a></li>
    <li title="recv-2"><a href="gen_sctp.html#recv-2">recv/2</a></li>
    <li title="send-3"><a href="gen_sctp.html#send-3">send/3</a></li>
    <li title="send-4"><a href="gen_sctp.html#send-4">send/4</a></li>
    </ul>
</li>
<li id="no" title="gen_tcp " expanded="false">gen_tcp<ul>
<li><a href="gen_tcp.html">
                  Top of manual page
                </a></li>
    <li title="accept-1"><a href="gen_tcp.html#accept-1">accept/1</a></li>
    <li title="accept-2"><a href="gen_tcp.html#accept-2">accept/2</a></li>
    <li title="close-1"><a href="gen_tcp.html#close-1">close/1</a></li>
    <li title="connect-3"><a href="gen_tcp.html#connect-3">connect/3</a></li>
    <li title="connect-4"><a href="gen_tcp.html#connect-4">connect/4</a></li>
    <li title="controlling_process-2"><a href="gen_tcp.html#controlling_process-2">controlling_process/2</a></li>
    <li title="listen-2"><a href="gen_tcp.html#listen-2">listen/2</a></li>
    <li title="recv-2"><a href="gen_tcp.html#recv-2">recv/2</a></li>
    <li title="recv-3"><a href="gen_tcp.html#recv-3">recv/3</a></li>
    <li title="send-2"><a href="gen_tcp.html#send-2">send/2</a></li>
    <li title="shutdown-2"><a href="gen_tcp.html#shutdown-2">shutdown/2</a></li>
    </ul>
</li>
<li id="no" title="gen_udp " expanded="false">gen_udp<ul>
<li><a href="gen_udp.html">
                  Top of manual page
                </a></li>
    <li title="close-1"><a href="gen_udp.html#close-1">close/1</a></li>
    <li title="controlling_process-2"><a href="gen_udp.html#controlling_process-2">controlling_process/2</a></li>
    <li title="open-1"><a href="gen_udp.html#open-1">open/1</a></li>
    <li title="open-2"><a href="gen_udp.html#open-2">open/2</a></li>
    <li title="recv-2"><a href="gen_udp.html#recv-2">recv/2</a></li>
    <li title="recv-3"><a href="gen_udp.html#recv-3">recv/3</a></li>
    <li title="send-4"><a href="gen_udp.html#send-4">send/4</a></li>
    </ul>
</li>
<li id="no" title="global " expanded="false">global<ul>
<li><a href="global.html">
                  Top of manual page
                </a></li>
    <li title="del_lock-1"><a href="global.html#del_lock-1">del_lock/1</a></li>
    <li title="del_lock-2"><a href="global.html#del_lock-2">del_lock/2</a></li>
    <li title="notify_all_name-3"><a href="global.html#notify_all_name-3">notify_all_name/3</a></li>
    <li title="random_exit_name-3"><a href="global.html#random_exit_name-3">random_exit_name/3</a></li>
    <li title="random_notify_name-3"><a href="global.html#random_notify_name-3">random_notify_name/3</a></li>
    <li title="re_register_name-2"><a href="global.html#re_register_name-2">re_register_name/2</a></li>
    <li title="re_register_name-3"><a href="global.html#re_register_name-3">re_register_name/3</a></li>
    <li title="register_name-2"><a href="global.html#register_name-2">register_name/2</a></li>
    <li title="register_name-3"><a href="global.html#register_name-3">register_name/3</a></li>
    <li title="registered_names-0"><a href="global.html#registered_names-0">registered_names/0</a></li>
    <li title="send-2"><a href="global.html#send-2">send/2</a></li>
    <li title="set_lock-1"><a href="global.html#set_lock-1">set_lock/1</a></li>
    <li title="set_lock-2"><a href="global.html#set_lock-2">set_lock/2</a></li>
    <li title="set_lock-3"><a href="global.html#set_lock-3">set_lock/3</a></li>
    <li title="sync-0"><a href="global.html#sync-0">sync/0</a></li>
    <li title="trans-2"><a href="global.html#trans-2">trans/2</a></li>
    <li title="trans-3"><a href="global.html#trans-3">trans/3</a></li>
    <li title="trans-4"><a href="global.html#trans-4">trans/4</a></li>
    <li title="unregister_name-1"><a href="global.html#unregister_name-1">unregister_name/1</a></li>
    <li title="whereis_name-1"><a href="global.html#whereis_name-1">whereis_name/1</a></li>
    </ul>
</li>
<li id="no" title="global_group " expanded="false">global_group<ul>
<li><a href="global_group.html">
                  Top of manual page
                </a></li>
    <li title="global_groups-0"><a href="global_group.html#global_groups-0">global_groups/0</a></li>
    <li title="info-0"><a href="global_group.html#info-0">info/0</a></li>
    <li title="monitor_nodes-1"><a href="global_group.html#monitor_nodes-1">monitor_nodes/1</a></li>
    <li title="own_nodes-0"><a href="global_group.html#own_nodes-0">own_nodes/0</a></li>
    <li title="registered_names-1"><a href="global_group.html#registered_names-1">registered_names/1</a></li>
    <li title="send-2"><a href="global_group.html#send-2">send/2</a></li>
    <li title="send-3"><a href="global_group.html#send-3">send/3</a></li>
    <li title="sync-0"><a href="global_group.html#sync-0">sync/0</a></li>
    <li title="whereis_name-1"><a href="global_group.html#whereis_name-1">whereis_name/1</a></li>
    <li title="whereis_name-2"><a href="global_group.html#whereis_name-2">whereis_name/2</a></li>
    </ul>
</li>
<li id="no" title="heart " expanded="false">heart<ul>
<li><a href="heart.html">
                  Top of manual page
                </a></li>
    <li title="clear_callback-0"><a href="heart.html#clear_callback-0">clear_callback/0</a></li>
    <li title="clear_cmd-0"><a href="heart.html#clear_cmd-0">clear_cmd/0</a></li>
    <li title="get_callback-0"><a href="heart.html#get_callback-0">get_callback/0</a></li>
    <li title="get_cmd-0"><a href="heart.html#get_cmd-0">get_cmd/0</a></li>
    <li title="get_options-0"><a href="heart.html#get_options-0">get_options/0</a></li>
    <li title="set_callback-2"><a href="heart.html#set_callback-2">set_callback/2</a></li>
    <li title="set_cmd-1"><a href="heart.html#set_cmd-1">set_cmd/1</a></li>
    <li title="set_options-1"><a href="heart.html#set_options-1">set_options/1</a></li>
    </ul>
</li>
<li id="no" title="inet " expanded="false">inet<ul>
<li><a href="inet.html">
                  Top of manual page
                </a></li>
    <li title="close-1"><a href="inet.html#close-1">close/1</a></li>
    <li title="format_error-1"><a href="inet.html#format_error-1">format_error/1</a></li>
    <li title="get_rc-0"><a href="inet.html#get_rc-0">get_rc/0</a></li>
    <li title="getaddr-2"><a href="inet.html#getaddr-2">getaddr/2</a></li>
    <li title="getaddrs-2"><a href="inet.html#getaddrs-2">getaddrs/2</a></li>
    <li title="gethostbyaddr-1"><a href="inet.html#gethostbyaddr-1">gethostbyaddr/1</a></li>
    <li title="gethostbyname-1"><a href="inet.html#gethostbyname-1">gethostbyname/1</a></li>
    <li title="gethostbyname-2"><a href="inet.html#gethostbyname-2">gethostbyname/2</a></li>
    <li title="gethostname-0"><a href="inet.html#gethostname-0">gethostname/0</a></li>
    <li title="getifaddrs-0"><a href="inet.html#getifaddrs-0">getifaddrs/0</a></li>
    <li title="getopts-2"><a href="inet.html#getopts-2">getopts/2</a></li>
    <li title="getstat-1"><a href="inet.html#getstat-1">getstat/1</a></li>
    <li title="getstat-2"><a href="inet.html#getstat-2">getstat/2</a></li>
    <li title="ntoa-1"><a href="inet.html#ntoa-1">ntoa/1</a></li>
    <li title="parse_address-1"><a href="inet.html#parse_address-1">parse_address/1</a></li>
    <li title="parse_ipv4_address-1"><a href="inet.html#parse_ipv4_address-1">parse_ipv4_address/1</a></li>
    <li title="parse_ipv4strict_address-1"><a href="inet.html#parse_ipv4strict_address-1">parse_ipv4strict_address/1</a></li>
    <li title="parse_ipv6_address-1"><a href="inet.html#parse_ipv6_address-1">parse_ipv6_address/1</a></li>
    <li title="parse_ipv6strict_address-1"><a href="inet.html#parse_ipv6strict_address-1">parse_ipv6strict_address/1</a></li>
    <li title="parse_strict_address-1"><a href="inet.html#parse_strict_address-1">parse_strict_address/1</a></li>
    <li title="peername-1"><a href="inet.html#peername-1">peername/1</a></li>
    <li title="peernames-1"><a href="inet.html#peernames-1">peernames/1</a></li>
    <li title="peernames-2"><a href="inet.html#peernames-2">peernames/2</a></li>
    <li title="port-1"><a href="inet.html#port-1">port/1</a></li>
    <li title="setopts-2"><a href="inet.html#setopts-2">setopts/2</a></li>
    <li title="sockname-1"><a href="inet.html#sockname-1">sockname/1</a></li>
    <li title="socknames-1"><a href="inet.html#socknames-1">socknames/1</a></li>
    <li title="socknames-2"><a href="inet.html#socknames-2">socknames/2</a></li>
    </ul>
</li>
<li id="no" title="inet_res " expanded="false">inet_res<ul>
<li><a href="inet_res.html">
                  Top of manual page
                </a></li>
    <li title="getbyname-2"><a href="inet_res.html#getbyname-2">getbyname/2</a></li>
    <li title="getbyname-3"><a href="inet_res.html#getbyname-3">getbyname/3</a></li>
    <li title="gethostbyaddr-1"><a href="inet_res.html#gethostbyaddr-1">gethostbyaddr/1</a></li>
    <li title="gethostbyaddr-2"><a href="inet_res.html#gethostbyaddr-2">gethostbyaddr/2</a></li>
    <li title="gethostbyname-1"><a href="inet_res.html#gethostbyname-1">gethostbyname/1</a></li>
    <li title="gethostbyname-2"><a href="inet_res.html#gethostbyname-2">gethostbyname/2</a></li>
    <li title="gethostbyname-3"><a href="inet_res.html#gethostbyname-3">gethostbyname/3</a></li>
    <li title="lookup-3"><a href="inet_res.html#lookup-3">lookup/3</a></li>
    <li title="lookup-4"><a href="inet_res.html#lookup-4">lookup/4</a></li>
    <li title="lookup-5"><a href="inet_res.html#lookup-5">lookup/5</a></li>
    <li title="nnslookup-4"><a href="inet_res.html#nnslookup-4">nnslookup/4</a></li>
    <li title="nnslookup-5"><a href="inet_res.html#nnslookup-5">nnslookup/5</a></li>
    <li title="nslookup-3"><a href="inet_res.html#nslookup-3">nslookup/3</a></li>
    <li title="nslookup-4"><a href="inet_res.html#nslookup-4">nslookup/4</a></li>
    <li title="resolve-3"><a href="inet_res.html#resolve-3">resolve/3</a></li>
    <li title="resolve-4"><a href="inet_res.html#resolve-4">resolve/4</a></li>
    <li title="resolve-5"><a href="inet_res.html#resolve-5">resolve/5</a></li>
    </ul>
</li>
<li title="init"><a href="../apps/kernel/init.html">init</a></li>
<li id="no" title="net_adm " expanded="false">net_adm<ul>
<li><a href="net_adm.html">
                  Top of manual page
                </a></li>
    <li title="dns_hostname-1"><a href="net_adm.html#dns_hostname-1">dns_hostname/1</a></li>
    <li title="host_file-0"><a href="net_adm.html#host_file-0">host_file/0</a></li>
    <li title="localhost-0"><a href="net_adm.html#localhost-0">localhost/0</a></li>
    <li title="names-0"><a href="net_adm.html#names-0">names/0</a></li>
    <li title="names-1"><a href="net_adm.html#names-1">names/1</a></li>
    <li title="ping-1"><a href="net_adm.html#ping-1">ping/1</a></li>
    <li title="world-0"><a href="net_adm.html#world-0">world/0</a></li>
    <li title="world-1"><a href="net_adm.html#world-1">world/1</a></li>
    <li title="world_list-1"><a href="net_adm.html#world_list-1">world_list/1</a></li>
    <li title="world_list-2"><a href="net_adm.html#world_list-2">world_list/2</a></li>
    </ul>
</li>
<li id="no" title="net_kernel " expanded="false">net_kernel<ul>
<li><a href="net_kernel.html">
                  Top of manual page
                </a></li>
    <li title="allow-1"><a href="net_kernel.html#allow-1">allow/1</a></li>
    <li title="connect_node-1"><a href="net_kernel.html#connect_node-1">connect_node/1</a></li>
    <li title="get_net_ticktime-0"><a href="net_kernel.html#get_net_ticktime-0">get_net_ticktime/0</a></li>
    <li title="getopts-2"><a href="net_kernel.html#getopts-2">getopts/2</a></li>
    <li title="monitor_nodes-1"><a href="net_kernel.html#monitor_nodes-1">monitor_nodes/1</a></li>
    <li title="monitor_nodes-2"><a href="net_kernel.html#monitor_nodes-2">monitor_nodes/2</a></li>
    <li title="set_net_ticktime-1"><a href="net_kernel.html#set_net_ticktime-1">set_net_ticktime/1</a></li>
    <li title="set_net_ticktime-2"><a href="net_kernel.html#set_net_ticktime-2">set_net_ticktime/2</a></li>
    <li title="setopts-2"><a href="net_kernel.html#setopts-2">setopts/2</a></li>
    <li title="start-1"><a href="net_kernel.html#start-1">start/1</a></li>
    <li title="start-1"><a href="net_kernel.html#start-1">start/1</a></li>
    <li title="start-1"><a href="net_kernel.html#start-1">start/1</a></li>
    <li title="stop-0"><a href="net_kernel.html#stop-0">stop/0</a></li>
    </ul>
</li>
<li id="no" title="os " expanded="false">os<ul>
<li><a href="os.html">
                  Top of manual page
                </a></li>
    <li title="cmd-1"><a href="os.html#cmd-1">cmd/1</a></li>
    <li title="find_executable-1"><a href="os.html#find_executable-1">find_executable/1</a></li>
    <li title="find_executable-2"><a href="os.html#find_executable-2">find_executable/2</a></li>
    <li title="getenv-0"><a href="os.html#getenv-0">getenv/0</a></li>
    <li title="getenv-1"><a href="os.html#getenv-1">getenv/1</a></li>
    <li title="getenv-2"><a href="os.html#getenv-2">getenv/2</a></li>
    <li title="getpid-0"><a href="os.html#getpid-0">getpid/0</a></li>
    <li title="perf_counter-0"><a href="os.html#perf_counter-0">perf_counter/0</a></li>
    <li title="perf_counter-1"><a href="os.html#perf_counter-1">perf_counter/1</a></li>
    <li title="putenv-2"><a href="os.html#putenv-2">putenv/2</a></li>
    <li title="system_time-0"><a href="os.html#system_time-0">system_time/0</a></li>
    <li title="system_time-1"><a href="os.html#system_time-1">system_time/1</a></li>
    <li title="timestamp-0"><a href="os.html#timestamp-0">timestamp/0</a></li>
    <li title="type-0"><a href="os.html#type-0">type/0</a></li>
    <li title="unsetenv-1"><a href="os.html#unsetenv-1">unsetenv/1</a></li>
    <li title="version-0"><a href="os.html#version-0">version/0</a></li>
    </ul>
</li>
<li id="no" title="pg2 " expanded="false">pg2<ul>
<li><a href="pg2.html">
                  Top of manual page
                </a></li>
    <li title="create-1"><a href="pg2.html#create-1">create/1</a></li>
    <li title="delete-1"><a href="pg2.html#delete-1">delete/1</a></li>
    <li title="get_closest_pid-1"><a href="pg2.html#get_closest_pid-1">get_closest_pid/1</a></li>
    <li title="get_local_members-1"><a href="pg2.html#get_local_members-1">get_local_members/1</a></li>
    <li title="get_members-1"><a href="pg2.html#get_members-1">get_members/1</a></li>
    <li title="join-2"><a href="pg2.html#join-2">join/2</a></li>
    <li title="leave-2"><a href="pg2.html#leave-2">leave/2</a></li>
    <li title="start-0"><a href="pg2.html#start-0">start/0</a></li>
    <li title="start_link-0"><a href="pg2.html#start_link-0">start_link/0</a></li>
    <li title="which_groups-0"><a href="pg2.html#which_groups-0">which_groups/0</a></li>
    </ul>
</li>
<li id="no" title="rpc " expanded="false">rpc<ul>
<li><a href="rpc.html">
                  Top of manual page
                </a></li>
    <li title="abcast-2"><a href="rpc.html#abcast-2">abcast/2</a></li>
    <li title="abcast-3"><a href="rpc.html#abcast-3">abcast/3</a></li>
    <li title="async_call-4"><a href="rpc.html#async_call-4">async_call/4</a></li>
    <li title="block_call-4"><a href="rpc.html#block_call-4">block_call/4</a></li>
    <li title="block_call-5"><a href="rpc.html#block_call-5">block_call/5</a></li>
    <li title="call-4"><a href="rpc.html#call-4">call/4</a></li>
    <li title="call-5"><a href="rpc.html#call-5">call/5</a></li>
    <li title="cast-4"><a href="rpc.html#cast-4">cast/4</a></li>
    <li title="eval_everywhere-3"><a href="rpc.html#eval_everywhere-3">eval_everywhere/3</a></li>
    <li title="eval_everywhere-4"><a href="rpc.html#eval_everywhere-4">eval_everywhere/4</a></li>
    <li title="multi_server_call-2"><a href="rpc.html#multi_server_call-2">multi_server_call/2</a></li>
    <li title="multi_server_call-3"><a href="rpc.html#multi_server_call-3">multi_server_call/3</a></li>
    <li title="multicall-3"><a href="rpc.html#multicall-3">multicall/3</a></li>
    <li title="multicall-4"><a href="rpc.html#multicall-4">multicall/4</a></li>
    <li title="multicall-5"><a href="rpc.html#multicall-5">multicall/5</a></li>
    <li title="nb_yield-1"><a href="rpc.html#nb_yield-1">nb_yield/1</a></li>
    <li title="nb_yield-2"><a href="rpc.html#nb_yield-2">nb_yield/2</a></li>
    <li title="parallel_eval-1"><a href="rpc.html#parallel_eval-1">parallel_eval/1</a></li>
    <li title="pinfo-1"><a href="rpc.html#pinfo-1">pinfo/1</a></li>
    <li title="pinfo-2"><a href="rpc.html#pinfo-2">pinfo/2</a></li>
    <li title="pmap-3"><a href="rpc.html#pmap-3">pmap/3</a></li>
    <li title="sbcast-2"><a href="rpc.html#sbcast-2">sbcast/2</a></li>
    <li title="sbcast-3"><a href="rpc.html#sbcast-3">sbcast/3</a></li>
    <li title="server_call-4"><a href="rpc.html#server_call-4">server_call/4</a></li>
    <li title="yield-1"><a href="rpc.html#yield-1">yield/1</a></li>
    </ul>
</li>
<li id="no" title="seq_trace " expanded="false">seq_trace<ul>
<li><a href="seq_trace.html">
                  Top of manual page
                </a></li>
    <li title="get_system_tracer-0"><a href="seq_trace.html#get_system_tracer-0">get_system_tracer/0</a></li>
    <li title="get_token-0"><a href="seq_trace.html#get_token-0">get_token/0</a></li>
    <li title="get_token-1"><a href="seq_trace.html#get_token-1">get_token/1</a></li>
    <li title="print-1"><a href="seq_trace.html#print-1">print/1</a></li>
    <li title="print-2"><a href="seq_trace.html#print-2">print/2</a></li>
    <li title="reset_trace-0"><a href="seq_trace.html#reset_trace-0">reset_trace/0</a></li>
    <li title="set_system_tracer-1"><a href="seq_trace.html#set_system_tracer-1">set_system_tracer/1</a></li>
    <li title="set_token-1"><a href="seq_trace.html#set_token-1">set_token/1</a></li>
    <li title="set_token-2"><a href="seq_trace.html#set_token-2">set_token/2</a></li>
    </ul>
</li>
<li title="user"><a href="user.html">user</a></li>
<li id="no" title="wrap_log_reader " expanded="false">wrap_log_reader<ul>
<li><a href="wrap_log_reader.html">
                  Top of manual page
                </a></li>
    <li title="chunk-1"><a href="wrap_log_reader.html#chunk-1">chunk/1</a></li>
    <li title="chunk-2"><a href="wrap_log_reader.html#chunk-2">chunk/2</a></li>
    <li title="close-1"><a href="wrap_log_reader.html#close-1">close/1</a></li>
    <li title="open-1"><a href="wrap_log_reader.html#open-1">open/1</a></li>
    <li title="open-2"><a href="wrap_log_reader.html#open-2">open/2</a></li>
    </ul>
</li>
<li title="zlib"><a href="../apps/kernel/zlib.html">zlib</a></li>
<li title="app"><a href="app.html">app</a></li>
<li title="config"><a href="config.html">config</a></li>
</ul>
</div></div>
<div id="content">
<div class="innertube">
<!-- refpage --><center><h1>erl_ddll</h1></center>
  
  <h3>MODULE</h3>
<div class="REFBODY">erl_ddll</div>
  <h3>MODULE SUMMARY</h3>
<div class="REFBODY">Dynamic driver loader and linker.</div>
  <h3>DESCRIPTION</h3>
<div class="REFBODY"><p>
    <p>This module provides an interface for loading
      and unloading <strong>Erlang linked-in drivers</strong> in runtime.</p>
    <div class="note">
<div class="label">Note</div>
<div class="content"><p>
      <p>This is a large reference document. For casual use of this
        module, and for most real world applications, the
        descriptions of functions
	<span class="bold_code"><a href="#load-2"><span class="code">load/2</span></a></span> and
	<span class="bold_code"><a href="#unload-1"><span class="code">unload/1</span></a></span>
	are enough to getting started.</p>
    </p></div>
</div>
    <p>The driver is to be provided as a dynamically linked library
      in an object code format specific for the platform in use,
      that is, <span class="code">.so</span> files on most Unix systems and <span class="code">.ddl</span>
      files on Windows. An Erlang linked-in driver must provide
      specific interfaces to the emulator, so this module is not
      designed for loading arbitrary dynamic libraries. For more
      information about Erlang drivers, see
      <span class="bold_code"><a href="erl_driver.html"><span class="code">erts:erl_driver</span></a></span>
      .</p>
    <a name="users"></a>
    <p>When describing a set of functions (that is, a module, a part of a
      module, or an application), executing in a process and wanting to
      use a ddll-driver, we use the term <strong>user</strong>. A process can
      have many users (different modules needing the same
      driver) and many processes running the same code, making up
      many <strong>users</strong> of a driver.</p>
      <p>In the basic scenario, each user loads the driver before
      starting to use it and unloads the driver when done.
      The reference counting keeps track of
      processes and the number of loads by each process. This way
      the driver is only unloaded when no one wants it (it has no user).
      The driver also keeps track of ports that are
      opened to it. This enables delay of unloading until all
      ports are closed, or killing of all ports that use the driver when
      it is unloaded.</p>
    <a name="scenarios"></a>
    <p>The interface supports two basic scenarios of loading and
      unloading. Each scenario can also have the option of either
      killing ports when the driver is unloading, or waiting for the
      ports to close themselves. The scenarios are as follows:</p>
    <dl>
      <dt><strong><strong>Load and Unload on a "When Needed Basis"</strong></strong></dt>
      <dd>
        <p>This (most common) scenario simply supports that each
          <span class="bold_code"><a href="#users">user</a></span> of the driver loads
          it when needed and unloads it when no longer needed.
          The driver is always reference counted and as long as a
          process keeping the driver loaded is still alive, the driver
          is present in the system.</p>
        <p>Each <span class="bold_code"><a href="#users">user</a></span> of the driver
          use <strong>literally</strong> the same pathname for the driver when
          demanding load, but the
	  <span class="bold_code"><a href="#users">users</a></span> are not concerned
          with if the driver is already loaded from the file system or
          if the object code must be loaded from file system.</p>
        <p>The following two pairs of functions support this scenario:</p>
        <dl>
          <dt><strong><strong>load/2 and unload/1</strong></strong></dt>
          <dd>
            <p>When using the <span class="code">load/unload</span> interfaces, the
              driver is not unloaded until the
              <strong>last port</strong> using the driver is closed. Function
              <span class="code">unload/1</span> can return immediately, as the
	      <span class="bold_code"><a href="#users">users</a></span>
	      have no interrest in when the unloading occurs. The
              driver is unloaded when no one needs it any longer.</p>
            <p>If a process having the driver loaded dies, it has
              the same effect as if unloading is done.</p>
            <p>When loading, function <span class="code">load/2</span> returns
              <span class="code">ok</span> when any instance of the driver is
              present. Thus, if a driver is waiting to get unloaded
              (because of open ports), it simply changes state to no
              longer need unloading.</p>
          </dd>
          <dt><strong><strong>load_driver/2 and unload_driver/1</strong></strong></dt>
          <dd>
            <p>These interfaces are intended to be used when it is considered an
              error that ports are open to a driver that no
	      <span class="bold_code"><a href="#users">user</a></span>
              has loaded. The ports that are still open when the
              last <span class="bold_code"><a href="#users">user</a></span> calls
              <span class="code">unload_driver/1</span> or when the last process having the
              driver loaded dies, are killed with reason
              <span class="code">driver_unloaded</span>.</p>
            <p>The function names <span class="code">load_driver</span> and
              <span class="code">unload_driver</span> are kept for backward
              compatibility.</p>
          </dd>
        </dl>
      </dd>
      <dt><strong><strong>Loading and Reloading for Code Replacement</strong></strong></dt>
      <dd>
        <p>This scenario can occur if the driver code needs
          replacement during operation of the Erlang
          emulator. Implementing driver code replacement is a little
          more tedious than Beam code replacement, as one driver
          cannot be loaded as both "old" and "new" code. All
	  <span class="bold_code"><a href="#users">users</a></span> of a driver must have it
          closed (no open ports) before the old code can be unloaded
          and the new code can be loaded.</p>
        <p>The unloading/loading is done as one atomic
          operation, blocking all processes in the system from using
          the driver in question while in progress.</p>
        <p>The preferred way to do driver code replacement is to let
          <strong>one single process</strong> keep track of the driver. When
          the process starts, the driver is loaded. When replacement
          is required, the driver is reloaded. Unload is probably never
          done, or done when the process exits. If more than one
	  <span class="bold_code"><a href="#users">user</a></span> has a driver
	  loaded when code replacement is demanded, the replacement cannot
	  occur until the last "other"
	  <span class="bold_code"><a href="#users">user</a></span> has
          unloaded the driver.</p>
        <p>Demanding reload when a reload is already in progress is
          always an error. Using the high-level functions, it is also
          an error to demand reloading when more than one
	  <span class="bold_code"><a href="#users">user</a></span> has the driver loaded.</p>
	 <p>To simplify driver replacement, avoid designing your system so
          that more than one
	  <span class="bold_code"><a href="#users">user</a></span> has the driver loaded.</p>
        <p>The two functions for reloading drivers are to be used
          together with corresponding load functions to support the two
          different behaviors concerning open ports:</p>
        <dl>
          <dt><strong><strong>load/2 and reload/2</strong></strong></dt>
          <dd>
            <p>This pair of functions is used when reloading is to be
              done after the last open port to the driver is
              closed.</p>
            <p>As <span class="code">reload/2</span> waits for the reloading to
              occur, a misbehaving process keeping open ports to
              the driver (or keeping the driver loaded) can cause
              infinite waiting for reload. Time-outs must be provided
              outside of the process demanding the reload or by using
              the low-level interface
	      <span class="bold_code"><a href="#try_load-3"><span class="code">try_load/3</span></a></span>
	      in combination with driver monitors.</p>
          </dd>
          <dt><strong><strong>load_driver/2 and reload_driver/2</strong></strong></dt>
          <dd>
            <p>This pair of functions are used when open ports to
              the driver are to be killed with reason
              <span class="code">driver_unloaded</span> to allow for new driver code to
              get loaded.</p>
            <p>However, if another process has the driver loaded,
              calling <span class="code">reload_driver</span> returns error code
              <span class="code">pending_process</span>. As stated earlier,
              the recommended design is to not allow other
	      <span class="bold_code"><a href="#users">users</a></span> than the "driver
              reloader" to demand loading of the driver in question.</p>
          </dd>
        </dl>
      </dd>
    </dl>
  </p></div>
  <h3>DATA TYPES</h3>
    <p>
      <span class="bold_code"><a name="type-driver">driver()</a> = iolist() | atom()</span><br></p>
    <p>
      <span class="bold_code"><a name="type-path">path()</a> = string() | atom()</span><br></p>
  
  <h3>EXPORTS</h3>
    <p><a name="demonitor-1"></a><span class="bold_code">demonitor(MonitorRef) -&gt; ok</span><br><div class="REFBODY">
<p>Types:</p>
<div class="REFTYPES"><span class="bold_code">MonitorRef = reference()</span></div>
</div></p>
<div class="REFBODY"><p>
        <p>Removes a driver monitor in much the same way as 
          <span class="bold_code"><a href="erlang.html#erlang:demonitor-1"><span class="code">erlang:demonitor/1</span></a></span>
	  in ERTS
	  does with process monitors. For details about how to create
	  driver monitors, see
	  <span class="bold_code"><a href="#monitor-2"><span class="code">monitor/2</span></a></span>,
	  <span class="bold_code"><a href="#try_load-3"><span class="code">try_load/3</span></a></span>, and
	  <span class="bold_code"><a href="#try_unload-2"><span class="code">try_unload/2</span></a></span>.</p>
        <p>The function throws a <span class="code">badarg</span> exception if the
          parameter is not a <span class="code">reference()</span>.</p>
      </p></div>
    <p><a name="format_error-1"></a><span class="bold_code">format_error(ErrorDesc) -&gt; string()</span><br><div class="REFBODY">
<p>Types:</p>
<div class="REFTYPES"><span class="bold_code">ErrorDesc = term()</span></div>
</div></p>
<div class="REFBODY"><p>
        <p>Takes an <span class="code">ErrorDesc</span> returned by load, unload, or
          reload functions and returns a string that
          describes the error or warning.</p>
        <div class="note">
<div class="label">Note</div>
<div class="content"><p>
          <p>Because of peculiarities in the dynamic loading interfaces on
            different platforms, the returned string is only guaranteed
            to describe the correct error <strong>if format_error/1 is called
	    in the same instance of the Erlang virtual machine as the error
	    appeared in</strong> (meaning the same operating
            system process).</p>
        </p></div>
</div>
      </p></div>
    <p><a name="info-0"></a><span class="bold_code">info() -&gt; AllInfoList</span><br><div class="REFBODY">
<p>Types:</p>
<div class="REFTYPES"><span class="bold_code">AllInfoList = [DriverInfo]</span></div>
<div class="REFTYPES"><span class="bold_code">DriverInfo = {DriverName, InfoList}</span></div>
<div class="REFTYPES"><span class="bold_code">DriverName = string()</span></div>
<div class="REFTYPES"><span class="bold_code">InfoList = [InfoItem]</span></div>
<div class="REFTYPES"><span class="bold_code">InfoItem = {Tag :: atom(), Value :: term()}</span></div>
</div></p>
<div class="REFBODY"><p>
        <p>Returns a list of tuples <span class="code">{DriverName, InfoList}</span>,
	   where <span class="code">InfoList</span> is the result of calling
	   <span class="bold_code"><a href="#info-1"><span class="code">info/1</span></a></span> for that
          <span class="code">DriverName</span>. Only dynamically linked-in drivers are
          included in the list.</p>
      </p></div>
    <p><a name="info-1"></a><span class="bold_code">info(Name) -&gt; InfoList</span><br><div class="REFBODY">
<p>Types:</p>
<div class="REFTYPES"><span class="bold_code">Name = <span class="bold_code"><a href="#type-driver">driver()</a></span></span></div>
<div class="REFTYPES"><span class="bold_code">InfoList = [InfoItem, ...]</span></div>
<div class="REFTYPES"><span class="bold_code">InfoItem = {Tag :: atom(), Value :: term()}</span></div>
</div></p>
<div class="REFBODY"><p>
        <p>Returns a list of tuples <span class="code">{Tag, Value}</span>,
	  where <span class="code">Tag</span> is the information item and
	  <span class="code">Value</span> is the result of calling
	  <span class="bold_code"><a href="#info-2"><span class="code">info/2</span></a></span> with this driver
	  name and this tag. The result is a tuple list containing all information
	  available about a driver.</p>
        <p>The following tags appears in the list:</p>
        <ul>
          <li><span class="code">processes</span></li>
          <li><span class="code">driver_options</span></li>
          <li><span class="code">port_count</span></li>
          <li><span class="code">linked_in_driver</span></li>
          <li><span class="code">permanent</span></li>
          <li><span class="code">awaiting_load</span></li>
          <li><span class="code">awaiting_unload</span></li>
        </ul>
        <p>For a detailed description of each value, see
          <span class="bold_code"><a href="#info-2"><span class="code">info/2</span></a></span>.</p>
        <p>The function throws a <span class="code">badarg</span> exception if the driver
          is not present in the system.</p>
      </p></div>
    <p><a name="info-2"></a><span class="bold_code">info(Name, Tag) -&gt; Value</span><br><div class="REFBODY">
<p>Types:</p>
<div class="REFTYPES"><span class="bold_code">Name = <span class="bold_code"><a href="#type-driver">driver()</a></span></span></div>
<div class="REFTYPES"><span class="bold_code">Tag = <br>    processes |<br>    driver_options |<br>    port_count |<br>    linked_in_driver |<br>    permanent |<br>    awaiting_load |<br>    awaiting_unload</span></div>
<div class="REFTYPES"><span class="bold_code">Value = term()</span></div>
</div></p>
<div class="REFBODY"><p>
        <p>Returns specific information about one aspect of a driver.
	  Parameter <span class="code">Tag</span> specifies which aspect
          to get information about. The return <span class="code">Value</span> differs
          between different tags:</p>
        <dl>
          <dt><strong><span class="code">processes</span></strong></dt>
          <dd>
            <p>Returns all processes containing
	    <span class="bold_code"><a href="#users">users</a></span> of the specific drivers
              as a list of tuples <span class="code">{pid(),integer() &gt;= 0}</span>, where
              <span class="code">integer()</span> denotes the number of users in process
              <span class="code">pid()</span>.</p>
          </dd>
          <dt><strong><span class="code">driver_options</span></strong></dt>
          <dd>
            <p>Returns a list of the driver options provided when
              loading, and any options set by the driver
              during initialization. The only valid option
              is <span class="code">kill_ports</span>.</p>
          </dd>
          <dt><strong><span class="code">port_count</span></strong></dt>
          <dd>
            <p>Returns the number of ports (an <span class="code">integer() &gt;= 0</span>)
	    using the driver.</p>
          </dd>
          <dt><strong><span class="code">linked_in_driver</span></strong></dt>
          <dd>
            <p>Returns a <span class="code">boolean()</span>, which is <span class="code">true</span> if the driver is a
              statically linked-in one, otherwise <span class="code">false</span>.</p>
          </dd>
          <dt><strong><span class="code">permanent</span></strong></dt>
          <dd>
            <p>Returns a <span class="code">boolean()</span>, which is <span class="code">true</span> if the driver has
	      made itself permanent (and is <strong>not</strong> a statically
              linked-in driver), otherwise <span class="code">false</span>.</p>
          </dd>
          <dt><strong><span class="code">awaiting_load</span></strong></dt>
          <dd>
            <p>Returns a list of all processes having monitors for
              <span class="code">loading</span> active. Each process is returned as
              <span class="code">{pid(),integer() &gt;= 0}</span>, where <span class="code">integer()</span> is the
              number of monitors held by process <span class="code">pid()</span>.</p>
          </dd>
          <dt><strong><span class="code">awaiting_unload</span></strong></dt>
          <dd>
            <p>Returns a list of all processes having monitors for
              <span class="code">unloading</span> active. Each process is returned as
              <span class="code">{pid(),integer() &gt;= 0}</span>, where <span class="code">integer()</span> is the
              number of monitors held by process <span class="code">pid()</span>.</p>
          </dd>
        </dl>
        <p>If option <span class="code">linked_in_driver</span> or <span class="code">permanent</span>
          returns <span class="code">true</span>, all other options return
          <span class="code">linked_in_driver</span> or <span class="code">permanent</span>, respectively.</p>
        <p>The function throws a <span class="code">badarg</span> exception if the driver
          is not present in the system or if the tag is not supported.</p>
      </p></div>
    <p><a name="load-2"></a><span class="bold_code">load(Path, Name) -&gt; ok | {error, ErrorDesc}</span><br><div class="REFBODY">
<p>Types:</p>
<div class="REFTYPES"><span class="bold_code">Path = <span class="bold_code"><a href="#type-path">path()</a></span></span></div>
<div class="REFTYPES"><span class="bold_code">Name = <span class="bold_code"><a href="#type-driver">driver()</a></span></span></div>
<div class="REFTYPES"><span class="bold_code">ErrorDesc = term()</span></div>
</div></p>
<div class="REFBODY"><p>
        <p>Loads and links the dynamic driver <span class="code">Name</span>.
	  <span class="code">Path</span>
          is a file path to the directory containing the driver.
          <span class="code">Name</span> must be a sharable object/dynamic library. Two
          drivers with different <span class="code">Path</span> parameters cannot be
          loaded under the same name. <span class="code">Name</span> is a string or
          atom containing at least one character.</p>
        <p>The <span class="code">Name</span> specified is to correspond to the filename
          of the dynamically loadable object file residing in
          the directory specified as <span class="code">Path</span>, but <strong>without</strong> the
          extension (that is, <span class="code">.so</span>). The driver name provided in
          the driver initialization routine must correspond with the
          filename, in much the same way as Erlang module names
          correspond to the names of the <span class="code">.beam</span> files.</p>
        <p>If the driver was previously unloaded, but is still
          present because of open ports to it, a call to
          <span class="code">load/2</span> stops the unloading and keeps the driver
          (as long as <span class="code">Path</span> is the same), and <span class="code">ok</span> is
          returned. If you really want the object code to be
          reloaded, use <span class="bold_code"><a href="#reload-2"><span class="code">reload/2</span></a></span>
	  or the low-level interface
	  <span class="bold_code"><a href="#try_load-3"><span class="code">try_load/3</span></a></span> instead.
	  See also the description of
	  <span class="bold_code"><a href="#scenarios"><span class="code">different scenarios</span></a></span> for
          loading/unloading in the introduction.</p>
        <p>If more than one process tries to load an already loaded
          driver with the same <span class="code">Path</span>, or if the same process
          tries to load it many times, the function returns
          <span class="code">ok</span>. The emulator keeps track of the
          <span class="code">load/2</span> calls, so that a corresponding number of
          <span class="code">unload/2</span> calls must be done from the same
          process before the driver gets unloaded. It is
          therefore safe for an application to load a driver that is
          shared between processes or applications when needed. It can
          safely be unloaded without causing trouble for other
          parts of the system.</p>
        <p>It is not allowed to load multiple drivers with
	the same name but with different <span class="code">Path</span> parameters.</p>
        <div class="note">
<div class="label">Note</div>
<div class="content"><p>
          <p><span class="code">Path</span> is interpreted
            literally, so that all loaders of the same driver must
            specify the same <strong>literal</strong> <span class="code">Path</span> string,
	    although different paths can point out the same directory
            in the file system (because of use of relative paths and
            links).</p>
        </p></div>
</div>
        <p>On success, the function returns <span class="code">ok</span>. On
          failure, the return value is <span class="code">{error,ErrorDesc}</span>,
          where <span class="code">ErrorDesc</span> is an opaque term to be
          translated into human readable form by function
	  <span class="bold_code"><a href="#format_error-1"><span class="code">format_error/1</span></a></span>.</p>
        <p>For more control over the error handling, use the
          <span class="bold_code"><a href="#try_load-3"><span class="code">try_load/3</span></a></span>
          interface instead.</p>
        <p>The function throws a <span class="code">badarg</span> exception if the
          parameters are not specified as described here.</p>
      </p></div>
    <p><a name="load_driver-2"></a><span class="bold_code">load_driver(Path, Name) -&gt; ok | {error, ErrorDesc}</span><br><div class="REFBODY">
<p>Types:</p>
<div class="REFTYPES"><span class="bold_code">Path = <span class="bold_code"><a href="#type-path">path()</a></span></span></div>
<div class="REFTYPES"><span class="bold_code">Name = <span class="bold_code"><a href="#type-driver">driver()</a></span></span></div>
<div class="REFTYPES"><span class="bold_code">ErrorDesc = term()</span></div>
</div></p>
<div class="REFBODY"><p>
        <p>Works essentially as <span class="code">load/2</span>, but loads the driver
          with other options. All ports using the
          driver are killed with reason <span class="code">driver_unloaded</span>
	  when the driver is to be unloaded.</p>
        <p>The number of loads and unloads by different
	  <span class="bold_code"><a href="#users">users</a></span> influences the loading
          and unloading of a driver file. The port killing
          therefore only occurs when the <strong>last</strong>
	  <span class="bold_code"><a href="#users">user</a></span> unloads the driver,
	  or when the last process having loaded the driver exits.</p>
        <p>This interface (or at least the name of the functions) is
          kept for backward compatibility.
	  Using <span class="bold_code"><a href="#try_load-3"><span class="code">try_load/3</span></a></span> with
          <span class="code">{driver_options,[kill_ports]}</span> in the option list
          gives the same effect regarding the port killing.</p>
        <p>The function throws a <span class="code">badarg</span> exception if the
          parameters are not specified as described here.</p>
      </p></div>
    <p><a name="loaded_drivers-0"></a><span class="bold_code">loaded_drivers() -&gt; {ok, Drivers}</span><br><div class="REFBODY">
<p>Types:</p>
<div class="REFTYPES"><span class="bold_code">Drivers = [Driver]</span></div>
<div class="REFTYPES"><span class="bold_code">Driver = string()</span></div>
</div></p>
<div class="REFBODY"><p>
        <p>Returns a list of all the available drivers, both
          (statically) linked-in and dynamically loaded ones.</p>
        <p>The driver names are returned as a list of strings rather
          than a list of atoms for historical reasons.</p>
        <p>For more information about drivers, see
          <span class="bold_code"><a href="#info-0"><span class="code">info</span></a></span>.</p>
      </p></div>
    <p><a name="monitor-2"></a><span class="bold_code">monitor(Tag, Item) -&gt; MonitorRef</span><br><div class="REFBODY">
<p>Types:</p>
<div class="REFTYPES"><span class="bold_code">Tag = driver</span></div>
<div class="REFTYPES"><span class="bold_code">Item = {Name, When}</span></div>
<div class="REFTYPES"><span class="bold_code">Name = <span class="bold_code"><a href="#type-driver">driver()</a></span></span></div>
<div class="REFTYPES"><span class="bold_code">When = loaded | unloaded | unloaded_only</span></div>
<div class="REFTYPES"><span class="bold_code">MonitorRef = reference()</span></div>
</div></p>
<div class="REFBODY"><p>
        <p>Creates a driver monitor and works in many
          ways as
	  <span class="bold_code"><a href="erlang.html#erlang:monitor-2"><span class="code">erlang:monitor/2</span></a></span>
	  in ERTS,
          does for processes. When a driver changes state, the monitor
          results in a monitor message that is sent to the calling
          process. <span class="code">MonitorRef</span> returned by this function is
          included in the message sent.</p>
        <p>As with process monitors, each driver monitor set only
          generates <strong>one single message</strong>. The monitor is
          "destroyed" after the message is sent, so it is then not
          needed to call
	<span class="bold_code"><a href="#demonitor-1"><span class="code">demonitor/1</span></a></span>.</p>
        <p><span class="code">MonitorRef</span> can also be used in subsequent calls
          to <span class="bold_code"><a href="#demonitor-1"><span class="code">demonitor/1</span></a></span> to
          remove a monitor.</p>
        <p>The function accepts the following parameters:</p>
        <dl>
          <dt><strong><span class="code">Tag</span></strong></dt>
          <dd>
            <p>The monitor tag is always <span class="code">driver</span>, as this function
              can only be used to create driver monitors. In the future,
              driver monitors will be integrated with process monitors,
              why this parameter has to be specified for consistence.</p>
          </dd>
          <dt><strong><span class="code">Item</span></strong></dt>
          <dd>
            <p>Parameter <span class="code">Item</span> specifies
	    which driver to monitor (the driver name) and
              which state change to monitor. The parameter
              is a tuple of arity two whose first element is the
              driver name and second element is one of the following:</p>
            <dl>
              <dt><strong><span class="code">loaded</span></strong></dt>
              <dd>
                <p>Notifies when the driver is reloaded (or loaded if
                  loading is underway). It only makes sense to monitor
                  drivers that are in the process of being loaded or
                  reloaded. A future driver name for loading cannot be
		  monitored. That only results in a
                  <span class="code">DOWN</span> message sent immediately.
                  Monitoring for loading is therefore most useful when
                  triggered by function
		  <span class="bold_code"><a href="#try_load-3"><span class="code">try_load/3</span></a></span>,
                  where the monitor is created <strong>because</strong> the
                  driver is in such a pending state.</p>
                <p>Setting a driver monitor for <span class="code">loading</span>
                  eventually leads to one of the following messages
                  being sent:</p>
                <dl>
                  <dt><strong><span class="code">{'UP', reference(), driver, Name, loaded}</span></strong></dt>
                  <dd>
                    <p>This message is sent either immediately if the
                      driver is already loaded and no reloading is
                      pending, or when reloading is executed if
                      reloading is pending. </p>
                    <p>The <span class="bold_code"><a href="#users">user</a></span> is
                      expected to know if reloading is demanded before
                      creating a monitor for loading.</p>
                  </dd>
                  <dt><strong><span class="code">{'UP', reference(), driver, Name, permanent}</span></strong></dt>
                  <dd>
                    <p>This message is sent if reloading was
                      expected, but the (old) driver made itself
                      permanent before reloading. It is also
                      sent if the driver was permanent or statically
                      linked-in when trying to create the monitor.</p>
                  </dd>
                  <dt><strong><span class="code">{'DOWN', reference(), driver, Name, load_cancelled}</span></strong></dt>
                  <dd>
                    <p>This message arrives if reloading was
                      underway, but the requesting
		      <span class="bold_code"><a href="#users">user</a></span>
                      cancelled it by dying or calling
                      <span class="bold_code"><a href="#try_unload-2"><span class="code">try_unload/2</span></a></span>
                      (or <span class="code">unload/1</span>/<span class="code">unload_driver/1</span>)
                      again before it was reloaded.</p>
                  </dd>
                  <dt><strong><span class="code">{'DOWN', reference(), driver, Name, {load_failure, Failure}}</span></strong></dt>
                  <dd>
                    <p>This message arrives if reloading was
                      underway but the loading for some reason
                      failed. The <span class="code">Failure</span> term is one of the
                      errors that can be returned from
		      <span class="bold_code"><a href="#try_load-3"><span class="code">try_load/3</span></a></span>.
		      The error term can be passed to
		      <span class="bold_code"><a href="#format_error-1"><span class="code">format_error/1</span></a></span>
                      for translation into human readable form. Notice
                      that the translation must be done in the same
                      running Erlang virtual machine as the error
                      was detected in.</p>
                  </dd>
                </dl>
              </dd>
              <dt><strong><span class="code">unloaded</span></strong></dt>
              <dd>
                <p>Monitors when a driver gets unloaded. If one
                  monitors a driver that is not present in the system,
                  one immediately gets notified that the driver got
                  unloaded. There is no guarantee that the driver was
                  ever loaded.</p>
                <p>A driver monitor for unload eventually results
                  in one of the following messages being sent:</p>
                <dl>
                  <dt><strong><span class="code">{'DOWN', reference(), driver, Name, unloaded}</span></strong></dt>
                  <dd>
                    <p>The monitored driver instance is now
                      unloaded. As the unload can be a result of a
                      <span class="code">reload/2</span> request, the driver can once
                      again have been loaded when this message
                      arrives.</p>
                  </dd>
                  <dt><strong><span class="code">{'UP', reference(), driver, Name, unload_cancelled}</span></strong></dt>
                  <dd>
                    <p>This message is sent if unloading was
                      expected, but while the driver was waiting for
                      all ports to get closed, a new
		      <span class="bold_code"><a href="#users">user</a></span> of the driver
                      appeared, and the unloading was cancelled.</p>
                    <p>This message appears if <span class="code">{ok, pending_driver}</span>
		      was returned from
		      <span class="bold_code"><a href="#try_unload-2"><span class="code">try_unload/2</span></a></span>
                      for the last <span class="bold_code"><a href="#users">user</a></span>
		      of the driver, and then <span class="code">{ok, already_loaded}</span> is returned
                      from a call to
		    <span class="bold_code"><a href="#try_load-3"><span class="code">try_load/3</span></a></span>.</p>
                    <p>If one <strong>really</strong> wants to monitor when the
                      driver gets unloaded, this message distorts
                      the picture, because no unloading was done.
                      Option <span class="code">unloaded_only</span> creates a monitor
                      similar to an <span class="code">unloaded</span> monitor, but
                      never results in this message.</p>
                  </dd>
                  <dt><strong><span class="code">{'UP', reference(), driver, Name, permanent}</span></strong></dt>
                  <dd>
                    <p>This message is sent if unloading was
                      expected, but the driver made itself
                      permanent before unloading. It is also
                      sent if trying to monitor a permanent or
                      statically linked-in driver.</p>
                  </dd>
                </dl>
              </dd>
              <dt><strong><span class="code">unloaded_only</span></strong></dt>
              <dd>
                <p>A monitor created as <span class="code">unloaded_only</span> behaves
                  exactly as one created as <span class="code">unloaded</span>
                  except that the
		  <span class="code">{'UP', reference(), driver, Name, unload_cancelled}</span>
		  message is never sent, but the monitor instead persists until
		  the driver <strong>really</strong> gets unloaded.</p>
              </dd>
            </dl>
          </dd>
        </dl>
        <p>The function throws a <span class="code">badarg</span> exception if the
          parameters are not specified as described here.</p>
      </p></div>
    <p><a name="reload-2"></a><span class="bold_code">reload(Path, Name) -&gt; ok | {error, ErrorDesc}</span><br><div class="REFBODY">
<p>Types:</p>
<div class="REFTYPES"><span class="bold_code">Path = <span class="bold_code"><a href="#type-path">path()</a></span></span></div>
<div class="REFTYPES"><span class="bold_code">Name = <span class="bold_code"><a href="#type-driver">driver()</a></span></span></div>
<div class="REFTYPES"><span class="bold_code">ErrorDesc = pending_process | OpaqueError</span></div>
<div class="REFTYPES"><span class="bold_code">OpaqueError = term()</span></div>
</div></p>
<div class="REFBODY"><p>
        <p>Reloads the driver named <span class="code">Name</span> from a possibly
          different <span class="code">Path</span> than previously used. This
          function is used in the code change
	  <span class="bold_code"><a href="#scenarios"><span class="code">scenario</span></a></span> described in the
          introduction.</p>
        <p>If there are other <span class="bold_code"><a href="#users">users</a></span>
          of this driver, the function returns <span class="code">{error, pending_process}</span>,
	  but if there are no other users, the function call hangs until all
	  open ports are closed.</p>
        <div class="note">
<div class="label">Note</div>
<div class="content"><p>
          <p>Avoid mixing multiple
	  <span class="bold_code"><a href="#users">users</a></span>
          with driver reload requests.</p>
        </p></div>
</div>
        <p>To avoid hanging on open ports, use function
          <span class="bold_code"><a href="#try_load-3"><span class="code">try_load/3</span></a></span>
          instead.</p>
        <p>The <span class="code">Name</span> and <span class="code">Path</span> parameters
	  have exactly the same meaning as when calling the plain function
	<span class="bold_code"><a href="#load-2"><span class="code">load/2</span></a></span>.</p>

        <p>On success, the function returns <span class="code">ok</span>. On
          failure, the function returns an opaque error,
          except the <span class="code">pending_process</span> error described
          earlier. The opaque errors are to be translated into human
          readable form by function
	<span class="bold_code"><a href="#format_error-1"><span class="code">format_error/1</span></a></span>.</p>
        <p>For more control over the error handling,  use the
          <span class="bold_code"><a href="#try_load-3"><span class="code">try_load/3</span></a></span>
          interface instead.</p>
        <p>The function throws a <span class="code">badarg</span> exception if the
          parameters are not specified as described here.</p>
      </p></div>
    <p><a name="reload_driver-2"></a><span class="bold_code">reload_driver(Path, Name) -&gt; ok | {error, ErrorDesc}</span><br><div class="REFBODY">
<p>Types:</p>
<div class="REFTYPES"><span class="bold_code">Path = <span class="bold_code"><a href="#type-path">path()</a></span></span></div>
<div class="REFTYPES"><span class="bold_code">Name = <span class="bold_code"><a href="#type-driver">driver()</a></span></span></div>
<div class="REFTYPES"><span class="bold_code">ErrorDesc = pending_process | OpaqueError</span></div>
<div class="REFTYPES"><span class="bold_code">OpaqueError = term()</span></div>
</div></p>
<div class="REFBODY"><p>
        <p>Works exactly as <span class="bold_code"><a href="#reload-2"><span class="code">reload/2</span></a></span>,
	  but for drivers loaded with the
	<span class="bold_code"><a href="#load_driver-2"><span class="code">load_driver/2</span></a></span> interface.</p>
        <p>As this interface implies that ports are killed when
          the last user disappears, the function does not hang waiting for
          ports to get closed.</p>
        <p>For more details, see
	  <span class="bold_code"><a href="#scenarios"><span class="code">scenarios</span></a></span> in this module
          description and the function description for
	  <span class="bold_code"><a href="#reload-2"><span class="code">reload/2</span></a></span>.</p>
        <p>The function throws a <span class="code">badarg</span> exception if the
          parameters are not specified as described here.</p>
      </p></div>
    <p><a name="try_load-3"></a><span class="bold_code">try_load(Path, Name, OptionList) -&gt;<br>            {ok, Status} |<br>            {ok, PendingStatus, Ref} |<br>            {error, ErrorDesc}</span><br><div class="REFBODY">
<p>Types:</p>
<div class="REFTYPES"><span class="bold_code">Path = <span class="bold_code"><a href="#type-path">path()</a></span></span></div>
<div class="REFTYPES"><span class="bold_code">Name = <span class="bold_code"><a href="#type-driver">driver()</a></span></span></div>
<div class="REFTYPES"><span class="bold_code">OptionList = [Option]</span></div>
<div class="REFTYPES"><span class="bold_code">Option = <br>    {driver_options, DriverOptionList} |<br>    {monitor, MonitorOption} |<br>    {reload, ReloadOption}</span></div>
<div class="REFTYPES"><span class="bold_code">DriverOptionList = [DriverOption]</span></div>
<div class="REFTYPES"><span class="bold_code">DriverOption = kill_ports</span></div>
<div class="REFTYPES"><span class="bold_code">MonitorOption = ReloadOption = pending_driver | pending</span></div>
<div class="REFTYPES"><span class="bold_code"></span></div>
<div class="REFTYPES"><span class="bold_code">Status = loaded | already_loaded | PendingStatus</span></div>
<div class="REFTYPES"><span class="bold_code">PendingStatus = pending_driver | pending_process</span></div>
<div class="REFTYPES"><span class="bold_code">Ref = reference()</span></div>
<div class="REFTYPES"><span class="bold_code">ErrorDesc = ErrorAtom | OpaqueError</span></div>
<div class="REFTYPES"><span class="bold_code">ErrorAtom = <br>    linked_in_driver |<br>    inconsistent |<br>    permanent |<br>    not_loaded_by_this_process |<br>    not_loaded |<br>    pending_reload |<br>    pending_process</span></div>
<div class="REFTYPES"><span class="bold_code">OpaqueError = term()</span></div>
</div></p>
<div class="REFBODY"><p>
        <p>Provides more control than the
          <span class="code">load/2</span>/<span class="code">reload/2</span> and
          <span class="code">load_driver/2</span>/<span class="code">reload_driver/2</span> interfaces. It
          never waits for completion of other operations related
          to the driver, but immediately returns the status of the
          driver as one of the following:</p>
        <dl>
          <dt><strong><span class="code">{ok, loaded}</span></strong></dt>
          <dd>
            <p>The driver was loaded and is immediately usable.</p>
          </dd>
          <dt><strong><span class="code">{ok, already_loaded}</span></strong></dt>
          <dd>
            <p>The driver was already loaded by another process
              or is in use by a living port, or both. The load by you is
              registered and a corresponding <span class="code">try_unload</span> is
              expected sometime in the future.</p>
          </dd>
          <dt><strong><span class="code">{ok, pending_driver}</span>or <span class="code">{ok, pending_driver, reference()}</span></strong></dt>
          <dd>
            <p>The load request is registered, but the loading is
              delayed because an earlier instance of the
              driver is still waiting to get unloaded (open
              ports use it). Still, unload is expected when you are
              done with the driver. This return value
              <strong>mostly</strong> occurs when options
              <span class="code">{reload,pending_driver}</span> or
              <span class="code">{reload,pending}</span> are used, but
              <strong>can</strong> occur when another
	      <span class="bold_code"><a href="#users">user</a></span> is unloading a
	      driver in parallel and driver option <span class="code">kill_ports</span> is set.
	      In other words, this return value always needs
              to be handled.</p>
          </dd>
          <dt><strong><span class="code">{ok, pending_process}</span>or <span class="code">{ok, pending_process, reference()}</span></strong></dt>
          <dd>
            <p>The load request is registered, but the loading is
              delayed because an earlier instance of the
              driver is still waiting to get unloaded by another
              <span class="bold_code"><a href="#users">user</a></span> (not only by a
              port, in which case <span class="code">{ok,pending_driver}</span> would
              have been returned). Still, unload is expected when you
              are done with the driver. This return value
              <strong>only</strong> occurs when option <span class="code">{reload,pending}</span>
              is used.</p>
          </dd>
        </dl>
        <p>When the function returns <span class="code">{ok, pending_driver}</span> or
          <span class="code">{ok, pending_process}</span>, one can get information
          about when the driver is <strong>actually</strong> loaded  by using
	  option <span class="code">{monitor, MonitorOption}</span>.</p>
        <p>When monitoring is requested, and a corresponding
	<span class="code">{ok, pending_driver}</span> or <span class="code">{ok, pending_process}</span> would
	  be returned, the function instead returns a tuple
	  <span class="code">{ok, PendingStatus, reference()}</span>
	  and the process then gets a monitor message later, when the
	  driver gets loaded. The monitor message to expect is described in
          the function description of
	  <span class="bold_code"><a href="#monitor-2"><span class="code">monitor/2</span></a></span>.</p>
        <div class="note">
<div class="label">Note</div>
<div class="content"><p>
          <p>In case of loading, monitoring can <strong>not</strong> only get
	    triggered by using option <span class="code">{reload, ReloadOption}</span>,
	    but also in special cases where the load error is transient. Thus,
	    <span class="code">{monitor, pending_driver}</span> is to be used under basically
            <strong>all</strong> real world circumstances.</p>
        </p></div>
</div>
        <p>The function accepts the following parameters:</p>
        <dl>
          <dt><strong><span class="code">Path</span></strong></dt>
          <dd>
            <p>The file system path to the directory where the driver
              object file is located. The filename of the object file
              (minus extension) must correspond to the driver name
              (used in parameter <span class="code">Name</span>) and the driver must
              identify itself with the same name.
              <span class="code">Path</span> can be provided as an <strong>iolist()</strong>,
              meaning it can be a list of other <span class="code">iolist()</span>s, characters
              (8-bit integers), or binaries, all to be flattened
              into a sequence of characters.</p>
            <p>The (possibly flattened) <span class="code">Path</span> parameter must be
              consistent throughout the system. A driver is to, by
              all <span class="bold_code"><a href="#users">users</a></span>, be loaded
              using the same <strong>literal</strong> <span class="code">Path</span>.
	      The exception is when <strong>reloading</strong> is requested,
	      in which case <span class="code">Path</span> can be specified
              differently. Notice that all
	      <span class="bold_code"><a href="#users">users</a></span> trying to load the
              driver later need to use the
	      <strong>new</strong> <span class="code">Path</span> if <span class="code">Path</span>
	      is changed using a <span class="code">reload</span> option. This is yet another reason
              to have <strong>only one loader</strong> of a driver one wants to
              upgrade in a running system.</p>
          </dd>
          <dt><strong><span class="code">Name</span></strong></dt>
          <dd>
            <p>This parameter is the name of the driver
	      to be used in subsequent calls to function
	      <span class="bold_code"><a href="erlang.html#open_port-2"><span class="code">erlang:open_port</span></a></span>
	      in ERTS.
	      The name can be specified as an <span class="code">iolist()</span> or
              an <span class="code">atom()</span>. The name specified when loading is used
              to find the object file (with the help of <span class="code">Path</span>
	      and the system-implied extension suffix, that is, <span class="code">.so</span>).
	      The name by which the driver identifies itself must also be consistent
              with this <span class="code">Name</span> parameter, much as
	      the module name of a Beam file much corresponds to its filename.</p>
          </dd>
          <dt><strong><span class="code">OptionList</span></strong></dt>
          <dd>
            <p>Some options can be specified to control the
              loading operation. The options are specified as a list of
              two-tuples. The tuples have the following values and
              meanings:</p>
            <dl>
              <dt><strong><span class="code">{driver_options, DriverOptionList}</span></strong></dt>
              <dd>
                <p>This is to provide options that changes
                  its general behavior and "sticks" to the driver
                  throughout its lifespan.</p>
                <p>The driver options for a specified driver name need
                  always to be consistent, <strong>even when the driver is reloaded</strong>,
		  meaning that they are as much a part of the driver as the name.</p>
                <p>The only allowed driver option is
                  <span class="code">kill_ports</span>, which means that all ports opened
                  to the driver are killed with exit reason
                  <span class="code">driver_unloaded</span> when no process any longer
                  has the driver loaded. This situation arises either
                  when the last <span class="bold_code"><a href="#users">user</a></span> calls
		  <span class="bold_code"><a href="#try_unload-2"><span class="code">try_unload/2</span></a></span>, or
                  when the last process having loaded the driver exits.</p>
              </dd>
              <dt><strong><span class="code">{monitor, MonitorOption}</span></strong></dt>
              <dd>
                <p>A <span class="code">MonitorOption</span> tells <span class="code">try_load/3</span> to
                  trigger a driver monitor under certain
                  conditions. When the monitor is triggered, the
                  function returns a three-tuple
		  <span class="code">{ok, PendingStatus, reference()}</span>, where
		  <span class="code">reference()</span> is the monitor reference for the driver monitor.</p>
                <p>Only one <span class="code">MonitorOption</span> can be specified.
                  It is one of the following:</p>
		  <ul>
		    <li>
		      <p>The atom <span class="code">pending</span>, which means
                      that a monitor is to be created whenever a load
                      operation is delayed,</p>
		    </li>
		    <li>
		      <p>The atom <span class="code">pending_driver</span>, in which a monitor
		      is created whenever the operation is delayed because
		      of open ports to an otherwise unused driver.</p>
		      </li>
		  </ul>
		<p>Option <span class="code">pending_driver</span> is of little use, but
		  is present for completeness, as it is well defined which
		  reload options that can give rise to which delays.
		  However, it can be a good idea to use the same
		  <span class="code">MonitorOption</span> as the
		  <span class="code">ReloadOption</span>, if present.</p>
                <p>If reloading is not requested, it can still be
                  useful to specify option <span class="code">monitor</span>, as
                  forced unloads (driver option <span class="code">kill_ports</span> or
                  option <span class="code">kill_ports</span> to
		  <span class="bold_code"><a href="#try_unload-2"><span class="code">try_unload/2</span></a></span>)
		  trigger a transient state where driver loading
                  cannot be performed until all closing ports are
                  closed. Thus, as <span class="code">try_unload</span> can, in
                  almost all situations, return <span class="code">{ok, pending_driver}</span>,
		  always specify at least <span class="code">{monitor, pending_driver}</span>
		  in production code (see the monitor discussion earlier).</p>
              </dd>
              <dt><strong><span class="code">{reload, ReloadOption}</span></strong></dt>
              <dd>
                <p>This option is used to
                  <strong>reload</strong> a driver from disk, most often in a
                  code upgrade scenario. Having a <span class="code">reload</span> option
                  also implies that parameter <span class="code">Path</span> does
                  <strong>not</strong> need to be consistent with earlier loads of
                  the driver.</p>
                <p>To reload a driver, the process must have loaded the driver
		  before, that is, there must be an active
		  <span class="bold_code"><a href="#users">user</a></span> of the driver
		  in the process.</p>
                <p>The <span class="code">reload</span> option can be either of the following:</p>
		 <dl>
		   <dt><strong><span class="code">pending</span></strong></dt>
		   <dd>
		     <p>With the atom <span class="code">pending</span>, reloading is requested
		       for any driver and is effectuated when <strong>all</strong>
                       ports opened to the driver are closed. The driver
                       replacement in this case takes
                       place regardless if there are still
                       pending <span class="bold_code"><a href="#users">users</a></span>
                       having the driver loaded.</p>
                     <p>The option also triggers port-killing (if driver
                       option <span class="code">kill_ports</span> is used) although
                       there are pending users, making it usable for forced
                       driver replacement, but laying much
                       responsibility on the driver
		       <span class="bold_code"><a href="#users">users</a></span>.
		       The pending option is seldom used as one does not want other
		       <span class="bold_code"><a href="#users">users</a></span> to have loaded
		       the driver when code change is underway.</p>
</dd>
		   <dt><strong><span class="code">pending_driver</span></strong></dt>
		   <dd>
		     <p>This option is more useful. Here, reloading is queued
		        if the driver is <strong>not</strong> loaded by any other
		        <span class="bold_code"><a href="#users">users</a></span>, but the
			driver has opened ports, in which case
			<span class="code">{ok, pending_driver}</span> is returned
			(a <span class="code">monitor</span> option is recommended).</p>
</dd>
		 </dl>
                <p>If the driver is unloaded (not present in the system),
		  error code <span class="code">not_loaded</span> is returned. Option
                  <span class="code">reload</span> is intended for when the user
                  has already loaded the driver in advance.</p>
              </dd>
            </dl>
          </dd>
        </dl>
        <p>The function can return numerous errors, some
          can only be returned given a certain combination of options.</p>
        <p>Some errors are opaque and can only be interpreted by
          passing them to function
	  <span class="bold_code"><a href="#format_error-1"><span class="code">format_error/1</span></a></span>,
          but some can be interpreted directly:</p>
        <dl>
          <dt><strong><span class="code">{error,linked_in_driver}</span></strong></dt>
          <dd>
            <p>The driver with the specified name is an Erlang
              statically linked-in driver, which cannot be manipulated
              with this API.</p>
          </dd>
          <dt><strong><span class="code">{error,inconsistent}</span></strong></dt>
          <dd>
            <p>The driver is already loaded with other
              <span class="code">DriverOptionList</span> or a different
	    <strong>literal</strong> <span class="code">Path</span> argument.</p>
            <p>This can occur even if a <span class="code">reload</span> option is specified,
              if <span class="code">DriverOptionList</span> differs from the current.</p>
          </dd>
          <dt><strong><span class="code">{error, permanent}</span></strong></dt>
          <dd>
            <p>The driver has requested itself to be permanent, making
              it behave like an Erlang linked-in driver and can no
              longer be manipulated with this API.</p>
          </dd>
          <dt><strong><span class="code">{error, pending_process}</span></strong></dt>
          <dd>
            <p>The driver is loaded by other
	    <span class="bold_code"><a href="#users">users</a></span> when
	    option <span class="code">{reload, pending_driver}</span> was specified.</p>
          </dd>
          <dt><strong><span class="code">{error, pending_reload}</span></strong></dt>
          <dd>
            <p>Driver reload is already requested by another
	    <span class="bold_code"><a href="#users">user</a></span> when option
	    <span class="code">{reload, ReloadOption}</span> was specified.</p>
          </dd>
          <dt><strong><span class="code">{error, not_loaded_by_this_process}</span></strong></dt>
          <dd>
            <p>Appears when option <span class="code">reload</span> is specified. The
              driver <span class="code">Name</span> is present in the system, but there
	      is no <span class="bold_code"><a href="#users">user</a></span> of it in this
              process.</p>
          </dd>
          <dt><strong><span class="code">{error, not_loaded}</span></strong></dt>
          <dd>
            <p>Appears when option <span class="code">reload</span> is specified. The
              driver <span class="code">Name</span> is not in the system. Only drivers
              loaded by this process can be reloaded.</p>
          </dd>
        </dl>
        <p>All other error codes are to be translated by function
	<span class="bold_code"><a href="#format_error-1"><span class="code">format_error/1</span></a></span>.
	  Notice that calls to <span class="code">format_error</span> are to be
          performed from the same running instance of the Erlang
          virtual machine as the error is detected in, because of
	  system-dependent behavior concerning error values.</p>
        <p>If the arguments or options are malformed, the function
          throws a <span class="code">badarg</span> exception.</p>
      </p></div>
    <p><a name="try_unload-2"></a><span class="bold_code">try_unload(Name, OptionList) -&gt;<br>              {ok, Status} |<br>              {ok, PendingStatus, Ref} |<br>              {error, ErrorAtom}</span><br><div class="REFBODY">
<p>Types:</p>
<div class="REFTYPES"><span class="bold_code">Name = <span class="bold_code"><a href="#type-driver">driver()</a></span></span></div>
<div class="REFTYPES"><span class="bold_code">OptionList = [Option]</span></div>
<div class="REFTYPES"><span class="bold_code">Option = {monitor, MonitorOption} | kill_ports</span></div>
<div class="REFTYPES"><span class="bold_code">MonitorOption = pending_driver | pending</span></div>
<div class="REFTYPES"><span class="bold_code">Status = unloaded | PendingStatus</span></div>
<div class="REFTYPES"><span class="bold_code">PendingStatus = pending_driver | pending_process</span></div>
<div class="REFTYPES"><span class="bold_code">Ref = reference()</span></div>
<div class="REFTYPES"><span class="bold_code">ErrorAtom = <br>    linked_in_driver |<br>    not_loaded |<br>    not_loaded_by_this_process |<br>    permanent</span></div>
</div></p>
<div class="REFBODY"><p>
        <p>This is the low-level function to unload (or decrement
          reference counts of) a driver. It can be used to force port
          killing, in much the same way as the driver option
          <span class="code">kill_ports</span> implicitly does. Also, it can trigger a
          monitor either because other
	  <span class="bold_code"><a href="#users">users</a></span> still have the driver
          loaded or because open ports use the driver.</p>
        <p>Unloading can be described as the process of telling the
          emulator that this particular part of the code in this
          particular process (that is, this
	  <span class="bold_code"><a href="#users">user</a></span>) no longer needs
	  the driver. That can, if there are no other users, trigger
          unloading of the driver, in which case the driver name
          disappears from the system and (if possible) the memory
          occupied by the driver executable code is reclaimed.</p>
	  <p>If the driver has option <span class="code">kill_ports</span> set, or if
          <span class="code">kill_ports</span> is specified as an option to this
          function, all pending ports using this driver are
          killed when unloading is done by the last
	  <span class="bold_code"><a href="#users">user</a></span>. If no port-killing
	  is involved and there are open ports, the unloading
          is delayed until no more open ports use the
          driver. If, in this case, another
	  <span class="bold_code"><a href="#users">user</a></span> (or even this user)
	  loads the driver again before the driver is unloaded, the
          unloading never takes place.</p>
        <p>To allow the <span class="bold_code"><a href="#users">user</a></span> to
          <strong>request unloading</strong> to wait for <strong>actual unloading</strong>,
          <span class="code">monitor</span> triggers can be specified in much the same way as
	  when loading. However, as <span class="bold_code"><a href="#users">users</a></span>
	  of this function seldom are interested in more than decrementing the
          reference counts, monitoring is seldom needed.</p>
	<div class="note">
<div class="label">Note</div>
<div class="content"><p><p> If option <span class="code">kill_ports</span> is used, monitor trigging is crucial,
	  as the ports are not guaranteed to be killed until the driver is unloaded.
	  Thus, a monitor must be triggered for at least the <span class="code">pending_driver</span>
	  case.</p></p></div>
</div>
        <p>The possible monitor messages to expect are the
          same as when using option <span class="code">unloaded</span> to function
          <span class="bold_code"><a href="#monitor-2"><span class="code">monitor/2</span></a></span>.</p>
        <p>The function returns one of the following statuses upon
          success:</p>
        <dl>
          <dt><strong><span class="code">{ok, unloaded}</span></strong></dt>
          <dd>
            <p>The driver was immediately unloaded, meaning that the
              driver name is now free to use by other drivers and, if
              the underlying OS permits it, the memory occupied by the
              driver object code is now reclaimed.</p>
            <p>The driver can only be unloaded when there are no open
              ports using it and no more
	      <span class="bold_code"><a href="#users">users</a></span> require it to be
              loaded.</p>
          </dd>
          <dt><strong><span class="code">{ok, pending_driver}</span>or
	       <span class="code">{ok, pending_driver, reference()}</span></strong></dt>
          <dd>
            <p>Indicates that this call removed the last
	      <span class="bold_code"><a href="#users">user</a></span> from the
              driver, but there are still open ports using it.
              When all ports are closed and no new
	      <span class="bold_code"><a href="#users">users</a></span> have arrived,
	      the driver is reloaded and the name and memory
              reclaimed.</p>
            <p>This return value is valid even if option <span class="code">kill_ports</span>
	      was used, as killing ports can be a process that does not
	      complete immediately. However, the condition is in that case
	      transient. Monitors are always useful to detect when the driver
	      is really unloaded.</p>
          </dd>
          <dt><strong><span class="code">{ok, pending_process}</span>or
	       <span class="code">{ok, pending_process, reference()}</span></strong></dt>
          <dd>
            <p>The unload request is registered, but
              other <span class="bold_code"><a href="#users">users</a></span> still hold
              the driver. Notice that the term <span class="code">pending_process</span>
              can refer to the running process; there can be more
              than one <span class="bold_code"><a href="#users">user</a></span> in the
              same process.</p>
            <p>This is a normal, healthy, return value if the call was
              just placed to inform the emulator that you have no
              further use of the driver. It is the most
              common return value in the most common
	      <span class="bold_code"><a href="#scenarios"><span class="code">scenario</span></a></span>
              described in the introduction.</p>
          </dd>
        </dl>
        <p>The function accepts the following parameters:</p>
        <dl>
          <dt><strong><span class="code">Name</span></strong></dt>
          <dd>
            <p><span class="code">Name</span> is the name of the
	      driver to be unloaded. The name can be specified as an
              <span class="code">iolist()</span> or as an <span class="code">atom()</span>.</p>
          </dd>
          <dt><strong><span class="code">OptionList</span></strong></dt>
          <dd>
            <p>Argument <span class="code">OptionList</span> can be used to specify
              certain behavior regarding ports and triggering
              monitors under certain conditions:</p>
            <dl>
              <dt><strong><span class="code">kill_ports</span></strong></dt>
              <dd>
                <p>Forces killing of all ports opened using this driver,
                  with exit reason <span class="code">driver_unloaded</span>, if you are
                  the <strong>last</strong> <span class="bold_code"><a href="#users">user</a></span>
		  of the driver.</p>
                <p>If other <span class="bold_code"><a href="#users">users</a></span>
		  have the driver loaded, this option has no effect.</p>
                <p>To get the consistent behavior of killing ports
                  when the last <span class="bold_code"><a href="#users">user</a></span>
                  unloads, use driver option
                  <span class="code">kill_ports</span> when loading the driver instead.</p>
              </dd>
              <dt><strong><span class="code">{monitor, MonitorOption}</span></strong></dt>
              <dd>
                <p>Creates a driver monitor if the condition
                  specified in <span class="code">MonitorOption</span> is true. The valid
                  options are:</p>
                <dl>
                  <dt><strong><span class="code">pending_driver</span></strong></dt>
                  <dd>
                    <p>Creates a driver monitor if the return value is to
                      be <span class="code">{ok, pending_driver}</span>.</p>
                  </dd>
                  <dt><strong><span class="code">pending</span></strong></dt>
                  <dd>
                    <p>Creates a monitor if the return value is
                      <span class="code">{ok, pending_driver}</span> or <span class="code">{ok, pending_process}</span>.</p>
                  </dd>
                </dl>
                <p>The <span class="code">pending_driver</span> <span class="code">MonitorOption</span> is
		  by far the most useful. It must be used to ensure that the
                  driver really is unloaded and the ports closed
                  whenever option <span class="code">kill_ports</span> is used, or the
                  driver can have been loaded with driver option
		  <span class="code">kill_ports</span>.</p>
                <p>Using the monitor triggers in the call to
                  <span class="code">try_unload</span> ensures that the monitor is
                  added before the unloading is executed, meaning
                  that the monitor is always properly triggered,
                  which is not the case if <span class="code">monitor/2</span> is called
		  separately.</p>
              </dd>
            </dl>
          </dd>
        </dl>
        <p>The function can return the following error conditions,
          all well specified (no opaque values):</p>
        <dl>
          <dt><strong><span class="code">{error, linked_in_driver}</span></strong></dt>
          <dd>
            <p>You were trying to unload an Erlang statically linked-in
              driver, which cannot be manipulated with this interface
              (and cannot be unloaded at all).</p>
          </dd>
          <dt><strong><span class="code">{error, not_loaded}</span></strong></dt>
          <dd>
            <p>The driver <span class="code">Name</span> is not present in the system.</p>
          </dd>
          <dt><strong><span class="code">{error, not_loaded_by_this_process}</span></strong></dt>
          <dd>
            <p>The driver <span class="code">Name</span> is present in the system, but
              there is no <span class="bold_code"><a href="#users">user</a></span> of
              it in this process. </p>
            <p>As a special case, drivers can be unloaded from
              processes that have done no corresponding call to
              <span class="code">try_load/3</span> if, and only if, there are
	      <strong>no users of the driver at all</strong>, which can occur if the
              process containing the last user dies.</p>
          </dd>
          <dt><strong><span class="code">{error, permanent}</span></strong></dt>
          <dd>
            <p>The driver has made itself permanent, in which case it
              can no longer be manipulated by this interface (much
              like a statically linked-in driver).</p>
          </dd>
        </dl>
        <p>The function throws a <span class="code">badarg</span> exception if the
          parameters are not specified as described here.</p>
      </p></div>
    <p><a name="unload-1"></a><span class="bold_code">unload(Name) -&gt; ok | {error, ErrorDesc}</span><br><div class="REFBODY">
<p>Types:</p>
<div class="REFTYPES"><span class="bold_code">Name = <span class="bold_code"><a href="#type-driver">driver()</a></span></span></div>
<div class="REFTYPES"><span class="bold_code">ErrorDesc = term()</span></div>
</div></p>
<div class="REFBODY"><p>
        <p>Unloads, or at least dereferences the driver named
          <span class="code">Name</span>. If the caller is the last
	  <span class="bold_code"><a href="#users">user</a></span> of the driver,
	  and no more open ports use the driver, the driver
          gets unloaded. Otherwise, unloading
          is delayed until all ports are closed and no
          <span class="bold_code"><a href="#users">users</a></span> remain.</p>
        <p>If there are other <span class="bold_code"><a href="#users">users</a></span>
	  of the driver, the reference counts of the driver is merely decreased,
	  so that the caller is no longer considered a
	  <span class="bold_code"><a href="#users">user</a></span> of the driver. For use
          scenarios, see the <span class="bold_code"><a href="#scenarios"><span class="code">description</span></a></span>
	  in the beginning of this module.</p>
        <p>The <span class="code">ErrorDesc</span> returned is an opaque value to be
          passed further on to function
	  <span class="bold_code"><a href="#format_error-1"><span class="code">format_error/1</span></a></span>.
          For more control over the operation, use the
          <span class="bold_code"><a href="#try_unload-2"><span class="code">try_unload/2</span></a></span>
          interface.</p>
        <p>The function throws a <span class="code">badarg</span> exception if the
          parameters are not specified as described here.</p>
      </p></div>
    <p><a name="unload_driver-1"></a><span class="bold_code">unload_driver(Name) -&gt; ok | {error, ErrorDesc}</span><br><div class="REFBODY">
<p>Types:</p>
<div class="REFTYPES"><span class="bold_code">Name = <span class="bold_code"><a href="#type-driver">driver()</a></span></span></div>
<div class="REFTYPES"><span class="bold_code">ErrorDesc = term()</span></div>
</div></p>
<div class="REFBODY"><p>
        <p>Unloads, or at least dereferences the driver named
          <span class="code">Name</span>. If the caller is the last
	  <span class="bold_code"><a href="#users">user</a></span> of the driver, all
          remaining open ports using the driver are killed with
          reason <span class="code">driver_unloaded</span> and the driver
          eventually gets unloaded.</p>
        <p>If there are other <span class="bold_code"><a href="#users">users</a></span>
          of the driver, the reference counts of the driver is merely
          decreased, so that the caller is no longer considered a
          <span class="bold_code"><a href="#users">user</a></span>. For
          use scenarios, see the
	  <span class="bold_code"><a href="#scenarios"><span class="code">description</span></a></span> in the
	  beginning of this module.</p>
        <p>The <span class="code">ErrorDesc</span> returned is an opaque value to be
          passed further on to function
	  <span class="bold_code"><a href="#format_error-1"><span class="code">format_error/1</span></a></span>.
          For more control over the operation, use the
          <span class="bold_code"><a href="#try_unload-2"><span class="code">try_unload/2</span></a></span>
          interface.</p>
        <p>The function throws a <span class="code">badarg</span> exception if the
          parameters are not specified as described here.</p>
      </p></div>
  
  <h3><a name="id118340">See Also</a></h3>
<div class="REFBODY">
    
    <p><span class="bold_code"><a href="erl_driver.html"><span class="code">erts:erl_driver(4)</span></a></span>,
       <span class="bold_code"><a href="driver_entry.html"><span class="code">erts:driver_entry(4)</span></a></span></p>
  </div>
</div>
<div class="footer">
<hr>
<p>Copyright © 1997-2017 Ericsson AB. All Rights Reserved.</p>
</div>
</div>
</div></body>
</html>
