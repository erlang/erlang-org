<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:erl="http://erlang.org" xmlns:fn="http://www.w3.org/2005/02/xpath-functions">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="../otp_doc.css" type="text/css">
<title>Erlang -- release_handler</title>
</head>
<body bgcolor="white" text="#000000" link="#0000ff" vlink="#ff00ff" alink="#ff0000"><div id="container">
<script id="js" type="text/javascript" language="JavaScript" src="../js/flipmenu/flipmenu.js"></script><script id="js2" type="text/javascript" src="../js/erlresolvelinks.js"></script><script language="JavaScript" type="text/javascript">
            <!--
              function getWinHeight() {
                var myHeight = 0;
                if( typeof( window.innerHeight ) == 'number' ) {
                  //Non-IE
                  myHeight = window.innerHeight;
                } else if( document.documentElement && ( document.documentElement.clientWidth ||
                                                         document.documentElement.clientHeight ) ) {
                  //IE 6+ in 'standards compliant mode'
                  myHeight = document.documentElement.clientHeight;
                } else if( document.body && ( document.body.clientWidth || document.body.clientHeight ) ) {
                  //IE 4 compatible
                  myHeight = document.body.clientHeight;
                }
                return myHeight;
              }

              function setscrollpos() {
                var objf=document.getElementById('loadscrollpos');
                 document.getElementById("leftnav").scrollTop = objf.offsetTop - getWinHeight()/2;
              }

              function addEvent(obj, evType, fn){
                if (obj.addEventListener){
                obj.addEventListener(evType, fn, true);
                return true;
              } else if (obj.attachEvent){
                var r = obj.attachEvent("on"+evType, fn);
                return r;
              } else {
                return false;
              }
             }

             addEvent(window, 'load', setscrollpos);

             //--></script><div id="leftnav"><div class="innertube">
<img alt="Erlang logo" src="../erlang-logo.png"><br><small><a href="../apps/sasl/users_guide.html">User's Guide</a><br><a href="../apps/sasl/index.html">Reference Manual</a><br><a href="../apps/sasl/release_notes.html">Release Notes</a><br><a href="../apps/sasl/sasl.pdf">PDF</a><br><a href="../index.html">Top</a></small><p><strong>System Architecture Support Libraries (SASL)</strong><br><strong>Reference Manual</strong><br><small>Version 3.0.3</small></p>
<br><a href="javascript:openAllFlips()">Expand All</a><br><a href="javascript:closeAllFlips()">Contract All</a><p><small><strong>Table of Contents</strong></small></p>
<ul class="flipMenu">
<li title="sasl (App)"><a href="sasl_app.html">sasl (App)
                </a></li>
<li id="no" title="alarm_handler " expanded="false">alarm_handler<ul>
<li><a href="alarm_handler.html">
                  Top of manual page
                </a></li>
    <li title="clear_alarm-1"><a href="alarm_handler.html#clear_alarm-1">clear_alarm/1</a></li>
    <li title="get_alarms-0"><a href="alarm_handler.html#get_alarms-0">get_alarms/0</a></li>
    <li title="set_alarm-1"><a href="alarm_handler.html#set_alarm-1">set_alarm/1</a></li>
    </ul>
</li>
<li id="no" title="rb " expanded="false">rb<ul>
<li><a href="rb.html">
                  Top of manual page
                </a></li>
    <li title="filter-1"><a href="rb.html#filter-1">filter/1</a></li>
    <li title="filter-2"><a href="rb.html#filter-2">filter/2</a></li>
    <li title="grep-1"><a href="rb.html#grep-1">grep/1</a></li>
    <li title="h-0"><a href="rb.html#h-0">h/0</a></li>
    <li title="help-0"><a href="rb.html#help-0">help/0</a></li>
    <li title="list-0"><a href="rb.html#list-0">list/0</a></li>
    <li title="list-1"><a href="rb.html#list-1">list/1</a></li>
    <li title="log_list-0"><a href="rb.html#log_list-0">log_list/0</a></li>
    <li title="log_list-1"><a href="rb.html#log_list-1">log_list/1</a></li>
    <li title="rescan-0"><a href="rb.html#rescan-0">rescan/0</a></li>
    <li title="rescan-1"><a href="rb.html#rescan-1">rescan/1</a></li>
    <li title="show-0"><a href="rb.html#show-0">show/0</a></li>
    <li title="show-1"><a href="rb.html#show-1">show/1</a></li>
    <li title="start-0"><a href="rb.html#start-0">start/0</a></li>
    <li title="start-1"><a href="rb.html#start-1">start/1</a></li>
    <li title="start_log-1"><a href="rb.html#start_log-1">start_log/1</a></li>
    <li title="stop-0"><a href="rb.html#stop-0">stop/0</a></li>
    <li title="stop_log-0"><a href="rb.html#stop_log-0">stop_log/0</a></li>
    </ul>
</li>
<li id="loadscrollpos" title="release_handler " expanded="true">release_handler<ul>
<li><a href="release_handler.html">
                  Top of manual page
                </a></li>
    <li title="check_install_release-1"><a href="release_handler.html#check_install_release-1">check_install_release/1</a></li>
    <li title="check_install_release-2"><a href="release_handler.html#check_install_release-2">check_install_release/2</a></li>
    <li title="create_RELEASES-4"><a href="release_handler.html#create_RELEASES-4">create_RELEASES/4</a></li>
    <li title="downgrade_app-2"><a href="release_handler.html#downgrade_app-2">downgrade_app/2</a></li>
    <li title="downgrade_app-3"><a href="release_handler.html#downgrade_app-3">downgrade_app/3</a></li>
    <li title="downgrade_script-3"><a href="release_handler.html#downgrade_script-3">downgrade_script/3</a></li>
    <li title="eval_appup_script-4"><a href="release_handler.html#eval_appup_script-4">eval_appup_script/4</a></li>
    <li title="install_file-2"><a href="release_handler.html#install_file-2">install_file/2</a></li>
    <li title="install_release-1"><a href="release_handler.html#install_release-1">install_release/1</a></li>
    <li title="install_release-2"><a href="release_handler.html#install_release-2">install_release/2</a></li>
    <li title="make_permanent-1"><a href="release_handler.html#make_permanent-1">make_permanent/1</a></li>
    <li title="reboot_old_release-1"><a href="release_handler.html#reboot_old_release-1">reboot_old_release/1</a></li>
    <li title="remove_release-1"><a href="release_handler.html#remove_release-1">remove_release/1</a></li>
    <li title="set_removed-1"><a href="release_handler.html#set_removed-1">set_removed/1</a></li>
    <li title="set_unpacked-2"><a href="release_handler.html#set_unpacked-2">set_unpacked/2</a></li>
    <li title="unpack_release-1"><a href="release_handler.html#unpack_release-1">unpack_release/1</a></li>
    <li title="upgrade_app-2"><a href="release_handler.html#upgrade_app-2">upgrade_app/2</a></li>
    <li title="upgrade_script-2"><a href="release_handler.html#upgrade_script-2">upgrade_script/2</a></li>
    <li title="which_releases-0"><a href="release_handler.html#which_releases-0">which_releases/0</a></li>
    <li title="which_releases-1"><a href="release_handler.html#which_releases-1">which_releases/1</a></li>
    </ul>
</li>
<li id="no" title="systools " expanded="false">systools<ul>
<li><a href="systools.html">
                  Top of manual page
                </a></li>
    <li title="make_relup-3"><a href="systools.html#make_relup-3">make_relup/3</a></li>
    <li title="make_relup-4"><a href="systools.html#make_relup-4">make_relup/4</a></li>
    <li title="make_script-1"><a href="systools.html#make_script-1">make_script/1</a></li>
    <li title="make_script-2"><a href="systools.html#make_script-2">make_script/2</a></li>
    <li title="make_tar-1"><a href="systools.html#make_tar-1">make_tar/1</a></li>
    <li title="make_tar-2"><a href="systools.html#make_tar-2">make_tar/2</a></li>
    <li title="script2boot-1"><a href="systools.html#script2boot-1">script2boot/1</a></li>
    </ul>
</li>
<li title="appup"><a href="appup.html">appup</a></li>
<li title="rel"><a href="rel.html">rel</a></li>
<li title="relup"><a href="relup.html">relup</a></li>
<li title="script"><a href="script.html">script</a></li>
</ul>
</div></div>
<div id="content">
<div class="innertube">
<!-- refpage --><center><h1>release_handler</h1></center>
  
  <h3>MODULE</h3>
<div class="REFBODY">release_handler</div>
  <h3>MODULE SUMMARY</h3>
<div class="REFBODY">Unpacking and Installation of Release Packages</div>
  <h3>DESCRIPTION</h3>
<div class="REFBODY"><p>
    <p>The <strong>release handler</strong> process belongs to the SASL
      application, which is responsible for <strong>release handling</strong>,
      that is, unpacking, installation, and removal of release packages.</p>
    <p>An introduction to release handling and an example is provided in
      <span class="bold_code"><a href="../design_principles/release_handling.html">OTP Design Principles</a></span> in <strong>System Documentation</strong>.</p>
    <p>A <strong>release package</strong> is a compressed tar file containing
      code for a certain version of a release, created by calling
      <span class="bold_code"><a href="systools.html#make_tar-1"><span class="code">systools:make_tar/1,2</span></a></span>.
      The release package is to be located in the <span class="code">$ROOT/releases</span>
      directory of the previous version of the release, where
      <span class="code">$ROOT</span> is the installation root directory,
      <span class="bold_code"><a href="code.html#root_dir-0"><span class="code">code:root_dir()</span></a></span>.
      Another <span class="code">releases</span> directory can be specified using the SASL
      configuration parameter <span class="code">releases_dir</span> or the OS environment
      variable <span class="code">RELDIR</span>. The release handler must have write access
      to this directory to install the new release.
      The persistent state of the release handler is stored there in a
      file called <span class="code">RELEASES</span>.</p>
    <p>A release package is always to contain:</p>
    <ul>
      <li>A release resource file, <span class="code">Name.rel</span>
</li>
      <li>A boot script, <span class="code">Name.boot</span>
</li>
    </ul>
    <p>The <span class="code">.rel</span> file contains information about the release: its name,
      version, and which ERTS and application versions it uses.</p>
    <p>A release package can also contain:</p>
    <ul>
      <li>A release upgrade file, <span class="code">relup</span>
</li>
      <li>A system configuration file, <span class="code">sys.config</span>
</li>
    </ul>
    <p>The <span class="code">relup</span> file contains instructions for how to upgrade
      to, or downgrade from, this version of the release.</p>
    <p>The release package can be <strong>unpacked</strong>, which extracts
      the files. An unpacked release can be <strong>installed</strong>.
      The currently used version of the release is then upgraded or
      downgraded to the specified version by evaluating the instructions
      in the <span class="code">relup</span> file. An installed release can be made
      <strong>permanent</strong>. Only one permanent release can exist in
      the system, and this release is used if the system
      is restarted. An installed release, except the permanent one,
      can be <strong>removed</strong>. When a release is removed, all files
      belonging to that release only are deleted.</p>
    <p>Each release version has a status, which can be
      <span class="code">unpacked</span>, <span class="code">current</span>, <span class="code">permanent</span>, or <span class="code">old</span>.
      There is always one latest release, which either has status
      <span class="code">permanent</span> (normal case) or <span class="code">current</span> (installed, but
      not yet made permanent). The meaning of the status values are
      illustrated in the following table:</p>
    <div class="example"><pre>
        Status     Action                NextStatus
        -------------------------------------------
        -          unpack                unpacked
        unpacked   install               current
                   remove                -
        current    make_permanent        permanent
                   install other         old
                   remove                -
        permanent  make other permanent  old
                   install               permanent
        old        reboot_old            permanent
                   install               current
                   remove                -</pre></div>
    <p>The release handler process is a locally registered process on
      each node. When a release is installed in a distributed system,
      the release handler on each node must be called. The release
      installation can be synchronized between nodes. From an operator
      view, it can be unsatisfactory to specify each node. The aim is
      to install one release package in the system, no matter how many
      nodes there are. It is recommended that
      software management functions are written that take care of
      this problem. Such a function can have knowledge of the system
      architecture, so it can contact each individual release handler
      to install the package.</p>
    <p>For release handling to work properly, the runtime system must
      know which release it is running. It
      must also be able to change (in runtime) which boot script and
      system configuration file are to be used if the system is
      restarted. This is taken care of automatically if Erlang is
      started as an embedded system. Read about this in
      <span class="bold_code"><a href="../embedded/users_guide.html">Embedded System</a></span> in
      <strong>System Documentation</strong>. In this case, the system
      configuration file <span class="code">sys.config</span> is mandatory.</p>
    <p>The installation of a new release can restart the system. Which
      program to use is specified by the SASL configuration
      parameter <span class="code">start_prg</span>, which defaults
      to <span class="code">$ROOT/bin/start</span>.</p>
    <p>The emulator restart on Windows NT expects that the system is
      started using the <span class="code">erlsrv</span> program (as a service).
      Furthermore, the release handler expects that the service is named
      <span class="code">NodeName</span>_<span class="code">Release</span>, where <span class="code">NodeName</span> is
      the first part of the Erlang node name (up to, but not including
      the "@") and <span class="code">Release</span> is the current release version.
      The release handler furthermore expects that a
      program like <span class="code">start_erl.exe</span> is specified as "machine" to
      <span class="code">erlsrv</span>. During upgrading with restart, a new service
      is registered and started. The new service is set to
      automatic and the old service is removed when the new release
      is made permanent.</p>
    <p>The release handler at a node running on a diskless machine,
      or with a read-only file system, must be configured accordingly
      using the following SASL configuration parameters (for
      details, see <span class="bold_code"><a href="sasl_app.html">sasl(6)</a></span>):</p>
    <dl>
      <dt><strong><span class="code">masters</span></strong></dt>
      <dd>
        <p>This node uses some master nodes to store
          and fetch release information. All master nodes must be
          operational whenever release information is written by this
          node.</p>
      </dd>
      <dt><strong><span class="code">client_directory</span></strong></dt>
      <dd>
        <p>The <span class="code">client_directory</span> in the directory structure of
          the master nodes must be specified.</p>
      </dd>
      <dt><strong><span class="code">static_emulator</span></strong></dt>
      <dd>
        <p>This parameter specifies if the Erlang emulator is
          statically installed at the client node. A node with a static
          emulator cannot dynamically switch to a new emulator, as
          the executable files are statically written into memory.</p>
      </dd>
    </dl>
    <p>The release handler can also be used to unpack and
      install release packages when not running Erlang as an embedded
      system. However, in this case the user must somehow ensure that
      correct boot scripts and configuration files are used if
      the system must be restarted.</p>
    <p>Functions are provided for using another file structure
      than the structure defined in OTP. These functions can be used
      to test a release upgrade locally.</p>
  </p></div>

  <h3>EXPORTS</h3>
    <p><a name="check_install_release-1"></a><span class="bold_code">check_install_release(Vsn) -&gt; {ok, OtherVsn, Descr} | {error, Reason}</span><br><a name="check_install_release-2"></a><span class="bold_code">check_install_release(Vsn,Opts) -&gt; {ok, OtherVsn, Descr} | {error, Reason}</span><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">Vsn = OtherVsn = string()</span><br>
</div>
	<div class="REFTYPES">
<span class="bold_code">Opts = [Opt]</span><br>
</div>
	<div class="REFTYPES">
<span class="bold_code">Opt = purge</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Descr = term()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Reason = term()</span><br>
</div>
      </div>
<div class="REFBODY"><p>
        <p>Checks if the specified version <span class="code">Vsn</span> of the release
          can be installed. The release must not have status
          <span class="code">current</span>. Issues warnings if <span class="code">relup</span> file or
          <span class="code">sys.config</span> is not present. If <span class="code">relup</span> file is present,
          its contents are checked and <span class="code">{error,Reason}</span> is
          returned if an error is found. Also checks that all required
          applications are present and that all new code can be loaded;
          <span class="code">{error,Reason}</span> is returned if an error is found.</p>
        <p>Evaluates all instructions that occur before
          the <span class="code">point_of_no_return</span> instruction in the release
          upgrade script.</p>
        <p>Returns the same as 
	<span class="bold_code"><a href="#install_release-1"><span class="code">install_release/1</span></a></span>.
	<span class="code">Descr</span> defaults to "" if no <span class="code">relup</span> file is found.</p>
        <p>If option <span class="code">purge</span> is specified, all old code that can
          be soft-purged is purged after all other checks are
          successfully completed. This can be useful to
          reduce the time needed by <span class="bold_code"><a href="#install_release-1"><span class="code">install_release/1</span></a></span>.</p>
      </p></div>

    <p><a name="create_RELEASES-4"></a><span class="bold_code">create_RELEASES(Root, RelDir, RelFile, AppDirs) -&gt; ok | {error, Reason}</span><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">Root = RelDir = RelFile = string()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">AppDirs = [{App, Vsn, Dir}]</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code"> App = atom()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code"> Vsn = Dir = string()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Reason = term()</span><br>
</div>
      </div>
<div class="REFBODY"><p>
        <p>Creates an initial <span class="code">RELEASES</span> file to be used by the
          release handler. This file must exist to install new
          releases.</p>
        <p><span class="code">Root</span> is the root of the installation (<span class="code">$ROOT</span>) as
          described earlier. <span class="code">RelDir</span> is the directory where
          the <span class="code">RELEASES</span> file is to be created (normally
          <span class="code">$ROOT/releases</span>). <span class="code">RelFile</span> is the name
          of the <span class="code">.rel</span> file that describes the initial release,
          including the extension <span class="code">.rel</span>.</p>
        <p><span class="code">AppDirs</span> can be used to specify from where the modules
          for the specified applications are to be loaded. <span class="code">App</span> is
          the name of an application, <span class="code">Vsn</span> is the version, and
          <span class="code">Dir</span> is the name of the directory where <span class="code">App-Vsn</span>
          is located. The corresponding modules are to be located under
          <span class="code">Dir/App-Vsn/ebin</span>. The directories for applications not
          specified in <span class="code">AppDirs</span> are assumed to be located in
          <span class="code">$ROOT/lib</span>.</p>
      </p></div>

    <p><a name="install_file-2"></a><span class="bold_code">install_file(Vsn, File) -&gt; ok | {error, Reason}</span><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">Vsn = File = string()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Reason = term()</span><br>
</div>
      </div>
<div class="REFBODY"><p>
        <p>Installs a release-dependent file in the release structure.
          The release-dependent file must be in
          the release structure when a new release is installed:
          <span class="code">start.boot</span>, <span class="code">relup</span>, and <span class="code">sys.config</span>.</p>
        <p>The function can be called, for example, when these files
          are generated at the target. The function is to be called after
          <span class="bold_code"><a href="#set_unpacked-2"><span class="code">set_unpacked/2</span></a></span> 
	has been called.</p>
      </p></div>

    <p><a name="install_release-1"></a><span class="bold_code">install_release(Vsn) -&gt; {ok, OtherVsn, Descr} | {error, Reason}</span><br><a name="install_release-2"></a><span class="bold_code">install_release(Vsn, [Opt]) -&gt; {ok, OtherVsn, Descr} | {continue_after_restart, OtherVsn, Descr} | {error, Reason}</span><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">Vsn = OtherVsn = string()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Opt = {error_action, Action} | {code_change_timeout, Timeout}</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">   | {suspend_timeout, Timeout} | {update_paths, Bool}</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code"> Action = restart | reboot</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code"> Timeout = default | infinity | pos_integer()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code"> Bool = boolean()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Descr = term()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Reason = {illegal_option, Opt} | {already_installed, Vsn} | {change_appl_data, term()} | {missing_base_app, OtherVsn, App} | {could_not_create_hybrid_boot, term()} | term()</span><br>
</div>
	<div class="REFTYPES">
<span class="bold_code">App = atom()</span><br>
</div>
      </div>
<div class="REFBODY"><p>
        <p>Installs the specified version <span class="code">Vsn</span> of the release.
          Looks first for a <span class="code">relup</span> file for <span class="code">Vsn</span> and a
          script <span class="code">{UpFromVsn,Descr1,Instructions1}</span> in this file
          for upgrading from the current version. If not found,
          the function looks for a <span class="code">relup</span> file for the current
          version and a script <span class="code">{Vsn,Descr2,Instructions2}</span> in this
          file for downgrading to <span class="code">Vsn</span>.</p>
        <p>If a script is found, the first thing that happens is that
          the application specifications are updated according to
          the <span class="code">.app</span> files and <span class="code">sys.config</span> belonging to
          the release version <span class="code">Vsn</span>.</p>
        <p>After the application specifications have been updated,
          the instructions in the script are evaluated and the function
          returns <span class="code">{ok,OtherVsn,Descr}</span> if successful.
          <span class="code">OtherVsn</span> and <span class="code">Descr</span> are the version
          (<span class="code">UpFromVsn</span> or <span class="code">Vsn</span>) and description
          (<span class="code">Descr1</span> or <span class="code">Descr2</span>) as specified in the script.</p>
	<p>If <span class="code">{continue_after_restart,OtherVsn,Descr}</span> is
	  returned, the emulator is restarted
	  before the upgrade instructions are executed. This
	  occurs if the emulator or any of the applications
          Kernel, STDLIB, or SASL
	  are updated. The new emulator version
	  and these core applications execute after the restart.
	  For all other applications the old versions are
	  started and the upgrade is performed as normal by
	  executing the upgrade instructions.</p>
        <p>If a recoverable error occurs, the function returns
          <span class="code">{error,Reason}</span> and the original application
          specifications are restored. If a non-recoverable error
          occurs, the system is restarted.</p>
        <p><strong>Options</strong>:</p>
        <dl>
          <dt><strong><span class="code">error_action</span></strong></dt>
            <dd><p>Defines if the node is to be
            restarted 
	    (<span class="bold_code"><a href="init.html#restart-0"><span class="code">init:restart()</span></a></span>) 
	    or rebooted
            (<span class="bold_code"><a href="init.html#reboot-0"><span class="code">init:reboot()</span></a></span>) 
	    if there is an error during
            the installation. Default is <span class="code">restart</span>.</p></dd>
          <dt><strong><span class="code">code_change_timeout</span></strong></dt>
            <dd><p>Defines the time-out
            for all calls to 
	    <span class="bold_code"><a href="sys.html#change_code-4"><span class="code">sys:change_code</span></a></span>.
	    If no value is specified or <span class="code">default</span> is specified, the 
	    default value defined in <span class="code">sys</span> is used.</p></dd>
          <dt><strong><span class="code">suspend_timeout</span></strong></dt>
            <dd><p>Defines the time-out for 
            all calls to 
	    <span class="bold_code"><a href="sys.html#suspend-1"><span class="code">sys:suspend</span></a></span>.
	    If no value is specified, the values defined by the <span class="code">Timeout</span> 
	    parameter of the <span class="code">upgrade</span> or <span class="code">suspend</span> instructions are used.
            If <span class="code">default</span> is specified, the default value defined in
            <span class="code">sys</span> is used.</p></dd>
          <dt><strong><span class="code">{update_paths,Bool}</span></strong></dt>
            <dd>
<p>Indicates if all
            application code paths are to be updated (<span class="code">Bool==true</span>)
            or if only code paths for modified applications are to be
            updated (<span class="code">Bool==false</span>, default). This option has only
            effect for other application directories than the default
            <span class="code">$ROOT/lib/App-Vsn</span>, that is, application directories
            specified in argument <span class="code">AppDirs</span> in a call to
            <span class="bold_code"><a href="#create_RELEASES-4"><span class="code">create_RELEASES/4</span></a></span> or 
	    <span class="bold_code"><a href="#set_unpacked-2"><span class="code">set_unpacked/2</span></a></span>.</p>
            <p><strong>Example:</strong></p>
            <p>In the current version <span class="code">CurVsn</span> of a release, the
              application directory of <span class="code">myapp</span> is
              <span class="code">$ROOT/lib/myapp-1.0</span>. A new version <span class="code">NewVsn</span> is
              unpacked outside the release handler and the release
              handler is informed about this with a call as follows:</p>
            <div class="example"><pre>
release_handler:set_unpacked(RelFile, [{myapp,"1.0","/home/user"},...]).
=&gt; {ok,NewVsn}</pre></div>
            <p>If <span class="code">NewVsn</span> is installed with option
              <span class="code">{update_paths,true}</span>, then
              <span class="bold_code"><a href="code.html#lib_dir-1"><span class="code">code:lib_dir(myapp)</span></a></span>
	      returns <span class="code">/home/user/myapp-1.0</span>.</p>
</dd>
        </dl>
	<div class="note">
<div class="label">Note</div>
<div class="content"><p>
	  <p>Installing a new release can be time consuming if
	  there are many processes in the system. The reason is that
	  each process must be checked for references to old code
	  before a module can be purged. This check can lead to
	  garbage collections and copying of data.</p>
	  <p>To speed up the execution of
	  <span class="bold_code"><a href="#install_release-1"><span class="code">install_release</span></a></span>, 
	  first call <span class="bold_code"><a href="#check_install_release-1"><span class="code">check_install_release</span></a></span>,
	  using option <span class="code">purge</span>. This does the same
	  check for old code. Then purges all modules that can be
	  soft-purged. The purged modules do then no longer have any
	  old code, and 
	  <span class="bold_code"><a href="#install_release-1"><span class="code">install_release</span></a></span>
	  does not need to do the
	  checks.</p>
	  <p>This does not reduce the overall time for the
	  upgrade, but it allows checks and purge to be executed
	  in the background before the real upgrade is started.</p>
	</p></div>
</div>
	<div class="note">
<div class="label">Note</div>
<div class="content"><p>
	  <p>When upgrading the emulator from a version older than OTP
	  R15, an attempt is made to load new application beam
	  code into the old emulator. Sometimes the new beam
	  format cannot be read by the old emulator, so the code
	  loading fails and the complete upgrade is terminated. To
	  overcome this problem, the new application code is to be
	  compiled with the old emulator. For more information about
          emulator upgrade from pre OTP R15 versions, see
          <span class="bold_code"><a href="../design_principles/appup_cookbook.html">Design Principles</a></span> in <strong>System Documentation</strong>.</p>
	</p></div>
</div>
      </p></div>

    <p><a name="make_permanent-1"></a><span class="bold_code">make_permanent(Vsn) -&gt; ok | {error, Reason}</span><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">Vsn = string()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Reason = {bad_status, Status} | term()</span><br>
</div>
      </div>
<div class="REFBODY"><p>
        <p>Makes the specified release version <span class="code">Vsn</span>
          permanent.</p>
      </p></div>

    <p><a name="remove_release-1"></a><span class="bold_code">remove_release(Vsn) -&gt; ok | {error, Reason}</span><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">Vsn = string()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Reason = {permanent, Vsn} | client_node | term()</span><br>
</div>
      </div>
<div class="REFBODY"><p>
        <p>Removes a release and its files from the system.
          The release must not be the permanent release. Removes only
          the files and directories not in use by another release.</p>
      </p></div>
    <p><a name="reboot_old_release-1"></a><span class="bold_code">reboot_old_release(Vsn) -&gt; ok | {error, Reason}</span><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">Vsn = string()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Reason = {bad_status, Status} | term()</span><br>
</div>
      </div>
<div class="REFBODY"><p>
        <p>Reboots the system by making the old release permanent, and
          calls 
	  <span class="bold_code"><a href="init.html#reboot-0"><span class="code">init:reboot()</span></a></span> 
	  directly. The release must have status <span class="code">old</span>.</p>
      </p></div>

    <p><a name="set_removed-1"></a><span class="bold_code">set_removed(Vsn) -&gt; ok | {error, Reason}</span><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">Vsn = string()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Reason = {permanent, Vsn} | term()</span><br>
</div>
      </div>
<div class="REFBODY"><p>
        <p>Makes it possible to handle removal of releases outside
          the release handler. Tells the release handler that
          the release is removed from the system. This function does
          not delete any files.</p>
      </p></div>

    <p><a name="set_unpacked-2"></a><span class="bold_code">set_unpacked(RelFile, AppDirs) -&gt; {ok, Vsn} | {error, Reason}</span><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">RelFile = string()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">AppDirs = [{App, Vsn, Dir}]</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code"> App = atom()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code"> Vsn = Dir = string()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Reason = term()</span><br>
</div>
      </div>
<div class="REFBODY"><p>
        <p>Makes it possible to handle unpacking of releases outside
          the release handler. Tells the release handler that
          the release is unpacked. <span class="code">Vsn</span> is extracted from
          the release resource file <span class="code">RelFile</span>.</p>
        <p><span class="code">AppDirs</span> can be used to specify from where the modules
          for the specified applications are to be loaded. <span class="code">App</span> is
          the name of an application, <span class="code">Vsn</span> is the version, and
          <span class="code">Dir</span> is the name of the directory where <span class="code">App-Vsn</span>
          is located. The corresponding modules are to be located under
          <span class="code">Dir/App-Vsn/ebin</span>. The directories for applications not
          specified in <span class="code">AppDirs</span> are assumed to be located in
          <span class="code">$ROOT/lib</span>.</p>
      </p></div>

    <p><a name="unpack_release-1"></a><span class="bold_code">unpack_release(Name) -&gt; {ok, Vsn} | {error, Reason}</span><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">Name = Vsn = string()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Reason = client_node | term()</span><br>
</div>
      </div>
<div class="REFBODY"><p>
        <p>Unpacks a release package <span class="code">Name.tar.gz</span> located in
          the <span class="code">releases</span> directory.</p>
        <p>Performs some checks on the package, for example, checks
          that all mandatory files are present, and extracts its
          contents.</p>
      </p></div>

    <p><a name="which_releases-0"></a><span class="bold_code">which_releases() -&gt; [{Name, Vsn, Apps, Status}]</span><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">Name = Vsn = string()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Apps = ["App-Vsn"]</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Status = unpacked | current | permanent | old</span><br>
</div>
      </div>
<div class="REFBODY"><p>
        <p>Returns all releases known to the release handler.</p>
      </p></div>

    <p><a name="which_releases-1"></a><span class="bold_code">which_releases(Status) -&gt; [{Name, Vsn, Apps, Status}]</span><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">Name = Vsn = string()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Apps = ["App-Vsn"]</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Status = unpacked | current | permanent | old</span><br>
</div>
      </div>
<div class="REFBODY"><p>
        <p>Returns all releases, known to the release handler, of a
          specific status.</p>
      </p></div>
  

  <h3><a name="id72174">Application Upgrade/Downgrade</a></h3>
<div class="REFBODY">
    
    <p>The following functions can be used to test upgrade and downgrade
      of single applications (instead of upgrading/downgrading an entire
      release). A script corresponding to the instructions in the
      <span class="code">relup</span> file is created
      on-the-fly, based on the <span class="code">.appup</span> file for the application,
      and evaluated exactly in the same way as <span class="code">release_handler</span>
      does.</p>
    <div class="warning">
<div class="label">Warning</div>
<div class="content"><p>
      <p>These functions are primarily intended for simplified testing
        of <span class="code">.appup</span> files. They are not run within the context of
        the <span class="code">release_handler</span> process. They must therefore
        <strong>not</strong> be used together with calls to
        <span class="bold_code"><a href="#install_release-1"><span class="code">install_release/1,2</span></a></span>, 
	as this causes the
        <span class="code">release_handler</span> to end up in an inconsistent state.</p>
      <p>No persistent information is updated, so these functions can
        be used on any Erlang node, embedded or not. Also, using these
        functions does not affect which code is loaded if there is
        a reboot.</p>
      <p>If the upgrade or downgrade fails, the application can end up
        in an inconsistent state.</p>
    </p></div>
</div>
  </div>

  <h3>EXPORTS</h3>
    <p><a name="upgrade_app-2"></a><span class="bold_code">upgrade_app(App, Dir) -&gt; {ok, Unpurged} | restart_emulator | {error, Reason}</span><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">App = atom()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Dir = string()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Unpurged = [Module]</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code"> Module = atom()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Reason = term()</span><br>
</div>
      </div>
<div class="REFBODY"><p>
        <p>Upgrades an application <span class="code">App</span> from the current
          version to a new version located in <span class="code">Dir</span> according to
          the <span class="code">.appup</span> file.</p>
        <p><span class="code">App</span> is the name of the application, which must be
          started. <span class="code">Dir</span> is the new library directory of
          <span class="code">App</span>. The corresponding modules as well as
          the <span class="code">.app</span> and <span class="code">.appup</span> files are to be located
          under <span class="code">Dir/ebin</span>.</p>
        <p>The function looks in the <span class="code">.appup</span> file and tries to
          find an upgrade script from the current version of
          the application using
          <span class="bold_code"><a href="#upgrade_script-2"><span class="code">upgrade_script/2</span></a></span>.
          This script is evaluated using
          <span class="bold_code"><a href="#eval_appup_script-4"><span class="code">eval_appup_script/4</span></a></span>,
          exactly in the same way as
          <span class="bold_code"><a href="#install_release-1"><span class="code">install_release/1,2</span></a></span>
          does.</p>
        <p>Returns one of the following:</p>
        <ul>
          <li>
<span class="code">{ok, Unpurged}</span> if evaluating the script is
            successful, where <span class="code">Unpurged</span> is a list of unpurged
            modules</li>
          <li>
<span class="code">restart_emulator</span> if this instruction is
            encountered in the script</li>
          <li>
<span class="code">{error, Reason}</span> if an error occurred when
            finding or evaluating the script</li>
        </ul>
	<p>If the <span class="code">restart_new_emulator</span> instruction is found in
          the script, 
	  <span class="bold_code"><a href="#upgrade_app-2"><span class="code">upgrade_app/2</span></a></span> 
	  returns <span class="code">{error,restart_new_emulator}</span>. This because
          <span class="code">restart_new_emulator</span> requires a new version of the
          emulator to be started before the rest of the upgrade
          instructions can be executed, and this can only be done by
          <span class="bold_code"><a href="#install_release-1"><span class="code">install_release/1,2</span></a></span>.</p>
      </p></div>

    <p><a name="downgrade_app-2"></a><span class="bold_code">downgrade_app(App, Dir) -&gt;</span><br><a name="downgrade_app-3"></a><span class="bold_code">downgrade_app(App, OldVsn, Dir) -&gt; {ok, Unpurged} | restart_emulator | {error, Reason}</span><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">App = atom()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Dir = OldVsn = string()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Unpurged = [Module]</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code"> Module = atom()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Reason = term()</span><br>
</div>
      </div>
<div class="REFBODY"><p>
        <p>Downgrades an application <span class="code">App</span> from the current
          version to a previous version <span class="code">OldVsn</span> located in
          <span class="code">Dir</span> according to the <span class="code">.appup</span> file.</p>
        <p><span class="code">App</span> is the name of the application, which must be
          started. <span class="code">OldVsn</span> is the previous application version
          and can be omitted if <span class="code">Dir</span> is of
          the format <span class="code">"App-OldVsn"</span>. <span class="code">Dir</span> is the library
          directory of the previous version of <span class="code">App</span>.
          The corresponding modules and the old <span class="code">.app</span> file
          are to be located under <span class="code">Dir/ebin</span>. The <span class="code">.appup</span>
          file is to be located in the <span class="code">ebin</span> directory of
          the <strong>current</strong> library directory of the application
          (<span class="bold_code"><a href="code.html#lib_dir-1"><span class="code">code:lib_dir(App)</span></a></span>).</p>
        <p>The function looks in the <span class="code">.appup</span> file and tries to
          find a downgrade script to the previous version of
          the application using
          <span class="bold_code"><a href="#downgrade_script-3"><span class="code">downgrade_script/3</span></a></span>.
          This script is evaluated using
          <span class="bold_code"><a href="#eval_appup_script-4"><span class="code">eval_appup_script/4</span></a></span>,
          exactly in the same way as
          <span class="bold_code"><a href="#install_release-1"><span class="code">install_release/1,2</span></a></span>
          does.</p>
        <p>Returns one of the following:</p>
        <ul>
          <li>
<span class="code">{ok, Unpurged}</span> if evaluating the script is
            successful, where <span class="code">Unpurged</span> is a list of unpurged
            modules</li>
          <li>
<span class="code">restart_emulator</span> if this instruction is
            encountered in the script</li>
          <li>
<span class="code">{error, Reason}</span> if an error occurred when
            finding or evaluating the script</li>
        </ul>
      </p></div>

    <p><a name="upgrade_script-2"></a><span class="bold_code">upgrade_script(App, Dir) -&gt; {ok, NewVsn, Script}</span><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">App = atom()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Dir = string()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">NewVsn = string()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Script = Instructions</span><br>
</div>
      </div>
<div class="REFBODY"><p>
        <p>Tries to find an application upgrade script for <span class="code">App</span>
          from the current version to a new version located in
          <span class="code">Dir</span>.</p>
        <p>The upgrade script can then be evaluated using
          <span class="bold_code"><a href="#eval_appup_script-4"><span class="code">eval_appup_script/4</span></a></span>.
          It is recommended to use
          <span class="bold_code"><a href="#upgrade_app-2"><span class="code">upgrade_app/2</span></a></span>
          instead, but this function (<span class="code">upgrade_script</span>) is useful
          to inspect the contents of the script.</p>
        <p><span class="code">App</span> is the name of the application, which must be
          started. <span class="code">Dir</span> is the new library directory of
          <span class="code">App</span>. The corresponding modules as well as
          the <span class="code">.app</span> and <span class="code">.appup</span> files are to be located
          under <span class="code">Dir/ebin</span>.</p>
        <p>The function looks in the <span class="code">.appup</span> file and tries to
          find an upgrade script from the current application version.
          High-level instructions are translated to
          low-level instructions. The instructions are sorted in
          the same manner as when generating a <span class="code">relup</span> file.</p>
        <p>Returns <span class="code">{ok, NewVsn, Script}</span> if successful, where
          <span class="code">NewVsn</span> is the new application version.
	For details about <span class="code">Script</span>, see 
	<span class="bold_code"><a href="appup.html"><span class="code">appup(4)</span></a></span>.</p>
        <p>Failure: If a script cannot be found, the function fails
          with an appropriate error reason.</p>
      </p></div>

    <p><a name="downgrade_script-3"></a><span class="bold_code">downgrade_script(App, OldVsn, Dir) -&gt; {ok, Script}</span><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">App = atom()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">OldVsn = Dir = string()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Script = Instructions</span><br>
</div>
      </div>
<div class="REFBODY"><p>
        <p>Tries to find an application downgrade script for <span class="code">App</span>
          from the current version to a previous version <span class="code">OldVsn</span>
          located in <span class="code">Dir</span>.</p>
        <p>The downgrade script can then be evaluated using
          <span class="bold_code"><a href="#eval_appup_script-4"><span class="code">eval_appup_script/4</span></a></span>.
          It is recommended to use
          <span class="bold_code"><a href="#downgrade_app-2"><span class="code">downgrade_app/2,3</span></a></span>
          instead, but this function (<span class="code">downgrade_script</span>) is useful
          to inspect the contents of the script.</p>
        <p><span class="code">App</span> is the name of the application, which must be
          started. <span class="code">Dir</span> is the previous library directory of
          <span class="code">App</span>. The corresponding modules and
          the old <span class="code">.app</span> file are to be located under
          <span class="code">Dir/ebin</span>. The <span class="code">.appup</span> file is to be located in
          the <span class="code">ebin</span> directory of the <strong>current</strong> library
          directory of the application 
	(<span class="bold_code"><a href="code.html#lib_dir-1"><span class="code">code:lib_dir(App)</span>)</a></span>.</p>
        <p>The function looks in the <span class="code">.appup</span> file and tries to
          find a downgrade script from the current application version.
          High-level instructions are translated to
          low-level instructions. The instructions are sorted in
          the same manner as when generating a <span class="code">relup</span> file.</p>
        <p>Returns <span class="code">{ok, Script}</span> if successful. 
	For details about <span class="code">Script</span>, see 
	<span class="bold_code"><a href="appup.html"><span class="code">appup(4)</span></a></span>.</p>
        <p>Failure: If a script cannot be found, the function fails
          with an appropriate error reason.</p>
      </p></div>

    <p><a name="eval_appup_script-4"></a><span class="bold_code">eval_appup_script(App, ToVsn, ToDir, Script) -&gt; {ok, Unpurged} | restart_emulator | {error, Reason}</span><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">App = atom()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">ToVsn = ToDir = string()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Script</span><br>
</div>
	<div class="REFBODY">See <span class="bold_code"><a href="#upgrade_script-2"><span class="code">upgrade_script/2</span></a></span>, <span class="bold_code"><a href="#downgrade_script-3"><span class="code">downgrade_script/3</span></a></span>
</div>
        <div class="REFTYPES">
<span class="bold_code">Unpurged = [Module]</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code"> Module = atom()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Reason = term()</span><br>
</div>
      </div>
<div class="REFBODY"><p>
        <p>Evaluates an application upgrade or downgrade script
          <span class="code">Script</span>, the result from calling
          <span class="bold_code"><a href="#upgrade_script-2"><span class="code">upgrade_script/2</span></a></span> or
          <span class="bold_code"><a href="#downgrade_script-3"><span class="code">downgrade_script/3</span></a></span>,
          exactly in the same way as
          <span class="bold_code"><a href="#install_release-1"><span class="code">install_release/1,2</span></a></span>
          does.</p>
        <p><span class="code">App</span> is the name of the application, which must be
          started. <span class="code">ToVsn</span> is the version to be upgraded/downgraded
          to, and <span class="code">ToDir</span> is the library directory of this version.
          The corresponding modules as well as the <span class="code">.app</span> and
          <span class="code">.appup</span> files are to be located under <span class="code">Dir/ebin</span>.</p>
        <p>Returns one of the following:</p>
        <ul>
          <li>
<span class="code">{ok, Unpurged}</span> if evaluating the script is
            successful, where <span class="code">Unpurged</span> is a list of unpurged
            modules</li>
          <li>
<span class="code">restart_emulator</span> if this instruction is
            encountered in the script</li>
          <li>
<span class="code">{error, Reason}</span> if an error occurred when
            finding or evaluating the script</li>
        </ul>
        <p>If the <span class="code">restart_new_emulator</span> instruction is found in
          the script, 
	  <span class="bold_code"><a href="#eval_appup_script-4"><span class="code">eval_appup_script/4</span></a></span>
	  returns <span class="code">{error,restart_new_emulator}</span>. This because
          <span class="code">restart_new_emulator</span> requires a new version of the
          emulator to be started before the rest of the upgrade
          instructions can be executed, and this can only be done by
          <span class="bold_code"><a href="#install_release-1"><span class="code">install_release/1,2</span></a></span>.</p>
      </p></div>
  

  <h3><a name="id73056">Typical Error Reasons</a></h3>
<div class="REFBODY">
    
    <dl>
      <dt><strong><span class="code">{bad_masters, Masters}</span></strong></dt>
        <dd><p>The master nodes <span class="code">Masters</span> are not alive.</p></dd>
      <dt><strong><span class="code">{bad_rel_file, File}</span></strong></dt>
        <dd><p>Specified <span class="code">.rel</span> file <span class="code">File</span> cannot be read or
          does not contain a single term.</p></dd>
      <dt><strong><span class="code">{bad_rel_data, Data}</span></strong></dt>
        <dd><p>Specified <span class="code">.rel</span> file does not contain a recognized
          release specification, but another term <span class="code">Data</span>.</p></dd>
      <dt><strong><span class="code">{bad_relup_file, File}</span></strong></dt>
        <dd><p>Specified <span class="code">relup</span> file <span class="code">Relup</span> contains bad
          data.</p></dd>
      <dt><strong><span class="code">{cannot_extract_file, Name, Reason}</span></strong></dt>
        <dd><p>Problems when extracting from a tar file,
          <span class="bold_code"><a href="erl_tar.html#extract-2"><span class="code">erl_tar:extract/2</span></a></span>
	  returned <span class="code">{error, {Name, Reason}}</span>.</p></dd>
      <dt><strong><span class="code">{existing_release, Vsn}</span></strong></dt>
        <dd><p>Specified release version <span class="code">Vsn</span> is already
          in use.</p></dd>
      <dt><strong><span class="code">{Master, Reason, When}</span></strong></dt>
        <dd><p>Some operation, indicated by the term <span class="code">When</span>, failed
          on the master node <span class="code">Master</span> with the specified error
          reason <span class="code">Reason</span>.</p></dd>
      <dt><strong><span class="code">{no_matching_relup, Vsn, CurrentVsn}</span></strong></dt>
        <dd><p>Cannot find a script for upgrading/downgrading between
          <span class="code">CurrentVsn</span> and <span class="code">Vsn</span>.</p></dd>
      <dt><strong><span class="code">{no_such_directory, Path}</span></strong></dt>
        <dd><p>The directory <span class="code">Path</span>does not exist.</p></dd>
      <dt><strong><span class="code">{no_such_file, Path}</span></strong></dt>
        <dd><p>The path <span class="code">Path</span> (file or directory) does not
          exist.</p></dd>
      <dt><strong><span class="code">{no_such_file, {Master, Path}}</span></strong></dt>
        <dd><p>The path <span class="code">Path</span> (file or directory) does not exist at
          the master node <span class="code">Master</span>.</p></dd>
      <dt><strong><span class="code">{no_such_release, Vsn}</span></strong></dt>
        <dd><p>The specified release version <span class="code">Vsn</span> does not
          exist.</p></dd>
      <dt><strong><span class="code">{not_a_directory, Path}</span></strong></dt>
        <dd><p><span class="code">Path</span> exists but is not a directory.</p></dd>
      <dt><strong><span class="code">{Posix, File}</span></strong></dt>
        <dd><p>Some file operation failed for <span class="code">File</span>. <span class="code">Posix</span>
          is an atom named from the Posix error codes, such as
          <span class="code">enoent</span>, <span class="code">eacces</span>, or <span class="code">eisdir</span>. See
          <span class="bold_code"><a href="file.html"><span class="code">file(3)</span></a></span>
          in Kernel.</p></dd>
      <dt><strong><span class="code">Posix</span></strong></dt>
        <dd><p>Some file operation failed, as for the previous item in
          the list.</p></dd>
    </dl>
  </div>

  <h3><a name="id73323">See Also</a></h3>
<div class="REFBODY">
    
    <p><span class="bold_code"><a href="../design_principles/users_guide.html">OTP Design Principles</a></span>,
      <span class="bold_code"><a href="config.html"><span class="code">config(4)</span></a></span>,
      <span class="bold_code"><a href="rel.html"><span class="code">rel(4)</span></a></span>,
      <span class="bold_code"><a href="relup.html"><span class="code">relup(4)</span></a></span>,
      <span class="bold_code"><a href="script.html"><span class="code">script(4)</span></a></span>,
      <span class="bold_code"><a href="sys.html"><span class="code">sys(3)</span></a></span>,
      <span class="bold_code"><a href="systools.html"><span class="code">systools(3)</span></a></span></p>
  </div>
</div>
<div class="footer">
<hr>
<p>Copyright © 1997-2017 Ericsson AB. All Rights Reserved.</p>
</div>
</div>
</div></body>
</html>
