<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:erl="http://erlang.org" xmlns:fn="http://www.w3.org/2005/02/xpath-functions">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="../otp_doc.css" type="text/css">
<title>Erlang -- cosTransactions</title>
</head>
<body bgcolor="white" text="#000000" link="#0000ff" vlink="#ff00ff" alink="#ff0000"><div id="container">
<script id="js" type="text/javascript" language="JavaScript" src="../js/flipmenu/flipmenu.js"></script><script id="js2" type="text/javascript" src="../js/erlresolvelinks.js"></script><script language="JavaScript" type="text/javascript">
            <!--
              function getWinHeight() {
                var myHeight = 0;
                if( typeof( window.innerHeight ) == 'number' ) {
                  //Non-IE
                  myHeight = window.innerHeight;
                } else if( document.documentElement && ( document.documentElement.clientWidth ||
                                                         document.documentElement.clientHeight ) ) {
                  //IE 6+ in 'standards compliant mode'
                  myHeight = document.documentElement.clientHeight;
                } else if( document.body && ( document.body.clientWidth || document.body.clientHeight ) ) {
                  //IE 4 compatible
                  myHeight = document.body.clientHeight;
                }
                return myHeight;
              }

              function setscrollpos() {
                var objf=document.getElementById('loadscrollpos');
                 document.getElementById("leftnav").scrollTop = objf.offsetTop - getWinHeight()/2;
              }

              function addEvent(obj, evType, fn){
                if (obj.addEventListener){
                obj.addEventListener(evType, fn, true);
                return true;
              } else if (obj.attachEvent){
                var r = obj.attachEvent("on"+evType, fn);
                return r;
              } else {
                return false;
              }
             }

             addEvent(window, 'load', setscrollpos);

             //--></script><div id="leftnav"><div class="innertube">
<img alt="Erlang logo" src="../erlang-logo.png"><br><small><a href="../apps/cosTransactions/users_guide.html">User's Guide</a><br><a href="../apps/cosTransactions/index.html">Reference Manual</a><br><a href="../apps/cosTransactions/release_notes.html">Release Notes</a><br><a href="../apps/cosTransactions/cosTransactions.pdf">PDF</a><br><a href="../index.html">Top</a></small><p><strong>cosTransactions</strong><br><strong>Reference Manual</strong><br><small>Version 1.3.2</small></p>
<br><a href="javascript:openAllFlips()">Expand All</a><br><a href="javascript:closeAllFlips()">Contract All</a><p><small><strong>Table of Contents</strong></small></p>
<ul class="flipMenu">
<li id="loadscrollpos" title="cosTransactions " expanded="true">cosTransactions<ul>
<li><a href="cosTransactions.html">
                  Top of manual page
                </a></li>
    <li title="start-0"><a href="cosTransactions.html#start-0">start/0</a></li>
    <li title="start_factory-0"><a href="cosTransactions.html#start_factory-0">start_factory/0</a></li>
    <li title="start_factory-1"><a href="cosTransactions.html#start_factory-1">start_factory/1</a></li>
    <li title="stop-0"><a href="cosTransactions.html#stop-0">stop/0</a></li>
    <li title="stop_factory-1"><a href="cosTransactions.html#stop_factory-1">stop_factory/1</a></li>
    </ul>
</li>
<li id="no" title="CosTransactions_Control " expanded="false">CosTransactions_Control<ul>
<li><a href="CosTransactions_Control.html">
                  Top of manual page
                </a></li>
    <li title="get_coordinator-1"><a href="CosTransactions_Control.html#get_coordinator-1">get_coordinator/1</a></li>
    <li title="get_terminator-1"><a href="CosTransactions_Control.html#get_terminator-1">get_terminator/1</a></li>
    </ul>
</li>
<li id="no" title="CosTransactions_Coordinator " expanded="false">CosTransactions_Coordinator<ul>
<li><a href="CosTransactions_Coordinator.html">
                  Top of manual page
                </a></li>
    <li title="create_subtransaction-1"><a href="CosTransactions_Coordinator.html#create_subtransaction-1">create_subtransaction/1</a></li>
    <li title="get_parent_status-1"><a href="CosTransactions_Coordinator.html#get_parent_status-1">get_parent_status/1</a></li>
    <li title="get_status-1"><a href="CosTransactions_Coordinator.html#get_status-1">get_status/1</a></li>
    <li title="get_top_level_status-1"><a href="CosTransactions_Coordinator.html#get_top_level_status-1">get_top_level_status/1</a></li>
    <li title="get_transaction_name-1"><a href="CosTransactions_Coordinator.html#get_transaction_name-1">get_transaction_name/1</a></li>
    <li title="hash_top_level_tran-1"><a href="CosTransactions_Coordinator.html#hash_top_level_tran-1">hash_top_level_tran/1</a></li>
    <li title="hash_transaction-1"><a href="CosTransactions_Coordinator.html#hash_transaction-1">hash_transaction/1</a></li>
    <li title="is_descendant_transaction-2"><a href="CosTransactions_Coordinator.html#is_descendant_transaction-2">is_descendant_transaction/2</a></li>
    <li title="is_same_transaction-2"><a href="CosTransactions_Coordinator.html#is_same_transaction-2">is_same_transaction/2</a></li>
    <li title="is_top_level_transaction-1"><a href="CosTransactions_Coordinator.html#is_top_level_transaction-1">is_top_level_transaction/1</a></li>
    <li title="register_resource-2"><a href="CosTransactions_Coordinator.html#register_resource-2">register_resource/2</a></li>
    <li title="register_subtran_aware-2"><a href="CosTransactions_Coordinator.html#register_subtran_aware-2">register_subtran_aware/2</a></li>
    <li title="rollback_only-1"><a href="CosTransactions_Coordinator.html#rollback_only-1">rollback_only/1</a></li>
    </ul>
</li>
<li id="no" title="CosTransactions_RecoveryCoordinator " expanded="false">CosTransactions_RecoveryCoordinator<ul>
<li><a href="CosTransactions_RecoveryCoordinator.html">
                  Top of manual page
                </a></li>
    <li title="replay_completion-3"><a href="CosTransactions_RecoveryCoordinator.html#replay_completion-3">replay_completion/3</a></li>
    </ul>
</li>
<li id="no" title="CosTransactions_Resource " expanded="false">CosTransactions_Resource<ul>
<li><a href="CosTransactions_Resource.html">
                  Top of manual page
                </a></li>
    <li title="commit-1"><a href="CosTransactions_Resource.html#commit-1">commit/1</a></li>
    <li title="commit_one_phase-1"><a href="CosTransactions_Resource.html#commit_one_phase-1">commit_one_phase/1</a></li>
    <li title="forget-1"><a href="CosTransactions_Resource.html#forget-1">forget/1</a></li>
    <li title="prepare-1"><a href="CosTransactions_Resource.html#prepare-1">prepare/1</a></li>
    <li title="rollback-1"><a href="CosTransactions_Resource.html#rollback-1">rollback/1</a></li>
    </ul>
</li>
<li id="no" title="CosTransactions_SubtransactionAwareResource " expanded="false">CosTransactions_SubtransactionAwareResource<ul>
<li><a href="CosTransactions_SubtransactionAwareResource.html">
                  Top of manual page
                </a></li>
    <li title="commit_subtransaction-2"><a href="CosTransactions_SubtransactionAwareResource.html#commit_subtransaction-2">commit_subtransaction/2</a></li>
    <li title="rollback_subtransaction-1"><a href="CosTransactions_SubtransactionAwareResource.html#rollback_subtransaction-1">rollback_subtransaction/1</a></li>
    </ul>
</li>
<li id="no" title="CosTransactions_Terminator " expanded="false">CosTransactions_Terminator<ul>
<li><a href="CosTransactions_Terminator.html">
                  Top of manual page
                </a></li>
    <li title="commit-2"><a href="CosTransactions_Terminator.html#commit-2">commit/2</a></li>
    <li title="rollback-1"><a href="CosTransactions_Terminator.html#rollback-1">rollback/1</a></li>
    </ul>
</li>
<li id="no" title="CosTransactions_TransactionFactory " expanded="false">CosTransactions_TransactionFactory<ul>
<li><a href="CosTransactions_TransactionFactory.html">
                  Top of manual page
                </a></li>
    <li title="create-2"><a href="CosTransactions_TransactionFactory.html#create-2">create/2</a></li>
    </ul>
</li>
</ul>
</div></div>
<div id="content">
<div class="innertube">
<!-- refpage --><center><h1>cosTransactions</h1></center>
  
  <h3>MODULE</h3>
<div class="REFBODY">cosTransactions</div>
  <h3>MODULE SUMMARY</h3>
<div class="REFBODY">The main module of the cosTransactions application.</div>
  <h3>DESCRIPTION</h3>
<div class="REFBODY"><p>
    <p>To get access to the record definitions for the structures use:      <br>
<span class="code">-include_lib("cosTransactions/include/CosTransactions.hrl").</span></p>
    <p>This module contains the functions for starting and stopping the application.
      If the application is started using <span class="code">application:start(cosTransactions)</span> the 
      default configuration is used (see listing below). The Factory reference is stored using the CosNaming Service
      under the id <span class="code">"oe_cosTransactionsFac_IPNo"</span>.</p>
    <p>The following application configuration parameters exist:</p>
    <ul>
      <li>
<strong>maxRetries</strong> - default is 40 times, i.e., if a transaction participant is unreachable
       the application will retry to contact it <span class="code">N</span> times. Reaching the maximum is considered to be a disaster.</li>
      <li>
<strong>comFailWait</strong> - default is 5000 milliseconds, i.e., before the application
       retries to contact unreachable transaction participants the application wait <span class="code">Time</span> milliseconds.</li>
    </ul>
  </p></div>
  <h3>EXPORTS</h3>
    <p><a name="start-0"></a><span class="bold_code">start() -&gt; Return</span><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">Return = ok | {error, Reason}</span><br>
</div>
      </div>
<div class="REFBODY"><p>
        <p>This operation starts the cosTransactions application.</p>
      </p></div>
    <p><a name="stop-0"></a><span class="bold_code">stop() -&gt; Return</span><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">Return = ok | {error, Reason}</span><br>
</div>
      </div>
<div class="REFBODY"><p>
        <p>This operation stops the cosTransactions application.</p>
      </p></div>
    <p><a name="start_factory-0"></a><span class="bold_code">start_factory() -&gt; TransactionFactory</span><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">TransactionFactory = #objref</span><br>
</div>
      </div>
<div class="REFBODY"><p>
        <p>This operation creates a <span class="bold_code"><a href="CosTransactions_TransactionFactory.html">Transaction Factory</a></span>.
          The Factory is used to create a new top-level <span class="bold_code"><a href="CosTransactions_Control.html">transaction</a></span> using default options (see listing below).</p>
      </p></div>
    <p><a name="start_factory-1"></a><span class="bold_code">start_factory(FacDef) -&gt; TransactionFactory</span><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">FacDef = [Options], see Option listing below.</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">TransactionFactory = #objref</span><br>
</div>
      </div>
<div class="REFBODY"><p>
        <p>This operation creates a <span class="bold_code"><a href="CosTransactions_TransactionFactory.html">Transaction Factory</a></span>.
          The Factory is used to create a new top-level transaction. </p>
        <p>The FacDef list must be a list of {Item, Value} tuples, 
          where the following values are allowed: </p>
        <ul>
          <li>{hash_max, HashValue} - 
           This value denotes the upper bound of the hash value the 
          <span class="bold_code"><a href="CosTransactions_Coordinator.html">Coordinator</a></span> uses.
           Default is <span class="code">1013</span>. HashValue must be an integer.</li>
          <li>{allow_subtr, Boolean} -
           If set to true it is possible to create <span class="bold_code"><a href="CosTransactions_Coordinator.html">subtransactions</a></span>.
           Default is <span class="code">true</span>.</li>
          <li>{typecheck, Boolean} -
           If set to to true all transaction operation's arguments will be type-checked.
           Default is <span class="code">true</span>.</li>
          <li>{tty, Boolean} -  
           Enables or disables error printouts to the tty. 
           If Flag is false, all text that the error logger would have sent to the terminal is discarded. 
           If Flag is true, error messages are sent to the terminal screen. </li>
          <li>{logfile, FileName} -
           This function makes it possible to store all system information in <span class="code">FileName</span> (string()).
           It can be used in combination with the tty(false) item in to have a silent system, 
           where all system information are logged to a file. 
           As default no logfile is used.</li>
          <li>
<span class="code">{maxRetries, Integer}</span> -
           default is 40 times, i.e., if a transaction participant is unreachable the application will 
           retry to contact it <span class="code">N</span> times. Reaching the maximum is considered to be a disaster.
           This option overrides the application configuration parameter.</li>
          <li>
<span class="code">{comFailWait, Integer}</span> -
           default is 5000 milliseconds, i.e., before the application retries to contact unreachable 
           transaction participants the application wait <span class="code">Time</span> milliseconds.
           This option overrides the application configuration parameter.</li>
        </ul>
      </p></div>
    <p><a name="stop_factory-1"></a><span class="bold_code">stop_factory(TransactionFactory) -&gt; Reply</span><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">TransactionFactory = #objref</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Reply = ok | {'EXCEPTION', E}</span><br>
</div>
      </div>
<div class="REFBODY"><p>
        <p>This operation stop the target transaction factory.</p>
      </p></div>
  
  
</div>
<div class="footer">
<hr>
<p>Copyright © 1999-2017 Ericsson AB. All Rights Reserved.</p>
</div>
</div>
</div></body>
</html>
