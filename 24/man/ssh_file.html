<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:erl="http://erlang.org" xmlns:fn="http://www.w3.org/2005/02/xpath-functions">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="utf-8">
<link rel="stylesheet" href="../otp_doc.css" type="text/css">
<meta name="major-vsn" content="24">
<link rel="canonical" href="https://www.erlang.org/doc/man/ssh_file.html" />
<title>Erlang -- ssh_file</title>
</head>
<body>
<div id="container">
<script id="js" type="text/javascript" language="JavaScript" src="../js/flipmenu/flipmenu.js"></script><script id="js2" type="text/javascript" src="../js/erlresolvelinks.js"></script><script id="js3" type="text/javascript" src="../../../../doc/js/topbar.js"></script><script language="JavaScript" type="text/javascript">
            <!--
              function setscrollpos() {
                var objf = document.getElementById('loadscrollpos');
                if (objf) {
                  document.getElementById("leftnav").firstChild.scrollTop = objf.offsetTop - 10;
                }
              }

              function addEvent(obj, evType, fn){
                if (obj.addEventListener){
                obj.addEventListener(evType, fn, true);
                return true;
              } else if (obj.attachEvent){
                var r = obj.attachEvent("on"+evType, fn);
                return r;
              } else {
                return false;
              }
             }

             addEvent(window, 'load', setscrollpos);

             //-->
</script><div class="topbar">
<div class="topbar-expand "><button onclick="toggleDisplay();"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="Capa_1" viewBox="0 0 54 54" width="24" height="24"><g><path style="fill:#000000;" d="M27,54c-0.552,0-1-0.448-1-1V8c0-0.552,0.448-1,1-1s1,0.448,1,1v45C28,53.552,27.552,54,27,54z"></path><path style="fill:#000000;" d="M11,25c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414l16-16                                      c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414l-16,16C11.512,24.902,11.256,25,11,25z"></path><path style="fill:#000000;" d="M43,25c-0.256,0-0.512-0.098-0.707-0.293l-16-16c-0.391-0.391-0.391-1.023,0-1.414                                      s1.023-0.391,1.414,0l16,16c0.391,0.391,0.391,1.023,0,1.414C43.512,24.902,43.256,25,43,25z"></path><path style="fill:#000000;" d="M43,2H11c-0.552,0-1-0.448-1-1s0.448-1,1-1h32c0.552,0,1,0.448,1,1S43.552,2,43,2z"></path></g></svg></button></div>
<div class="topbar-title"><h1 id="ssh_file">ssh_file</h1></div>
<div class="search-expand ">        <button id="docsearch-mobile">
            <svg fill="#000000" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 50 50" width="24" height="24"><path d="M 21 3 C 11.621094 3 4 10.621094 4 20 C 4 29.378906 11.621094 37 21 37 C 24.710938 37 28.140625 35.804688 30.9375 33.78125 L 44.09375 46.90625 L 46.90625 44.09375 L 33.90625 31.0625 C 36.460938 28.085938 38 24.222656 38 20 C 38 10.621094 30.378906 3 21 3 Z M 21 5 C 29.296875 5 36 11.703125 36 20 C 36 28.296875 29.296875 35 21 35 C 12.703125 35 6 28.296875 6 20 C 6 11.703125 12.703125 5 21 5 Z"/></svg>
        </button>
</div>
</div>
<aside class="hide-mobile" id="leftnav"><nav class="leftnav-tube"><div class="erlang-logo-wrapper"><a href="../index.html"><img alt="Erlang Logo" src="../erlang-logo.png" class="erlang-logo"></a></div>
<p class="section-title">SSH</p>
<p class="section-subtitle">Reference Manual</p>
<p class="section-version">Version 4.13.2.6</p>
<ul class="panel-sections">
<li><a href="../apps/ssh/users_guide.html">User's Guide</a></li>
<li><a href="../apps/ssh/index.html">Reference Manual</a></li>
<li><a href="../apps/ssh/notes.html">Release Notes</a></li>
<li><a href="../apps/ssh/ssh.pdf">PDF</a></li>
<li><a href="../index.html">Top</a></li>
</ul>
<div id="docsearch"></div>
<div style="padding-left: 1rem; padding-top: 0.1rem;"><a href="/doc/search?v=24">Paginated Search</a></div>
<ul class="expand-collapse-items">
<li><a href="javascript:openAllFlips()">Expand All</a></li>
<li><a href="javascript:closeAllFlips()">Contract All</a></li>
</ul>
<h3 id="toc">Table of Contents</h3>
<ul class="flipMenu">
<li title="SSH (App)"><a href="SSH_app.html">SSH (App)
                </a></li>
<li id="no" title="ssh " expanded="false">ssh<ul>
<li><a href="ssh.html">
                  Top of manual page
                </a></li>
    <li title="close-1"><a href="ssh.html#close-1">close/1</a></li>
    <li title="connect-3"><a href="ssh.html#connect-3">connect/3</a></li>
    <li title="connect-4"><a href="ssh.html#connect-4">connect/4</a></li>
    <li title="connect-2"><a href="ssh.html#connect-2">connect/2</a></li>
    <li title="connect-3"><a href="ssh.html#connect-3">connect/3</a></li>
    <li title="connection_info-1"><a href="ssh.html#connection_info-1">connection_info/1</a></li>
    <li title="connection_info-2"><a href="ssh.html#connection_info-2">connection_info/2</a></li>
    <li title="daemon-1"><a href="ssh.html#daemon-1">daemon/1</a></li>
    <li title="daemon-2"><a href="ssh.html#daemon-2">daemon/2</a></li>
    <li title="daemon-3"><a href="ssh.html#daemon-3">daemon/3</a></li>
    <li title="daemon_info-1"><a href="ssh.html#daemon_info-1">daemon_info/1</a></li>
    <li title="daemon_info-2"><a href="ssh.html#daemon_info-2">daemon_info/2</a></li>
    <li title="default_algorithms-0"><a href="ssh.html#default_algorithms-0">default_algorithms/0</a></li>
    <li title="get_sock_opts-2"><a href="ssh.html#get_sock_opts-2">get_sock_opts/2</a></li>
    <li title="hostkey_fingerprint-1"><a href="ssh.html#hostkey_fingerprint-1">hostkey_fingerprint/1</a></li>
    <li title="hostkey_fingerprint-2"><a href="ssh.html#hostkey_fingerprint-2">hostkey_fingerprint/2</a></li>
    <li title="hostkey_fingerprint-2"><a href="ssh.html#hostkey_fingerprint-2">hostkey_fingerprint/2</a></li>
    <li title="set_sock_opts-2"><a href="ssh.html#set_sock_opts-2">set_sock_opts/2</a></li>
    <li title="shell-1"><a href="ssh.html#shell-1">shell/1</a></li>
    <li title="shell-2"><a href="ssh.html#shell-2">shell/2</a></li>
    <li title="shell-3"><a href="ssh.html#shell-3">shell/3</a></li>
    <li title="start-0"><a href="ssh.html#start-0">start/0</a></li>
    <li title="start-1"><a href="ssh.html#start-1">start/1</a></li>
    <li title="stop-0"><a href="ssh.html#stop-0">stop/0</a></li>
    <li title="stop_daemon-1"><a href="ssh.html#stop_daemon-1">stop_daemon/1</a></li>
    <li title="stop_daemon-2"><a href="ssh.html#stop_daemon-2">stop_daemon/2</a></li>
    <li title="stop_daemon-3"><a href="ssh.html#stop_daemon-3">stop_daemon/3</a></li>
    <li title="stop_listener-1"><a href="ssh.html#stop_listener-1">stop_listener/1</a></li>
    <li title="stop_listener-2"><a href="ssh.html#stop_listener-2">stop_listener/2</a></li>
    <li title="stop_listener-3"><a href="ssh.html#stop_listener-3">stop_listener/3</a></li>
    <li title="tcpip_tunnel_from_server-5"><a href="ssh.html#tcpip_tunnel_from_server-5">tcpip_tunnel_from_server/5</a></li>
    <li title="tcpip_tunnel_from_server-6"><a href="ssh.html#tcpip_tunnel_from_server-6">tcpip_tunnel_from_server/6</a></li>
    <li title="tcpip_tunnel_to_server-5"><a href="ssh.html#tcpip_tunnel_to_server-5">tcpip_tunnel_to_server/5</a></li>
    <li title="tcpip_tunnel_to_server-6"><a href="ssh.html#tcpip_tunnel_to_server-6">tcpip_tunnel_to_server/6</a></li>
    </ul>
</li>
<li id="no" title="ssh_client_channel " expanded="false">ssh_client_channel<ul>
<li><a href="ssh_client_channel.html">
                  Top of manual page
                </a></li>
    <li title="call-2"><a href="ssh_client_channel.html#call-2">call/2</a></li>
    <li title="call-3"><a href="ssh_client_channel.html#call-3">call/3</a></li>
    <li title="cast-2"><a href="ssh_client_channel.html#cast-2">cast/2</a></li>
    <li title="enter_loop-1"><a href="ssh_client_channel.html#enter_loop-1">enter_loop/1</a></li>
    <li title="init-1"><a href="ssh_client_channel.html#init-1">init/1</a></li>
    <li title="reply-2"><a href="ssh_client_channel.html#reply-2">reply/2</a></li>
    <li title="start-4"><a href="ssh_client_channel.html#start-4">start/4</a></li>
    <li title="start_link-4"><a href="ssh_client_channel.html#start_link-4">start_link/4</a></li>
    <li title="Module:code_change-3"><a href="ssh_client_channel.html#Module:code_change-3">Module:code_change/3</a></li>
    <li title="Module:handle_call-3"><a href="ssh_client_channel.html#Module:handle_call-3">Module:handle_call/3</a></li>
    <li title="Module:handle_cast-2"><a href="ssh_client_channel.html#Module:handle_cast-2">Module:handle_cast/2</a></li>
    <li title="Module:handle_msg-2"><a href="ssh_client_channel.html#Module:handle_msg-2">Module:handle_msg/2</a></li>
    <li title="Module:handle_ssh_msg-2"><a href="ssh_client_channel.html#Module:handle_ssh_msg-2">Module:handle_ssh_msg/2</a></li>
    <li title="Module:init-1"><a href="ssh_client_channel.html#Module:init-1">Module:init/1</a></li>
    <li title="Module:terminate-2"><a href="ssh_client_channel.html#Module:terminate-2">Module:terminate/2</a></li>
    </ul>
</li>
<li id="no" title="ssh_server_channel " expanded="false">ssh_server_channel<ul>
<li><a href="ssh_server_channel.html">
                  Top of manual page
                </a></li>
    <li title="Module:handle_msg-2"><a href="ssh_server_channel.html#Module:handle_msg-2">Module:handle_msg/2</a></li>
    <li title="Module:handle_ssh_msg-2"><a href="ssh_server_channel.html#Module:handle_ssh_msg-2">Module:handle_ssh_msg/2</a></li>
    <li title="Module:init-1"><a href="ssh_server_channel.html#Module:init-1">Module:init/1</a></li>
    <li title="Module:terminate-2"><a href="ssh_server_channel.html#Module:terminate-2">Module:terminate/2</a></li>
    </ul>
</li>
<li id="no" title="ssh_connection " expanded="false">ssh_connection<ul>
<li><a href="ssh_connection.html">
                  Top of manual page
                </a></li>
    <li title="adjust_window-3"><a href="ssh_connection.html#adjust_window-3">adjust_window/3</a></li>
    <li title="close-2"><a href="ssh_connection.html#close-2">close/2</a></li>
    <li title="exec-4"><a href="ssh_connection.html#exec-4">exec/4</a></li>
    <li title="exit_status-3"><a href="ssh_connection.html#exit_status-3">exit_status/3</a></li>
    <li title="ptty_alloc-3"><a href="ssh_connection.html#ptty_alloc-3">ptty_alloc/3</a></li>
    <li title="ptty_alloc-4"><a href="ssh_connection.html#ptty_alloc-4">ptty_alloc/4</a></li>
    <li title="reply_request-4"><a href="ssh_connection.html#reply_request-4">reply_request/4</a></li>
    <li title="send-3"><a href="ssh_connection.html#send-3">send/3</a></li>
    <li title="send-4"><a href="ssh_connection.html#send-4">send/4</a></li>
    <li title="send-4"><a href="ssh_connection.html#send-4">send/4</a></li>
    <li title="send-5"><a href="ssh_connection.html#send-5">send/5</a></li>
    <li title="send_eof-2"><a href="ssh_connection.html#send_eof-2">send_eof/2</a></li>
    <li title="session_channel-2"><a href="ssh_connection.html#session_channel-2">session_channel/2</a></li>
    <li title="session_channel-4"><a href="ssh_connection.html#session_channel-4">session_channel/4</a></li>
    <li title="setenv-5"><a href="ssh_connection.html#setenv-5">setenv/5</a></li>
    <li title="shell-2"><a href="ssh_connection.html#shell-2">shell/2</a></li>
    <li title="subsystem-4"><a href="ssh_connection.html#subsystem-4">subsystem/4</a></li>
    </ul>
</li>
<li id="no" title="ssh_client_key_api " expanded="false">ssh_client_key_api<ul>
<li><a href="ssh_client_key_api.html">
                  Top of manual page
                </a></li>
    <li title="Module:add_host_key-3"><a href="ssh_client_key_api.html#Module:add_host_key-3">Module:add_host_key/3</a></li>
    <li title="Module:add_host_key-4"><a href="ssh_client_key_api.html#Module:add_host_key-4">Module:add_host_key/4</a></li>
    <li title="Module:is_host_key-4"><a href="ssh_client_key_api.html#Module:is_host_key-4">Module:is_host_key/4</a></li>
    <li title="Module:is_host_key-5"><a href="ssh_client_key_api.html#Module:is_host_key-5">Module:is_host_key/5</a></li>
    <li title="Module:user_key-2"><a href="ssh_client_key_api.html#Module:user_key-2">Module:user_key/2</a></li>
    </ul>
</li>
<li id="no" title="ssh_server_key_api " expanded="false">ssh_server_key_api<ul>
<li><a href="ssh_server_key_api.html">
                  Top of manual page
                </a></li>
    <li title="Module:host_key-2"><a href="ssh_server_key_api.html#Module:host_key-2">Module:host_key/2</a></li>
    <li title="Module:is_auth_key-3"><a href="ssh_server_key_api.html#Module:is_auth_key-3">Module:is_auth_key/3</a></li>
    </ul>
</li>
<li id="loadscrollpos" title="ssh_file " expanded="true">ssh_file<ul>
<li><a href="ssh_file.html">
                  Top of manual page
                </a></li>
    <li title="add_host_key-4"><a href="ssh_file.html#add_host_key-4">add_host_key/4</a></li>
    <li title="decode-2"><a href="ssh_file.html#decode-2">decode/2</a></li>
    <li title="encode-2"><a href="ssh_file.html#encode-2">encode/2</a></li>
    <li title="host_key-2"><a href="ssh_file.html#host_key-2">host_key/2</a></li>
    <li title="is_auth_key-3"><a href="ssh_file.html#is_auth_key-3">is_auth_key/3</a></li>
    <li title="is_host_key-5"><a href="ssh_file.html#is_host_key-5">is_host_key/5</a></li>
    <li title="user_key-2"><a href="ssh_file.html#user_key-2">user_key/2</a></li>
    </ul>
</li>
<li id="no" title="ssh_agent " expanded="false">ssh_agent<ul>
<li><a href="ssh_agent.html">
                  Top of manual page
                </a></li>
    <li title="add_host_key-3"><a href="ssh_agent.html#add_host_key-3">add_host_key/3</a></li>
    <li title="add_host_key-4"><a href="ssh_agent.html#add_host_key-4">add_host_key/4</a></li>
    <li title="is_host_key-4"><a href="ssh_agent.html#is_host_key-4">is_host_key/4</a></li>
    <li title="is_host_key-5"><a href="ssh_agent.html#is_host_key-5">is_host_key/5</a></li>
    <li title="user_key-2"><a href="ssh_agent.html#user_key-2">user_key/2</a></li>
    </ul>
</li>
<li id="no" title="ssh_sftp " expanded="false">ssh_sftp<ul>
<li><a href="ssh_sftp.html">
                  Top of manual page
                </a></li>
    <li title="apread-4"><a href="ssh_sftp.html#apread-4">apread/4</a></li>
    <li title="apwrite-4"><a href="ssh_sftp.html#apwrite-4">apwrite/4</a></li>
    <li title="aread-3"><a href="ssh_sftp.html#aread-3">aread/3</a></li>
    <li title="awrite-3"><a href="ssh_sftp.html#awrite-3">awrite/3</a></li>
    <li title="close-2"><a href="ssh_sftp.html#close-2">close/2</a></li>
    <li title="close-3"><a href="ssh_sftp.html#close-3">close/3</a></li>
    <li title="del_dir-2"><a href="ssh_sftp.html#del_dir-2">del_dir/2</a></li>
    <li title="del_dir-3"><a href="ssh_sftp.html#del_dir-3">del_dir/3</a></li>
    <li title="delete-2"><a href="ssh_sftp.html#delete-2">delete/2</a></li>
    <li title="delete-3"><a href="ssh_sftp.html#delete-3">delete/3</a></li>
    <li title="list_dir-2"><a href="ssh_sftp.html#list_dir-2">list_dir/2</a></li>
    <li title="list_dir-3"><a href="ssh_sftp.html#list_dir-3">list_dir/3</a></li>
    <li title="make_dir-2"><a href="ssh_sftp.html#make_dir-2">make_dir/2</a></li>
    <li title="make_dir-3"><a href="ssh_sftp.html#make_dir-3">make_dir/3</a></li>
    <li title="make_symlink-3"><a href="ssh_sftp.html#make_symlink-3">make_symlink/3</a></li>
    <li title="make_symlink-4"><a href="ssh_sftp.html#make_symlink-4">make_symlink/4</a></li>
    <li title="open-3"><a href="ssh_sftp.html#open-3">open/3</a></li>
    <li title="open-4"><a href="ssh_sftp.html#open-4">open/4</a></li>
    <li title="open_tar-3"><a href="ssh_sftp.html#open_tar-3">open_tar/3</a></li>
    <li title="open_tar-4"><a href="ssh_sftp.html#open_tar-4">open_tar/4</a></li>
    <li title="opendir-2"><a href="ssh_sftp.html#opendir-2">opendir/2</a></li>
    <li title="opendir-3"><a href="ssh_sftp.html#opendir-3">opendir/3</a></li>
    <li title="position-3"><a href="ssh_sftp.html#position-3">position/3</a></li>
    <li title="position-4"><a href="ssh_sftp.html#position-4">position/4</a></li>
    <li title="pread-4"><a href="ssh_sftp.html#pread-4">pread/4</a></li>
    <li title="pread-5"><a href="ssh_sftp.html#pread-5">pread/5</a></li>
    <li title="pwrite-4"><a href="ssh_sftp.html#pwrite-4">pwrite/4</a></li>
    <li title="pwrite-5"><a href="ssh_sftp.html#pwrite-5">pwrite/5</a></li>
    <li title="read-3"><a href="ssh_sftp.html#read-3">read/3</a></li>
    <li title="read-4"><a href="ssh_sftp.html#read-4">read/4</a></li>
    <li title="read_file-2"><a href="ssh_sftp.html#read_file-2">read_file/2</a></li>
    <li title="read_file-3"><a href="ssh_sftp.html#read_file-3">read_file/3</a></li>
    <li title="read_file_info-2"><a href="ssh_sftp.html#read_file_info-2">read_file_info/2</a></li>
    <li title="read_file_info-3"><a href="ssh_sftp.html#read_file_info-3">read_file_info/3</a></li>
    <li title="read_link-2"><a href="ssh_sftp.html#read_link-2">read_link/2</a></li>
    <li title="read_link-3"><a href="ssh_sftp.html#read_link-3">read_link/3</a></li>
    <li title="read_link_info-2"><a href="ssh_sftp.html#read_link_info-2">read_link_info/2</a></li>
    <li title="read_link_info-3"><a href="ssh_sftp.html#read_link_info-3">read_link_info/3</a></li>
    <li title="rename-3"><a href="ssh_sftp.html#rename-3">rename/3</a></li>
    <li title="rename-4"><a href="ssh_sftp.html#rename-4">rename/4</a></li>
    <li title="start_channel-1"><a href="ssh_sftp.html#start_channel-1">start_channel/1</a></li>
    <li title="start_channel-2"><a href="ssh_sftp.html#start_channel-2">start_channel/2</a></li>
    <li title="start_channel-1"><a href="ssh_sftp.html#start_channel-1">start_channel/1</a></li>
    <li title="start_channel-2"><a href="ssh_sftp.html#start_channel-2">start_channel/2</a></li>
    <li title="start_channel-3"><a href="ssh_sftp.html#start_channel-3">start_channel/3</a></li>
    <li title="start_channel-1"><a href="ssh_sftp.html#start_channel-1">start_channel/1</a></li>
    <li title="start_channel-2"><a href="ssh_sftp.html#start_channel-2">start_channel/2</a></li>
    <li title="stop_channel-1"><a href="ssh_sftp.html#stop_channel-1">stop_channel/1</a></li>
    <li title="write-3"><a href="ssh_sftp.html#write-3">write/3</a></li>
    <li title="write-4"><a href="ssh_sftp.html#write-4">write/4</a></li>
    <li title="write_file-3"><a href="ssh_sftp.html#write_file-3">write_file/3</a></li>
    <li title="write_file-4"><a href="ssh_sftp.html#write_file-4">write_file/4</a></li>
    <li title="write_file_info-3"><a href="ssh_sftp.html#write_file_info-3">write_file_info/3</a></li>
    <li title="write_file_info-4"><a href="ssh_sftp.html#write_file_info-4">write_file_info/4</a></li>
    </ul>
</li>
<li id="no" title="ssh_sftpd " expanded="false">ssh_sftpd<ul>
<li><a href="ssh_sftpd.html">
                  Top of manual page
                </a></li>
    <li title="subsystem_spec-1"><a href="ssh_sftpd.html#subsystem_spec-1">subsystem_spec/1</a></li>
    </ul>
</li>
</ul></nav></aside><div id="content">
<div class="innertube"></div>
<!-- refpage --><div class="innertube"><center><h1>ssh_file</h1></center></div>
  
  <div class="innertube">
<h3 id="module" class="title-link" onMouseOver="document.getElementById('ghlink-module-idm3414').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-module-idm3414').style.visibility = 'hidden';">
<div class="title-name">Module</div>
<div class="title-anchors"><span id="ghlink-module-idm3414" class="ghlink-after"><a href="#module" title="Link to this place!"><span class="paperclip-after"></span></a></span></div>
</h3>
<div class="REFBODY module-body">ssh_file</div>
</div>
  <div class="innertube">
<h3 id="module-summary" class="title-link" onMouseOver="document.getElementById('ghlink-module-summary-idm3415').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-module-summary-idm3415').style.visibility = 'hidden';">
<div class="title-name">Module Summary</div>
<div class="title-anchors"><span id="ghlink-module-summary-idm3415" class="ghlink-after"><a href="#module-summary" title="Link to this place!"><span class="paperclip-after"></span></a></span></div>
</h3>
<div class="REFBODY module-summary-body">Default callback module for the client's and server's database operations in the ssh application</div>
<h3 id="since" class="title-link" onMouseOver="document.getElementById('ghlink-since-idm3415').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-since-idm3415').style.visibility = 'hidden';">
<div class="title-name">Since</div>
<div class="title-anchors"><span id="ghlink-since-idm3415" class="ghlink-after"><a href="#since" title="Link to this place!"><span class="paperclip-after"></span></a></span></div>
</h3>
<div class="REFBODY module-since">
	Module ssh_file was introduced in
	OTP 21.2.
      </div>
</div>
  <section class="description"><div class="innertube">
<h3 id="description" class="title-link" onMouseOver="document.getElementById('ghlink-description-idm3416').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-description-idm3416').style.visibility = 'hidden';">
<div class="title-name">Description</div>
<div class="title-anchors"><span id="ghlink-description-idm3416" class="ghlink-after"><a href="#description" title="Link to this place!"><span class="paperclip-after"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_file.xml#L33" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-after"></span></a></span></div>
</h3>
<div class="REFBODY description-body"><p>
    <p>This module is the default callback handler for the client's and the server's user and host "database" operations.
    All data, for instance key pairs, are stored in files in the normal file system. This page documents the files, where they
    are stored and configuration options for this callback module.
    </p>
    <p>The intention is to be compatible with the
    <span class="bold_code bc-20"><a href="http://www.openssh.com">OpenSSH</a></span>
    storage in files. Therefore it mimics directories and filenames of
    <span class="bold_code bc-20"><a href="http://www.openssh.com">OpenSSH</a></span>.
    </p>

    <p>Ssh_file implements the <span class="bold_code bc-18"><a href="ssh_server_key_api.html">ssh_server_key_api</a></span> and
    the <span class="bold_code bc-18"><a href="ssh_client_key_api.html">ssh_client_key_api</a></span>.
    This enables the user to make an own interface using for example a database handler.
    </p>
    <p>Such another callback module could be used by setting the option
    <span class="bold_code bc-13"><a href="ssh.html#type-key_cb_common_option"><span class="code">key_cb</span></a></span>
    when starting a client or a server (with for example
    <span class="bold_code bc-13"><a href="ssh.html#connect-3">ssh:connect</a></span>,
    <span class="bold_code bc-13"><a href="ssh.html#daemon-2">ssh:daemon</a></span> of
    <span class="bold_code bc-13"><a href="ssh.html#shell-1">ssh:shell</a></span>
    ).
    </p>

    <div class="note">
<div class="label">Note</div>
<div class="content"><p>
      <p>The functions are <i>Callbacks</i> for the SSH app. They are not intended to be called from the user's code!
      </p>
    </p></div>
</div>
  </p></div>
</div></section>

  <section class="innertube"><h3 id="files,-directories-and-who-uses-them" class="title-link" onMouseOver="document.getElementById('ghlink-files,-directories-and-who-uses-them-idm3433').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-files,-directories-and-who-uses-them-idm3433').style.visibility = 'hidden';">
<div class="title-name">Files, directories and who uses them</div>
<div class="title-anchors"><span id="ghlink-files,-directories-and-who-uses-them-idm3433" class="ghlink-after"><a href="#files,-directories-and-who-uses-them" title="Link to this place!"><span class="paperclip-after"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_file.xml#L63" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-after"></span></a></span></div>
</h3>
<div class="REFBODY rb-3">
    
    <section><h4 id="Daemons">Daemons</h4>
<div class="REFBODY rb-4">
      
      <p>Daemons uses all files stored in the <span class="bold_code bc-17"><a href="#SYSDIR">SYSDIR</a></span> directory.
      </p>
      <p>Optionaly, in case of <span class="code">publickey</span> authorization, one or more of the remote user's public keys
      in the <span class="bold_code bc-17"><a href="#USERDIR">USERDIR</a></span> directory are used.
      See the files 
      <span class="bold_code bc-17"><a href="#FILE-authorized_keys"><span class="code">USERDIR/authorized_keys</span></a></span> and
      <span class="bold_code bc-17"><a href="#FILE-authorized_keys2"><span class="code">USERDIR/authorized_keys2</span></a></span>.
      </p>
    </div></section>

    <section><h4 id="Clients">Clients</h4>
<div class="REFBODY rb-4">
      
      <p>Clients uses all files stored in the <span class="bold_code bc-17"><a href="#USERDIR">USERDIR</a></span> directory.
      </p>
    </div></section>

    <section><h4 id="Directory contents">Directory contents</h4>
<div class="REFBODY rb-4">
      
      <dl>
	<dt><strong><a name="LOCALUSER"></a>LOCALUSER</strong></dt>
	<dd>
<p>The user name of the OS process running the Erlang virtual machine (emulator).</p>
	</dd>

	<dt><strong><a name="SYSDIR"></a>SYSDIR</strong></dt>
	<dd>
<p>This is the directory holding the server's files:</p>
	<ul>
	  <li>
<a name="FILE-ssh_host_STAR_key"></a>
	        <a name="FILE-ssh_host_dsa_key"></a><span class="code">ssh_host_dsa_key</span> - private dss host key (optional)</li>
	  <li>
<a name="FILE-ssh_host_rsa_key"></a><span class="code">ssh_host_rsa_key</span> - private rsa host key (optional)</li>
	  <li>
<a name="FILE-ssh_host_ecdsa_key"></a><span class="code">ssh_host_ecdsa_key</span> - private ecdsa host key (optional)</li>
	  <li>
<a name="FILE-ssh_host_ed25519_key"></a><span class="code">ssh_host_ed25519_key</span> - private eddsa host key for curve 25519 (optional)</li>
	  <li>
<a name="FILE-ssh_host_ed448_key"></a><span class="code">ssh_host_ed448_key</span> - private eddsa host key for curve 448 (optional)</li>
	</ul>
	<p>The key files could be generated with OpenSSH's ssh-keygen command.</p>
	<p>At least one host key must be defined. The default value of SYSDIR is <a name="#/etc/ssh"></a><span class="code">/etc/ssh</span>.
	</p>
	<p>For security reasons, this directory is normally accessible only to the root user.
	</p>
	<p>To change the SYSDIR, see the <span class="bold_code bc-17"><a href="#type-system_dir_daemon_option">system_dir</a></span> option.
	</p>
	</dd>

	<dt><strong><a name="USERDIR"></a>USERDIR</strong></dt>
	<dd>
<p>This is the directory holding the files:</p>
	<ul>
	  <li>
<a name="FILE-authorized_keys"></a><span class="code">authorized_keys</span>
	  and, as second alternative
	  <a name="FILE-authorized_keys2"></a><span class="code">authorized_keys2</span> - 
	  the user's public keys are stored concatenated in one of those files.
	  <p>It is composed of lines as for
	  <span class="bold_code bc-20"><a href="https://man.openbsd.org/sshd#AUTHORIZED_KEYS_FILE_FORMAT">OpenSSH</a></span>:</p>
	  <div class="example"><pre>(options)? keytype base64-encoded-key comment</pre></div>
	  <p>where</p>
	  <div class="example example-none"><pre>options :: option(,option)*
option :: % All options are skipped
keytype :: 'ssh-dsa'
         | 'ssh-rsa'
         | 'ssh-ecdsa-nistp256'
	 | 'ssh-ecdsa-nistp384'
         | 'ssh-ecdsa-nistp521'
         | 'ssh-ed25519'
	 | 'ssh-ed448'
base64-encoded-key :: % The user's public key
comment :: % Comments are skipped</pre></div>
	  </li>
	  <li>
<a name="FILE-known_hosts"></a><span class="code">known_hosts</span> - host keys from hosts visited
	  concatenated. The file is created and used by the client.
	  <p>It is composed of lines as for
	  <span class="bold_code bc-20"><a href="https://man.openbsd.org/sshd#SSH_KNOWN_HOSTS_FILE_FORMAT">OpenSSH</a></span>:</p>
	  <div class="example"><pre>(option)? pattern(,pattern)* keytype key (comment)?</pre></div>
	  <p>where</p>
	  <div class="example example-none"><pre>option :: '@revoked'
pattern :: host | '[' host ']:' port
host :: ip-address | hostname | '*'
port :: portnumber | '*'
keytype :: 'ssh-dsa'
         | 'ssh-rsa'
         | 'ssh-ecdsa-nistp256'
	 | 'ssh-ecdsa-nistp384'
         | 'ssh-ecdsa-nistp521'
         | 'ssh-ed25519'
	 | 'ssh-ed448'
key :: % encoded key from eg ssh_host_*.pub</pre></div>
	  </li>
	  <li>
<a name="FILE-id_STAR"></a>
	        <a name="FILE-id_dsa"></a><span class="code">id_dsa</span> - private dss user key (optional)</li>
	  <li>
<a name="FILE-id_rsa"></a><span class="code">id_rsa</span> - private rsa user key (optional)</li>
	  <li>
<a name="FILE-id_ecdsa"></a><span class="code">id_ecdsa</span> - private ecdsa user key (optional)</li>
	  <li>
<a name="FILE-id_ed25519"></a><span class="code">id_ed25519</span> - private eddsa user key for curve 25519 (optional)</li>
	  <li>
<a name="FILE-id_ed448"></a><span class="code">id_ed448</span> - private eddsa user key for curve 448 (optional)</li>
	</ul>
	<p>The key files could be generated with OpenSSH's ssh-keygen command.</p>
	<p>The default value of USERDIR is <span class="code">/home/</span><span class="bold_code bc-17"><a href="#LOCALUSER"><span class="code">LOCALUSER</span></a></span><span class="code">/.ssh</span>.
	</p>
	<p>To change the USERDIR, see the <span class="bold_code bc-17"><a href="#type-user_dir_common_option">user_dir</a></span> option
	</p>
	</dd>
      </dl>
    </div></section>
  </div></section>

  <div class="innertube">
<h3 id="data-types" class="title-link" onMouseOver="document.getElementById('ghlink-data-types-idm3532').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-data-types-idm3532').style.visibility = 'hidden';">
<div class="title-name">Data Types</div>
<div class="title-anchors"><span id="ghlink-data-types-idm3532" class="ghlink-after"><a href="#data-types" title="Link to this place!"><span class="paperclip-after"></span></a></span></div>
</h3>
    <h4 id="Options for the default ssh_file callback module" class="title-link" onMouseOver="document.getElementById('ghlink-Options for the default ssh_file callback module-idm3533').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-Options for the default ssh_file callback module-idm3533').style.visibility = 'hidden';">
<div class="title-name">Options for the default ssh_file callback module</div>
<div class="title-anchors"><span id="ghlink-Options for the default ssh_file callback module-idm3533" class="ghlink-after"><a href="#Options%20for%20the%20default%20ssh_file%20callback%20module" title="Link to this place!"><span class="paperclip-after"></span></a></span></div>
</h4>
    <article class="data-types-body"><h4 id="type-user_dir_common_option" class="title-link data-type-name" onMouseOver="document.getElementById('ghlink-type-user_dir_common_option').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-type-user_dir_common_option').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-type-user_dir_common_option" class="ghlink-before"><a href="#type-user_dir_common_option" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_file.xml#L174" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">
      <span class="bold_code bc-4"><a name="type-user_dir_common_option">user_dir_common_option()</a> = {user_dir, <span class="bold_code bc-14"><a href="erlang.html#type-string">string()</a></span>}</span><br>
</div>
</h4>
<div class="data-type-desc"><div class="REFBODY rb-7">
	<p>Sets the <span class="bold_code bc-17"><a href="#USERDIR">user directory</a></span>.</p>
      </div></div></article>

    <article class="data-types-body"><h4 id="type-user_dir_fun_common_option" class="title-link data-type-name" onMouseOver="document.getElementById('ghlink-type-user_dir_fun_common_option').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-type-user_dir_fun_common_option').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-type-user_dir_fun_common_option" class="ghlink-before"><a href="#type-user_dir_fun_common_option" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_file.xml#L181" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">
      <span class="bold_code bc-4"><a name="type-user_dir_fun_common_option">user_dir_fun_common_option()</a> = {user_dir_fun, <span class="bold_code bc-17"><a href="#type-user2dir">user2dir()</a></span>}</span><br>
      <span class="bold_code bc-4"><a name="type-user2dir">user2dir()</a> = <br>    fun((RemoteUserName :: <span class="bold_code bc-14"><a href="erlang.html#type-string">string()</a></span>) -&gt; UserDir :: <span class="bold_code bc-14"><a href="erlang.html#type-string">string()</a></span>)</span><br>
</div>
</h4>
<div class="data-type-desc"><div class="REFBODY rb-7">
	<p>Sets the <span class="bold_code bc-17"><a href="#USERDIR">user directory</a></span> dynamically
	by evaluating the <span class="code">user2dir</span> function.
	</p>
      </div></div></article>

    <article class="data-types-body"><h4 id="type-system_dir_daemon_option" class="title-link data-type-name" onMouseOver="document.getElementById('ghlink-type-system_dir_daemon_option').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-type-system_dir_daemon_option').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-type-system_dir_daemon_option" class="ghlink-before"><a href="#type-system_dir_daemon_option" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_file.xml#L191" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">
      <span class="bold_code bc-4"><a name="type-system_dir_daemon_option">system_dir_daemon_option()</a> = {system_dir, <span class="bold_code bc-14"><a href="erlang.html#type-string">string()</a></span>}</span><br>
</div>
</h4>
<div class="data-type-desc"><div class="REFBODY rb-7">
        <p>Sets the <span class="bold_code bc-17"><a href="#SYSDIR">system directory</a></span>.</p>
      </div></div></article>

    <article class="data-types-body"><h4 id="type-pubkey_passphrase_client_options" class="title-link data-type-name" onMouseOver="document.getElementById('ghlink-type-pubkey_passphrase_client_options').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-type-pubkey_passphrase_client_options').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-type-pubkey_passphrase_client_options" class="ghlink-before"><a href="#type-pubkey_passphrase_client_options" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_file.xml#L198" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">
      <span class="bold_code bc-4"><a name="type-pubkey_passphrase_client_options">pubkey_passphrase_client_options()</a> = <br>    {dsa_pass_phrase, <span class="bold_code bc-14"><a href="erlang.html#type-string">string()</a></span>} |<br>    {rsa_pass_phrase, <span class="bold_code bc-14"><a href="erlang.html#type-string">string()</a></span>} |<br>    {ecdsa_pass_phrase, <span class="bold_code bc-14"><a href="erlang.html#type-string">string()</a></span>}</span><br>
</div>
</h4>
<div class="data-type-desc"><div class="REFBODY rb-7">
	<p>If the user's DSA, RSA or ECDSA key is protected by a passphrase, it can be
	supplied with thoose options.
	</p>
	<p>Note that EdDSA passhrases (Curves 25519 and 448) are not implemented.</p>
      </div></div></article>

    <article class="data-types-body"><h4 id="type-optimize_key_lookup" class="title-link data-type-name" onMouseOver="document.getElementById('ghlink-type-optimize_key_lookup').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-type-optimize_key_lookup').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-type-optimize_key_lookup" class="ghlink-before"><a href="#type-optimize_key_lookup" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_file.xml#L208" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">
      <span class="bold_code bc-4"><a name="type-optimize_key_lookup">optimize_key_lookup()</a> = {optimize, time | space}</span><br>
</div>
</h4>
<div class="data-type-desc"><div class="REFBODY rb-7">
        <p>Make the handling of large files fast by setting <span class="code">time</span>, but this will use more memory.
	The <span class="code">space</span> variant shrinks the memory requirements, but with a higher time consumption.
	</p>
	<p>To set it, set the
	option <span class="code">{key_cb, {ssh_file, [{optimize,TimeOrSpace}]}</span> in the call of
	<span class="bold_code bc-15"><a href="ssh.html#connect-3">"ssh:connect/3</a></span>,
	<span class="bold_code bc-15"><a href="ssh.html#daemon-2">ssh:daemon/2</a></span>
	or similar function call that initiates an ssh connection.
	</p>
      </div></div></article>

    <article class="data-types-body"><h4 id="type-key" class="title-link data-type-name" onMouseOver="document.getElementById('ghlink-type-key').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-type-key').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-type-key" class="ghlink-before"><a href="#type-key" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_file.xml#L223" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">
      <span class="bold_code bc-4"><a name="type-key">key()</a> = <span class="bold_code bc-14"><a href="public_key.html#type-public_key">public_key:public_key()</a></span> | <span class="bold_code bc-14"><a href="public_key.html#type-private_key">public_key:private_key()</a></span></span><br>
</div>
</h4>
<div class="data-type-desc"><div class="REFBODY rb-7">
	<p>The key representation.</p>
      </div></div></article>

    <article class="data-types-body"><h4 id="type-experimental_openssh_key_v1" class="title-link data-type-name" onMouseOver="document.getElementById('ghlink-type-experimental_openssh_key_v1').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-type-experimental_openssh_key_v1').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-type-experimental_openssh_key_v1" class="ghlink-before"><a href="#type-experimental_openssh_key_v1" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_file.xml#L230" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">
      <span class="bold_code bc-4"><a name="type-experimental_openssh_key_v1">experimental_openssh_key_v1()</a> = <br>    [{<span class="bold_code bc-17"><a href="#type-key">key()</a></span> |<br>      {ed_pri, ed25519 | ed448, Pub :: <span class="bold_code bc-14"><a href="erlang.html#type-binary">binary()</a></span>, Priv :: <span class="bold_code bc-14"><a href="erlang.html#type-binary">binary()</a></span>} |<br>      {ed_pub, ed25519 | ed448, Key :: <span class="bold_code bc-14"><a href="erlang.html#type-binary">binary()</a></span>},<br>      <span class="bold_code bc-17"><a href="#type-openssh_key_v1_attributes">openssh_key_v1_attributes()</a></span>}]</span><br>
      <span class="bold_code bc-4"><a name="type-openssh_key_v1_attributes">openssh_key_v1_attributes()</a> = [{<span class="bold_code bc-14"><a href="erlang.html#type-atom">atom()</a></span>, <span class="bold_code bc-14"><a href="erlang.html#type-term">term()</a></span>}]</span><br>
</div>
</h4>
<div class="data-type-desc"><div class="REFBODY rb-7">
	<p>Types for the experimental implementaition of the <span class="code">openssh_key_v1</span> format.
	The <span class="code">#ECPoint{}</span> and <span class="code">ECPrivateKey{}</span> are not used for Edwards curves
	(ed25519 and ed448), but will be in next major release.
	</p>
      </div></div></article>

  </div>

  <div class="innertube"><h3 id="export" class="title-link" onMouseOver="document.getElementById('ghlink-export-idm3578').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-export-idm3578').style.visibility = 'hidden';">
<div class="title-name">Exports</div>
<div class="title-anchors"><span id="ghlink-export-idm3578" class="ghlink-after"><a href="#export" title="Link to this place!"><span class="paperclip-after"></span></a></span></div>
</h3></div>
<div class="exports-body">
<article class="func"><h4 id="host_key-2" class="bold_code title-link func-head" onMouseOver="document.getElementById('ghlink-host_key-2-idp35').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-host_key-2-idp35').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-host_key-2-idp35" class="ghlink-before"><a href="#host_key-2" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_file.xml#L244" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<span class="title-name">host_key(Algorithm, Options) -&gt; Result</span><div class="title-since"><span class="since">OTP 21.2</span></div>
</h4>
<div class="REFBODY fun-types">
<h3 id="types" class="func-types-title">Types</h3>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Algorithm = <span class="bold_code bc-15"><a href="ssh.html#type-pubkey_alg">ssh:pubkey_alg()</a></span></span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Result = {ok, <span class="bold_code bc-14"><a href="public_key.html#type-private_key">public_key:private_key()</a></span>} | {error, <span class="bold_code bc-14"><a href="erlang.html#type-term">term()</a></span>}</span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Options = <span class="bold_code bc-15"><a href="ssh_server_key_api.html#type-daemon_key_cb_options">ssh_server_key_api:daemon_key_cb_options</a></span>(<span class="bold_code bc-14"><a href="erlang.html#type-none">none()</a></span>)</span></div>
</div>
<div class="exports-tube"><div class="REFBODY rb-7">
	<p><strong>Types and description</strong></p>
	<p>See the api description in
	<span class="bold_code bc-13"><a href="ssh_server_key_api.html#Module:host_key-2">ssh_server_key_api, Module:host_key/2</a></span>.
	</p>
	<p><strong>Options</strong></p>
	<ul>
	  <li><span class="bold_code bc-17"><a href="#type-system_dir_daemon_option">system_dir</a></span></li>
	  
	  
	  
	</ul>
	<p><strong>Files</strong></p>
	<ul>
	  <li><span class="bold_code bc-17"><a href="#FILE-ssh_host_rsa_key"><span class="code">SYSDIR/ssh_host_rsa_key</span></a></span></li>
	  <li><span class="bold_code bc-17"><a href="#FILE-ssh_host_dsa_key"><span class="code">SYSDIR/ssh_host_dsa_key</span></a></span></li>
	  <li><span class="bold_code bc-17"><a href="#FILE-ssh_host_ecdsa_key"><span class="code">SYSDIR/ssh_host_ecdsa_key</span></a></span></li>
          <li><span class="bold_code bc-17"><a href="#FILE-ssh_host_ed25519_key"><span class="code">SYSDIR/ssh_host_ed25519_key</span></a></span></li>
          <li><span class="bold_code bc-17"><a href="#FILE-ssh_host_ed448_key"><span class="code">SYSDIR/ssh_host_ed448_key</span>c&gt;</a></span></li>
	</ul>
      </div></div></article><article class="func"><h4 id="is_auth_key-3" class="bold_code title-link func-head" onMouseOver="document.getElementById('ghlink-is_auth_key-3-idp36').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-is_auth_key-3-idp36').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-is_auth_key-3-idp36" class="ghlink-before"><a href="#is_auth_key-3" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_file.xml#L270" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<span class="title-name">is_auth_key(Key, User, Options) -&gt; <span class="bold_code bc-14"><a href="erlang.html#type-boolean">boolean()</a></span></span><div class="title-since"><span class="since">OTP 21.2</span></div>
</h4>
<div class="REFBODY fun-types">
<h3 id="types" class="func-types-title">Types</h3>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Key = <span class="bold_code bc-14"><a href="public_key.html#type-public_key">public_key:public_key()</a></span></span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">User = <span class="bold_code bc-14"><a href="erlang.html#type-string">string()</a></span></span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Options = <br>    <span class="bold_code bc-15"><a href="ssh_server_key_api.html#type-daemon_key_cb_options">ssh_server_key_api:daemon_key_cb_options</a></span>(<span class="bold_code bc-17"><a href="#type-optimize_key_lookup">optimize_key_lookup()</a></span>)</span></div>
</div>
<div class="exports-tube"><div class="REFBODY rb-7">
	<p><strong>Types and description</strong></p>
	<p>See the api description in
	<span class="bold_code bc-13"><a href="ssh_server_key_api.html#Module:is_auth_key-3">ssh_server_key_api: Module:is_auth_key/3</a></span>.
	</p>
	<p><strong>Options</strong></p>
	<ul>
	  <li><span class="bold_code bc-17"><a href="#type-user_dir_fun_common_option">user_dir_fun</a></span></li>
	  <li><span class="bold_code bc-17"><a href="#type-user_dir_common_option">user_dir</a></span></li>
	</ul>
	<p><strong>Files</strong></p>
	<ul>
	  <li><span class="bold_code bc-17"><a href="#FILE-authorized_keys"><span class="code">USERDIR/authorized_keys</span></a></span></li>
	  <li><span class="bold_code bc-17"><a href="#FILE-authorized_keys2"><span class="code">USERDIR/authorized_keys2</span></a></span></li>
	</ul>
	<p>This functions discards all options in the begining of the lines of thoose files when reading them.
	</p>
      </div></div></article><article class="func"><h4 id="add_host_key-4" class="bold_code title-link func-head" onMouseOver="document.getElementById('ghlink-add_host_key-4-idp37').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-add_host_key-4-idp37').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-add_host_key-4-idp37" class="ghlink-before"><a href="#add_host_key-4" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_file.xml#L293" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<span class="title-name">add_host_key(Host, Port, Key, Options) -&gt; Result</span><div class="title-since"><span class="since">OTP 23.0</span></div>
</h4>
<div class="REFBODY fun-types">
<h3 id="types" class="func-types-title">Types</h3>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Host = <br>    <span class="bold_code bc-14"><a href="inet.html#type-ip_address">inet:ip_address()</a></span> |<br>    <span class="bold_code bc-14"><a href="inet.html#type-hostname">inet:hostname()</a></span> |<br>    [<span class="bold_code bc-14"><a href="inet.html#type-ip_address">inet:ip_address()</a></span> | <span class="bold_code bc-14"><a href="inet.html#type-hostname">inet:hostname()</a></span>]</span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Port = <span class="bold_code bc-14"><a href="inet.html#type-port_number">inet:port_number()</a></span></span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Key = <span class="bold_code bc-14"><a href="public_key.html#type-public_key">public_key:public_key()</a></span></span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Options = <span class="bold_code bc-15"><a href="ssh_client_key_api.html#type-client_key_cb_options">ssh_client_key_api:client_key_cb_options</a></span>(<span class="bold_code bc-14"><a href="erlang.html#type-none">none()</a></span>)</span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Result = ok | {error, <span class="bold_code bc-14"><a href="erlang.html#type-term">term()</a></span>}</span></div>
</div>
<div class="exports-tube"><div class="REFBODY rb-7">
	<p><strong>Types and description</strong></p>
	<p>See the api description in
	<span class="bold_code bc-13"><a href="ssh_client_key_api.html#Module:add_host_key-4">ssh_client_key_api, Module:add_host_key/4</a></span>.
	</p>
	<a name="add_host_key-3"></a>
	<p>Note that the alternative, the old
	<span class="bold_code bc-13"><a href="ssh_client_key_api.html#Module:add_host_key-3">Module:add_host_key/3</a></span>
	is no longer supported by <span class="code">ssh_file</span>.
	</p>
	<p><strong>Option</strong></p>
	<ul>
	  <li><span class="bold_code bc-17"><a href="#type-user_dir_common_option">user_dir</a></span></li>
	</ul>
	<p><strong>File</strong></p>
	<ul>
	  <li><span class="bold_code bc-17"><a href="#FILE-known_hosts"><span class="code">USERDIR/known_hosts</span></a></span></li>
	</ul>
      </div></div></article><article class="func"><h4 id="is_host_key-5" class="bold_code title-link func-head" onMouseOver="document.getElementById('ghlink-is_host_key-5-idp38').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-is_host_key-5-idp38').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-is_host_key-5-idp38" class="ghlink-before"><a href="#is_host_key-5" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_file.xml#L317" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<span class="title-name">is_host_key(Key, Host, Port, Algorithm, Options) -&gt; Result</span><div class="title-since"><span class="since">OTP 23.0</span></div>
</h4>
<div class="REFBODY fun-types">
<h3 id="types" class="func-types-title">Types</h3>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Key = <span class="bold_code bc-14"><a href="public_key.html#type-public_key">public_key:public_key()</a></span></span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Host = <br>    <span class="bold_code bc-14"><a href="inet.html#type-ip_address">inet:ip_address()</a></span> |<br>    <span class="bold_code bc-14"><a href="inet.html#type-hostname">inet:hostname()</a></span> |<br>    [<span class="bold_code bc-14"><a href="inet.html#type-ip_address">inet:ip_address()</a></span> | <span class="bold_code bc-14"><a href="inet.html#type-hostname">inet:hostname()</a></span>]</span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Port = <span class="bold_code bc-14"><a href="inet.html#type-port_number">inet:port_number()</a></span></span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Algorithm = <span class="bold_code bc-15"><a href="ssh.html#type-pubkey_alg">ssh:pubkey_alg()</a></span></span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Options = <br>    <span class="bold_code bc-15"><a href="ssh_client_key_api.html#type-client_key_cb_options">ssh_client_key_api:client_key_cb_options</a></span>(<span class="bold_code bc-17"><a href="#type-optimize_key_lookup">optimize_key_lookup()</a></span>)</span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Result = <span class="bold_code bc-14"><a href="erlang.html#type-boolean">boolean()</a></span> | {error, <span class="bold_code bc-14"><a href="erlang.html#type-term">term()</a></span>}</span></div>
</div>
<div class="exports-tube"><div class="REFBODY rb-7">
	<p><strong>Types and description</strong></p>
	<p>See the api description in
	<span class="bold_code bc-13"><a href="ssh_client_key_api.html#Module:is_host_key-5">ssh_client_key_api, Module:is_host_key/5</a></span>.
	</p>
	<a name="is_host_key-4"></a>
	<p>Note that the alternative, the old
	<span class="bold_code bc-13"><a href="ssh_client_key_api.html#Module:is_host_key-4">Module:is_host_key/4</a></span>
	is no longer supported by <span class="code">ssh_file</span>.
	</p>
	<p><strong>Option</strong></p>
	<ul>
	  <li><span class="bold_code bc-17"><a href="#type-user_dir_common_option">user_dir</a></span></li>
	</ul>
	<p><strong>File</strong></p>
	<ul>
	  <li><span class="bold_code bc-17"><a href="#FILE-known_hosts"><span class="code">USERDIR/known_hosts</span></a></span></li>
	</ul>
      </div></div></article><article class="func"><h4 id="user_key-2" class="bold_code title-link func-head" onMouseOver="document.getElementById('ghlink-user_key-2-idp39').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-user_key-2-idp39').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-user_key-2-idp39" class="ghlink-before"><a href="#user_key-2" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_file.xml#L341" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<span class="title-name">user_key(Algorithm, Options) -&gt; Result</span><div class="title-since"><span class="since">OTP 21.2</span></div>
</h4>
<div class="REFBODY fun-types">
<h3 id="types" class="func-types-title">Types</h3>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Algorithm = <span class="bold_code bc-15"><a href="ssh.html#type-pubkey_alg">ssh:pubkey_alg()</a></span></span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Result = {ok, <span class="bold_code bc-14"><a href="public_key.html#type-private_key">public_key:private_key()</a></span>} | {error, <span class="bold_code bc-14"><a href="erlang.html#type-string">string()</a></span>}</span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Options = <span class="bold_code bc-15"><a href="ssh_client_key_api.html#type-client_key_cb_options">ssh_client_key_api:client_key_cb_options</a></span>(<span class="bold_code bc-14"><a href="erlang.html#type-none">none()</a></span>)</span></div>
</div>
<div class="exports-tube"><div class="REFBODY rb-7">
	<p><strong>Types and description</strong></p>
	<p>See the api description in
	<span class="bold_code bc-13"><a href="ssh_client_key_api.html#Module:user_key-2">ssh_client_key_api, Module:user_key/2</a></span>.
	</p>
	<p><strong>Options</strong></p>
	<ul>
	  <li><span class="bold_code bc-17"><a href="#type-user_dir_common_option">user_dir</a></span></li>
	  <li><span class="bold_code bc-17"><a href="#type-pubkey_passphrase_client_options">dsa_pass_phrase</a></span></li>
	  <li><span class="bold_code bc-17"><a href="#type-pubkey_passphrase_client_options">rsa_pass_phrase</a></span></li>
	  <li><span class="bold_code bc-17"><a href="#type-pubkey_passphrase_client_options">ecdsa_pass_phrase</a></span></li>
	</ul>
	<p>Note that EdDSA passhrases (Curves 25519 and 448) are not implemented.</p>
	<p><strong>Files</strong>
	</p>
	<ul>
	  <li><span class="bold_code bc-17"><a href="#FILE-id_dsa"><span class="code">USERDIR/id_dsa</span></a></span></li>
	  <li><span class="bold_code bc-17"><a href="#FILE-id_rsa"><span class="code">USERDIR/id_rsa</span></a></span></li>
	  <li><span class="bold_code bc-17"><a href="#FILE-id_ecdsa"><span class="code">USERDIR/id_ecdsa</span></a></span></li>
	  <li><span class="bold_code bc-17"><a href="#FILE-id_ed25519"><span class="code">USERDIR/id_ed25519</span></a></span></li>
	  <li><span class="bold_code bc-17"><a href="#FILE-id_ed448"><span class="code">USERDIR/id_ed448</span></a></span></li>
	</ul>
      </div></div></article><article class="func"><h4 id="decode-2" class="bold_code title-link func-head" onMouseOver="document.getElementById('ghlink-decode-2-idp40').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-decode-2-idp40').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-decode-2-idp40" class="ghlink-before"><a href="#decode-2" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_file.xml#L369" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<span class="title-name">decode(SshBin, Type) -&gt; Decoded | {error, <span class="bold_code bc-14"><a href="erlang.html#type-term">term()</a></span>}</span><div class="title-since"><span class="since">OTP 24.0</span></div>
</h4>
<div class="REFBODY fun-types">
<h3 id="types" class="func-types-title">Types</h3>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">SshBin = <span class="bold_code bc-14"><a href="erlang.html#type-binary">binary()</a></span></span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Type = <br>    ssh2_pubkey | public_key | openssh_key | rfc4716_key |<br>    openssh_key_v1 | known_hosts | auth_keys</span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Decoded = <br>    Decoded_ssh2_pubkey | Decoded_public | Decoded_openssh |<br>    Decoded_rfc4716 | Decoded_openssh_key_v1 |<br>    Decoded_known_hosts | Decoded_auth_keys</span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Decoded_ssh2_pubkey = <span class="bold_code bc-14"><a href="public_key.html#type-public_key">public_key:public_key()</a></span></span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Decoded_public = <br>    Decoded_rfc4716 | Decoded_openssh_key_v1 | Decoded_openssh</span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Decoded_openssh = <br>    [{<span class="bold_code bc-14"><a href="public_key.html#type-public_key">public_key:public_key()</a></span>, [{comment, <span class="bold_code bc-14"><a href="erlang.html#type-string">string()</a></span>}]}]</span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Decoded_rfc4716 = [{<span class="bold_code bc-17"><a href="#type-key">key()</a></span>, [{headers, Attrs}]}]</span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Decoded_openssh_key_v1 = <span class="bold_code bc-17"><a href="#type-experimental_openssh_key_v1">experimental_openssh_key_v1()</a></span></span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Decoded_known_hosts = <br>    [{<span class="bold_code bc-14"><a href="public_key.html#type-public_key">public_key:public_key()</a></span>,<br>      [{comment, <span class="bold_code bc-14"><a href="erlang.html#type-string">string()</a></span>} | {hostnames, [<span class="bold_code bc-14"><a href="erlang.html#type-string">string()</a></span>]}]}]</span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Decoded_auth_keys = <br>    [{<span class="bold_code bc-14"><a href="public_key.html#type-public_key">public_key:public_key()</a></span>,<br>      [{comment, <span class="bold_code bc-14"><a href="erlang.html#type-string">string()</a></span>} | {options, [<span class="bold_code bc-14"><a href="erlang.html#type-string">string()</a></span>]}]}]</span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Attrs = {Key :: <span class="bold_code bc-14"><a href="erlang.html#type-string">string()</a></span>, Value :: <span class="bold_code bc-14"><a href="erlang.html#type-string">string()</a></span>}</span></div>
</div>
<div class="exports-tube"><div class="REFBODY rb-7">
	<p>Decodes an SSH file-binary.</p>
	<p>If <span class="code">Type</span> is <span class="code">public_key</span> the binary can be either
	an RFC4716 public key or an OpenSSH public key.</p>
	<div class="note">
<div class="label">Note</div>
<div class="content"><p>
	  <p>The following key types have been renamed from the deprecated
	  <span class="bold_code bc-13"><a href="public_key.html#ssh_decode-2">public_key:ssh_decode/2</a></span>:</p>
	  <ul>
	    <li>rfc4716_public_key -&gt; rfc4716_key</li>
	    <li>openssh_public_key -&gt; openssh_key</li>
	  </ul>
	</p></div>
</div>
	<div class="note">
<div class="label">Note</div>
<div class="content"><p><p>The implementation of the <span class="code">openssh_key_v1</span> format is still experimental.</p></p></div>
</div>
      </div></div></article><article class="func"><h4 id="encode-2" class="bold_code title-link func-head" onMouseOver="document.getElementById('ghlink-encode-2-idp41').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-encode-2-idp41').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-encode-2-idp41" class="ghlink-before"><a href="#encode-2" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_file.xml#L388" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<span class="title-name">encode(InData, Type) -&gt; <span class="bold_code bc-14"><a href="erlang.html#type-binary">binary()</a></span> | {error, <span class="bold_code bc-14"><a href="erlang.html#type-term">term()</a></span>}</span><div class="title-since"><span class="since">OTP 24.0</span></div>
</h4>
<div class="REFBODY fun-types">
<h3 id="types" class="func-types-title">Types</h3>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Type = <br>    ssh2_pubkey | openssh_key | rfc4716_key | openssh_key_v1 |<br>    known_hosts | auth_keys</span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">InData = <br>    InData_ssh2_pubkey | InData_openssh | InData_rfc4716 |<br>    InData_openssh_key_v1 | InData_known_hosts | InData_auth_keys</span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">InData_ssh2_pubkey = <span class="bold_code bc-14"><a href="public_key.html#type-public_key">public_key:public_key()</a></span></span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">InData_openssh = <br>    [{<span class="bold_code bc-14"><a href="public_key.html#type-public_key">public_key:public_key()</a></span>, [{comment, <span class="bold_code bc-14"><a href="erlang.html#type-string">string()</a></span>}]}]</span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">InData_rfc4716 = [{<span class="bold_code bc-17"><a href="#type-key">key()</a></span>, [{headers, Attrs}]}]</span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">InData_openssh_key_v1 = <span class="bold_code bc-17"><a href="#type-experimental_openssh_key_v1">experimental_openssh_key_v1()</a></span></span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">InData_known_hosts = <br>    [{<span class="bold_code bc-14"><a href="public_key.html#type-public_key">public_key:public_key()</a></span>,<br>      [{comment, <span class="bold_code bc-14"><a href="erlang.html#type-string">string()</a></span>} | {hostnames, [<span class="bold_code bc-14"><a href="erlang.html#type-string">string()</a></span>]}]}]</span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">InData_auth_keys = <br>    [{<span class="bold_code bc-14"><a href="public_key.html#type-public_key">public_key:public_key()</a></span>,<br>      [{comment, <span class="bold_code bc-14"><a href="erlang.html#type-string">string()</a></span>} | {options, [<span class="bold_code bc-14"><a href="erlang.html#type-string">string()</a></span>]}]}]</span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Attrs = {Key :: <span class="bold_code bc-14"><a href="erlang.html#type-string">string()</a></span>, Value :: <span class="bold_code bc-14"><a href="erlang.html#type-string">string()</a></span>}</span></div>
</div>
<div class="exports-tube"><div class="REFBODY rb-7">
	<p>Encodes a list of SSH file entries (public keys and attributes) to a binary.</p>
	<div class="note">
<div class="label">Note</div>
<div class="content"><p>
	  <p>The following key types have been renamed from the deprecated
	  <span class="bold_code bc-13"><a href="public_key.html#ssh_encode-2">public_key:ssh_encode/2</a></span>:</p>
	  <ul>
	    <li>rfc4716_public_key -&gt; rfc4716_key</li>
	    <li>openssh_public_key -&gt; openssh_key</li>
	  </ul>
	</p></div>
</div>
	<div class="note">
<div class="label">Note</div>
<div class="content"><p><p>The implementation of the <span class="code">openssh_key_v1</span> format is still experimental.</p></p></div>
</div>
      </div></div></article>
</div>

<div class="footer">
<hr>
<p>Copyright © 2005-2024 Ericsson AB. All Rights Reserved.</p>
</div>
</div>
</div>
<script type="text/javascript">window.__otpTopDocDir = '../js/';</script><script type="text/javascript" src="../js/highlight.js"></script>
<script type="text/javascript">
_docsearch_version = "24";
</script> 
<script src="/assets/js/doc-search.bundle.js"></script>
</body>
</html>
