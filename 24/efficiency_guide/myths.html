<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:erl="http://erlang.org" xmlns:fn="http://www.w3.org/2005/02/xpath-functions">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="utf-8">
<link rel="stylesheet" href="../otp_doc.css" type="text/css">
<meta name="major-vsn" content="24">
<title>Erlang -- The Seven Myths of Erlang Performance</title>
</head>
<body>
<div id="container">
<script id="js" type="text/javascript" language="JavaScript" src="../js/flipmenu/flipmenu.js"></script><script id="js2" type="text/javascript" src="../js/erlresolvelinks.js"></script><script id="js3" type="text/javascript" src="../js/topbar.js"></script><script language="JavaScript" type="text/javascript">
            <!--
              function setscrollpos() {
                var objf = document.getElementById('loadscrollpos');
                if (objf) {
                  document.getElementById("leftnav").firstChild.scrollTop = objf.offsetTop - 10;
                }
              }

              function addEvent(obj, evType, fn){
                if (obj.addEventListener){
                obj.addEventListener(evType, fn, true);
                return true;
              } else if (obj.attachEvent){
                var r = obj.attachEvent("on"+evType, fn);
                return r;
              } else {
                return false;
              }
             }

             addEvent(window, 'load', setscrollpos);

             //-->
</script><div class="topbar">
<div class="topbar-expand "><button onclick="toggleDisplay();"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="Capa_1" viewBox="0 0 54 54" width="24" height="24"><g><path style="fill:#000000;" d="M27,54c-0.552,0-1-0.448-1-1V8c0-0.552,0.448-1,1-1s1,0.448,1,1v45C28,53.552,27.552,54,27,54z"></path><path style="fill:#000000;" d="M11,25c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414l16-16                                      c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414l-16,16C11.512,24.902,11.256,25,11,25z"></path><path style="fill:#000000;" d="M43,25c-0.256,0-0.512-0.098-0.707-0.293l-16-16c-0.391-0.391-0.391-1.023,0-1.414                                      s1.023-0.391,1.414,0l16,16c0.391,0.391,0.391,1.023,0,1.414C43.512,24.902,43.256,25,43,25z"></path><path style="fill:#000000;" d="M43,2H11c-0.552,0-1-0.448-1-1s0.448-1,1-1h32c0.552,0,1,0.448,1,1S43.552,2,43,2z"></path></g></svg></button></div>
<div class="topbar-title"><h1 id="The Seven Myths of Erlang Performance">2Â 
                The Seven Myths of Erlang Performance</h1></div>
<div class="search-expand ">        <button id="docsearch-mobile">
            <svg fill="#000000" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 50 50" width="24" height="24"><path d="M 21 3 C 11.621094 3 4 10.621094 4 20 C 4 29.378906 11.621094 37 21 37 C 24.710938 37 28.140625 35.804688 30.9375 33.78125 L 44.09375 46.90625 L 46.90625 44.09375 L 33.90625 31.0625 C 36.460938 28.085938 38 24.222656 38 20 C 38 10.621094 30.378906 3 21 3 Z M 21 5 C 29.296875 5 36 11.703125 36 20 C 36 28.296875 29.296875 35 21 35 C 12.703125 35 6 28.296875 6 20 C 6 11.703125 12.703125 5 21 5 Z"/></svg>
        </button>
</div>
</div>
<aside class="hide-mobile" id="leftnav"><nav class="leftnav-tube"><div class="erlang-logo-wrapper"><a href="../index.html"><img alt="Erlang Logo" src="../erlang-logo.png" class="erlang-logo"></a></div>
<p class="section-title">Efficiency Guide</p>
<p class="section-subtitle">User's Guide</p>
<p class="section-version">Version 12.3.2.17</p>
<ul class="panel-sections">
<li><a href="users_guide.html">User's Guide</a></li>
<li><a href="../pdf/otp-system-documentation.pdf">PDF</a></li>
<li><a href="../index.html">Top</a></li>
</ul>
<div id="docsearch"></div>
<div style="padding-left: 1rem; padding-top: 0.1rem;"><a href="/doc/search?v=24">Paginated Search</a></div>
<ul class="expand-collapse-items">
<li><a href="javascript:openAllFlips()">Expand All</a></li>
<li><a href="javascript:closeAllFlips()">Contract All</a></li>
</ul>
<h3 id="chapters">Chapters</h3>
<ul class="flipMenu" imagePath="../js/flipmenu">
<li id="no" title="Introduction" expanded="false">Introduction<ul>
<li><a href="introduction.html">
              Top of chapter
            </a></li>
<li title="Purpose"><a href="introduction.html#purpose">Purpose</a></li>
<li title="Prerequisites"><a href="introduction.html#prerequisites">Prerequisites</a></li>
</ul>
</li>
<li id="loadscrollpos" title="The Seven Myths of Erlang Performance" expanded="true">The Seven Myths of Erlang Performance<ul>
<li><a href="myths.html">
              Top of chapter
            </a></li>
<li title="Myth: Tail-Recursive Functions are Much Faster
    Than Recursive Functions"><a href="myths.html#myth--tail-recursive-functions-are-much-faster-----than-recursive-functions">Myth: Tail-Recursive Functions are Much Faster
    Than Recursive Functions</a></li>
<li title='Myth: Operator "++" is Always Bad'><a href="myths.html#myth--operator--++--is-always-bad">Myth: Operator "++" is Always Bad</a></li>
<li title="Myth: Strings are Slow"><a href="myths.html#myth--strings-are-slow">Myth: Strings are Slow</a></li>
<li title="Myth: Repairing a Dets File is Very Slow"><a href="myths.html#myth--repairing-a-dets-file-is-very-slow">Myth: Repairing a Dets File is Very Slow</a></li>
<li title="Myth: BEAM is a Stack-Based Byte-Code Virtual Machine
    (and Therefore Slow)"><a href="myths.html#myth--beam-is-a-stack-based-byte-code-virtual-machine------and-therefore-slow-">Myth: BEAM is a Stack-Based Byte-Code Virtual Machine
    (and Therefore Slow)</a></li>
<li title='Myth: Use "_" to Speed Up Your Program When a Variable
    is Not Used'><a href="myths.html#myth--use--_--to-speed-up-your-program-when-a-variable-----is-not-used">Myth: Use "_" to Speed Up Your Program When a Variable
    is Not Used</a></li>
<li title="Myth: A NIF Always Speeds Up Your Program"><a href="myths.html#myth--a-nif-always-speeds-up-your-program">Myth: A NIF Always Speeds Up Your Program</a></li>
</ul>
</li>
<li id="no" title="Common Caveats" expanded="false">Common Caveats<ul>
<li><a href="commoncaveats.html">
              Top of chapter
            </a></li>
<li title="Timer Module"><a href="commoncaveats.html#timer-module">Timer Module</a></li>
<li title="Accidental Copying and Loss of Sharing"><a href="commoncaveats.html#accidental-copying-and-loss-of-sharing">Accidental Copying and Loss of Sharing</a></li>
<li title="list_to_atom/1"><a href="commoncaveats.html#list_to_atom-1">list_to_atom/1</a></li>
<li title="length/1"><a href="commoncaveats.html#length-1">length/1</a></li>
<li title="setelement/3"><a href="commoncaveats.html#setelement-3">setelement/3</a></li>
<li title="size/1"><a href="commoncaveats.html#size-1">size/1</a></li>
<li title="split_binary/2"><a href="commoncaveats.html#split_binary-2">split_binary/2</a></li>
</ul>
</li>
<li id="no" title="Constructing and Matching Binaries" expanded="false">Constructing and Matching Binaries<ul>
<li><a href="binaryhandling.html">
              Top of chapter
            </a></li>
<li title="How Binaries are Implemented"><a href="binaryhandling.html#how-binaries-are-implemented">How Binaries are Implemented</a></li>
<li title="Constructing Binaries"><a href="binaryhandling.html#constructing-binaries">Constructing Binaries</a></li>
<li title="Matching Binaries"><a href="binaryhandling.html#matching-binaries">Matching Binaries</a></li>
<li title="Historical Note"><a href="binaryhandling.html#historical-note">Historical Note</a></li>
</ul>
</li>
<li id="no" title="Maps" expanded="false">Maps<ul>
<li><a href="maps.html">
              Top of chapter
            </a></li>
<li title="Maps or Records?"><a href="maps.html#maps-or-records-">Maps or Records?</a></li>
<li title="Using Maps as an Alternative to Records"><a href="maps.html#using-maps-as-an-alternative-to-records">Using Maps as an Alternative to Records</a></li>
<li title="Using Maps as Dictionaries"><a href="maps.html#using-maps-as-dictionaries">Using Maps as Dictionaries</a></li>
<li title="Using Maps as Sets"><a href="maps.html#using-maps-as-sets">Using Maps as Sets</a></li>
<li title="How Maps are Implemented"><a href="maps.html#how-maps-are-implemented">How Maps are Implemented</a></li>
<li title="Using the Map Syntax"><a href="maps.html#using-the-map-syntax">Using the Map Syntax</a></li>
<li title="Using the Functions in the maps Module"><a href="maps.html#using-the-functions-in-the-maps-module">Using the Functions in the maps Module</a></li>
</ul>
</li>
<li id="no" title="List Handling" expanded="false">List Handling<ul>
<li><a href="listHandling.html">
              Top of chapter
            </a></li>
<li title="Creating a List"><a href="listHandling.html#creating-a-list">Creating a List</a></li>
<li title="List Comprehensions"><a href="listHandling.html#list-comprehensions">List Comprehensions</a></li>
<li title="Deep and Flat Lists"><a href="listHandling.html#deep-and-flat-lists">Deep and Flat Lists</a></li>
<li title="Recursive List Functions"><a href="listHandling.html#recursive-list-functions">Recursive List Functions</a></li>
</ul>
</li>
<li id="no" title="Functions" expanded="false">Functions<ul>
<li><a href="functions.html">
              Top of chapter
            </a></li>
<li title="Pattern Matching"><a href="functions.html#pattern-matching">Pattern Matching</a></li>
<li title="Function Calls"><a href="functions.html#function-calls">Function Calls</a></li>
<li title="Memory Usage in Recursion"><a href="functions.html#memory-usage-in-recursion">Memory Usage in Recursion</a></li>
</ul>
</li>
<li id="no" title="Tables and Databases" expanded="false">Tables and Databases<ul>
<li><a href="tablesDatabases.html">
              Top of chapter
            </a></li>
<li title="Ets, Dets, and Mnesia"><a href="tablesDatabases.html#ets,-dets,-and-mnesia">Ets, Dets, and Mnesia</a></li>
<li title="Ets-Specific"><a href="tablesDatabases.html#ets-specific">Ets-Specific</a></li>
<li title="Mnesia-Specific"><a href="tablesDatabases.html#mnesia-specific">Mnesia-Specific</a></li>
</ul>
</li>
<li id="no" title="Processes" expanded="false">Processes<ul>
<li><a href="processes.html">
              Top of chapter
            </a></li>
<li title="Creating an Erlang Process"><a href="processes.html#creating-an-erlang-process">Creating an Erlang Process</a></li>
<li title="Sending Messages"><a href="processes.html#sending-messages">Sending Messages</a></li>
<li title="Receiving messages"><a href="processes.html#receiving-messages">Receiving messages</a></li>
<li title="Literal Pool"><a href="processes.html#literal-pool">Literal Pool</a></li>
<li title="Loss of Sharing"><a href="processes.html#loss-of-sharing">Loss of Sharing</a></li>
<li title="SMP Emulator"><a href="processes.html#smp-emulator">SMP Emulator</a></li>
</ul>
</li>
<li id="no" title="Drivers" expanded="false">Drivers<ul>
<li><a href="drivers.html">
              Top of chapter
            </a></li>
<li title="Drivers and Concurrency"><a href="drivers.html#drivers-and-concurrency">Drivers and Concurrency</a></li>
<li title="Avoiding Copying Binaries When Calling a Driver"><a href="drivers.html#avoiding-copying-binaries-when-calling-a-driver">Avoiding Copying Binaries When Calling a Driver</a></li>
<li title="Returning Small Binaries from a Driver"><a href="drivers.html#returning-small-binaries-from-a-driver">Returning Small Binaries from a Driver</a></li>
<li title="Returning Large Binaries without Copying from a Driver"><a href="drivers.html#returning-large-binaries-without-copying-from-a-driver">Returning Large Binaries without Copying from a Driver</a></li>
</ul>
</li>
<li id="no" title="Advanced" expanded="false">Advanced<ul>
<li><a href="advanced.html">
              Top of chapter
            </a></li>
<li title="Memory"><a href="advanced.html#memory">Memory</a></li>
<li title="System Limits"><a href="advanced.html#system-limits">System Limits</a></li>
</ul>
</li>
<li id="no" title="Profiling" expanded="false">Profiling<ul>
<li><a href="profiling.html">
              Top of chapter
            </a></li>
<li title="Do Not Guess About Performance - Profile"><a href="profiling.html#do-not-guess-about-performance---profile">Do Not Guess About Performance - Profile</a></li>
<li title="Memory profiling"><a href="profiling.html#memory-profiling">Memory profiling</a></li>
<li title="Large Systems"><a href="profiling.html#large-systems">Large Systems</a></li>
<li title="What to Look For"><a href="profiling.html#what-to-look-for">What to Look For</a></li>
<li title="Tools"><a href="profiling.html#tools">Tools</a></li>
<li title="Benchmarking"><a href="profiling.html#benchmarking">Benchmarking</a></li>
</ul>
</li>
<li id="no" title="Retired Myths" expanded="false">Retired Myths<ul>
<li><a href="retired_myths.html">
              Top of chapter
            </a></li>
<li title="Myth: Funs are Slow"><a href="retired_myths.html#myth--funs-are-slow">Myth: Funs are Slow</a></li>
<li title="Myth: List Comprehensions are Slow"><a href="retired_myths.html#myth--list-comprehensions-are-slow">Myth: List Comprehensions are Slow</a></li>
<li title='Myth: List subtraction ("--" operator) is slow'><a href="retired_myths.html#myth--list-subtraction-------operator--is-slow">Myth: List subtraction ("--" operator) is slow</a></li>
</ul>
</li>
</ul></nav></aside><div id="content">
<div class="innertube">
<h1 id="The Seven Myths of Erlang Performance">2Â The Seven Myths of Erlang Performance</h1>
  

  <a name="myths"></a>
  <p>Some truths seem to live on well beyond their best-before date,
  perhaps because "information" spreads faster from person-to-person
  than a single release note that says, for example, that body-recursive
  calls have become faster.</p>

  <p>This section tries to kill the old truths (or semi-truths) that have
  become myths.</p>

  <h3 id="myth--tail-recursive-functions-are-much-faster-----than-recursive-functions" class="title-link" onMouseOver="document.getElementById('ghlink-myth--tail-recursive-functions-are-much-faster-----than-recursive-functions-idm69').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-myth--tail-recursive-functions-are-much-faster-----than-recursive-functions-idm69').style.visibility = 'hidden';">
<div class="title-name">2.1Â 
        Myth: Tail-Recursive Functions are Much Faster
    Than Recursive Functions</div>
<div class="title-anchors"><span id="ghlink-myth--tail-recursive-functions-are-much-faster-----than-recursive-functions-idm69" class="ghlink-after"><a href="#myth--tail-recursive-functions-are-much-faster-----than-recursive-functions" title="Link to this place!"><span class="paperclip-after"></span></a><a href="https://github.com/erlang/otp/edit/maint/system/doc/efficiency_guide/myths.xml#L44" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-after"></span></a></span></div>
</h3>
    

    <p><a name="tail_recursive"></a>According to the myth,
    using a tail-recursive function that builds a list in reverse
    followed by a call to <span class="code">lists:reverse/1</span> is faster than
    a body-recursive function that builds the list in correct order;
    the reason being that body-recursive functions use more memory than
    tail-recursive functions.</p>

    <p>That was true to some extent before R12B. It was even more true
    before R7B. Today, not so much. A body-recursive function
    generally uses the same amount of memory as a tail-recursive
    function. It is generally not possible to predict whether the
    tail-recursive or the body-recursive version will be
    faster. Therefore, use the version that makes your code cleaner
    (hint: it is usually the body-recursive version).</p>

    <p>For a more thorough discussion about tail and body recursion,
    see <span class="bold_code bc-20"><a href="http://ferd.ca/erlang-s-tail-recursion-is-not-a-silver-bullet.html">Erlang's Tail Recursion is Not a Silver Bullet</a></span>.</p>

    <div class="note">
<div class="label">Note</div>
<div class="content"><p><p>A tail-recursive function that does not need to reverse the
    list at the end is faster than a body-recursive function,
    as are tail-recursive functions that do not construct any terms at all
    (for example, a function that sums all integers in a list).</p></p></div>
</div>
  

  <h3 id="myth--operator--++--is-always-bad" class="title-link" onMouseOver="document.getElementById('ghlink-myth--operator--++--is-always-bad-idm79').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-myth--operator--++--is-always-bad-idm79').style.visibility = 'hidden';">
<div class="title-name">2.2Â 
        Myth: Operator "++" is Always Bad</div>
<div class="title-anchors"><span id="ghlink-myth--operator--++--is-always-bad-idm79" class="ghlink-after"><a href="#myth--operator--++--is-always-bad" title="Link to this place!"><span class="paperclip-after"></span></a><a href="https://github.com/erlang/otp/edit/maint/system/doc/efficiency_guide/myths.xml#L72" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-after"></span></a></span></div>
</h3>
    

    <p>The <span class="code">++</span> operator has, somewhat undeservedly, got a bad reputation.
    It probably has something to do with code like the following,
    which is the most inefficient way there is to reverse a list:</p>
    
    <p><strong>DO NOT</strong></p>
    <div class="example example-erl"><pre>naive_reverse([H|T]) -&gt;
    naive_reverse(T)++[H];
naive_reverse([]) -&gt;
    [].</pre></div>

    <p>As the <span class="code">++</span> operator copies its left operand, the result
    is copied repeatedly, leading to quadratic complexity.</p>

    <p>But using <span class="code">++</span> as follows is not bad:</p>

    <p><strong>OK</strong></p>
    <div class="example example-erl"><pre>naive_but_ok_reverse([H|T], Acc) -&gt;
    naive_but_ok_reverse(T, [H]++Acc);
naive_but_ok_reverse([], Acc) -&gt;
    Acc.</pre></div>

    <p>Each list element is copied only once.
    The growing result <span class="code">Acc</span> is the right operand
    for the <span class="code">++</span> operator, and it is <strong>not</strong> copied.</p>

    <p>Experienced Erlang programmers would write as follows:</p>

    <p><strong>DO</strong></p>
    <div class="example example-erl"><pre>vanilla_reverse([H|T], Acc) -&gt;
    vanilla_reverse(T, [H|Acc]);
vanilla_reverse([], Acc) -&gt;
    Acc.</pre></div>

    <p>This is slightly more efficient because here you do not build a
    list element only to copy it directly. (Or it would be more efficient
    if the compiler did not automatically rewrite <span class="code">[H]++Acc</span>
    to <span class="code">[H|Acc]</span>.)</p>
  

  <h3 id="myth--strings-are-slow" class="title-link" onMouseOver="document.getElementById('ghlink-myth--strings-are-slow-idm104').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-myth--strings-are-slow-idm104').style.visibility = 'hidden';">
<div class="title-name">2.3Â 
        Myth: Strings are Slow</div>
<div class="title-anchors"><span id="ghlink-myth--strings-are-slow-idm104" class="ghlink-after"><a href="#myth--strings-are-slow" title="Link to this place!"><span class="paperclip-after"></span></a><a href="https://github.com/erlang/otp/edit/maint/system/doc/efficiency_guide/myths.xml#L117" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-after"></span></a></span></div>
</h3>
    

    <p>String handling can be slow if done improperly.
    In Erlang, you need to think a little more about how the strings
    are used and choose an appropriate representation. If you
    use regular expressions, use the
    <span class="bold_code bc-18"><a href="../man/re.html">re</a></span> module in STDLIB
    instead of the obsolete <span class="code">regexp</span> module.</p>
  

  <h3 id="myth--repairing-a-dets-file-is-very-slow" class="title-link" onMouseOver="document.getElementById('ghlink-myth--repairing-a-dets-file-is-very-slow-idm109').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-myth--repairing-a-dets-file-is-very-slow-idm109').style.visibility = 'hidden';">
<div class="title-name">2.4Â 
        Myth: Repairing a Dets File is Very Slow</div>
<div class="title-anchors"><span id="ghlink-myth--repairing-a-dets-file-is-very-slow-idm109" class="ghlink-after"><a href="#myth--repairing-a-dets-file-is-very-slow" title="Link to this place!"><span class="paperclip-after"></span></a><a href="https://github.com/erlang/otp/edit/maint/system/doc/efficiency_guide/myths.xml#L128" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-after"></span></a></span></div>
</h3>
    

    <p>The repair time is still proportional to the number of records
    in the file, but Dets repairs used to be much slower in the past.
    Dets has been massively rewritten and improved.</p>
  

  <h3 id="myth--beam-is-a-stack-based-byte-code-virtual-machine------and-therefore-slow-" class="title-link" onMouseOver="document.getElementById('ghlink-myth--beam-is-a-stack-based-byte-code-virtual-machine------and-therefore-slow--idm112').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-myth--beam-is-a-stack-based-byte-code-virtual-machine------and-therefore-slow--idm112').style.visibility = 'hidden';">
<div class="title-name">2.5Â 
        Myth: BEAM is a Stack-Based Byte-Code Virtual Machine
    (and Therefore Slow)</div>
<div class="title-anchors"><span id="ghlink-myth--beam-is-a-stack-based-byte-code-virtual-machine------and-therefore-slow--idm112" class="ghlink-after"><a href="#myth--beam-is-a-stack-based-byte-code-virtual-machine------and-therefore-slow-" title="Link to this place!"><span class="paperclip-after"></span></a><a href="https://github.com/erlang/otp/edit/maint/system/doc/efficiency_guide/myths.xml#L136" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-after"></span></a></span></div>
</h3>
    

    <p>BEAM is a register-based virtual machine. It has 1024 virtual registers
    that are used for holding temporary values and for passing arguments when
    calling functions. Variables that need to survive a function call are saved
    to the stack.</p>

    <p>BEAM is a threaded-code interpreter. Each instruction is word pointing
    directly to executable C-code, making instruction dispatching very fast.</p>
  

  <h3 id="myth--use--_--to-speed-up-your-program-when-a-variable-----is-not-used" class="title-link" onMouseOver="document.getElementById('ghlink-myth--use--_--to-speed-up-your-program-when-a-variable-----is-not-used-idm116').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-myth--use--_--to-speed-up-your-program-when-a-variable-----is-not-used-idm116').style.visibility = 'hidden';">
<div class="title-name">2.6Â 
        Myth: Use "_" to Speed Up Your Program When a Variable
    is Not Used</div>
<div class="title-anchors"><span id="ghlink-myth--use--_--to-speed-up-your-program-when-a-variable-----is-not-used-idm116" class="ghlink-after"><a href="#myth--use--_--to-speed-up-your-program-when-a-variable-----is-not-used" title="Link to this place!"><span class="paperclip-after"></span></a><a href="https://github.com/erlang/otp/edit/maint/system/doc/efficiency_guide/myths.xml#L149" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-after"></span></a></span></div>
</h3>
    

    <p>That was once true, but from R6B the BEAM compiler can see
    that a variable is not used.</p>

    <p>Similarly, trivial transformations on the source-code level
    such as converting a <span class="code">case</span> statement to clauses at the
    top-level of the function seldom makes any difference to the
    generated code.</p>
  

  <h3 id="myth--a-nif-always-speeds-up-your-program" class="title-link" onMouseOver="document.getElementById('ghlink-myth--a-nif-always-speeds-up-your-program-idm121').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-myth--a-nif-always-speeds-up-your-program-idm121').style.visibility = 'hidden';">
<div class="title-name">2.7Â 
        Myth: A NIF Always Speeds Up Your Program</div>
<div class="title-anchors"><span id="ghlink-myth--a-nif-always-speeds-up-your-program-idm121" class="ghlink-after"><a href="#myth--a-nif-always-speeds-up-your-program" title="Link to this place!"><span class="paperclip-after"></span></a><a href="https://github.com/erlang/otp/edit/maint/system/doc/efficiency_guide/myths.xml#L162" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-after"></span></a></span></div>
</h3>
    

    <p>Rewriting Erlang code to a NIF to make it faster should be
    seen as a last resort. It is only guaranteed to be dangerous,
    but not guaranteed to speed up the program.</p>

    <p>Doing too much work in each NIF call will
    <span class="bold_code bc-13"><a href="../man/erl_nif.html#WARNING">degrade responsiveness
    of the VM</a></span>. Doing too little work may mean that
    the gain of the faster processing in the NIF is eaten up by
    the overhead of calling the NIF and checking the arguments.</p>

    <p>Be sure to read about
    <span class="bold_code bc-13"><a href="../man/erl_nif.html#lengthy_work">Long-running NIFs</a></span>
    before writing a NIF.</p>
  
</div>
<div class="footer">
<hr>
<p>Copyright Â© 2001-2024 Ericsson AB. All Rights Reserved.</p>
</div>
</div>
</div>
<script type="text/javascript">window.__otpTopDocDir = '../js/';</script><script type="text/javascript" src="../js/highlight.js"></script>
<script type="text/javascript">
_docsearch_version = "24";
</script> 
<script src="/assets/js/doc-search.bundle.js"></script>
</body>
</html>
