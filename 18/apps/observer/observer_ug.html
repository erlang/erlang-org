<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:fn="http://www.w3.org/2005/02/xpath-functions">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="../../otp_doc.css" type="text/css">
<title>Erlang -- Observer</title>
</head>
<body bgcolor="white" text="#000000" link="#0000ff" vlink="#ff00ff" alink="#ff0000"><div id="container">
<script id="js" type="text/javascript" language="JavaScript" src="../../js/flipmenu/flipmenu.js"></script><script id="js2" type="text/javascript" src="../../js/erlresolvelinks.js"></script><script language="JavaScript" type="text/javascript">
            <!--
              function getWinHeight() {
                var myHeight = 0;
                if( typeof( window.innerHeight ) == 'number' ) {
                  //Non-IE
                  myHeight = window.innerHeight;
                } else if( document.documentElement && ( document.documentElement.clientWidth ||
                                                         document.documentElement.clientHeight ) ) {
                  //IE 6+ in 'standards compliant mode'
                  myHeight = document.documentElement.clientHeight;
                } else if( document.body && ( document.body.clientWidth || document.body.clientHeight ) ) {
                  //IE 4 compatible
                  myHeight = document.body.clientHeight;
                }
                return myHeight;
              }

              function setscrollpos() {
                var objf=document.getElementById('loadscrollpos');
                 document.getElementById("leftnav").scrollTop = objf.offsetTop - getWinHeight()/2;
              }

              function addEvent(obj, evType, fn){
                if (obj.addEventListener){
                obj.addEventListener(evType, fn, true);
                return true;
              } else if (obj.attachEvent){
                var r = obj.attachEvent("on"+evType, fn);
                return r;
              } else {
                return false;
              }
             }

             addEvent(window, 'load', setscrollpos);

             //--></script><div id="leftnav"><div class="innertube">
<img alt="Erlang logo" src="../../erlang-logo.png"><br><small><a href="users_guide.html">User's Guide</a><br><a href="index.html">Reference Manual</a><br><a href="release_notes.html">Release Notes</a><br><a href="observer.pdf">PDF</a><br><a href="../../index.html">Top</a></small><p><strong>Observer</strong><br><strong>User's Guide</strong><br><small>Version 2.1.2</small></p>
<br><a href="javascript:openAllFlips()">Expand All</a><br><a href="javascript:closeAllFlips()">Contract All</a><p><small><strong>Chapters</strong></small></p>
<ul class="flipMenu" imagePath="../../js/flipmenu">
<li id="no" title="Introduction" expanded="false">Introduction<ul>
<li><a href="introduction_ug.html">
              Top of chapter
            </a></li>
<li title="Scope"><a href="introduction_ug.html#id62838">Scope</a></li>
<li title="Prerequisites"><a href="introduction_ug.html#id57022">Prerequisites</a></li>
</ul>
</li>
<li id="loadscrollpos" title="Observer" expanded="true">Observer<ul>
<li><a href="observer_ug.html">
              Top of chapter
            </a></li>
<li title="Introduction"><a href="observer_ug.html#id59038">Introduction</a></li>
<li title="Getting Started"><a href="observer_ug.html#id56659">Getting Started</a></li>
<li title="System Tab"><a href="observer_ug.html#id58933">System Tab</a></li>
<li title="Load Charts Tab"><a href="observer_ug.html#id63264">Load Charts Tab</a></li>
<li title="Memory Allocators Tab"><a href="observer_ug.html#id60402">Memory Allocators Tab</a></li>
<li title="Applications Tab"><a href="observer_ug.html#id60603">Applications Tab</a></li>
<li title="Processes Tab"><a href="observer_ug.html#id59707">Processes Tab</a></li>
<li title="Table Viewer Tab"><a href="observer_ug.html#id58957">Table Viewer Tab</a></li>
<li title="Trace Overview Tab"><a href="observer_ug.html#id60619">Trace Overview Tab</a></li>
</ul>
</li>
<li id="no" title="Trace Tool Builder" expanded="false">Trace Tool Builder<ul>
<li><a href="ttb_ug.html">
              Top of chapter
            </a></li>
<li title="Introduction"><a href="ttb_ug.html#id60688">Introduction</a></li>
<li title="Getting Started"><a href="ttb_ug.html#id60744">Getting Started</a></li>
<li title="Running Trace Tool Builder against Remote Node"><a href="ttb_ug.html#id61370">Running Trace Tool Builder against Remote Node</a></li>
<li title="More Tracing Options"><a href="ttb_ug.html#id61184">More Tracing Options</a></li>
<li title="Trace Information and File .ti"><a href="ttb_ug.html#id63303">Trace Information and File .ti</a></li>
<li title="Wrap Logs"><a href="ttb_ug.html#id63417">Wrap Logs</a></li>
<li title="Formatting"><a href="ttb_ug.html#id63460">Formatting</a></li>
<li title="Automatically Collect and Format Logs from All Nodes"><a href="ttb_ug.html#id66453">Automatically Collect and Format Logs from All Nodes</a></li>
<li title="History and Configuration Files"><a href="ttb_ug.html#id66500">History and Configuration Files</a></li>
<li title="Sequential Tracing"><a href="ttb_ug.html#id66803">Sequential Tracing</a></li>
<li title="Multipurpose Trace Tool"><a href="ttb_ug.html#id66978">Multipurpose Trace Tool</a></li>
</ul>
</li>
<li id="no" title="Erlang Top" expanded="false">Erlang Top<ul>
<li><a href="etop_ug.html">
              Top of chapter
            </a></li>
<li title="Introduction"><a href="etop_ug.html#id67117">Introduction</a></li>
<li title="Getting Started"><a href="etop_ug.html#id67136">Getting Started</a></li>
<li title="Output"><a href="etop_ug.html#id67172">Output</a></li>
<li title="Configuration"><a href="etop_ug.html#id67331">Configuration</a></li>
<li title="Print to File"><a href="etop_ug.html#id67457">Print to File</a></li>
<li title="Stop"><a href="etop_ug.html#id67476">Stop</a></li>
</ul>
</li>
<li id="no" title="Crashdump Viewer" expanded="false">Crashdump Viewer<ul>
<li><a href="crashdump_ug.html">
              Top of chapter
            </a></li>
<li title="Introduction"><a href="crashdump_ug.html#id67546">Introduction</a></li>
<li title="Getting Started"><a href="crashdump_ug.html#id67557">Getting Started</a></li>
<li title="GUI"><a href="crashdump_ug.html#id67603">GUI</a></li>
<li title="Tab Content"><a href="crashdump_ug.html#id67677">Tab Content</a></li>
<li title="General Tab"><a href="crashdump_ug.html#id67747">General Tab</a></li>
<li title="Processes Tab"><a href="crashdump_ug.html#id67860">Processes Tab</a></li>
<li title="Ports Tab"><a href="crashdump_ug.html#id67909">Ports Tab</a></li>
<li title="ETS Tables Tab"><a href="crashdump_ug.html#id67963">ETS Tables Tab</a></li>
<li title="Timers Tab"><a href="crashdump_ug.html#id68019">Timers Tab</a></li>
<li title="Schedulers Tab"><a href="crashdump_ug.html#id68065">Schedulers Tab</a></li>
<li title="Funs Tab"><a href="crashdump_ug.html#id68104">Funs Tab</a></li>
<li title="Atoms Tab"><a href="crashdump_ug.html#id68150">Atoms Tab</a></li>
<li title="Nodes Tab"><a href="crashdump_ug.html#id68186">Nodes Tab</a></li>
<li title="Modules Tab"><a href="crashdump_ug.html#id68275">Modules Tab</a></li>
<li title="Memory Tab"><a href="crashdump_ug.html#id68315">Memory Tab</a></li>
<li title="Internal Tables Tab"><a href="crashdump_ug.html#id68397">Internal Tables Tab</a></li>
</ul>
</li>
</ul>
</div></div>
<div id="content">
<div class="innertube">
<h1>2 Observer</h1>
  

  <h3><a name="id59038">2.1 
        Introduction</a></h3>
    
    <p>Observer is a graphical tool for observing the characteristics of
    Erlang systems. Observer displays system information, application
    supervisor trees, process information, ETS tables, Mnesia tables
    and contains a front end for Erlang tracing.
    </p>
  

  <h3><a name="id56659">2.2 
        Getting Started</a></h3>
    
    <p>Run Observer from a standalone node to minimize the impact of the 
    system being observed.
    </p>
    <p><strong>Example:</strong></p>
    <div class="example"><pre>
% <span class="bold_code">erl -sname observer -hidden -setcookie MyCookie -run observer</span></pre></div>
    <p>
      Select the node to observe with menu <strong>Nodes</strong>. 
      Menu <strong>View &gt; Refresh interval</strong> controls how often 
      the view is to be updated.
      The refresh interval is set per viewer so you can
      have different settings for each viewer. To minimize the system
      impact, only the active viewer is updated. Other views are updated 
      when activated.
    </p>

    <p>The mouse buttons behave as expected. Use left-click
    to select objects, right-click to get a menu with the most used
    options, and double-click to display information about the
    selected object. In most viewers with many columns, you can change
    the sort order by left-clicking the column header.
    </p>
  

  <h3><a name="id58933">2.3 
        System Tab</a></h3>
    
    <p>Tab <strong>System</strong> displays general information about the active Erlang node 
    and its runtime system, such as build configuration, system capabilities, and 
    overall use statistics.
</p>
  

  <h3><a name="id63264">2.4 
        Load Charts Tab</a></h3>
    
    <p>Tab <strong>Load Charts</strong> displays graphs of the current resource use on 
    the active Erlang node.</p>
    <p>Graph <span class="code">Scheduler Utilization</span> shows scheduler use per scheduler, 
    where each scheduler use has a unique color.</p>
    <p>Graph <span class="code">Memory Usage</span> shows the total memory use and per memory category
    use, where each category has a unique color. The categories are as 
    follows:</p>
    <dl>
       <dt><strong><span class="code">Total</span></strong></dt>
       <dd><p>The sum of all memory categories.</p></dd>
       <dt><strong><span class="code">Processes</span></strong></dt>
       <dd><p>The sum of all process memory used.</p></dd>
       <dt><strong><span class="code">Atom</span></strong></dt>
       <dd><p>The size used by the atom table.</p></dd>
       <dt><strong><span class="code">Binary</span></strong></dt>
       <dd><p>The sum of all off-heap binaries allocated.</p></dd>
       <dt><strong><span class="code">Code</span></strong></dt>
       <dd><p>The memory allocated for code storage.</p></dd>
       <dt><strong><span class="code">Ets</span></strong></dt>
       <dd><p>The used memory for all ETS tables.</p></dd>
     </dl>

    <p>Graph <span class="code">IO Usage</span> shows the current I/O load on the system.</p>
  

  <h3><a name="id60402">2.5 
        Memory Allocators Tab</a></h3>
    
    <p>Tab <strong>Memory Allocators</strong> displays detailed information of the carrier 
    size and current memory carriers. For details about memory carriers, 
    see module
    <span class="bold_code"><a href="../../man/erts_alloc.html"><span class="code">erts_alloc</span></a></span>
    in application ERTS.</p>
  

  <h3><a name="id60603">2.6 
        Applications Tab</a></h3>
    
    <p>Tab <strong>Applications</strong> presents application information.
    Select an application in the left list to display its supervisor
    tree. The right-click options in the tree are as follows:
    </p>
    <dl>
    <dt><strong>Process info</strong></dt>
    <dd>
<p>Opens a detailed information window on the selected process,
    including the following:</p>
    <dl>
      <dt><strong>Process Information</strong></dt>
      <dd><p>Shows the process information.</p></dd>
      <dt><strong>Messages</strong></dt>
      <dd><p>Shows the process messages.</p></dd>
      <dt><strong>Dictionary</strong></dt>
      <dd><p>Shows the process dictionary.</p></dd>
      <dt><strong>Stack Trace</strong></dt>
      <dd><p>Shows the process current stack trace.</p></dd>
      <dt><strong>State</strong></dt>
      <dd><p>Shows the process state.</p></dd>
      <dt><strong>Log</strong></dt>
      <dd><p>If enabled and available, shows the process SASL
      log entries.</p></dd>
    </dl>
    </dd>
    <dt><strong>Trace process</strong></dt>
    <dd><p>Adds the selected process identifier to tab <strong>Trace Overview</strong> 
    plus the node that the process resides on.</p></dd>
    <dt><strong>Trace named process</strong></dt>
    <dd><p>Adds the registered name of the process. This can be useful when tracing on
    many nodes, as processes with that name are then traced on all traced nodes.</p></dd>
    <dt><strong>Trace process tree</strong></dt>
    <dd><p>Adds the selected process and all processes below,
    right of it, to tab <strong>Trace Overview</strong>.</p></dd>
    <dt><strong>Trace named process tree</strong></dt>
    <dd><p>Adds the selected process and all processes below,
    right of it, to tab <strong>Trace Overview</strong>.</p></dd>
    </dl>
  

  <h3><a name="id59707">2.7 
        Processes Tab</a></h3>
    
    <p>Tab <strong>Processes</strong> lists process information in columns.
    For each process the following information is displayed:
    </p>
    <dl>
      <dt><strong>Pid</strong></dt>
      <dd><p>The process identifier.</p></dd>
      <dt><strong>Reds</strong></dt>
      <dd><p>The number of reductions executed on the process. 
      This can be presented as accumulated values or as values since the last update.</p></dd>
      <dt><strong>Memory</strong></dt>
      <dd><p>The size of the process, in bytes, obtained by a
       call to <span class="code">process_info(Pid,memory)</span>.</p></dd>
      <dt><strong>MsgQ</strong></dt>
      <dd><p>The length of the message queue for the process.</p></dd>
    </dl>

    <p>Option <strong>Process info</strong> opens a detailed information window on the selected process, 
      including the following:</p>
    <dl>
      <dt><strong>Process Information</strong></dt>
      <dd><p>Shows the process information.</p></dd>
      <dt><strong>Messages</strong></dt>
      <dd><p>Shows the process messages.</p></dd>
      <dt><strong>Dictionary</strong></dt>
      <dd><p>Shows the process dictionary.</p></dd>
      <dt><strong>Stack Trace</strong></dt>
      <dd><p>Shows the process current stack trace.</p></dd>
      <dt><strong>State</strong></dt>
      <dd><p>Shows the process state.</p></dd>
      <dt><strong>Log</strong></dt>
      <dd><p>If enabled and available, shows the process SASL log entries.</p></dd>
    </dl>
    
    <div class="note">
<div class="label">Note</div>
<div class="content"><p>
      <p><strong>Log</strong> requires application SASL  to be started on the observed node,
      with <span class="code">log_mf_h</span> as log handler.
      The Observed node must be Erlang/OTP R16B02 or higher.
      The <span class="code">rb</span> server must not be started on the observed node when clicking menu 
      <strong>Log &gt; Toggle log view</strong>. The <span class="code">rb</span> server is stopped on the observed node 
      when exiting or changing the observed node.
      </p>
    </p></div>
</div>

    <p>Option <strong>Trace Processes</strong> adds the selected process identifiers to tab 
    <strong>Trace Overview</strong> plus the node that the processes reside on.
    </p>
    <p>Option <strong>Trace Named Processes</strong> adds the registered name of the processes. This can be 
    useful when tracing is done on many nodes, as processes with that name are then traced on 
    all traced nodes.</p>

  

  <h3><a name="id58957">2.8 
        Table Viewer Tab</a></h3>
    
    <p>Tab <strong>Table Viewer</strong> lists tables. By default, ETS tables
    are displayed whereas unreadable private ETS tables and tables created by OTP
    applications are not diplayed. Use menu <strong>View</strong> to view "system"
    ETS tables, unreadable ETS tables, or Mnesia tables.
    </p>
    <p>Double-click to view the table content. To view table information, select the table 
    and activate menu <strong>View &gt; Table information</strong>.</p>
    <p>You can use <span class="bold_code"><a href="../../man/re.html">regular
    expressions</a></span> and search for objects, and edit or delete them.
    </p>
  

  <h3><a name="id60619">2.9 
        Trace Overview Tab</a></h3>
    
    <p>Tab <strong>Trace Overview</strong> handles tracing. Trace
    by selecting the processes to be traced and how to trace
    them. You can trace messages, function calls, and events, where
    events are process-related events such as <span class="code">spawn</span>,
    <span class="code">exit</span>, and many others.
    </p>

    <p>To trace function calls, you also need to set up
    <strong>trace patterns</strong>. Trace patterns select the function calls
    to be traced. The number of traced function calls can be
    further reduced with <strong>match specifications</strong>. Match
    specifications can also be used to trigger more information
    in the trace messages.
    </p>
    <div class="note">
<div class="label">Note</div>
<div class="content"><p><p>Trace patterns only apply to the traced processes.</p></p></div>
</div>

    <p>
      Processes are added from the <strong>Applications</strong> or <strong>Processes</strong> tabs.
      A special <strong>new</strong> identifier, meaning all processes spawned after trace 
      start, can be added with button <strong>Add 'new' Process</strong>.
    </p>
    <p>
      When adding processes, a window with trace options is displayed. The chosen 
      options are set for the selected processes.
      Process options can be changed by right-clicking a process.
    </p>
    <p>
      Processes added by process identifiers add the nodes these
      processes reside on in the node list. More nodes can be added by clicking 
      button <strong>Add Nodes</strong>.
    </p>
    <p>
      If function calls are traced, trace patterns must be added by clicking button
      <strong>Add Trace Pattern</strong>. Select a module, function(s), and a match specification.
      If no functions are selected, all functions in the module are traced.
      A few basic match specifications are provided in the tool, and
      you can provide your own match specifications. The syntax of match
      specifications is described in the <span class="bold_code"><a href="../../apps/erts/match_spec.html"><span class="code">ERTS User's Guide</span></a></span>. To simplify
      the writing of a match specification, they can also be written as
      <span class="code">fun/1</span>. For details, see module
      <span class="bold_code"><a href="../../man/ms_transform.html">ms_transform</a></span>
      in application STDLIB.
    </p>

    <p>Click button <strong>Start Trace</strong> to start the trace.
    By default, trace output is written to a new window. Tracing is stopped 
    when the window is closed, or when clicking button <strong>Stop Trace</strong>.
    Trace output can be changed with menu <strong>Options &gt; Output</strong>.
    The trace settings, including match specifications, can be saved to, 
    or loaded from, a file.
    </p>
    <p>For details about tracing, see module <span class="bold_code"><a href="../../man/dbg.html">dbg</a></span> in application Runtime_Tools
    and in section "Match specifications in Erlang" in 
    <span class="bold_code"><a href="../../apps/erts/match_spec.html"><span class="code">ERTS User's Guide</span></a></span>
    and in module
    <span class="bold_code"><a href="../../man/ms_transform.html"><span class="code">ms_transform</span></a></span>
    in application STDLIB.
    </p>
  
</div>
<div class="footer">
<hr>
<p>Copyright © 2002-2016 Ericsson AB. All Rights Reserved.</p>
</div>
</div>
</div></body>
</html>
