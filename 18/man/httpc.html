<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:fn="http://www.w3.org/2005/02/xpath-functions">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="../otp_doc.css" type="text/css">
<title>Erlang -- httpc</title>
</head>
<body bgcolor="white" text="#000000" link="#0000ff" vlink="#ff00ff" alink="#ff0000"><div id="container">
<script id="js" type="text/javascript" language="JavaScript" src="../js/flipmenu/flipmenu.js"></script><script id="js2" type="text/javascript" src="../js/erlresolvelinks.js"></script><script language="JavaScript" type="text/javascript">
            <!--
              function getWinHeight() {
                var myHeight = 0;
                if( typeof( window.innerHeight ) == 'number' ) {
                  //Non-IE
                  myHeight = window.innerHeight;
                } else if( document.documentElement && ( document.documentElement.clientWidth ||
                                                         document.documentElement.clientHeight ) ) {
                  //IE 6+ in 'standards compliant mode'
                  myHeight = document.documentElement.clientHeight;
                } else if( document.body && ( document.body.clientWidth || document.body.clientHeight ) ) {
                  //IE 4 compatible
                  myHeight = document.body.clientHeight;
                }
                return myHeight;
              }

              function setscrollpos() {
                var objf=document.getElementById('loadscrollpos');
                 document.getElementById("leftnav").scrollTop = objf.offsetTop - getWinHeight()/2;
              }

              function addEvent(obj, evType, fn){
                if (obj.addEventListener){
                obj.addEventListener(evType, fn, true);
                return true;
              } else if (obj.attachEvent){
                var r = obj.attachEvent("on"+evType, fn);
                return r;
              } else {
                return false;
              }
             }

             addEvent(window, 'load', setscrollpos);

             //--></script><div id="leftnav"><div class="innertube">
<img alt="Erlang logo" src="../erlang-logo.png"><br><small><a href="../apps/inets/users_guide.html">User's Guide</a><br><a href="../apps/inets/index.html">Reference Manual</a><br><a href="../apps/inets/release_notes.html">Release Notes</a><br><a href="../apps/inets/inets.pdf">PDF</a><br><a href="../index.html">Top</a></small><p><strong>inets</strong><br><strong>Reference Manual</strong><br><small>Version 6.2</small></p>
<br><a href="javascript:openAllFlips()">Expand All</a><br><a href="javascript:closeAllFlips()">Contract All</a><p><small><strong>Table of Contents</strong></small></p>
<ul class="flipMenu">
<li id="no" title="inets " expanded="false">inets<ul>
<li><a href="inets.html">
                  Top of manual page
                </a></li>
<li title="services-0"><a href="inets.html#services-0">services/0</a></li>
<li title="services_info-0"><a href="inets.html#services_info-0">services_info/0</a></li>
<li title="service_names-0"><a href="inets.html#service_names-0">service_names/0</a></li>
<li title="start-0"><a href="inets.html#start-0">start/0</a></li>
<li title="start-1"><a href="inets.html#start-1">start/1</a></li>
<li title="start-2"><a href="inets.html#start-2">start/2</a></li>
<li title="start-3"><a href="inets.html#start-3">start/3</a></li>
<li title="stop-0"><a href="inets.html#stop-0">stop/0</a></li>
<li title="stop-2"><a href="inets.html#stop-2">stop/2</a></li>
</ul>
</li>
<li id="no" title="ftp " expanded="false">ftp<ul>
<li><a href="ftp.html">
                  Top of manual page
                </a></li>
<li title="account-2"><a href="ftp.html#account-2">account/2</a></li>
<li title="append-2"><a href="ftp.html#append-2">append/2</a></li>
<li title="append-3"><a href="ftp.html#append-3">append/3</a></li>
<li title="append_bin-3"><a href="ftp.html#append_bin-3">append_bin/3</a></li>
<li title="append_chunk-2"><a href="ftp.html#append_chunk-2">append_chunk/2</a></li>
<li title="append_chunk_start-2"><a href="ftp.html#append_chunk_start-2">append_chunk_start/2</a></li>
<li title="append_chunk_end-1"><a href="ftp.html#append_chunk_end-1">append_chunk_end/1</a></li>
<li title="cd-2"><a href="ftp.html#cd-2">cd/2</a></li>
<li title="close-1"><a href="ftp.html#close-1">close/1</a></li>
<li title="delete-2"><a href="ftp.html#delete-2">delete/2</a></li>
<li title="formaterror-1"><a href="ftp.html#formaterror-1">formaterror/1</a></li>
<li title="lcd-2"><a href="ftp.html#lcd-2">lcd/2</a></li>
<li title="lpwd-1"><a href="ftp.html#lpwd-1">lpwd/1</a></li>
<li title="ls-1"><a href="ftp.html#ls-1">ls/1</a></li>
<li title="ls-2"><a href="ftp.html#ls-2">ls/2</a></li>
<li title="mkdir-2"><a href="ftp.html#mkdir-2">mkdir/2</a></li>
<li title="nlist-1"><a href="ftp.html#nlist-1">nlist/1</a></li>
<li title="nlist-2"><a href="ftp.html#nlist-2">nlist/2</a></li>
<li title="open-1"><a href="ftp.html#open-1">open/1</a></li>
<li title="open-2"><a href="ftp.html#open-2">open/2</a></li>
<li title="pwd-1"><a href="ftp.html#pwd-1">pwd/1</a></li>
<li title="recv-2"><a href="ftp.html#recv-2">recv/2</a></li>
<li title="recv-3"><a href="ftp.html#recv-3">recv/3</a></li>
<li title="recv_bin-2"><a href="ftp.html#recv_bin-2">recv_bin/2</a></li>
<li title="recv_chunk_start-2"><a href="ftp.html#recv_chunk_start-2">recv_chunk_start/2</a></li>
<li title="recv_chunk-1"><a href="ftp.html#recv_chunk-1">recv_chunk/1</a></li>
<li title="rename-3"><a href="ftp.html#rename-3">rename/3</a></li>
<li title="rmdir-2"><a href="ftp.html#rmdir-2">rmdir/2</a></li>
<li title="send-2"><a href="ftp.html#send-2">send/2</a></li>
<li title="send-3"><a href="ftp.html#send-3">send/3</a></li>
<li title="send_bin-3"><a href="ftp.html#send_bin-3">send_bin/3</a></li>
<li title="send_chunk-2"><a href="ftp.html#send_chunk-2">send_chunk/2</a></li>
<li title="send_chunk_start-2"><a href="ftp.html#send_chunk_start-2">send_chunk_start/2</a></li>
<li title="send_chunk_end-1"><a href="ftp.html#send_chunk_end-1">send_chunk_end/1</a></li>
<li title="type-2"><a href="ftp.html#type-2">type/2</a></li>
<li title="user-3"><a href="ftp.html#user-3">user/3</a></li>
<li title="user-4"><a href="ftp.html#user-4">user/4</a></li>
<li title="quote-2"><a href="ftp.html#quote-2">quote/2</a></li>
</ul>
</li>
<li id="no" title="tftp " expanded="false">tftp<ul>
<li><a href="tftp.html">
                  Top of manual page
                </a></li>
<li title="change_config-2"><a href="tftp.html#change_config-2">change_config/2</a></li>
<li title="change_config-2"><a href="tftp.html#change_config-2">change_config/2</a></li>
<li title="change_config-2"><a href="tftp.html#change_config-2">change_config/2</a></li>
<li title="info-1"><a href="tftp.html#info-1">info/1</a></li>
<li title="info-1"><a href="tftp.html#info-1">info/1</a></li>
<li title="info-1"><a href="tftp.html#info-1">info/1</a></li>
<li title="read_file-3"><a href="tftp.html#read_file-3">read_file/3</a></li>
<li title="start-1"><a href="tftp.html#start-1">start/1</a></li>
<li title="write_file-3"><a href="tftp.html#write_file-3">write_file/3</a></li>
<li title="Module:abort-3"><a href="tftp.html#Module:abort-3">Module:abort/3</a></li>
<li title="Module:open-6"><a href="tftp.html#Module:open-6">Module:open/6</a></li>
<li title="Module:prepare-6"><a href="tftp.html#Module:prepare-6">Module:prepare/6</a></li>
<li title="Module:read-1"><a href="tftp.html#Module:read-1">Module:read/1</a></li>
<li title="Module:write-2"><a href="tftp.html#Module:write-2">Module:write/2</a></li>
<li title="Logger:error_msg-2"><a href="tftp.html#Logger:error_msg-2">Logger:error_msg/2</a></li>
<li title="Logger:info_msg-2"><a href="tftp.html#Logger:info_msg-2">Logger:info_msg/2</a></li>
<li title="Logger:warning_msg-2"><a href="tftp.html#Logger:warning_msg-2">Logger:warning_msg/2</a></li>
</ul>
</li>
<li id="loadscrollpos" title="httpc " expanded="true">httpc<ul>
<li><a href="httpc.html">
                  Top of manual page
                </a></li>
<li title="cancel_request-1"><a href="httpc.html#cancel_request-1">cancel_request/1</a></li>
<li title="cancel_request-2"><a href="httpc.html#cancel_request-2">cancel_request/2</a></li>
<li title="cookie_header-1"><a href="httpc.html#cookie_header-1">cookie_header/1</a></li>
<li title="cookie_header-2"><a href="httpc.html#cookie_header-2">cookie_header/2</a></li>
<li title="cookie_header-3"><a href="httpc.html#cookie_header-3">cookie_header/3</a></li>
<li title="get_options-1"><a href="httpc.html#get_options-1">get_options/1</a></li>
<li title="get_options-2"><a href="httpc.html#get_options-2">get_options/2</a></li>
<li title="info-0"><a href="httpc.html#info-0">info/0</a></li>
<li title="info-1"><a href="httpc.html#info-1">info/1</a></li>
<li title="reset_cookies-0"><a href="httpc.html#reset_cookies-0">reset_cookies/0</a></li>
<li title="reset_cookies-1"><a href="httpc.html#reset_cookies-1">reset_cookies/1</a></li>
<li title="request-1"><a href="httpc.html#request-1">request/1</a></li>
<li title="request-2"><a href="httpc.html#request-2">request/2</a></li>
<li title="request-4"><a href="httpc.html#request-4">request/4</a></li>
<li title="request-5"><a href="httpc.html#request-5">request/5</a></li>
<li title="set_options-1"><a href="httpc.html#set_options-1">set_options/1</a></li>
<li title="set_options-2"><a href="httpc.html#set_options-2">set_options/2</a></li>
<li title="store_cookies-2"><a href="httpc.html#store_cookies-2">store_cookies/2</a></li>
<li title="store_cookies-3"><a href="httpc.html#store_cookies-3">store_cookies/3</a></li>
<li title="stream_next-1"><a href="httpc.html#stream_next-1">stream_next/1</a></li>
<li title="which_cookies-0"><a href="httpc.html#which_cookies-0">which_cookies/0</a></li>
<li title="which_cookies-1"><a href="httpc.html#which_cookies-1">which_cookies/1</a></li>
<li title="which_sessions-0"><a href="httpc.html#which_sessions-0">which_sessions/0</a></li>
<li title="which_sessions-1"><a href="httpc.html#which_sessions-1">which_sessions/1</a></li>
</ul>
</li>
<li id="no" title="httpd " expanded="false">httpd<ul>
<li><a href="httpd.html">
                  Top of manual page
                </a></li>
<li title="info-1"><a href="httpd.html#info-1">info/1</a></li>
<li title="info-2"><a href="httpd.html#info-2">info/2</a></li>
<li title="info-2"><a href="httpd.html#info-2">info/2</a></li>
<li title="info-3"><a href="httpd.html#info-3">info/3</a></li>
<li title="info-4"><a href="httpd.html#info-4">info/4</a></li>
<li title="info-3"><a href="httpd.html#info-3">info/3</a></li>
<li title="reload_config-2"><a href="httpd.html#reload_config-2">reload_config/2</a></li>
<li title="Module:do-1"><a href="httpd.html#Module:do-1">Module:do/1</a></li>
<li title="Module:load-2"><a href="httpd.html#Module:load-2">Module:load/2</a></li>
<li title="Module:remove-1"><a href="httpd.html#Module:remove-1">Module:remove/1</a></li>
<li title="Module:store-2"><a href="httpd.html#Module:store-2">Module:store/2</a></li>
<li title="parse_query-1"><a href="httpd.html#parse_query-1">parse_query/1</a></li>
</ul>
</li>
<li id="no" title="httpd_custom_api " expanded="false">httpd_custom_api<ul>
<li><a href="httpd_custom_api.html">
                  Top of manual page
                </a></li>
<li title="response_default_headers-0"><a href="httpd_custom_api.html#response_default_headers-0">response_default_headers/0</a></li>
<li title="response_header-1"><a href="httpd_custom_api.html#response_header-1">response_header/1</a></li>
<li title="request_header-1"><a href="httpd_custom_api.html#request_header-1">request_header/1</a></li>
</ul>
</li>
<li id="no" title="httpd_socket " expanded="false">httpd_socket<ul>
<li><a href="httpd_socket.html">
                  Top of manual page
                </a></li>
<li title="deliver-3"><a href="httpd_socket.html#deliver-3">deliver/3</a></li>
<li title="peername-2"><a href="httpd_socket.html#peername-2">peername/2</a></li>
<li title="resolve-0"><a href="httpd_socket.html#resolve-0">resolve/0</a></li>
</ul>
</li>
<li id="no" title="httpd_util " expanded="false">httpd_util<ul>
<li><a href="httpd_util.html">
                  Top of manual page
                </a></li>
<li title="convert_request_date-1"><a href="httpd_util.html#convert_request_date-1">convert_request_date/1</a></li>
<li title="create_etag-1"><a href="httpd_util.html#create_etag-1">create_etag/1</a></li>
<li title="day-1"><a href="httpd_util.html#day-1">day/1</a></li>
<li title="decode_hex-1"><a href="httpd_util.html#decode_hex-1">decode_hex/1</a></li>
<li title="flatlength-1"><a href="httpd_util.html#flatlength-1">flatlength/1</a></li>
<li title="hexlist_to_integer-1"><a href="httpd_util.html#hexlist_to_integer-1">hexlist_to_integer/1</a></li>
<li title="integer_to_hexlist-1"><a href="httpd_util.html#integer_to_hexlist-1">integer_to_hexlist/1</a></li>
<li title="lookup-2"><a href="httpd_util.html#lookup-2">lookup/2</a></li>
<li title="lookup-3"><a href="httpd_util.html#lookup-3">lookup/3</a></li>
<li title="lookup_mime-2"><a href="httpd_util.html#lookup_mime-2">lookup_mime/2</a></li>
<li title="lookup_mime-3"><a href="httpd_util.html#lookup_mime-3">lookup_mime/3</a></li>
<li title="lookup_mime_default-2"><a href="httpd_util.html#lookup_mime_default-2">lookup_mime_default/2</a></li>
<li title="lookup_mime_default-3"><a href="httpd_util.html#lookup_mime_default-3">lookup_mime_default/3</a></li>
<li title="message-3"><a href="httpd_util.html#message-3">message/3</a></li>
<li title="month-1"><a href="httpd_util.html#month-1">month/1</a></li>
<li title="multi_lookup-2"><a href="httpd_util.html#multi_lookup-2">multi_lookup/2</a></li>
<li title="reason_phrase-1"><a href="httpd_util.html#reason_phrase-1">reason_phrase/1</a></li>
<li title="rfc1123_date-0"><a href="httpd_util.html#rfc1123_date-0">rfc1123_date/0</a></li>
<li title="rfc1123_date-2"><a href="httpd_util.html#rfc1123_date-2">rfc1123_date/2</a></li>
<li title="split-3"><a href="httpd_util.html#split-3">split/3</a></li>
<li title="split_script_path-1"><a href="httpd_util.html#split_script_path-1">split_script_path/1</a></li>
<li title="split_path-1"><a href="httpd_util.html#split_path-1">split_path/1</a></li>
<li title="strip-1"><a href="httpd_util.html#strip-1">strip/1</a></li>
<li title="suffix-1"><a href="httpd_util.html#suffix-1">suffix/1</a></li>
</ul>
</li>
<li id="no" title="mod_alias " expanded="false">mod_alias<ul>
<li><a href="mod_alias.html">
                  Top of manual page
                </a></li>
<li title="default_index-2"><a href="mod_alias.html#default_index-2">default_index/2</a></li>
<li title="path-3"><a href="mod_alias.html#path-3">path/3</a></li>
<li title="real_name-3"><a href="mod_alias.html#real_name-3">real_name/3</a></li>
<li title="real_script_name-3"><a href="mod_alias.html#real_script_name-3">real_script_name/3</a></li>
</ul>
</li>
<li id="no" title="mod_auth " expanded="false">mod_auth<ul>
<li><a href="mod_auth.html">
                  Top of manual page
                </a></li>
<li title="add_group_member-3"><a href="mod_auth.html#add_group_member-3">add_group_member/3</a></li>
<li title="add_group_member-4"><a href="mod_auth.html#add_group_member-4">add_group_member/4</a></li>
<li title="add_group_member-5"><a href="mod_auth.html#add_group_member-5">add_group_member/5</a></li>
<li title="add_user-2"><a href="mod_auth.html#add_user-2">add_user/2</a></li>
<li title="add_user-5"><a href="mod_auth.html#add_user-5">add_user/5</a></li>
<li title="add_user-6"><a href="mod_auth.html#add_user-6">add_user/6</a></li>
<li title="delete_group-2"><a href="mod_auth.html#delete_group-2">delete_group/2</a></li>
<li title="delete_group-4"><a href="mod_auth.html#delete_group-4">delete_group/4</a></li>
<li title="delete_group_member-3"><a href="mod_auth.html#delete_group_member-3">delete_group_member/3</a></li>
<li title="delete_group_member-4"><a href="mod_auth.html#delete_group_member-4">delete_group_member/4</a></li>
<li title="delete_group_member-5"><a href="mod_auth.html#delete_group_member-5">delete_group_member/5</a></li>
<li title="delete_user-2"><a href="mod_auth.html#delete_user-2">delete_user/2</a></li>
<li title="delete_user-3"><a href="mod_auth.html#delete_user-3">delete_user/3</a></li>
<li title="delete_user-4"><a href="mod_auth.html#delete_user-4">delete_user/4</a></li>
<li title="get_user-2"><a href="mod_auth.html#get_user-2">get_user/2</a></li>
<li title="get_user-3"><a href="mod_auth.html#get_user-3">get_user/3</a></li>
<li title="get_user-4"><a href="mod_auth.html#get_user-4">get_user/4</a></li>
<li title="list_groups-1"><a href="mod_auth.html#list_groups-1">list_groups/1</a></li>
<li title="list_groups-2"><a href="mod_auth.html#list_groups-2">list_groups/2</a></li>
<li title="list_groups-3"><a href="mod_auth.html#list_groups-3">list_groups/3</a></li>
<li title="list_group_members-2"><a href="mod_auth.html#list_group_members-2">list_group_members/2</a></li>
<li title="list_group_members-3"><a href="mod_auth.html#list_group_members-3">list_group_members/3</a></li>
<li title="list_group_members-4"><a href="mod_auth.html#list_group_members-4">list_group_members/4</a></li>
<li title="list_users-1"><a href="mod_auth.html#list_users-1">list_users/1</a></li>
<li title="list_users-2"><a href="mod_auth.html#list_users-2">list_users/2</a></li>
<li title="list_users-3"><a href="mod_auth.html#list_users-3">list_users/3</a></li>
<li title="update_password-5"><a href="mod_auth.html#update_password-5">update_password/5</a></li>
<li title="update_password-6"><a href="mod_auth.html#update_password-6">update_password/6</a></li>
</ul>
</li>
<li id="no" title="mod_esi " expanded="false">mod_esi<ul>
<li><a href="mod_esi.html">
                  Top of manual page
                </a></li>
<li title="deliver-2"><a href="mod_esi.html#deliver-2">deliver/2</a></li>
<li title="Module:Function-3"><a href="mod_esi.html#Module:Function-3">Module:Function/3</a></li>
<li title="Module:Function-2"><a href="mod_esi.html#Module:Function-2">Module:Function/2</a></li>
</ul>
</li>
<li id="no" title="mod_security " expanded="false">mod_security<ul>
<li><a href="mod_security.html">
                  Top of manual page
                </a></li>
<li title="block_user-4"><a href="mod_security.html#block_user-4">block_user/4</a></li>
<li title="block_user-5"><a href="mod_security.html#block_user-5">block_user/5</a></li>
<li title="list_auth_users-1"><a href="mod_security.html#list_auth_users-1">list_auth_users/1</a></li>
<li title="list_auth_users-2"><a href="mod_security.html#list_auth_users-2">list_auth_users/2</a></li>
<li title="list_auth_users-2"><a href="mod_security.html#list_auth_users-2">list_auth_users/2</a></li>
<li title="list_auth_users-3"><a href="mod_security.html#list_auth_users-3">list_auth_users/3</a></li>
<li title="list_blocked_users-1"><a href="mod_security.html#list_blocked_users-1">list_blocked_users/1</a></li>
<li title="list_blocked_users-2"><a href="mod_security.html#list_blocked_users-2">list_blocked_users/2</a></li>
<li title="list_blocked_users-2"><a href="mod_security.html#list_blocked_users-2">list_blocked_users/2</a></li>
<li title="list_blocked_users-3"><a href="mod_security.html#list_blocked_users-3">list_blocked_users/3</a></li>
<li title="unblock_user-2"><a href="mod_security.html#unblock_user-2">unblock_user/2</a></li>
<li title="unblock_user-3"><a href="mod_security.html#unblock_user-3">unblock_user/3</a></li>
<li title="unblock_user-3"><a href="mod_security.html#unblock_user-3">unblock_user/3</a></li>
<li title="unblock_user-4"><a href="mod_security.html#unblock_user-4">unblock_user/4</a></li>
<li title="Module:event-4"><a href="mod_security.html#Module:event-4">Module:event/4</a></li>
<li title="Module:event-5"><a href="mod_security.html#Module:event-5">Module:event/5</a></li>
</ul>
</li>
<li id="no" title="http_uri " expanded="false">http_uri<ul>
<li><a href="http_uri.html">
                  Top of manual page
                </a></li>
<li title="decode-1"><a href="http_uri.html#decode-1">decode/1</a></li>
<li title="encode-1"><a href="http_uri.html#encode-1">encode/1</a></li>
<li title="parse-1"><a href="http_uri.html#parse-1">parse/1</a></li>
<li title="parse-2"><a href="http_uri.html#parse-2">parse/2</a></li>
<li title="scheme_defaults-0"><a href="http_uri.html#scheme_defaults-0">scheme_defaults/0</a></li>
</ul>
</li>
</ul>
</div></div>
<div id="content">
<div class="innertube">
<!-- refpage --><center><h1>httpc</h1></center>
  

  <h3>MODULE</h3>
<div class="REFBODY">httpc</div>
  <h3>MODULE SUMMARY</h3>
<div class="REFBODY">An HTTP/1.1 client</div>

  <h3>DESCRIPTION</h3>
<div class="REFBODY"><p>
    <p>This module provides the API to an HTTP/1.1 compatible client according 
      to <span class="bold_code"><a href="http://www.ietf.org/rfc/rfc2616.txt">RFC 2616</a></span>. 
    Caching is not supported.</p>
    <div class="note">
<div class="label">Note</div>
<div class="content"><p>
      <p>When starting the <span class="code">Inets</span> application, a manager process for the
	default profile is started. The functions in this API
	that do not explicitly use a profile accesses the
	default profile. A profile keeps track of proxy options,
	cookies, and other options that can be applied to more than one
	request.</p>

	<p>If the scheme <span class="code">https</span> is used, the <span class="code">SSL</span> application must
	be started. When <span class="code">https</span> links need to go through a proxy, the
	CONNECT method extension to HTTP-1.1 is used to establish a
	tunnel and then the connection is upgraded to TLS.
	However, "TLS upgrade" according to <span class="bold_code"><a href="http://www.ietf.org/rfc/rfc2817.txt">RFC 2817</a></span>is not
	supported.</p>

      <p>Pipelining is only used if the pipeline
      time-out is set, otherwise persistent connections without
      pipelining are used. That is, the client always waits for
      the previous response before sending the next request.</p>
    </p></div>
</div>
    <p>Some examples are provided in the <span class="bold_code"><a href="../apps/inets/http_client.html">Inets User's Guide</a></span>.</p>
  </p></div>
  
  <h3><a name="id82116">DATA TYPES</a></h3>
<div class="REFBODY">
    
    <a name="DATA_TYPES"></a>
    <p>Type definitions that are used more than once in
      this module:</p>
    <p><span class="code">boolean() = true | false</span></p>
    <p><span class="code">string()</span> = list of ASCII characters</p>
    <p><span class="code">request_id() = ref()</span></p>
    <p><span class="code">profile() = atom()</span></p>
    <p><span class="code">path() = string()</span> representing a file path or directory path</p>
    <p><span class="code">ip_address()</span> = See the
    <span class="bold_code"><a href="inet.html">inet(3)</a></span> manual page in <span class="code">Kernel</span>.</p>
    <p><span class="code">socket_opt()</span> = See the options used by
    <span class="bold_code"><a href="gen_tcp.html">gen_tcp(3)</a></span> <span class="code">gen_tcp(3)</span> and 
    <span class="bold_code"><a href="ssl.html">ssl(3)</a></span> connect(s)</p>
  
  </div>
  
  <h3><a name="id82197">HTTP DATA TYPES</a></h3>
<div class="REFBODY">
    
    <p>Type definitions related to HTTP:</p>

    <p><span class="code">method() = head | get | put | post | trace | options | delete</span></p>
    <dl>
      <dt><strong><span class="code">request()</span></strong></dt>
      <dd>
<p>= <span class="code">{url(), headers()}</span></p>
      <p>| <span class="code">{url(), headers(), content_type(), body()}</span></p>
      </dd>
    </dl>
    <p><span class="code">url() = string()</span> syntax according to the URI definition in
    <span class="bold_code"><a href="http://www.ietf.org/rfc/rfc2396.txt">RFC 2396</a></span>, 
    for example <span class="code">"http://www.erlang.org"</span></p>
    <p><span class="code">status_line() = {http_version(), status_code(), reason_phrase()}</span></p>
    <p><span class="code">http_version() = string()</span>, for example, <span class="code">"HTTP/1.1"</span></p>
    <p><span class="code">status_code() = integer()</span></p>
    <p><span class="code">reason_phrase() = string()</span></p>
    <p><span class="code">content_type() = string()</span></p>
    <p><span class="code">headers() = [header()]</span></p>
    <p><span class="code">header() = {field(), value()}</span></p>
    <p><span class="code">field() = string()</span></p>
    <p><span class="code">value() = string()</span></p>
    <dl>
      <dt><strong><span class="code">body()</span></strong></dt>
      <dd>
<p>= <span class="code">string() | binary()</span></p>
      <p>| <span class="code">{fun(accumulator())</span></p>
      <p><span class="code"> -&gt; body_processing_result(), accumulator()}</span></p>
      <p>| <span class="code">{chunkify, fun(accumulator())</span></p>
      <p><span class="code"> -&gt; body_processing_result(), accumulator()}</span></p>
      </dd>
    </dl>
    <p><span class="code">body_processing_result() = eof | {ok, iolist(), accumulator()}</span></p>
    <p><span class="code">accumulator() = term()</span></p>
    <p><span class="code">filename() = string()</span></p>
 <p>For more information about HTTP, see
 <span class="bold_code"><a href="http://www.ietf.org/rfc/rfc2616.txt">RFC 2616</a></span>.</p> 
</div>
  
  <h3><a name="id82364">SSL DATA TYPES</a></h3>
<div class="REFBODY">
    
    <p>See <span class="bold_code"><a href="ssl.html">ssl(3)</a></span> for information
    about <span class="code">SSL</span> options (<span class="code">ssloptions()</span>). </p>
  </div>

  <h3><a name="id82389">HTTP CLIENT SERVICE START/STOP</a></h3>
<div class="REFBODY">
    
    
    <p>An HTTP client can be configured to start when starting the <span class="code">Inets</span>
      application or started dynamically in runtime by calling the
      <span class="code">Inets</span> application API <span class="code">inets:start(httpc, ServiceConfig)</span>
      or <span class="code">inets:start(httpc,  ServiceConfig, How)</span>,
      see <span class="bold_code"><a href="inets.html">inets(3)</a></span>.
      The configuration options are as follows:</p>
    <dl>
      <dt><strong>{profile, profile()}</strong></dt>
      <dd><p>Name of the profile, see
	<span class="bold_code"><a href="#DATA_TYPES">DATA TYPES</a></span>.
      This option is mandatory.</p></dd>
      <dt><strong>{data_dir, path()}</strong></dt>
      <dd><p>Directory where the profile
	can save persistent data. If omitted, all cookies are treated
	as session cookies.</p></dd>
    </dl>

    <p>The client can be stopped using <span class="code">inets:stop(httpc, Pid)</span> or
    <span class="code">inets:stop(httpc, Profile)</span>.</p>
  </div>
  
  <h3>EXPORTS</h3>
   
    <p><a name="cancel_request-1"><span class="bold_code">cancel_request(RequestId) -&gt;</span></a><br><a name="cancel_request-2"><span class="bold_code">cancel_request(RequestId, Profile) -&gt; ok</span></a><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">RequestId = request_id() - A unique identifier as returned
        by request/4</span><br>
</div>
	<div class="REFTYPES">
<span class="bold_code">Profile = profile() | pid()</span><br>
</div>
	<div class="REFBODY">When started <span class="code">stand_alone</span> only the pid can be used.</div>
      </div>
<div class="REFBODY"><p>
        <p>Cancels an asynchronous HTTP request. Notice that this does not guarantee
	that the request response is not delivered. Because it is asynchronous,
	the request can already have been completed when the cancellation arrives.
	</p>
      </p></div>

    <p><a name="cookie_header-1"><span class="bold_code">cookie_header(Url) -&gt; </span></a><br><a name="cookie_header-2"><span class="bold_code">cookie_header(Url, Profile | Opts) -&gt; header() | {error, Reason}</span></a><br><a name="cookie_header-3"><span class="bold_code">cookie_header(Url, Opts, Profile) -&gt; header() | {error, Reason}</span></a><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">Url = url()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Opts = [cookie_header_opt()]</span><br>
</div>
	<div class="REFTYPES">
<span class="bold_code">Profile = profile() | pid()</span><br>
</div>
	<div class="REFBODY">When started <span class="code">stand_alone</span>.</div>
        <div class="REFTYPES">
<span class="bold_code">cookie_header_opt() = {ipv6_host_with_brackets, boolean()}</span><br>
</div>
      </div>
<div class="REFBODY"><p>
        <p>Returns the cookie header that would have been sent
	when making a request to <span class="code">Url</span> using profile <span class="code">Profile</span>.
	If no profile is specified, the default profile is used.</p>
	<p>Option <span class="code">ipv6_host_with_bracket</span> deals with how to 
	parse IPv6 addresses. For details,
	see argument <span class="code">Options</span> of
	<span class="bold_code"><a href="#request-4">request/[4,5]</a></span>.</p>
      </p></div>

     <p><a name="get_options-1"><span class="bold_code">get_options(OptionItems) -&gt; {ok, Values} | {error, Reason}</span></a><br><a name="get_options-2"><span class="bold_code">get_options(OptionItems, Profile) -&gt; {ok, Values} | {error, Reason}</span></a><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">OptionItems = all | [option_item()]</span><br>
</div>
	<div class="REFTYPES">
<span class="bold_code">option_item() = proxy |
	                   https_proxy |
                           max_sessions | 
			   keep_alive_timeout | 
	                   max_keep_alive_length | 
			   pipeline_timeout | 
			   max_pipeline_length | 
			   cookies | 
			   ipfamily | 
			   ip | 
			   port | 
			   socket_opts | 
	                   verbose</span><br>
</div>
	<div class="REFTYPES">
<span class="bold_code">Profile = profile() | pid()</span><br>
</div>
	<div class="REFBODY">When started <span class="code">stand_alone</span> only the pid can used.</div>
        <div class="REFTYPES">
<span class="bold_code">Values = [{option_item(), term()}]</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Reason = term()</span><br>
</div>
      </div>
<div class="REFBODY"><p>
        <p>Retrieves the options currently used by the client.</p>
      </p></div>

    <p><a name="info-0"><span class="bold_code">info() -&gt; list()</span></a><br><a name="info-1"><span class="bold_code">info(Profile) -&gt; list()</span></a><br></p>
<div class="REFBODY">
<p>Types:</p>
	<div class="REFTYPES">
<span class="bold_code">Profile = profile() | pid()</span><br>
</div>
	<div class="REFBODY">When started <span class="code">stand_alone</span> only the pid can be used.</div>
      </div>
<div class="REFBODY"><p>
        <p>Produces a list of miscellaneous information. 
	Intended for debugging. 
	If no profile is specified, the default profile is used.</p>
      </p></div>

    
    <p><a name="reset_cookies-0"><span class="bold_code">reset_cookies() -&gt; void()</span></a><br><a name="reset_cookies-1"><span class="bold_code">reset_cookies(Profile) -&gt; void()</span></a><br></p>
<div class="REFBODY">
<p>Types:</p>
	<div class="REFTYPES">
<span class="bold_code">Profile = profile() | pid()</span><br>
</div>
	<div class="REFBODY">When started <span class="code">stand_alone</span> only the pid can be used.</div>
      </div>
<div class="REFBODY"><p>
        <p>Resets (clears) the cookie database for the specified 
	<span class="code">Profile</span>. If no profile is specified the default profile 
	is used.</p>
      </p></div>
    
    <p><a name="request-1"><span class="bold_code">request(Url) -&gt; </span></a><br><a name="request-2"><span class="bold_code">request(Url, Profile) -&gt; {ok, Result} | {error, Reason}</span></a><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">Url = url()</span><br>
</div> 
	<div class="REFTYPES">
<span class="bold_code">Result = {status_line(), headers(), Body} | 
                    {status_code(), Body} | request_id()</span><br>
</div>
	<div class="REFTYPES">
<span class="bold_code">Body = string() | binary()</span><br>
</div>
	<div class="REFTYPES">
<span class="bold_code">Profile = profile() | pid()</span><br>
</div>
	<div class="REFBODY">When started <span class="code">stand_alone</span> only the pid can be used.</div>
	<div class="REFTYPES">
<span class="bold_code">Reason = term()</span><br>
</div>
      </div>
<div class="REFBODY"><p>
        <p>Equivalent to <span class="code">httpc:request(get, {Url, []}, [], [])</span>.</p>
      </p></div>

    <p><a name="request-4"><span class="bold_code">request(Method, Request, HTTPOptions, Options) -&gt;</span></a><br><a name="request-5"><span class="bold_code">request(Method, Request, HTTPOptions, Options, Profile) -&gt; {ok, Result} | {ok, saved_to_file} | {error, Reason}</span></a><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">Method = method()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Request = request()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">HTTPOptions = http_options()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">http_options() = [http_option()]</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">http_option() = {timeout,         timeout()} | 
                           {connect_timeout, timeout()} | 
                           {ssl,             ssloptions()} | 
                           {essl,            ssloptions()} | 
                           {autoredirect,    boolean()} | 
                           {proxy_auth, {userstring(), passwordstring()}} | 
                           {version,         http_version()} | 
                           {relaxed,         boolean()} |
	                   {url_encode,      boolean()}</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">timeout() = integer() &gt;= 0 | infinity</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Options = options()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">options() = [option()]</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">option() = {sync,                    boolean()} | 
                      {stream,                  stream_to()} | 
                      {body_format,             body_format()} | 
                      {full_result,             boolean()} | 
                      {headers_as_is,           boolean() |
                      {socket_opts,             socket_opts()} | 
                      {receiver,                receiver()},
	              {ipv6_host_with_brackets, boolean()}}</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">stream_to() = none | self | {self, once} | filename()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">socket_opts() = [socket_opt()]</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">receiver() = pid() | function()/1 | {Module, Function, Args}</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Module = atom()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Function = atom()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Args = list()</span><br>
</div>
	<div class="REFTYPES">
<span class="bold_code">body_format() = string | binary</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Result = {status_line(), headers(), Body} | 
                    {status_code(), Body} | request_id()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Body = string() | binary()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Profile = profile() | pid()</span><br>
</div>
	<div class="REFBODY">When started <span class="code">stand_alone</span> only the pid can be used.</div>
        <div class="REFTYPES">
<span class="bold_code">Reason = {connect_failed, term()} | 
                    {send_failed, term()} | term()</span><br>
</div>
      </div>
<div class="REFBODY"><p>
        <p>Sends an HTTP request. The function can be both synchronous
	and asynchronous. In the latter case, the function returns
	<span class="code">{ok, RequestId}</span> and then the information is delivered
	to the <span class="code">receiver</span> depending on that value.</p>

        <p>HTTP option (<span class="code">http_option()</span>) details:</p>
        <a name="request2_http_options"></a>
        <dl>
          <dt><strong><span class="code">timeout</span></strong></dt>
          <dd>
            <p>Time-out time for the request.</p>
            <p>The clock starts ticking when the request is sent.</p>
            <p>Time is in milliseconds.</p>
            <p>Default is <span class="code">infinity</span>.</p>
	  </dd>

          <dt><strong><span class="code">connect_timeout</span></strong></dt>
          <dd>
            <p>Connection time-out time, used during the initial request, 
	    when the client is <strong>connecting</strong> to the server.</p>
            <p>Time is in milliseconds.</p>
            <p>Default is the value of option <span class="code">timeout</span>.</p>
	  </dd>

          <dt><strong><span class="code">ssl</span></strong></dt>
          <dd>
            <p>This is the <span class="code">SSL/TLS</span> connectin configuration option.</p>
            <p>Defaults to <span class="code">[]</span>. See <span class="bold_code"><a href="ssl.html">ssl:connect/[2, 3,4]</a></span>  for availble options.</p>
	  </dd>

          <dt><strong><span class="code">autoredirect</span></strong></dt>
          <dd>
	    <p>The client automatically retrieves the information
	    from the new URI and returns that as the result, instead 
	    of a 30X-result code.</p>
	    <p>For some 30X-result codes, automatic redirect 
	    is not allowed. In these cases the 30X-result is always
	    returned.</p>
	    <p>Default is <span class="code">true</span>.</p>
	  </dd>

          <dt><strong><span class="code">proxy_auth</span></strong></dt>
          <dd>
            <p>A proxy-authorization header using the provided username and 
	    password is added to the request.</p>
	  </dd>

          <dt><strong><span class="code">version</span></strong></dt>
          <dd>
            <p>Can be used to make the client act as an <span class="code">HTTP/1.0</span> or
	    <span class="code">HTTP/0.9</span> client. By default this is an <span class="code">HTTP/1.1</span> 
	    client. When using <span class="code">HTTP/1.0</span> persistent connections are 
	    not used.</p>
	    <p>Default is the string <span class="code">"HTTP/1.1"</span>.</p>
	  </dd>

          <dt><strong><span class="code">relaxed</span></strong></dt>
          <dd>
            <p>If set to <span class="code">true</span>, workarounds for known server deviations 
	    from the HTTP-standard are enabled.</p>
            <p>Default is <span class="code">false</span>.</p>
	  </dd>

	  <dt><strong><span class="code">url_encode</span></strong></dt>
          <dd>
            <p>Applies Percent-encoding, also known as URL encoding on the 
	    URL.</p>
	    <p>Default is <span class="code">false</span>.</p>
	  </dd>
        </dl>

        <p>Option (<span class="code">option()</span>) details:</p>
        <dl>
          <dt><strong><span class="code">sync</span></strong></dt>
          <dd>
            <p>Option for the request to be synchronous or asynchronous.</p>
            <p>Default is <span class="code">true</span>.</p>
	  </dd>

          <dt><strong><span class="code">stream</span></strong></dt>
          <dd>
            <p>Streams the body of a 200 or 206 response to the calling 
	    process or to a file. When streaming to the calling process 
	    using option <span class="code">self</span>, the following stream messages
	    are sent to that process: <span class="code">{http, {RequestId,
	    stream_start, Headers}}, {http, {RequestId, stream,
	    BinBodyPart}}, and {http, {RequestId, stream_end, Headers}}</span>.</p>
	    <p>When streaming to the calling processes using option
	    <span class="code">{self, once}</span>, the first message has an extra
	    element, that is, <span class="code">{http, {RequestId, stream_start, Headers, Pid}}</span>.
	    This is the process id to be used as an argument to
	    <span class="code">http:stream_next/1</span> to trigger the next message to be sent to
	    the calling process.</p>
	    <p>Notice that chunked encoding can add
	    headers so that there are more headers in the <span class="code">stream_end</span>
	    message than in <span class="code">stream_start</span>.
	    When streaming to a file and the request is asynchronous, the
	    message <span class="code">{http, {RequestId, saved_to_file}}</span> is sent.</p>
            <p>Default is <span class="code">none</span>.</p>
	  </dd>

          <dt><strong><span class="code">body_format</span></strong></dt>
          <dd>
            <p>Defines if the body is to be delivered as a string or 
	    binary. This option is only valid for the synchronous 
	    request.</p>
            <p>Default is <span class="code">string</span>.</p>
	  </dd>

          <dt><strong><span class="code">full_result</span></strong></dt>
          <dd>
            <p>Defines if a "full result" is to be returned to the caller (that is,
	    the body, the headers, and the entire status line) or not 
	    (the body and the status code).</p>
            <p>Default is <span class="code">true</span>.</p>
	  </dd>

          <dt><strong><span class="code">headers_as_is</span></strong></dt>
          <dd>
            <p>Defines if the headers provided by the user are to be made 
	    lower case or to be regarded as case sensitive.</p>
            <p>The HTTP standard requires them to be 
	    case insensitive. Use this feature only if there is 
	    no other way to communicate with the server or for testing 
	    purpose. When this option is used, no headers 
	    are automatically added. All necessary headers must be
	    provided by the user.</p>
	    <p>Default is <span class="code">false</span>.</p>
	  </dd>

          <dt><strong><span class="code">socket_opts</span></strong></dt>
          <dd>
            <p>Socket options to be used for this and subsequent 
	    requests.</p>
	    <p>Overrides any value set by function
	    <span class="bold_code"><a href="#set_options-1">set_options</a></span>.</p>
            <p>The validity of the options is <strong>not</strong> checked by
            the HTTP client they are assumed to be correct and passed
            on to ssl application and inet driver, which may reject
            them if they are not correct. Note that the current
            implementation assumes the requests to the same host, port
            combination will use the same socket options.
	    </p>
	    
            <p>By default the socket options set by function
	    <span class="bold_code"><a href="#set_options-1">set_options/[1,2]</a></span> 
	     are used when establishing a connection.</p>
	  </dd>

          <dt><strong><span class="code">receiver</span></strong></dt>
          <dd>
            <p>Defines how the client delivers the result of an
	    asynchronous request (<span class="code">sync</span> has the value 
	    <span class="code">false</span>).</p>

            <dl>
              <dt><strong><span class="code">pid()</span></strong></dt>
              <dd>
	        <p>Messages are sent to this process in the format 
		<span class="code">{http, ReplyInfo}</span>.</p>
	      </dd>

              <dt><strong><span class="code">function/1</span></strong></dt>
              <dd>
	        <p>Information is delivered to the receiver through calls 
		to the provided fun <span class="code">Receiver(ReplyInfo)</span>.</p>
  	      </dd>

              <dt><strong><span class="code">{Module, Function, Args}</span></strong></dt>
              <dd>
	        <p>Information is delivered to the receiver through calls 
		to the callback function 
		<span class="code">apply(Module, Function, [ReplyInfo | Args])</span>.</p>
	      </dd>
            </dl>
            <p>In all of these cases, <span class="code">ReplyInfo</span> has the following
              structure:</p>

<div class="example"><pre>
{RequestId, saved_to_file}
{RequestId, {error, Reason}}
{RequestId, Result}
{RequestId, stream_start, Headers}
{RequestId, stream_start, Headers, HandlerPid}
{RequestId, stream, BinBodyPart}
{RequestId, stream_end, Headers}</pre></div>

            <p>Default is the <span class="code">pid</span> of the process calling the request 
	    function (<span class="code">self()</span>). </p>

	    <a name="ipv6_host_with_brackets"></a>
	  </dd>

          <dt><strong><span class="code">ipv6_host_with_brackets</span></strong></dt>
          <dd>
            <p>Defines when parsing the Host-Port part of an URI with an IPv6 address 
	    with brackets, if those brackets are to be retained (<span class="code">true</span>) 
	    or stripped (<span class="code">false</span>).</p>
            <p>Default is <span class="code">false</span>.</p>
	  </dd>

        </dl>
      </p></div>

  
    <p><a name="set_options-1"><span class="bold_code">set_options(Options) -&gt; </span></a><br><a name="set_options-2"><span class="bold_code">set_options(Options, Profile) -&gt; ok | {error, Reason}</span></a><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">Options = [Option]</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Option = {proxy, {Proxy, NoProxy}}</span><br>
</div>
	<div class="REFTYPES">
<span class="bold_code">| {https_proxy, {Proxy, NoProxy}}</span><br>
</div>
	<div class="REFTYPES">
<span class="bold_code">| {max_sessions, MaxSessions}</span><br>
</div>
	<div class="REFTYPES">
<span class="bold_code">| {max_keep_alive_length, MaxKeepAlive}</span><br>
</div>
	<div class="REFTYPES">
<span class="bold_code">| {keep_alive_timeout, KeepAliveTimeout}</span><br>
</div>
	<div class="REFTYPES">
<span class="bold_code">| {max_pipeline_length, MaxPipeline}</span><br>
</div>
	<div class="REFTYPES">
<span class="bold_code">| {pipeline_timeout, PipelineTimeout}</span><br>
</div>
	<div class="REFTYPES">
<span class="bold_code">| {cookies, CookieMode}</span><br>
</div>
	<div class="REFTYPES">
<span class="bold_code">| {ipfamily, IpFamily}</span><br>
</div>
	<div class="REFTYPES">
<span class="bold_code">| {ip, IpAddress}</span><br>
</div>
	<div class="REFTYPES">
<span class="bold_code">| {port, Port}</span><br>
</div>
	<div class="REFTYPES">
<span class="bold_code">| {socket_opts, socket_opts()}</span><br>
</div>
	<div class="REFTYPES">
<span class="bold_code">| {verbose, VerboseMode}</span><br>
</div>	    
        <div class="REFTYPES">
<span class="bold_code">Proxy = {Hostname, Port}</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Hostname = string()</span><br>
</div>
        <div class="REFBODY">Example: "localhost" or "foo.bar.se"</div>
        <div class="REFTYPES">
<span class="bold_code">Port = integer()</span><br>
</div>
        <div class="REFBODY">Example: 8080</div>
        <div class="REFTYPES">
<span class="bold_code">NoProxy = [NoProxyDesc]</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">NoProxyDesc = DomainDesc | HostName | IPDesc</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">DomainDesc = "*.Domain"</span><br>
</div>
        <div class="REFBODY">Example: "*.ericsson.se"</div>
        <div class="REFTYPES">
<span class="bold_code">IpDesc = string()</span><br>
</div>
        <div class="REFBODY">Example: "134.138" or "[FEDC:BA98" 
	(all IP addresses starting with 134.138 or FEDC:BA98), 
	"66.35.250.150" or "[2010:836B:4179::836B:4179]" (a complete IP address). 
	<span class="code">proxy</span> defaults to <span class="code">{undefined, []}</span>, 
	that is, no proxy is configured and 
	<span class="code">https_proxy</span> defaults to the value of <span class="code">proxy</span>.</div>	
	<div class="REFTYPES">
<span class="bold_code">MaxSessions = integer()</span><br>
</div>
        <div class="REFBODY">Maximum number of persistent connections to a host.
	Default is <span class="code">2</span>.</div>
	<div class="REFTYPES">
<span class="bold_code">MaxKeepAlive = integer()</span><br>
</div>
	<div class="REFBODY">Maximum number of outstanding requests on the same connection to 
	a host. Default is <span class="code">5</span>.</div>
	<div class="REFTYPES">
<span class="bold_code">KeepAliveTimeout = integer()</span><br>
</div>
	<div class="REFBODY">If a persistent connection is idle longer than the 
	<span class="code">keep_alive_timeout</span> in milliseconds, 
	the client closes the connection.
	The server can also have such a time-out but do not take that for granted.
	Default is <span class="code">120000</span> (= 2 min).</div>
	<div class="REFTYPES">
<span class="bold_code">MaxPipeline = integer()</span><br>
</div>
	<div class="REFBODY">Maximum number of outstanding requests on a pipelined connection 
	to a host. Default is <span class="code">2</span>.</div>
	<div class="REFTYPES">
<span class="bold_code">PipelineTimeout = integer()</span><br>
</div>
	<div class="REFBODY">If a persistent connection is idle longer than the 
	<span class="code">pipeline_timeout</span> in milliseconds, 
	the client closes the connection. Default is <span class="code">0</span>,
	which results in pipelining not being used.</div>
        <div class="REFTYPES">
<span class="bold_code">CookieMode = enabled | disabled | verify</span><br>
</div>
        <div class="REFBODY">If cookies are enabled, all valid cookies are automatically 
	saved in the cookie database of the client manager.
	If option <span class="code">verify</span> is used, function <span class="code">store_cookies/2</span>
	has to be called for the cookies to be saved. 
	Default is <span class="code">disabled</span>.</div>
	<div class="REFTYPES">
<span class="bold_code">IpFamily = inet | inet6 </span><br>
</div>
	<div class="REFBODY">Default is <span class="code">inet</span>.</div>
	<div class="REFTYPES">
<span class="bold_code">IpAddress = ip_address()</span><br>
</div>
	<div class="REFBODY">If the host has several network interfaces, this option specifies 
	which one to use. 
	See <span class="bold_code"><a href="gen_tcp.html#connect">gen_tcp:connect/3,4</a></span> 
	for details.</div>
	<div class="REFTYPES">
<span class="bold_code">Port = integer()</span><br>
</div>
	<div class="REFBODY">Local port number to use. 
	See <span class="bold_code"><a href="gen_tcp.html#connect">gen_tcp:connect/3,4</a></span> 
	for details.</div>
	<div class="REFTYPES">
<span class="bold_code">socket_opts() = [socket_opt()]</span><br>
</div>
	<div class="REFBODY">The options are appended to the socket options used by the 
	client. 
	These are the default values when a new request handler
	is started (for the initial connect). They are passed directly 
        to the underlying transport (<span class="code">gen_tcp</span> or <span class="code">SSL</span>) 
	<strong>without</strong> verification.</div>
	<div class="REFTYPES">
<span class="bold_code">VerboseMode = false | verbose | debug | trace</span><br>
</div>
	<div class="REFBODY">Default is <span class="code">false</span>.
	This option is used to switch on (or off) 
	different levels of Erlang trace on the client. 
	It is a debug feature.</div>
	<div class="REFTYPES">
<span class="bold_code">Profile = profile() | pid()</span><br>
</div>
	<div class="REFBODY">When started <span class="code">stand_alone</span> only the pid can be used.</div>
      </div>
<div class="REFBODY"><p>
	<p>Sets options to be used for subsequent requests.</p>
	<div class="note">
<div class="label">Note</div>
<div class="content"><p>
	  <p>If possible, the client keeps its connections
	  alive and uses persistent connections
	  with or without pipeline depending on configuration
	  and current circumstances. The HTTP/1.1 specification does not
	  provide a guideline for how many requests that are
	  ideal to be sent on a persistent connection.
	  This depends much on the application.</p>
	  <p>A long queue of requests can cause a
	  user-perceived delay, as earlier requests can take a long time
	  to complete. The HTTP/1.1 specification suggests a
	  limit of two persistent connections per server, which is the
	  default value of option <span class="code">max_sessions</span>.</p>
	</p></div>
</div>

        <a name="get_options"></a>
      </p></div>
     
    <p><a name="store_cookies-2"><span class="bold_code">store_cookies(SetCookieHeaders, Url) -&gt; </span></a><br><a name="store_cookies-3"><span class="bold_code">store_cookies(SetCookieHeaders, Url, Profile) -&gt; ok | {error, Reason}</span></a><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">SetCookieHeaders = headers() - where field = "set-cookie"</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Url = url()</span><br>
</div>
	<div class="REFTYPES">
<span class="bold_code">Profile = profile() | pid()</span><br>
</div>
	<div class="REFBODY">When started <span class="code">stand_alone</span> only the pid can be used.</div>
      </div>
<div class="REFBODY"><p>
        <p>Saves the cookies defined in <span class="code">SetCookieHeaders</span>
	in the client profile cookie database.
	Call this function if option <span class="code">cookies</span> is set to <span class="code">verify</span>.
	If no profile is specified, the default profile is used.</p>
      </p></div>

    <p><a name="stream_next-1"><span class="bold_code">stream_next(Pid) -&gt; ok</span></a><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">Pid = pid()</span><br>
</div>
	<div class="REFBODY">As received in the <span class="code">stream_start message</span>
</div>
      </div>
<div class="REFBODY"><p>
        <p>Triggers the next message to be streamed, that is,
	the same behavior as active ones for sockets.</p>

        <a name="verify_cookies"></a>
        <a name="store_cookies"></a>
      </p></div>
    
    <p><a name="which_cookies-0"><span class="bold_code">which_cookies() -&gt; cookies()</span></a><br><a name="which_cookies-1"><span class="bold_code">which_cookies(Profile) -&gt; cookies()</span></a><br></p>
<div class="REFBODY">
<p>Types:</p>
	<div class="REFTYPES">
<span class="bold_code">Profile = profile() | pid()</span><br>
</div>
	<div class="REFBODY">When started <span class="code">stand_alone</span> only the pid can be used.</div>
	<div class="REFTYPES">
<span class="bold_code">cookies() = [cookie_stores()]</span><br>
</div>
	<div class="REFTYPES">
<span class="bold_code">cookie_stores() = {cookies, cookies()} | {session_cookies, cookies()}</span><br>
</div>
	<div class="REFTYPES">
<span class="bold_code">cookies() = [cookie()]</span><br>
</div>
	<div class="REFTYPES">
<span class="bold_code">cookie() = term()</span><br>
</div>
      </div>
<div class="REFBODY"><p>
        <p>Produces a list of the entire cookie database.
	Intended for debugging/testing purposes. 
	If no profile is specified, the default profile is used.</p>
      </p></div>

    <p><a name="which_sessions-0"><span class="bold_code">which_sessions() -&gt; session_info()</span></a><br><a name="which_sessions-1"><span class="bold_code">which_sessions(Profile) -&gt; session_info()</span></a><br></p>
<div class="REFBODY">
<p>Types:</p>
	<div class="REFTYPES">
<span class="bold_code">Profile = profile() | pid()</span><br>
</div>
	<div class="REFBODY">When started <span class="code">stand_alone</span> only the pid can be used.</div>
	<div class="REFTYPES">
<span class="bold_code">session_info() = {GoodSessions, BadSessions, NonSessions}</span><br>
</div>
	<div class="REFTYPES">
<span class="bold_code">GoodSessions = session()</span><br>
</div>
	<div class="REFTYPES">
<span class="bold_code">BadSessions = tuple()</span><br>
</div>
	<div class="REFTYPES">
<span class="bold_code">NonSessions = term()</span><br>
</div>
      </div>
<div class="REFBODY"><p>
        <p>Produces a slightly processed dump of the session 
	database. It is intended for debugging. 
	If no profile is specified, the default profile is used.</p>
      </p></div>

  
  

  <h3><a name="id84025">SEE ALSO</a></h3>
<div class="REFBODY">
    
    <p><span class="bold_code"><a href="http://www.ietf.org/rfc/rfc2616.txt">RFC 2616</a></span>, 
    <span class="bold_code"><a href="inets.html">inets(3)</a></span>,
    <span class="bold_code"><a href="gen_tcp.html">gen_tcp(3)</a></span>, 
    <span class="bold_code"><a href="ssl.html">ssl(3)</a></span>
    </p>
  </div>
  
</div>
<div class="footer">
<hr>
<p>Copyright © 1997-2016 Ericsson AB. All Rights Reserved.</p>
</div>
</div>
</div></body>
</html>
