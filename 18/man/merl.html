<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:fn="http://www.w3.org/2005/02/xpath-functions">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="../otp_doc.css" type="text/css">
<title>Erlang -- merl</title>
</head>
<body bgcolor="white" text="#000000" link="#0000ff" vlink="#ff00ff" alink="#ff0000"><div id="container">
<script id="js" type="text/javascript" language="JavaScript" src="../js/flipmenu/flipmenu.js"></script><script id="js2" type="text/javascript" src="../js/erlresolvelinks.js"></script><script language="JavaScript" type="text/javascript">
            <!--
              function getWinHeight() {
                var myHeight = 0;
                if( typeof( window.innerHeight ) == 'number' ) {
                  //Non-IE
                  myHeight = window.innerHeight;
                } else if( document.documentElement && ( document.documentElement.clientWidth ||
                                                         document.documentElement.clientHeight ) ) {
                  //IE 6+ in 'standards compliant mode'
                  myHeight = document.documentElement.clientHeight;
                } else if( document.body && ( document.body.clientWidth || document.body.clientHeight ) ) {
                  //IE 4 compatible
                  myHeight = document.body.clientHeight;
                }
                return myHeight;
              }

              function setscrollpos() {
                var objf=document.getElementById('loadscrollpos');
                 document.getElementById("leftnav").scrollTop = objf.offsetTop - getWinHeight()/2;
              }

              function addEvent(obj, evType, fn){
                if (obj.addEventListener){
                obj.addEventListener(evType, fn, true);
                return true;
              } else if (obj.attachEvent){
                var r = obj.attachEvent("on"+evType, fn);
                return r;
              } else {
                return false;
              }
             }

             addEvent(window, 'load', setscrollpos);

             //--></script><div id="leftnav"><div class="innertube">
<img alt="Erlang logo" src="../erlang-logo.png"><br><small><a href="../apps/syntax_tools/users_guide.html">User's Guide</a><br><a href="../apps/syntax_tools/index.html">Reference Manual</a><br><a href="../apps/syntax_tools/release_notes.html">Release Notes</a><br><a href="../apps/syntax_tools/syntax_tools.pdf">PDF</a><br><a href="../index.html">Top</a></small><p><strong>Syntax_Tools</strong><br><strong>Reference Manual</strong><br><small>Version 1.7</small></p>
<br><a href="javascript:openAllFlips()">Expand All</a><br><a href="javascript:closeAllFlips()">Contract All</a><p><small><strong>Table of Contents</strong></small></p>
<ul class="flipMenu">
<li id="no" title="epp_dodger " expanded="false">epp_dodger<ul>
<li><a href="epp_dodger.html">
                  Top of manual page
                </a></li>
<li title="parse-1"><a href="epp_dodger.html#parse-1">parse/1</a></li>
<li title="parse-2"><a href="epp_dodger.html#parse-2">parse/2</a></li>
<li title="parse-3"><a href="epp_dodger.html#parse-3">parse/3</a></li>
<li title="parse_file-1"><a href="epp_dodger.html#parse_file-1">parse_file/1</a></li>
<li title="parse_file-2"><a href="epp_dodger.html#parse_file-2">parse_file/2</a></li>
<li title="parse_form-2"><a href="epp_dodger.html#parse_form-2">parse_form/2</a></li>
<li title="parse_form-3"><a href="epp_dodger.html#parse_form-3">parse_form/3</a></li>
<li title="quick_parse-1"><a href="epp_dodger.html#quick_parse-1">quick_parse/1</a></li>
<li title="quick_parse-2"><a href="epp_dodger.html#quick_parse-2">quick_parse/2</a></li>
<li title="quick_parse-3"><a href="epp_dodger.html#quick_parse-3">quick_parse/3</a></li>
<li title="quick_parse_file-1"><a href="epp_dodger.html#quick_parse_file-1">quick_parse_file/1</a></li>
<li title="quick_parse_file-2"><a href="epp_dodger.html#quick_parse_file-2">quick_parse_file/2</a></li>
<li title="quick_parse_form-2"><a href="epp_dodger.html#quick_parse_form-2">quick_parse_form/2</a></li>
<li title="quick_parse_form-3"><a href="epp_dodger.html#quick_parse_form-3">quick_parse_form/3</a></li>
<li title="tokens_to_string-1"><a href="epp_dodger.html#tokens_to_string-1">tokens_to_string/1</a></li>
</ul>
</li>
<li id="no" title="erl_comment_scan " expanded="false">erl_comment_scan<ul>
<li><a href="erl_comment_scan.html">
                  Top of manual page
                </a></li>
<li title="file-1"><a href="erl_comment_scan.html#file-1">file/1</a></li>
<li title="join_lines-1"><a href="erl_comment_scan.html#join_lines-1">join_lines/1</a></li>
<li title="scan_lines-1"><a href="erl_comment_scan.html#scan_lines-1">scan_lines/1</a></li>
<li title="string-1"><a href="erl_comment_scan.html#string-1">string/1</a></li>
</ul>
</li>
<li id="no" title="erl_prettypr " expanded="false">erl_prettypr<ul>
<li><a href="erl_prettypr.html">
                  Top of manual page
                </a></li>
<li title="best-1"><a href="erl_prettypr.html#best-1">best/1</a></li>
<li title="best-2"><a href="erl_prettypr.html#best-2">best/2</a></li>
<li title="format-1"><a href="erl_prettypr.html#format-1">format/1</a></li>
<li title="format-2"><a href="erl_prettypr.html#format-2">format/2</a></li>
<li title="get_ctxt_hook-1"><a href="erl_prettypr.html#get_ctxt_hook-1">get_ctxt_hook/1</a></li>
<li title="get_ctxt_linewidth-1"><a href="erl_prettypr.html#get_ctxt_linewidth-1">get_ctxt_linewidth/1</a></li>
<li title="get_ctxt_paperwidth-1"><a href="erl_prettypr.html#get_ctxt_paperwidth-1">get_ctxt_paperwidth/1</a></li>
<li title="get_ctxt_precedence-1"><a href="erl_prettypr.html#get_ctxt_precedence-1">get_ctxt_precedence/1</a></li>
<li title="get_ctxt_user-1"><a href="erl_prettypr.html#get_ctxt_user-1">get_ctxt_user/1</a></li>
<li title="layout-1"><a href="erl_prettypr.html#layout-1">layout/1</a></li>
<li title="layout-2"><a href="erl_prettypr.html#layout-2">layout/2</a></li>
<li title="set_ctxt_hook-2"><a href="erl_prettypr.html#set_ctxt_hook-2">set_ctxt_hook/2</a></li>
<li title="set_ctxt_linewidth-2"><a href="erl_prettypr.html#set_ctxt_linewidth-2">set_ctxt_linewidth/2</a></li>
<li title="set_ctxt_paperwidth-2"><a href="erl_prettypr.html#set_ctxt_paperwidth-2">set_ctxt_paperwidth/2</a></li>
<li title="set_ctxt_precedence-2"><a href="erl_prettypr.html#set_ctxt_precedence-2">set_ctxt_precedence/2</a></li>
<li title="set_ctxt_user-2"><a href="erl_prettypr.html#set_ctxt_user-2">set_ctxt_user/2</a></li>
</ul>
</li>
<li id="no" title="erl_recomment " expanded="false">erl_recomment<ul>
<li><a href="erl_recomment.html">
                  Top of manual page
                </a></li>
<li title="quick_recomment_forms-2"><a href="erl_recomment.html#quick_recomment_forms-2">quick_recomment_forms/2</a></li>
<li title="recomment_forms-2"><a href="erl_recomment.html#recomment_forms-2">recomment_forms/2</a></li>
<li title="recomment_tree-2"><a href="erl_recomment.html#recomment_tree-2">recomment_tree/2</a></li>
</ul>
</li>
<li id="no" title="erl_syntax " expanded="false">erl_syntax<ul>
<li><a href="erl_syntax.html">
                  Top of manual page
                </a></li>
<li title="abstract-1"><a href="erl_syntax.html#abstract-1">abstract/1</a></li>
<li title="add_ann-2"><a href="erl_syntax.html#add_ann-2">add_ann/2</a></li>
<li title="add_postcomments-2"><a href="erl_syntax.html#add_postcomments-2">add_postcomments/2</a></li>
<li title="add_precomments-2"><a href="erl_syntax.html#add_precomments-2">add_precomments/2</a></li>
<li title="application-2"><a href="erl_syntax.html#application-2">application/2</a></li>
<li title="application-3"><a href="erl_syntax.html#application-3">application/3</a></li>
<li title="application_arguments-1"><a href="erl_syntax.html#application_arguments-1">application_arguments/1</a></li>
<li title="application_operator-1"><a href="erl_syntax.html#application_operator-1">application_operator/1</a></li>
<li title="arity_qualifier-2"><a href="erl_syntax.html#arity_qualifier-2">arity_qualifier/2</a></li>
<li title="arity_qualifier_argument-1"><a href="erl_syntax.html#arity_qualifier_argument-1">arity_qualifier_argument/1</a></li>
<li title="arity_qualifier_body-1"><a href="erl_syntax.html#arity_qualifier_body-1">arity_qualifier_body/1</a></li>
<li title="atom-1"><a href="erl_syntax.html#atom-1">atom/1</a></li>
<li title="atom_literal-1"><a href="erl_syntax.html#atom_literal-1">atom_literal/1</a></li>
<li title="atom_name-1"><a href="erl_syntax.html#atom_name-1">atom_name/1</a></li>
<li title="atom_value-1"><a href="erl_syntax.html#atom_value-1">atom_value/1</a></li>
<li title="attribute-1"><a href="erl_syntax.html#attribute-1">attribute/1</a></li>
<li title="attribute-2"><a href="erl_syntax.html#attribute-2">attribute/2</a></li>
<li title="attribute_arguments-1"><a href="erl_syntax.html#attribute_arguments-1">attribute_arguments/1</a></li>
<li title="attribute_name-1"><a href="erl_syntax.html#attribute_name-1">attribute_name/1</a></li>
<li title="binary-1"><a href="erl_syntax.html#binary-1">binary/1</a></li>
<li title="binary_comp-2"><a href="erl_syntax.html#binary_comp-2">binary_comp/2</a></li>
<li title="binary_comp_body-1"><a href="erl_syntax.html#binary_comp_body-1">binary_comp_body/1</a></li>
<li title="binary_comp_template-1"><a href="erl_syntax.html#binary_comp_template-1">binary_comp_template/1</a></li>
<li title="binary_field-1"><a href="erl_syntax.html#binary_field-1">binary_field/1</a></li>
<li title="binary_field-2"><a href="erl_syntax.html#binary_field-2">binary_field/2</a></li>
<li title="binary_field-3"><a href="erl_syntax.html#binary_field-3">binary_field/3</a></li>
<li title="binary_field_body-1"><a href="erl_syntax.html#binary_field_body-1">binary_field_body/1</a></li>
<li title="binary_field_size-1"><a href="erl_syntax.html#binary_field_size-1">binary_field_size/1</a></li>
<li title="binary_field_types-1"><a href="erl_syntax.html#binary_field_types-1">binary_field_types/1</a></li>
<li title="binary_fields-1"><a href="erl_syntax.html#binary_fields-1">binary_fields/1</a></li>
<li title="binary_generator-2"><a href="erl_syntax.html#binary_generator-2">binary_generator/2</a></li>
<li title="binary_generator_body-1"><a href="erl_syntax.html#binary_generator_body-1">binary_generator_body/1</a></li>
<li title="binary_generator_pattern-1"><a href="erl_syntax.html#binary_generator_pattern-1">binary_generator_pattern/1</a></li>
<li title="block_expr-1"><a href="erl_syntax.html#block_expr-1">block_expr/1</a></li>
<li title="block_expr_body-1"><a href="erl_syntax.html#block_expr_body-1">block_expr_body/1</a></li>
<li title="case_expr-2"><a href="erl_syntax.html#case_expr-2">case_expr/2</a></li>
<li title="case_expr_argument-1"><a href="erl_syntax.html#case_expr_argument-1">case_expr_argument/1</a></li>
<li title="case_expr_clauses-1"><a href="erl_syntax.html#case_expr_clauses-1">case_expr_clauses/1</a></li>
<li title="catch_expr-1"><a href="erl_syntax.html#catch_expr-1">catch_expr/1</a></li>
<li title="catch_expr_body-1"><a href="erl_syntax.html#catch_expr_body-1">catch_expr_body/1</a></li>
<li title="char-1"><a href="erl_syntax.html#char-1">char/1</a></li>
<li title="char_literal-1"><a href="erl_syntax.html#char_literal-1">char_literal/1</a></li>
<li title="char_literal-2"><a href="erl_syntax.html#char_literal-2">char_literal/2</a></li>
<li title="char_value-1"><a href="erl_syntax.html#char_value-1">char_value/1</a></li>
<li title="class_qualifier-2"><a href="erl_syntax.html#class_qualifier-2">class_qualifier/2</a></li>
<li title="class_qualifier_argument-1"><a href="erl_syntax.html#class_qualifier_argument-1">class_qualifier_argument/1</a></li>
<li title="class_qualifier_body-1"><a href="erl_syntax.html#class_qualifier_body-1">class_qualifier_body/1</a></li>
<li title="clause-2"><a href="erl_syntax.html#clause-2">clause/2</a></li>
<li title="clause-3"><a href="erl_syntax.html#clause-3">clause/3</a></li>
<li title="clause_body-1"><a href="erl_syntax.html#clause_body-1">clause_body/1</a></li>
<li title="clause_guard-1"><a href="erl_syntax.html#clause_guard-1">clause_guard/1</a></li>
<li title="clause_patterns-1"><a href="erl_syntax.html#clause_patterns-1">clause_patterns/1</a></li>
<li title="comment-1"><a href="erl_syntax.html#comment-1">comment/1</a></li>
<li title="comment-2"><a href="erl_syntax.html#comment-2">comment/2</a></li>
<li title="comment_padding-1"><a href="erl_syntax.html#comment_padding-1">comment_padding/1</a></li>
<li title="comment_text-1"><a href="erl_syntax.html#comment_text-1">comment_text/1</a></li>
<li title="compact_list-1"><a href="erl_syntax.html#compact_list-1">compact_list/1</a></li>
<li title="concrete-1"><a href="erl_syntax.html#concrete-1">concrete/1</a></li>
<li title="cond_expr-1"><a href="erl_syntax.html#cond_expr-1">cond_expr/1</a></li>
<li title="cond_expr_clauses-1"><a href="erl_syntax.html#cond_expr_clauses-1">cond_expr_clauses/1</a></li>
<li title="conjunction-1"><a href="erl_syntax.html#conjunction-1">conjunction/1</a></li>
<li title="conjunction_body-1"><a href="erl_syntax.html#conjunction_body-1">conjunction_body/1</a></li>
<li title="cons-2"><a href="erl_syntax.html#cons-2">cons/2</a></li>
<li title="copy_ann-2"><a href="erl_syntax.html#copy_ann-2">copy_ann/2</a></li>
<li title="copy_attrs-2"><a href="erl_syntax.html#copy_attrs-2">copy_attrs/2</a></li>
<li title="copy_comments-2"><a href="erl_syntax.html#copy_comments-2">copy_comments/2</a></li>
<li title="copy_pos-2"><a href="erl_syntax.html#copy_pos-2">copy_pos/2</a></li>
<li title="data-1"><a href="erl_syntax.html#data-1">data/1</a></li>
<li title="disjunction-1"><a href="erl_syntax.html#disjunction-1">disjunction/1</a></li>
<li title="disjunction_body-1"><a href="erl_syntax.html#disjunction_body-1">disjunction_body/1</a></li>
<li title="eof_marker-0"><a href="erl_syntax.html#eof_marker-0">eof_marker/0</a></li>
<li title="error_marker-1"><a href="erl_syntax.html#error_marker-1">error_marker/1</a></li>
<li title="error_marker_info-1"><a href="erl_syntax.html#error_marker_info-1">error_marker_info/1</a></li>
<li title="flatten_form_list-1"><a href="erl_syntax.html#flatten_form_list-1">flatten_form_list/1</a></li>
<li title="float-1"><a href="erl_syntax.html#float-1">float/1</a></li>
<li title="float_literal-1"><a href="erl_syntax.html#float_literal-1">float_literal/1</a></li>
<li title="float_value-1"><a href="erl_syntax.html#float_value-1">float_value/1</a></li>
<li title="form_list-1"><a href="erl_syntax.html#form_list-1">form_list/1</a></li>
<li title="form_list_elements-1"><a href="erl_syntax.html#form_list_elements-1">form_list_elements/1</a></li>
<li title="fun_expr-1"><a href="erl_syntax.html#fun_expr-1">fun_expr/1</a></li>
<li title="fun_expr_arity-1"><a href="erl_syntax.html#fun_expr_arity-1">fun_expr_arity/1</a></li>
<li title="fun_expr_clauses-1"><a href="erl_syntax.html#fun_expr_clauses-1">fun_expr_clauses/1</a></li>
<li title="function-2"><a href="erl_syntax.html#function-2">function/2</a></li>
<li title="function_arity-1"><a href="erl_syntax.html#function_arity-1">function_arity/1</a></li>
<li title="function_clauses-1"><a href="erl_syntax.html#function_clauses-1">function_clauses/1</a></li>
<li title="function_name-1"><a href="erl_syntax.html#function_name-1">function_name/1</a></li>
<li title="generator-2"><a href="erl_syntax.html#generator-2">generator/2</a></li>
<li title="generator_body-1"><a href="erl_syntax.html#generator_body-1">generator_body/1</a></li>
<li title="generator_pattern-1"><a href="erl_syntax.html#generator_pattern-1">generator_pattern/1</a></li>
<li title="get_ann-1"><a href="erl_syntax.html#get_ann-1">get_ann/1</a></li>
<li title="get_attrs-1"><a href="erl_syntax.html#get_attrs-1">get_attrs/1</a></li>
<li title="get_pos-1"><a href="erl_syntax.html#get_pos-1">get_pos/1</a></li>
<li title="get_postcomments-1"><a href="erl_syntax.html#get_postcomments-1">get_postcomments/1</a></li>
<li title="get_precomments-1"><a href="erl_syntax.html#get_precomments-1">get_precomments/1</a></li>
<li title="has_comments-1"><a href="erl_syntax.html#has_comments-1">has_comments/1</a></li>
<li title="if_expr-1"><a href="erl_syntax.html#if_expr-1">if_expr/1</a></li>
<li title="if_expr_clauses-1"><a href="erl_syntax.html#if_expr_clauses-1">if_expr_clauses/1</a></li>
<li title="implicit_fun-1"><a href="erl_syntax.html#implicit_fun-1">implicit_fun/1</a></li>
<li title="implicit_fun-2"><a href="erl_syntax.html#implicit_fun-2">implicit_fun/2</a></li>
<li title="implicit_fun-3"><a href="erl_syntax.html#implicit_fun-3">implicit_fun/3</a></li>
<li title="implicit_fun_name-1"><a href="erl_syntax.html#implicit_fun_name-1">implicit_fun_name/1</a></li>
<li title="infix_expr-3"><a href="erl_syntax.html#infix_expr-3">infix_expr/3</a></li>
<li title="infix_expr_left-1"><a href="erl_syntax.html#infix_expr_left-1">infix_expr_left/1</a></li>
<li title="infix_expr_operator-1"><a href="erl_syntax.html#infix_expr_operator-1">infix_expr_operator/1</a></li>
<li title="infix_expr_right-1"><a href="erl_syntax.html#infix_expr_right-1">infix_expr_right/1</a></li>
<li title="integer-1"><a href="erl_syntax.html#integer-1">integer/1</a></li>
<li title="integer_literal-1"><a href="erl_syntax.html#integer_literal-1">integer_literal/1</a></li>
<li title="integer_value-1"><a href="erl_syntax.html#integer_value-1">integer_value/1</a></li>
<li title="is_atom-2"><a href="erl_syntax.html#is_atom-2">is_atom/2</a></li>
<li title="is_char-2"><a href="erl_syntax.html#is_char-2">is_char/2</a></li>
<li title="is_form-1"><a href="erl_syntax.html#is_form-1">is_form/1</a></li>
<li title="is_integer-2"><a href="erl_syntax.html#is_integer-2">is_integer/2</a></li>
<li title="is_leaf-1"><a href="erl_syntax.html#is_leaf-1">is_leaf/1</a></li>
<li title="is_list_skeleton-1"><a href="erl_syntax.html#is_list_skeleton-1">is_list_skeleton/1</a></li>
<li title="is_literal-1"><a href="erl_syntax.html#is_literal-1">is_literal/1</a></li>
<li title="is_proper_list-1"><a href="erl_syntax.html#is_proper_list-1">is_proper_list/1</a></li>
<li title="is_string-2"><a href="erl_syntax.html#is_string-2">is_string/2</a></li>
<li title="is_tree-1"><a href="erl_syntax.html#is_tree-1">is_tree/1</a></li>
<li title="join_comments-2"><a href="erl_syntax.html#join_comments-2">join_comments/2</a></li>
<li title="list-1"><a href="erl_syntax.html#list-1">list/1</a></li>
<li title="list-2"><a href="erl_syntax.html#list-2">list/2</a></li>
<li title="list_comp-2"><a href="erl_syntax.html#list_comp-2">list_comp/2</a></li>
<li title="list_comp_body-1"><a href="erl_syntax.html#list_comp_body-1">list_comp_body/1</a></li>
<li title="list_comp_template-1"><a href="erl_syntax.html#list_comp_template-1">list_comp_template/1</a></li>
<li title="list_elements-1"><a href="erl_syntax.html#list_elements-1">list_elements/1</a></li>
<li title="list_head-1"><a href="erl_syntax.html#list_head-1">list_head/1</a></li>
<li title="list_length-1"><a href="erl_syntax.html#list_length-1">list_length/1</a></li>
<li title="list_prefix-1"><a href="erl_syntax.html#list_prefix-1">list_prefix/1</a></li>
<li title="list_suffix-1"><a href="erl_syntax.html#list_suffix-1">list_suffix/1</a></li>
<li title="list_tail-1"><a href="erl_syntax.html#list_tail-1">list_tail/1</a></li>
<li title="macro-1"><a href="erl_syntax.html#macro-1">macro/1</a></li>
<li title="macro-2"><a href="erl_syntax.html#macro-2">macro/2</a></li>
<li title="macro_arguments-1"><a href="erl_syntax.html#macro_arguments-1">macro_arguments/1</a></li>
<li title="macro_name-1"><a href="erl_syntax.html#macro_name-1">macro_name/1</a></li>
<li title="make_tree-2"><a href="erl_syntax.html#make_tree-2">make_tree/2</a></li>
<li title="map_expr-1"><a href="erl_syntax.html#map_expr-1">map_expr/1</a></li>
<li title="map_expr-2"><a href="erl_syntax.html#map_expr-2">map_expr/2</a></li>
<li title="map_expr_argument-1"><a href="erl_syntax.html#map_expr_argument-1">map_expr_argument/1</a></li>
<li title="map_expr_fields-1"><a href="erl_syntax.html#map_expr_fields-1">map_expr_fields/1</a></li>
<li title="map_field_assoc-2"><a href="erl_syntax.html#map_field_assoc-2">map_field_assoc/2</a></li>
<li title="map_field_assoc_name-1"><a href="erl_syntax.html#map_field_assoc_name-1">map_field_assoc_name/1</a></li>
<li title="map_field_assoc_value-1"><a href="erl_syntax.html#map_field_assoc_value-1">map_field_assoc_value/1</a></li>
<li title="map_field_exact-2"><a href="erl_syntax.html#map_field_exact-2">map_field_exact/2</a></li>
<li title="map_field_exact_name-1"><a href="erl_syntax.html#map_field_exact_name-1">map_field_exact_name/1</a></li>
<li title="map_field_exact_value-1"><a href="erl_syntax.html#map_field_exact_value-1">map_field_exact_value/1</a></li>
<li title="match_expr-2"><a href="erl_syntax.html#match_expr-2">match_expr/2</a></li>
<li title="match_expr_body-1"><a href="erl_syntax.html#match_expr_body-1">match_expr_body/1</a></li>
<li title="match_expr_pattern-1"><a href="erl_syntax.html#match_expr_pattern-1">match_expr_pattern/1</a></li>
<li title="meta-1"><a href="erl_syntax.html#meta-1">meta/1</a></li>
<li title="module_qualifier-2"><a href="erl_syntax.html#module_qualifier-2">module_qualifier/2</a></li>
<li title="module_qualifier_argument-1"><a href="erl_syntax.html#module_qualifier_argument-1">module_qualifier_argument/1</a></li>
<li title="module_qualifier_body-1"><a href="erl_syntax.html#module_qualifier_body-1">module_qualifier_body/1</a></li>
<li title="named_fun_expr-2"><a href="erl_syntax.html#named_fun_expr-2">named_fun_expr/2</a></li>
<li title="named_fun_expr_arity-1"><a href="erl_syntax.html#named_fun_expr_arity-1">named_fun_expr_arity/1</a></li>
<li title="named_fun_expr_clauses-1"><a href="erl_syntax.html#named_fun_expr_clauses-1">named_fun_expr_clauses/1</a></li>
<li title="named_fun_expr_name-1"><a href="erl_syntax.html#named_fun_expr_name-1">named_fun_expr_name/1</a></li>
<li title="nil-0"><a href="erl_syntax.html#nil-0">nil/0</a></li>
<li title="normalize_list-1"><a href="erl_syntax.html#normalize_list-1">normalize_list/1</a></li>
<li title="operator-1"><a href="erl_syntax.html#operator-1">operator/1</a></li>
<li title="operator_literal-1"><a href="erl_syntax.html#operator_literal-1">operator_literal/1</a></li>
<li title="operator_name-1"><a href="erl_syntax.html#operator_name-1">operator_name/1</a></li>
<li title="parentheses-1"><a href="erl_syntax.html#parentheses-1">parentheses/1</a></li>
<li title="parentheses_body-1"><a href="erl_syntax.html#parentheses_body-1">parentheses_body/1</a></li>
<li title="prefix_expr-2"><a href="erl_syntax.html#prefix_expr-2">prefix_expr/2</a></li>
<li title="prefix_expr_argument-1"><a href="erl_syntax.html#prefix_expr_argument-1">prefix_expr_argument/1</a></li>
<li title="prefix_expr_operator-1"><a href="erl_syntax.html#prefix_expr_operator-1">prefix_expr_operator/1</a></li>
<li title="receive_expr-1"><a href="erl_syntax.html#receive_expr-1">receive_expr/1</a></li>
<li title="receive_expr-3"><a href="erl_syntax.html#receive_expr-3">receive_expr/3</a></li>
<li title="receive_expr_action-1"><a href="erl_syntax.html#receive_expr_action-1">receive_expr_action/1</a></li>
<li title="receive_expr_clauses-1"><a href="erl_syntax.html#receive_expr_clauses-1">receive_expr_clauses/1</a></li>
<li title="receive_expr_timeout-1"><a href="erl_syntax.html#receive_expr_timeout-1">receive_expr_timeout/1</a></li>
<li title="record_access-3"><a href="erl_syntax.html#record_access-3">record_access/3</a></li>
<li title="record_access_argument-1"><a href="erl_syntax.html#record_access_argument-1">record_access_argument/1</a></li>
<li title="record_access_field-1"><a href="erl_syntax.html#record_access_field-1">record_access_field/1</a></li>
<li title="record_access_type-1"><a href="erl_syntax.html#record_access_type-1">record_access_type/1</a></li>
<li title="record_expr-2"><a href="erl_syntax.html#record_expr-2">record_expr/2</a></li>
<li title="record_expr-3"><a href="erl_syntax.html#record_expr-3">record_expr/3</a></li>
<li title="record_expr_argument-1"><a href="erl_syntax.html#record_expr_argument-1">record_expr_argument/1</a></li>
<li title="record_expr_fields-1"><a href="erl_syntax.html#record_expr_fields-1">record_expr_fields/1</a></li>
<li title="record_expr_type-1"><a href="erl_syntax.html#record_expr_type-1">record_expr_type/1</a></li>
<li title="record_field-1"><a href="erl_syntax.html#record_field-1">record_field/1</a></li>
<li title="record_field-2"><a href="erl_syntax.html#record_field-2">record_field/2</a></li>
<li title="record_field_name-1"><a href="erl_syntax.html#record_field_name-1">record_field_name/1</a></li>
<li title="record_field_value-1"><a href="erl_syntax.html#record_field_value-1">record_field_value/1</a></li>
<li title="record_index_expr-2"><a href="erl_syntax.html#record_index_expr-2">record_index_expr/2</a></li>
<li title="record_index_expr_field-1"><a href="erl_syntax.html#record_index_expr_field-1">record_index_expr_field/1</a></li>
<li title="record_index_expr_type-1"><a href="erl_syntax.html#record_index_expr_type-1">record_index_expr_type/1</a></li>
<li title="remove_comments-1"><a href="erl_syntax.html#remove_comments-1">remove_comments/1</a></li>
<li title="revert-1"><a href="erl_syntax.html#revert-1">revert/1</a></li>
<li title="revert_forms-1"><a href="erl_syntax.html#revert_forms-1">revert_forms/1</a></li>
<li title="set_ann-2"><a href="erl_syntax.html#set_ann-2">set_ann/2</a></li>
<li title="set_attrs-2"><a href="erl_syntax.html#set_attrs-2">set_attrs/2</a></li>
<li title="set_pos-2"><a href="erl_syntax.html#set_pos-2">set_pos/2</a></li>
<li title="set_postcomments-2"><a href="erl_syntax.html#set_postcomments-2">set_postcomments/2</a></li>
<li title="set_precomments-2"><a href="erl_syntax.html#set_precomments-2">set_precomments/2</a></li>
<li title="size_qualifier-2"><a href="erl_syntax.html#size_qualifier-2">size_qualifier/2</a></li>
<li title="size_qualifier_argument-1"><a href="erl_syntax.html#size_qualifier_argument-1">size_qualifier_argument/1</a></li>
<li title="size_qualifier_body-1"><a href="erl_syntax.html#size_qualifier_body-1">size_qualifier_body/1</a></li>
<li title="string-1"><a href="erl_syntax.html#string-1">string/1</a></li>
<li title="string_literal-1"><a href="erl_syntax.html#string_literal-1">string_literal/1</a></li>
<li title="string_literal-2"><a href="erl_syntax.html#string_literal-2">string_literal/2</a></li>
<li title="string_value-1"><a href="erl_syntax.html#string_value-1">string_value/1</a></li>
<li title="subtrees-1"><a href="erl_syntax.html#subtrees-1">subtrees/1</a></li>
<li title="text-1"><a href="erl_syntax.html#text-1">text/1</a></li>
<li title="text_string-1"><a href="erl_syntax.html#text_string-1">text_string/1</a></li>
<li title="tree-1"><a href="erl_syntax.html#tree-1">tree/1</a></li>
<li title="tree-2"><a href="erl_syntax.html#tree-2">tree/2</a></li>
<li title="try_after_expr-2"><a href="erl_syntax.html#try_after_expr-2">try_after_expr/2</a></li>
<li title="try_expr-2"><a href="erl_syntax.html#try_expr-2">try_expr/2</a></li>
<li title="try_expr-3"><a href="erl_syntax.html#try_expr-3">try_expr/3</a></li>
<li title="try_expr-4"><a href="erl_syntax.html#try_expr-4">try_expr/4</a></li>
<li title="try_expr_after-1"><a href="erl_syntax.html#try_expr_after-1">try_expr_after/1</a></li>
<li title="try_expr_body-1"><a href="erl_syntax.html#try_expr_body-1">try_expr_body/1</a></li>
<li title="try_expr_clauses-1"><a href="erl_syntax.html#try_expr_clauses-1">try_expr_clauses/1</a></li>
<li title="try_expr_handlers-1"><a href="erl_syntax.html#try_expr_handlers-1">try_expr_handlers/1</a></li>
<li title="tuple-1"><a href="erl_syntax.html#tuple-1">tuple/1</a></li>
<li title="tuple_elements-1"><a href="erl_syntax.html#tuple_elements-1">tuple_elements/1</a></li>
<li title="tuple_size-1"><a href="erl_syntax.html#tuple_size-1">tuple_size/1</a></li>
<li title="type-1"><a href="erl_syntax.html#type-1">type/1</a></li>
<li title="underscore-0"><a href="erl_syntax.html#underscore-0">underscore/0</a></li>
<li title="update_tree-2"><a href="erl_syntax.html#update_tree-2">update_tree/2</a></li>
<li title="variable-1"><a href="erl_syntax.html#variable-1">variable/1</a></li>
<li title="variable_literal-1"><a href="erl_syntax.html#variable_literal-1">variable_literal/1</a></li>
<li title="variable_name-1"><a href="erl_syntax.html#variable_name-1">variable_name/1</a></li>
<li title="warning_marker-1"><a href="erl_syntax.html#warning_marker-1">warning_marker/1</a></li>
<li title="warning_marker_info-1"><a href="erl_syntax.html#warning_marker_info-1">warning_marker_info/1</a></li>
</ul>
</li>
<li id="no" title="erl_syntax_lib " expanded="false">erl_syntax_lib<ul>
<li><a href="erl_syntax_lib.html">
                  Top of manual page
                </a></li>
<li title="analyze_application-1"><a href="erl_syntax_lib.html#analyze_application-1">analyze_application/1</a></li>
<li title="analyze_attribute-1"><a href="erl_syntax_lib.html#analyze_attribute-1">analyze_attribute/1</a></li>
<li title="analyze_export_attribute-1"><a href="erl_syntax_lib.html#analyze_export_attribute-1">analyze_export_attribute/1</a></li>
<li title="analyze_file_attribute-1"><a href="erl_syntax_lib.html#analyze_file_attribute-1">analyze_file_attribute/1</a></li>
<li title="analyze_form-1"><a href="erl_syntax_lib.html#analyze_form-1">analyze_form/1</a></li>
<li title="analyze_forms-1"><a href="erl_syntax_lib.html#analyze_forms-1">analyze_forms/1</a></li>
<li title="analyze_function-1"><a href="erl_syntax_lib.html#analyze_function-1">analyze_function/1</a></li>
<li title="analyze_function_name-1"><a href="erl_syntax_lib.html#analyze_function_name-1">analyze_function_name/1</a></li>
<li title="analyze_implicit_fun-1"><a href="erl_syntax_lib.html#analyze_implicit_fun-1">analyze_implicit_fun/1</a></li>
<li title="analyze_import_attribute-1"><a href="erl_syntax_lib.html#analyze_import_attribute-1">analyze_import_attribute/1</a></li>
<li title="analyze_module_attribute-1"><a href="erl_syntax_lib.html#analyze_module_attribute-1">analyze_module_attribute/1</a></li>
<li title="analyze_record_attribute-1"><a href="erl_syntax_lib.html#analyze_record_attribute-1">analyze_record_attribute/1</a></li>
<li title="analyze_record_expr-1"><a href="erl_syntax_lib.html#analyze_record_expr-1">analyze_record_expr/1</a></li>
<li title="analyze_record_field-1"><a href="erl_syntax_lib.html#analyze_record_field-1">analyze_record_field/1</a></li>
<li title="analyze_wild_attribute-1"><a href="erl_syntax_lib.html#analyze_wild_attribute-1">analyze_wild_attribute/1</a></li>
<li title="annotate_bindings-1"><a href="erl_syntax_lib.html#annotate_bindings-1">annotate_bindings/1</a></li>
<li title="annotate_bindings-2"><a href="erl_syntax_lib.html#annotate_bindings-2">annotate_bindings/2</a></li>
<li title="fold-3"><a href="erl_syntax_lib.html#fold-3">fold/3</a></li>
<li title="fold_subtrees-3"><a href="erl_syntax_lib.html#fold_subtrees-3">fold_subtrees/3</a></li>
<li title="foldl_listlist-3"><a href="erl_syntax_lib.html#foldl_listlist-3">foldl_listlist/3</a></li>
<li title="function_name_expansions-1"><a href="erl_syntax_lib.html#function_name_expansions-1">function_name_expansions/1</a></li>
<li title="is_fail_expr-1"><a href="erl_syntax_lib.html#is_fail_expr-1">is_fail_expr/1</a></li>
<li title="limit-2"><a href="erl_syntax_lib.html#limit-2">limit/2</a></li>
<li title="limit-3"><a href="erl_syntax_lib.html#limit-3">limit/3</a></li>
<li title="map-2"><a href="erl_syntax_lib.html#map-2">map/2</a></li>
<li title="map_subtrees-2"><a href="erl_syntax_lib.html#map_subtrees-2">map_subtrees/2</a></li>
<li title="mapfold-3"><a href="erl_syntax_lib.html#mapfold-3">mapfold/3</a></li>
<li title="mapfold_subtrees-3"><a href="erl_syntax_lib.html#mapfold_subtrees-3">mapfold_subtrees/3</a></li>
<li title="mapfoldl_listlist-3"><a href="erl_syntax_lib.html#mapfoldl_listlist-3">mapfoldl_listlist/3</a></li>
<li title="new_variable_name-1"><a href="erl_syntax_lib.html#new_variable_name-1">new_variable_name/1</a></li>
<li title="new_variable_name-2"><a href="erl_syntax_lib.html#new_variable_name-2">new_variable_name/2</a></li>
<li title="new_variable_names-2"><a href="erl_syntax_lib.html#new_variable_names-2">new_variable_names/2</a></li>
<li title="new_variable_names-3"><a href="erl_syntax_lib.html#new_variable_names-3">new_variable_names/3</a></li>
<li title="strip_comments-1"><a href="erl_syntax_lib.html#strip_comments-1">strip_comments/1</a></li>
<li title="to_comment-1"><a href="erl_syntax_lib.html#to_comment-1">to_comment/1</a></li>
<li title="to_comment-2"><a href="erl_syntax_lib.html#to_comment-2">to_comment/2</a></li>
<li title="to_comment-3"><a href="erl_syntax_lib.html#to_comment-3">to_comment/3</a></li>
<li title="variables-1"><a href="erl_syntax_lib.html#variables-1">variables/1</a></li>
</ul>
</li>
<li id="no" title="erl_tidy " expanded="false">erl_tidy<ul>
<li><a href="erl_tidy.html">
                  Top of manual page
                </a></li>
<li title="dir-0"><a href="erl_tidy.html#dir-0">dir/0</a></li>
<li title="dir-1"><a href="erl_tidy.html#dir-1">dir/1</a></li>
<li title="dir-2"><a href="erl_tidy.html#dir-2">dir/2</a></li>
<li title="file-1"><a href="erl_tidy.html#file-1">file/1</a></li>
<li title="file-2"><a href="erl_tidy.html#file-2">file/2</a></li>
<li title="module-1"><a href="erl_tidy.html#module-1">module/1</a></li>
<li title="module-2"><a href="erl_tidy.html#module-2">module/2</a></li>
</ul>
</li>
<li id="no" title="igor " expanded="false">igor<ul>
<li><a href="igor.html">
                  Top of manual page
                </a></li>
<li title="create_stubs-2"><a href="igor.html#create_stubs-2">create_stubs/2</a></li>
<li title="merge-2"><a href="igor.html#merge-2">merge/2</a></li>
<li title="merge-3"><a href="igor.html#merge-3">merge/3</a></li>
<li title="merge_files-3"><a href="igor.html#merge_files-3">merge_files/3</a></li>
<li title="merge_files-4"><a href="igor.html#merge_files-4">merge_files/4</a></li>
<li title="merge_sources-3"><a href="igor.html#merge_sources-3">merge_sources/3</a></li>
<li title="parse_transform-2"><a href="igor.html#parse_transform-2">parse_transform/2</a></li>
<li title="rename-2"><a href="igor.html#rename-2">rename/2</a></li>
<li title="rename-3"><a href="igor.html#rename-3">rename/3</a></li>
</ul>
</li>
<li id="loadscrollpos" title="merl " expanded="true">merl<ul>
<li><a href="merl.html">
                  Top of manual page
                </a></li>
<li title="alpha-2"><a href="merl.html#alpha-2">alpha/2</a></li>
<li title="compile-1"><a href="merl.html#compile-1">compile/1</a></li>
<li title="compile-2"><a href="merl.html#compile-2">compile/2</a></li>
<li title="compile_and_load-1"><a href="merl.html#compile_and_load-1">compile_and_load/1</a></li>
<li title="compile_and_load-2"><a href="merl.html#compile_and_load-2">compile_and_load/2</a></li>
<li title="match-2"><a href="merl.html#match-2">match/2</a></li>
<li title="meta_template-1"><a href="merl.html#meta_template-1">meta_template/1</a></li>
<li title="print-1"><a href="merl.html#print-1">print/1</a></li>
<li title="qquote-2"><a href="merl.html#qquote-2">qquote/2</a></li>
<li title="qquote-3"><a href="merl.html#qquote-3">qquote/3</a></li>
<li title="quote-1"><a href="merl.html#quote-1">quote/1</a></li>
<li title="quote-2"><a href="merl.html#quote-2">quote/2</a></li>
<li title="show-1"><a href="merl.html#show-1">show/1</a></li>
<li title="subst-2"><a href="merl.html#subst-2">subst/2</a></li>
<li title="switch-2"><a href="merl.html#switch-2">switch/2</a></li>
<li title="template-1"><a href="merl.html#template-1">template/1</a></li>
<li title="template_vars-1"><a href="merl.html#template_vars-1">template_vars/1</a></li>
<li title="term-1"><a href="merl.html#term-1">term/1</a></li>
<li title="tree-1"><a href="merl.html#tree-1">tree/1</a></li>
<li title="tsubst-2"><a href="merl.html#tsubst-2">tsubst/2</a></li>
<li title="var-1"><a href="merl.html#var-1">var/1</a></li>
</ul>
</li>
<li id="no" title="merl_transform " expanded="false">merl_transform<ul>
<li><a href="merl_transform.html">
                  Top of manual page
                </a></li>
<li title="parse_transform-2"><a href="merl_transform.html#parse_transform-2">parse_transform/2</a></li>
</ul>
</li>
<li id="no" title="prettypr " expanded="false">prettypr<ul>
<li><a href="prettypr.html">
                  Top of manual page
                </a></li>
<li title="above-2"><a href="prettypr.html#above-2">above/2</a></li>
<li title="beside-2"><a href="prettypr.html#beside-2">beside/2</a></li>
<li title="best-3"><a href="prettypr.html#best-3">best/3</a></li>
<li title="break-1"><a href="prettypr.html#break-1">break/1</a></li>
<li title="empty-0"><a href="prettypr.html#empty-0">empty/0</a></li>
<li title="floating-1"><a href="prettypr.html#floating-1">floating/1</a></li>
<li title="floating-3"><a href="prettypr.html#floating-3">floating/3</a></li>
<li title="follow-2"><a href="prettypr.html#follow-2">follow/2</a></li>
<li title="follow-3"><a href="prettypr.html#follow-3">follow/3</a></li>
<li title="format-1"><a href="prettypr.html#format-1">format/1</a></li>
<li title="format-2"><a href="prettypr.html#format-2">format/2</a></li>
<li title="format-3"><a href="prettypr.html#format-3">format/3</a></li>
<li title="nest-2"><a href="prettypr.html#nest-2">nest/2</a></li>
<li title="null_text-1"><a href="prettypr.html#null_text-1">null_text/1</a></li>
<li title="par-1"><a href="prettypr.html#par-1">par/1</a></li>
<li title="par-2"><a href="prettypr.html#par-2">par/2</a></li>
<li title="sep-1"><a href="prettypr.html#sep-1">sep/1</a></li>
<li title="text-1"><a href="prettypr.html#text-1">text/1</a></li>
<li title="text_par-1"><a href="prettypr.html#text_par-1">text_par/1</a></li>
<li title="text_par-2"><a href="prettypr.html#text_par-2">text_par/2</a></li>
</ul>
</li>
</ul>
</div></div>
<div id="content">
<div class="innertube">
<!-- refpage --><center><h1>merl</h1></center>

<h3>MODULE</h3>
<div class="REFBODY">merl</div>
<h3>MODULE SUMMARY</h3>
<div class="REFBODY">Metaprogramming in Erlang.</div>
<h3>DESCRIPTION</h3>
<div class="REFBODY"><p>
<p>Metaprogramming in Erlang.
  Merl is a more user friendly interface to the <span class="code">erl_syntax</span> module, making
  it easy both to build new ASTs from scratch and to
  match and decompose existing ASTs. For details that are outside the scope
  of Merl itself, please see the documentation of <span class="bold_code"><a href="erl_syntax.html">erl_syntax</a></span>.</p>
 
  <p><a name="Quick_start"></a><strong>Quick start</strong></p>
 
  <p>To enable the full power of Merl, your module needs to include the Merl
  header file:
  </p><div class="example"><pre>     -include_lib("syntax_tools/include/merl.hrl").</pre></div>
 
  <p>Then, you can use the <span class="code">?Q(Text)</span> macros in your code to create ASTs or match
  on existing ASTs. For example:
  </p><div class="example"><pre>     Tuple = ?Q("{foo, 42}"),
     ?Q("{foo, _@Number}") = Tuple,
     Call = ?Q("foo:bar(_@Number)")</pre></div>
 
  <p>Calling <span class="code">merl:print(Call)</span> will then print the following code:
  </p><div class="example"><pre>     foo:bar(42)</pre></div>
 
  <p>The <span class="code">?Q</span> macros turn the quoted code fragments into ASTs, and lifts
  metavariables such as <span class="code">_@Tuple</span> and <span class="code">_@Number</span> to the level of your Erlang
  code, so you can use the corresponding Erlang variables <span class="code">Tuple</span> and <span class="code">Number</span>  
directly. This is the most straightforward way to use Merl, and in many  
cases it's all you need.</p>
 
  <p>You can even write case switches using <span class="code">?Q</span> macros as patterns. For example:
  </p><div class="example"><pre>     case AST of
         ?Q("{foo, _@Foo}") -&gt; handle(Foo);
         ?Q("{bar, _@Bar}") when erl_syntax:is_integer(Bar) -&gt; handle(Bar);
         _ -&gt; handle_default()
     end</pre></div>
 
  <p>These case switches only allow <span class="code">?Q(...)</span> or <span class="code">_</span> as clause patterns, and the  
guards may contain any expressions, not just Erlang guard expressions.</p>
 
  <p>If the macro <span class="code">MERL_NO_TRANSFORM</span> is defined before the <span class="code">merl.hrl</span> header
  file is included, the parse transform used by Merl will be disabled, and in
  that case, the match expressions <span class="code">?Q(...) = ...</span>, case switches using
  <span class="code">?Q(...)</span> patterns, and automatic metavariables like <span class="code">_@Tuple</span> cannot be
  used in your code, but the Merl macros and functions still work. To do
  metavariable substitution, you need to use the <span class="code">?Q(Text, Map)</span> macro, e.g.:
  </p><div class="example"><pre>     Tuple = ?Q("{foo, _@bar, _@baz}", [{bar, Bar}, {baz,Baz}])</pre></div>
 
  <p>The text given to a <span class="code">?Q(Text)</span> macro can be either a single string, or a
  list of strings. The latter is useful when you need to split a long
  expression over multiple lines, e.g.:
  </p><div class="example"><pre>     ?Q(["case _@Expr of",
         "  {foo, X} -&gt; f(X);",
         "  {bar, X} -&gt; g(X)",
         "  _ -&gt; h(X)"
         "end"])</pre></div><p>  
If there is a syntax error somewhere in the text (like the missing semicolon  
in the second clause above) this allows Merl to generate an error message  
pointing to the exact line in your source code. (Just remember to  
comma-separate the strings in the list, otherwise Erlang will concatenate  
the string fragments as if they were a single string.)</p>
 
  <p><a name="Metavariable_syntax"></a><strong>Metavariable syntax</strong></p>
 
  <p>There are several ways to write a metavariable in your quoted code:
  </p><ul>
    <li><p>Atoms starting with <span class="code">@</span>, for example <span class="code">'@foo'</span> or <span class="code">'@Foo'</span></p></li>
    <li><p>Variables starting with <span class="code">_@</span>, for example <span class="code">_@bar</span> or <span class="code">_@Bar</span></p></li>
    <li><p>Strings starting with <span class="code">"'@</span>, for example <span class="code">"'@File"</span></p></li>
    <li><p>Integers starting with 909, for example <span class="code">9091</span> or <span class="code">909123</span></p></li>
  </ul><p>
  Following the prefix, one or more <span class="code">_</span> or <span class="code">0</span> characters may be used to
  indicate "lifting" of the variable one or more levels, and after that, a <span class="code">@</span>
  or <span class="code">9</span> character indicates a glob metavariable (matching zero or more
  elements in a sequence) rather than a normal metavariable. For example:
  </p><ul>
    <li><p><span class="code">'@_foo'</span> is lifted one level, and <span class="code">_@__foo</span> is lifted two
        levels</p></li>
    <li><p><span class="code">_@@bar</span> is a glob variable, and <span class="code">_@_@bar</span> is a lifted glob
        variable</p></li>
    <li><p><span class="code">90901</span> is a lifted variable,<span class="code">90991</span> is a glob variable, and <span class="code">9090091</span>
        is a glob variable lifted two levels</p></li>
  </ul><p>
  (Note that the last character in the name is never considered to be a lift
  or glob marker, hence, <span class="code">_@__</span> and <span class="code">90900</span> are only lifted one level, not  
two. Also note that globs only matter for matching; when doing  
substitutions, a non-glob variable can be used to inject a sequence of  
elements, and vice versa.)</p>
 
  <p>If the name after the prefix and any lift and glob markers is <span class="code">_</span> or <span class="code">0</span>,
  the variable is treated as an anonymous catch-all pattern in matches. For
  example, <span class="code">_@_</span>, <span class="code">_@@_</span>, <span class="code">_@__</span>, or even <span class="code">_@__@_</span>.</p>
 
  <p>Finally, if the name without any prefixes or lift/glob markers begins with
  an uppercase character, as in <span class="code">_@Foo</span> or <span class="code">_@_@Foo</span>, it will become a
  variable on the Erlang level, and can be used to easily deconstruct and
  construct syntax trees:
  </p><div class="example"><pre>     case Input of
         ?Q("{foo, _@Number}") -&gt; ?Q("foo:bar(_@Number)");
         ...</pre></div><p>
  We refer to these as "automatic metavariables". If in addition the name ends
  with <span class="code">@</span>, as in <span class="code">_@Foo@</span>, the value of the variable as an Erlang term will
  be automatically converted to the corresponding abstract syntax tree when
  used to construct a larger tree. For example, in:
  </p><div class="example"><pre>     Bar = {bar, 42},
     Foo = ?Q("{foo, _@Bar@}")</pre></div><p>
  (where Bar is just some term, not a syntax tree) the result <span class="code">Foo</span> will be a
  syntax tree representing <span class="code">{foo, {bar, 42}}</span>. This avoids the need for
  temporary variables in order to inject data, as in
  </p><div class="example"><pre>     TmpBar = erl_syntax:abstract(Bar),
     Foo = ?Q("{foo, _@TmpBar}")</pre></div>
 
  <p>If the context requires an integer rather than a variable, an atom, or a
  string, you cannot use the uppercase convention to mark an automatic
  metavariable. Instead, if the integer (without the <span class="code">909</span>-prefix and
  lift/glob markers) ends in a <span class="code">9</span>, the integer will become an Erlang-level
  variable prefixed with <span class="code">Q</span>, and if it ends with <span class="code">99</span> it will also be
  automatically abstracted. For example, the following will increment the
  arity of the exported function f:
  </p><div class="example"><pre>     case Form of
         ?Q("-export([f/90919]).") -&gt;
             Q2 = erl_syntax:concrete(Q1) + 1,
             ?Q("-export([f/909299]).");
         ...</pre></div>
 
  <p><a name="When_to_use_the_various_forms_of_metavariables"></a><strong>When to use the various forms of metavariables</strong></p>
 
  <p>Merl can only parse a fragment of text if it follows the basic syntactical
  rules of Erlang. In most places, a normal Erlang variable can be used as
  metavariable, for example:
  </p><div class="example"><pre>     ?Q("f(_@Arg)") = Expr</pre></div><p>
  but if you want to match on something like the name of a function, you have
  to use an atom as metavariable:
  </p><div class="example"><pre>     ?Q("'@Name'() -&gt; _@@_." = Function</pre></div><p>
  (note the anonymous glob variable <span class="code">_@@_</span> to ignore the function body).</p>
 
  <p>In some contexts, only a string or an integer is allowed. For example, the
  directive <span class="code">-file(Name, Line)</span> requires that <span class="code">Name</span> is a string literal and
  <span class="code">Line</span> an integer literal:</p>
 
  <div class="example"><pre>     ?Q("-file(\"'@File\", 9090).") = ?Q("-file(\"foo.erl\", 42).")).</pre></div><p>
  This will extract the string literal <span class="code">"foo.erl"</span> into the variable <span class="code">Foo</span>.
  Note the use of the anonymous variable <span class="code">9090</span> to ignore the line number. To  
match and also bind a metavariable that must be an integer literal, we can  
use the convention of ending the integer with a 9, turning it into a  
Q-prefixed variable on the Erlang level (see the previous section).</p>
 
  <p><a name="Globs"></a><strong>Globs</strong></p>
 
  <p>Whenever you want to match out a number of elements in a sequence (zero or
  more) rather than a fixed set of elements, you need to use a glob. For
  example:
  </p><div class="example"><pre>     ?Q("{_@@Elements}") = ?Q({a, b, c})</pre></div><p>
  will bind Elements to the list of individual syntax trees representing the
  atoms <span class="code">a</span>, <span class="code">b</span>, and <span class="code">c</span>. This can also be used with static prefix and suffix
  elements in the sequence. For example:
  </p><div class="example"><pre>     ?Q("{a, b, _@@Elements}") = ?Q({a, b, c, d})</pre></div><p>
  will bind Elements to the list of the <span class="code">c</span> and <span class="code">d</span> subtrees, and
  </p><div class="example"><pre>     ?Q("{_@@Elements, c, d}") = ?Q({a, b, c, d})</pre></div><p>
  will bind Elements to the list of the <span class="code">a</span> and <span class="code">b</span> subtrees. You can even use
  plain metavariables in the prefix or suffix:
  </p><div class="example"><pre>     ?Q("{_@First, _@@Rest}") = ?Q({a, b, c})</pre></div><p>
  or
  </p><div class="example"><pre>     ?Q("{_@@_, _@Last}") = ?Q({a, b, c})</pre></div><p>  
(ignoring all but the last element). You cannot however have two globs as  
part of the same sequence.</p>
 
  <p><a name="Lifted_metavariables"></a><strong>Lifted metavariables</strong></p>
 
  <p>In some cases, the Erlang syntax rules make it impossible to place a
  metavariable directly where you would like it. For example, you cannot
  write:
  </p><div class="example"><pre>     ?Q("-export([_@@Name]).")</pre></div><p>
  to match out all name/arity pairs in the export list, or to insert a list of
  exports in a declaration, because the Erlang parser only allows elements on
  the form <span class="code">A/I</span> (where <span class="code">A</span> is an atom and <span class="code">I</span> an integer) in the export list.
  A variable like the above is not allowed, but neither is a single atom or
  integer, so <span class="code">'@@Name'</span> or <span class="code">909919</span> wouldn't work either.</p>
 
  <p>What you have to do in such cases is to write your metavariable in a
  syntactically valid position, and use lifting markers to denote where it
  should really apply, as in:
  </p><div class="example"><pre>     ?Q("-export(['@_@Name'/0]).")</pre></div><p>
  This causes the variable to be lifted (after parsing) to the next higher
  level in the syntax tree, replacing that entire subtree. In this case, the
  <span class="code">'@_@Name'/0</span> will be replaced with <span class="code">'@@Name'</span>, and the <span class="code">/0</span>  
part was just used as dummy notation and will be discarded.</p>
 
  <p>You may even need to apply lifting more than once. To match the entire
  export list as a single syntax tree, you can write:
  </p><div class="example"><pre>     ?Q("-export(['@__Name'/0]).")</pre></div><p>
  using two underscores, but with no glob marker this time. This will make the
  entire <span class="code">['@__Name'/0]</span> part be replaced with <span class="code">'@Name'</span>.</p>
 
  <p>Sometimes, the tree structure of a code fragment isn't very obvious, and
  parts of the structure may be invisible when printed as source code. For
  instance, a simple function definition like the following:
  </p><div class="example"><pre>     zero() -&gt; 0.</pre></div><p>
  consists of the name (the atom <span class="code">zero</span>), and a list of clauses containing the
  single clause <span class="code">() -&gt; 0</span>. The clause consists of an argument list (empty), a
  guard (empty), and a body (which is always a list of expressions) containing
  the single expression <span class="code">0</span>. This means that to match out the name and the
  list of clauses of any function, you'll need to use a pattern like
  <span class="code">?Q("'@Name'() -&gt; _@_@Body.")</span>, using a dummy clause whose body is a glob  
lifted one level.</p>
 
  <p>To visualize the structure of a syntax tree, you can use the function
  <span class="code">merl:show(T)</span>, which prints a summary. For example, entering
  </p><div class="example"><pre>     merl:show(merl:quote("inc(X, Y) when Y &gt; 0 -&gt; X + Y."))</pre></div><p>
  in the Erlang shell will print the following (where the <span class="code">+</span> signs separate
  groups of subtrees on the same level):
  </p><div class="example"><pre>     function: inc(X, Y) when ... -&gt; X + Y.
       atom: inc
       +
       clause: (X, Y) when ... -&gt; X + Y
         variable: X
         variable: Y
         +
         disjunction: Y &gt; 0
           conjunction: Y &gt; 0
             infix_expr: Y &gt; 0
               variable: Y
               +
               operator: &gt;
               +
               integer: 0
         +
         infix_expr: X + Y
           variable: X
           +
           operator: +
           +
           variable: Y</pre></div>
 
  <p>This shows another important non-obvious case: a clause guard, even if it's
  as simple as <span class="code">Y &gt; 0</span>, always consists of a single disjunction of one or more
  conjunctions of tests, much like a tuple of tuples. Thus:
  </p><ul>
    <li><p><span class="code">"when _@Guard -&gt;"</span> will only match a guard with exactly one
      test</p></li>
    <li><p><span class="code">"when _@@Guard -&gt;"</span> will match a guard with one or more
      comma-separated tests (but no semicolons), binding <span class="code">Guard</span> to the list
      of tests</p></li>
    <li><p><span class="code">"when _@_Guard -&gt;"</span> will match just like the previous pattern, but
      binds <span class="code">Guard</span> to the conjunction subtree</p></li>
    <li><p><span class="code">"when _@_@Guard -&gt;"</span> will match an arbitrary nonempty guard,
      binding <span class="code">Guard</span> to the list of conjunction subtrees</p></li>
    <li><p><span class="code">"when _@__Guard -&gt;"</span> will match like the previous pattern, but
      binds <span class="code">Guard</span> to the whole disjunction subtree</p></li>
    <li><p>and finally, <span class="code">"when _@__@Guard -&gt;"</span> will match any clause,
      binding <span class="code">Guard</span> to <span class="code">[]</span> if the guard is empty and to <span class="code">[Disjunction]</span>
      otherwise</p></li>
  </ul>
 
  <p>Thus, the following pattern matches all possible clauses:
  </p><div class="example"><pre>     "(_@Args) when _@__@Guard -&gt; _@Body"</pre></div></p></div>
<h3><a name="id106519">DATA TYPES</a></h3>
<div class="REFBODY">
<a name="types"></a>

<dl>
<dt><strong><span class="code">default_action() = () -&gt; any()</span></strong></dt>
<dd>
<a name="type-default_action"></a> </dd>
<dt><strong><span class="code">env() = [{Key::id(), pattern_or_patterns()}]</span></strong></dt>
<dd>
<a name="type-env"></a> </dd>
<dt><strong><span class="code">guard_test() = (env()) -&gt; boolean()</span></strong></dt>
<dd>
<a name="type-guard_test"></a> </dd>
<dt><strong><span class="code">guarded_action() = switch_action() | {guard_test(), switch_action()}</span></strong></dt>
<dd>
<a name="type-guarded_action"></a> </dd>
<dt><strong><span class="code">guarded_actions() = guarded_action() | [guarded_action()]</span></strong></dt>
<dd>
<a name="type-guarded_actions"></a> </dd>
<dt><strong><span class="code">id() = atom() | integer()</span></strong></dt>
<dd>
<a name="type-id"></a> </dd>
<dt><strong><span class="code">location() = location() (see module erl_anno)</span></strong></dt>
<dd>
<a name="type-location"></a> </dd>
<dt><strong><span class="code">pattern() = tree() | template()</span></strong></dt>
<dd>
<a name="type-pattern"></a> </dd>
<dt><strong><span class="code">pattern_or_patterns() = pattern() | [pattern()]</span></strong></dt>
<dd>
<a name="type-pattern_or_patterns"></a> </dd>
<dt><strong><span class="code">switch_action() = (env()) -&gt; any()</span></strong></dt>
<dd>
<a name="type-switch_action"></a> </dd>
<dt><strong><span class="code">switch_clause() = {pattern_or_patterns(), guarded_actions()} | {pattern_or_patterns(), guard_test(), switch_action()} | default_action()</span></strong></dt>
<dd>
<a name="type-switch_clause"></a> </dd>
<dt><strong><span class="code">template() = tree() | {id()} | {'*', id()} | {template, atom(), term(), [[template()]]}</span></strong></dt>
<dd>
<a name="type-template"></a> </dd>
<dt><strong><span class="code">template_or_templates() = template() | [template()]</span></strong></dt>
<dd>
<a name="type-template_or_templates"></a> </dd>
<dt><strong><span class="code">text() = string() | binary() | [string()] | [binary()]</span></strong></dt>
<dd>
<a name="type-text"></a> </dd>
<dt><strong><span class="code">tree() = syntaxTree() (see module erl_syntax)</span></strong></dt>
<dd>
<a name="type-tree"></a> </dd>
<dt><strong><span class="code">tree_or_trees() = tree() | [tree()]</span></strong></dt>
<dd>
<a name="type-tree_or_trees"></a> </dd>
</dl>
</div>
<h3>EXPORTS</h3>
<p><a name="alpha-2"><span class="bold_code">alpha(Trees::pattern_or_patterns(), Env::[{id(), id()}]) -&gt; template_or_templates()</span></a><br></p>
<div class="REFBODY"><p><a name="alpha-2"></a>

<p>Alpha converts a pattern (renames variables). Similar to tsubst/1,
  but only renames variables (including globs).</p>
<p><strong>See also:</strong> <span class="bold_code"><a href="#tsubst-2">tsubst/2</a></span>.</p>
</p></div>
<p><a name="compile-1"><span class="bold_code">compile(Code) -&gt; term()
</span></a><br></p>
<div class="REFBODY"><p><a name="compile-1"></a>
<p>Equivalent to <span class="bold_code"><a href="#compile-2">compile(Code, [])</a></span>.</p>
</p></div>
<p><a name="compile-2"><span class="bold_code">compile(Code, Options) -&gt; term()
</span></a><br></p>
<div class="REFBODY"><p><a name="compile-2"></a>

<p>Compile a syntax tree or list of syntax trees representing a module
  into a binary BEAM object.</p>
<p><strong>See also:</strong> <span class="bold_code"><a href="#compile-1">compile/1</a></span>, <span class="bold_code"><a href="#compile_and_load-2">compile_and_load/2</a></span>.</p>
</p></div>
<p><a name="compile_and_load-1"><span class="bold_code">compile_and_load(Code) -&gt; term()
</span></a><br></p>
<div class="REFBODY"><p><a name="compile_and_load-1"></a>
<p>Equivalent to <span class="bold_code"><a href="#compile_and_load-2">compile_and_load(Code, [])</a></span>.</p>
</p></div>
<p><a name="compile_and_load-2"><span class="bold_code">compile_and_load(Code, Options) -&gt; term()
</span></a><br></p>
<div class="REFBODY"><p><a name="compile_and_load-2"></a>

<p>Compile a syntax tree or list of syntax trees representing a module
  and load the resulting module into memory.</p>
<p><strong>See also:</strong> <span class="bold_code"><a href="#compile-2">compile/2</a></span>, <span class="bold_code"><a href="#compile_and_load-1">compile_and_load/1</a></span>.</p>
</p></div>
<p><a name="match-2"><span class="bold_code">match(Patterns::pattern_or_patterns(), Trees::tree_or_trees()) -&gt; {ok, env()} | error</span></a><br></p>
<div class="REFBODY"><p><a name="match-2"></a>

<p>Match a pattern against a syntax tree (or patterns against syntax
  trees) returning an environment mapping variable names to subtrees; the
  environment is always sorted on keys. Note that multiple occurrences of
  metavariables in the pattern is not allowed, but is not checked.
 </p>
<p><strong>See also:</strong> <span class="bold_code"><a href="#switch-2">switch/2</a></span>, <span class="bold_code"><a href="#template-1">template/1</a></span>.</p>
</p></div>
<p><a name="meta_template-1"><span class="bold_code">meta_template(Templates::template_or_templates()) -&gt; tree_or_trees()</span></a><br></p>
<div class="REFBODY"><p><a name="meta_template-1"></a>

<p>Turn a template into a syntax tree representing the template.
  Meta-variables in the template are turned into normal Erlang variables if
  their names (after the metavariable prefix characters) begin with an
  uppercase character. E.g., <span class="code">_@Foo</span> in the template becomes the variable
  <span class="code">Foo</span> in the meta-template. Furthermore, variables ending with <span class="code">@</span> are
  automatically wrapped in a call to merl:term/1, so e.g. <span class="code">_@Foo@ in the
  template becomes `merl:term(Foo)</span> in the meta-template.</p>
</p></div>
<p><a name="print-1"><span class="bold_code">print(Ts) -&gt; term()
</span></a><br></p>
<div class="REFBODY"><p><a name="print-1"></a>

<p>Pretty-print a syntax tree or template to the standard output. This
  is a utility function for development and debugging.</p>
</p></div>
<p><a name="qquote-2"><span class="bold_code">qquote(Text::text(), Env::env()) -&gt; tree_or_trees()</span></a><br></p>
<div class="REFBODY"><p><a name="qquote-2"></a>

<p>Parse text and substitute meta-variables.
 </p>
</p></div>
<p><a name="qquote-3"><span class="bold_code">qquote(StartPos::location(), Text::text(), Env::env()) -&gt; tree_or_trees()</span></a><br></p>
<div class="REFBODY"><p><a name="qquote-3"></a>

<p>Parse text and substitute meta-variables. Takes an initial scanner  
starting position as first argument.</p>
 
  <p>The macro <span class="code">?Q(Text, Env)</span> expands to <span class="code">merl:qquote(?LINE, Text, Env)</span>.
 </p>
<p><strong>See also:</strong> <span class="bold_code"><a href="#quote-2">quote/2</a></span>.</p>
</p></div>
<p><a name="quote-1"><span class="bold_code">quote(Text::text()) -&gt; tree_or_trees()</span></a><br></p>
<div class="REFBODY"><p><a name="quote-1"></a>

<p>Parse text.
 </p>
</p></div>
<p><a name="quote-2"><span class="bold_code">quote(StartPos::location(), Text::text()) -&gt; tree_or_trees()</span></a><br></p>
<div class="REFBODY"><p><a name="quote-2"></a>

<p>Parse text. Takes an initial scanner starting position as first  
argument.</p>
 
  <p>The macro <span class="code">?Q(Text)</span> expands to <span class="code">merl:quote(?LINE, Text, Env)</span>.
 </p>
<p><strong>See also:</strong> <span class="bold_code"><a href="#quote-1">quote/1</a></span>.</p>
</p></div>
<p><a name="show-1"><span class="bold_code">show(Ts) -&gt; term()
</span></a><br></p>
<div class="REFBODY"><p><a name="show-1"></a>

<p>Print the structure of a syntax tree or template to the standard
  output. This is a utility function for development and debugging.</p>
</p></div>
<p><a name="subst-2"><span class="bold_code">subst(Trees::pattern_or_patterns(), Env::env()) -&gt; tree_or_trees()</span></a><br></p>
<div class="REFBODY"><p><a name="subst-2"></a>

<p>Substitute metavariables in a pattern or list of patterns, yielding
  a syntax tree or list of trees as result. Both for normal metavariables
  and glob metavariables, the substituted value may be a single element or
  a list of elements. For example, if a list representing <span class="code">1, 2, 3</span> is
  substituted for <span class="code">var</span> in either of <span class="code">[foo, _@var, bar]</span> or <span class="code">[foo, _@var,
  bar]</span>, the result represents <span class="code">[foo, 1, 2, 3, bar]</span>.</p>
</p></div>
<p><a name="switch-2"><span class="bold_code">switch(Trees::tree_or_trees(), Cs::[switch_clause()]) -&gt; any()</span></a><br></p>
<div class="REFBODY"><p><a name="switch-2"></a>

<p>Match against one or more clauses with patterns and optional guards.</p>
 
  <p>Note that clauses following a default action will be ignored.
 </p>
<p><strong>See also:</strong> <span class="bold_code"><a href="#match-2">match/2</a></span>.</p>
</p></div>
<p><a name="template-1"><span class="bold_code">template(Trees::pattern_or_patterns()) -&gt; template_or_templates()</span></a><br></p>
<div class="REFBODY"><p><a name="template-1"></a>

<p>Turn a syntax tree or list of trees into a template or templates.
  Templates can be instantiated or matched against, and reverted back to
  normal syntax trees using <span class="bold_code"><a href="#tree-1">tree/1</a></span>. If the input is already a
  template, it is not modified further.
 </p>
<p><strong>See also:</strong> <span class="bold_code"><a href="#match-2">match/2</a></span>, <span class="bold_code"><a href="#subst-2">subst/2</a></span>, <span class="bold_code"><a href="#tree-1">tree/1</a></span>.</p>
</p></div>
<p><a name="template_vars-1"><span class="bold_code">template_vars(Template::template_or_templates()) -&gt; [id()]</span></a><br></p>
<div class="REFBODY"><p><a name="template_vars-1"></a>

<p>Return an ordered list of the metavariables in the template.</p>
</p></div>
<p><a name="term-1"><span class="bold_code">term(Term::term()) -&gt; tree()</span></a><br></p>
<div class="REFBODY"><p><a name="term-1"></a>

<p>Create a syntax tree for a constant term.</p>
</p></div>
<p><a name="tree-1"><span class="bold_code">tree(Templates::template_or_templates()) -&gt; tree_or_trees()</span></a><br></p>
<div class="REFBODY"><p><a name="tree-1"></a>

<p>Revert a template to a normal syntax tree. Any remaining
  metavariables are turned into <span class="code">@</span>-prefixed atoms or <span class="code">909</span>-prefixed
  integers.</p>
<p><strong>See also:</strong> <span class="bold_code"><a href="#template-1">template/1</a></span>.</p>
</p></div>
<p><a name="tsubst-2"><span class="bold_code">tsubst(Trees::pattern_or_patterns(), Env::env()) -&gt; template_or_templates()</span></a><br></p>
<div class="REFBODY"><p><a name="tsubst-2"></a>

<p>Like subst/2, but does not convert the result from a template back
  to a tree. Useful if you want to do multiple separate substitutions.</p>
<p><strong>See also:</strong> <span class="bold_code"><a href="#subst-2">subst/2</a></span>, <span class="bold_code"><a href="#tree-1">tree/1</a></span>.</p>
</p></div>
<p><a name="var-1"><span class="bold_code">var(Name::atom()) -&gt; tree()</span></a><br></p>
<div class="REFBODY"><p><a name="var-1"></a>

<p>Create a variable.</p>
</p></div>



Richard Carlsson
carlsson.richard@gmail.com</div>
<div class="footer">
<hr>
<p>Copyright © 2006-2016 Ericsson AB. All Rights Reserved.</p>
</div>
</div>
</div></body>
</html>
