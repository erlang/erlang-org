<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:erl="http://erlang.org" xmlns:fn="http://www.w3.org/2005/02/xpath-functions">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="utf-8">
<link rel="stylesheet" href="../otp_doc.css" type="text/css">
<title>Erlang -- ssh_agent</title>
</head>
<body>
<div id="container">
<script id="js" type="text/javascript" language="JavaScript" src="../js/flipmenu/flipmenu.js"></script><script id="js2" type="text/javascript" src="../js/erlresolvelinks.js"></script><script id="js3" type="text/javascript" src="../../../../doc/js/topbar.js"></script><script language="JavaScript" type="text/javascript">
            <!--
              function setscrollpos() {
                var objf = document.getElementById('loadscrollpos');
                if (objf) {
                  document.getElementById("leftnav").firstChild.scrollTop = objf.offsetTop - 10;
                }
              }

              function addEvent(obj, evType, fn){
                if (obj.addEventListener){
                obj.addEventListener(evType, fn, true);
                return true;
              } else if (obj.attachEvent){
                var r = obj.attachEvent("on"+evType, fn);
                return r;
              } else {
                return false;
              }
             }

             addEvent(window, 'load', setscrollpos);

             //-->
</script><div class="topbar">
<div class="topbar-expand "><button onclick="toggleDisplay();"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="Capa_1" viewBox="0 0 54 54" width="24" height="24"><g><path style="fill:#000000;" d="M27,54c-0.552,0-1-0.448-1-1V8c0-0.552,0.448-1,1-1s1,0.448,1,1v45C28,53.552,27.552,54,27,54z"></path><path style="fill:#000000;" d="M11,25c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414l16-16                                      c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414l-16,16C11.512,24.902,11.256,25,11,25z"></path><path style="fill:#000000;" d="M43,25c-0.256,0-0.512-0.098-0.707-0.293l-16-16c-0.391-0.391-0.391-1.023,0-1.414                                      s1.023-0.391,1.414,0l16,16c0.391,0.391,0.391,1.023,0,1.414C43.512,24.902,43.256,25,43,25z"></path><path style="fill:#000000;" d="M43,2H11c-0.552,0-1-0.448-1-1s0.448-1,1-1h32c0.552,0,1,0.448,1,1S43.552,2,43,2z"></path></g></svg></button></div>
<div class="topbar-title"><h1 id="ssh_agent">ssh_agent</h1></div>
<div class="search-expand ">        <button id="docsearch-mobile">
            <svg fill="#000000" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 50 50" width="24" height="24"><path d="M 21 3 C 11.621094 3 4 10.621094 4 20 C 4 29.378906 11.621094 37 21 37 C 24.710938 37 28.140625 35.804688 30.9375 33.78125 L 44.09375 46.90625 L 46.90625 44.09375 L 33.90625 31.0625 C 36.460938 28.085938 38 24.222656 38 20 C 38 10.621094 30.378906 3 21 3 Z M 21 5 C 29.296875 5 36 11.703125 36 20 C 36 28.296875 29.296875 35 21 35 C 12.703125 35 6 28.296875 6 20 C 6 11.703125 12.703125 5 21 5 Z"/></svg>
        </button>
</div>
</div>
<aside class="hide-mobile" id="leftnav"><nav class="leftnav-tube"><div class="erlang-logo-wrapper"><a href="../index.html"><img alt="Erlang Logo" src="../erlang-logo.png" class="erlang-logo"></a></div>
<p class="section-title">SSH</p>
<p class="section-subtitle">Reference Manual</p>
<p class="section-version">Version 4.12.4</p>
<ul class="panel-sections">
<li><a href="../apps/ssh/users_guide.html">User's Guide</a></li>
<li><a href="../apps/ssh/index.html">Reference Manual</a></li>
<li><a href="../apps/ssh/notes.html">Release Notes</a></li>
<li><a href="../apps/ssh/ssh.pdf">PDF</a></li>
<li><a href="../index.html">Top</a></li>
</ul>
<div id="docsearch"></div>
<ul class="expand-collapse-items">
<li><a href="javascript:openAllFlips()">Expand All</a></li>
<li><a href="javascript:closeAllFlips()">Contract All</a></li>
</ul>
<h3 id="toc">Table of Contents</h3>
<ul class="flipMenu">
<li title="SSH (App)"><a href="SSH_app.html">SSH (App)
                </a></li>
<li id="no" title="ssh " expanded="false">ssh<ul>
<li><a href="ssh.html">
                  Top of manual page
                </a></li>
    <li title="close-1"><a href="ssh.html#close-1">close/1</a></li>
    <li title="connect-3"><a href="ssh.html#connect-3">connect/3</a></li>
    <li title="connect-4"><a href="ssh.html#connect-4">connect/4</a></li>
    <li title="connect-2"><a href="ssh.html#connect-2">connect/2</a></li>
    <li title="connect-3"><a href="ssh.html#connect-3">connect/3</a></li>
    <li title="connection_info-1"><a href="ssh.html#connection_info-1">connection_info/1</a></li>
    <li title="connection_info-2"><a href="ssh.html#connection_info-2">connection_info/2</a></li>
    <li title="daemon-1"><a href="ssh.html#daemon-1">daemon/1</a></li>
    <li title="daemon-2"><a href="ssh.html#daemon-2">daemon/2</a></li>
    <li title="daemon-3"><a href="ssh.html#daemon-3">daemon/3</a></li>
    <li title="daemon_info-1"><a href="ssh.html#daemon_info-1">daemon_info/1</a></li>
    <li title="daemon_info-2"><a href="ssh.html#daemon_info-2">daemon_info/2</a></li>
    <li title="default_algorithms-0"><a href="ssh.html#default_algorithms-0">default_algorithms/0</a></li>
    <li title="get_sock_opts-2"><a href="ssh.html#get_sock_opts-2">get_sock_opts/2</a></li>
    <li title="hostkey_fingerprint-1"><a href="ssh.html#hostkey_fingerprint-1">hostkey_fingerprint/1</a></li>
    <li title="hostkey_fingerprint-2"><a href="ssh.html#hostkey_fingerprint-2">hostkey_fingerprint/2</a></li>
    <li title="hostkey_fingerprint-2"><a href="ssh.html#hostkey_fingerprint-2">hostkey_fingerprint/2</a></li>
    <li title="set_sock_opts-2"><a href="ssh.html#set_sock_opts-2">set_sock_opts/2</a></li>
    <li title="shell-1"><a href="ssh.html#shell-1">shell/1</a></li>
    <li title="shell-2"><a href="ssh.html#shell-2">shell/2</a></li>
    <li title="shell-3"><a href="ssh.html#shell-3">shell/3</a></li>
    <li title="start-0"><a href="ssh.html#start-0">start/0</a></li>
    <li title="start-1"><a href="ssh.html#start-1">start/1</a></li>
    <li title="stop-0"><a href="ssh.html#stop-0">stop/0</a></li>
    <li title="stop_daemon-1"><a href="ssh.html#stop_daemon-1">stop_daemon/1</a></li>
    <li title="stop_daemon-2"><a href="ssh.html#stop_daemon-2">stop_daemon/2</a></li>
    <li title="stop_daemon-3"><a href="ssh.html#stop_daemon-3">stop_daemon/3</a></li>
    <li title="stop_listener-1"><a href="ssh.html#stop_listener-1">stop_listener/1</a></li>
    <li title="stop_listener-2"><a href="ssh.html#stop_listener-2">stop_listener/2</a></li>
    <li title="stop_listener-3"><a href="ssh.html#stop_listener-3">stop_listener/3</a></li>
    <li title="tcpip_tunnel_from_server-5"><a href="ssh.html#tcpip_tunnel_from_server-5">tcpip_tunnel_from_server/5</a></li>
    <li title="tcpip_tunnel_from_server-6"><a href="ssh.html#tcpip_tunnel_from_server-6">tcpip_tunnel_from_server/6</a></li>
    <li title="tcpip_tunnel_to_server-5"><a href="ssh.html#tcpip_tunnel_to_server-5">tcpip_tunnel_to_server/5</a></li>
    <li title="tcpip_tunnel_to_server-6"><a href="ssh.html#tcpip_tunnel_to_server-6">tcpip_tunnel_to_server/6</a></li>
    </ul>
</li>
<li id="no" title="ssh_client_channel " expanded="false">ssh_client_channel<ul>
<li><a href="ssh_client_channel.html">
                  Top of manual page
                </a></li>
    <li title="call-2"><a href="ssh_client_channel.html#call-2">call/2</a></li>
    <li title="call-3"><a href="ssh_client_channel.html#call-3">call/3</a></li>
    <li title="cast-2"><a href="ssh_client_channel.html#cast-2">cast/2</a></li>
    <li title="enter_loop-1"><a href="ssh_client_channel.html#enter_loop-1">enter_loop/1</a></li>
    <li title="init-1"><a href="ssh_client_channel.html#init-1">init/1</a></li>
    <li title="reply-2"><a href="ssh_client_channel.html#reply-2">reply/2</a></li>
    <li title="start-4"><a href="ssh_client_channel.html#start-4">start/4</a></li>
    <li title="start_link-4"><a href="ssh_client_channel.html#start_link-4">start_link/4</a></li>
    <li title="Module:code_change-3"><a href="ssh_client_channel.html#Module:code_change-3">Module:code_change/3</a></li>
    <li title="Module:handle_call-3"><a href="ssh_client_channel.html#Module:handle_call-3">Module:handle_call/3</a></li>
    <li title="Module:handle_cast-2"><a href="ssh_client_channel.html#Module:handle_cast-2">Module:handle_cast/2</a></li>
    <li title="Module:handle_msg-2"><a href="ssh_client_channel.html#Module:handle_msg-2">Module:handle_msg/2</a></li>
    <li title="Module:handle_ssh_msg-2"><a href="ssh_client_channel.html#Module:handle_ssh_msg-2">Module:handle_ssh_msg/2</a></li>
    <li title="Module:init-1"><a href="ssh_client_channel.html#Module:init-1">Module:init/1</a></li>
    <li title="Module:terminate-2"><a href="ssh_client_channel.html#Module:terminate-2">Module:terminate/2</a></li>
    </ul>
</li>
<li id="no" title="ssh_server_channel " expanded="false">ssh_server_channel<ul>
<li><a href="ssh_server_channel.html">
                  Top of manual page
                </a></li>
    <li title="Module:handle_msg-2"><a href="ssh_server_channel.html#Module:handle_msg-2">Module:handle_msg/2</a></li>
    <li title="Module:handle_ssh_msg-2"><a href="ssh_server_channel.html#Module:handle_ssh_msg-2">Module:handle_ssh_msg/2</a></li>
    <li title="Module:init-1"><a href="ssh_server_channel.html#Module:init-1">Module:init/1</a></li>
    <li title="Module:terminate-2"><a href="ssh_server_channel.html#Module:terminate-2">Module:terminate/2</a></li>
    </ul>
</li>
<li id="no" title="ssh_connection " expanded="false">ssh_connection<ul>
<li><a href="ssh_connection.html">
                  Top of manual page
                </a></li>
    <li title="adjust_window-3"><a href="ssh_connection.html#adjust_window-3">adjust_window/3</a></li>
    <li title="close-2"><a href="ssh_connection.html#close-2">close/2</a></li>
    <li title="exec-4"><a href="ssh_connection.html#exec-4">exec/4</a></li>
    <li title="exit_status-3"><a href="ssh_connection.html#exit_status-3">exit_status/3</a></li>
    <li title="ptty_alloc-3"><a href="ssh_connection.html#ptty_alloc-3">ptty_alloc/3</a></li>
    <li title="ptty_alloc-4"><a href="ssh_connection.html#ptty_alloc-4">ptty_alloc/4</a></li>
    <li title="reply_request-4"><a href="ssh_connection.html#reply_request-4">reply_request/4</a></li>
    <li title="send-3"><a href="ssh_connection.html#send-3">send/3</a></li>
    <li title="send-4"><a href="ssh_connection.html#send-4">send/4</a></li>
    <li title="send-4"><a href="ssh_connection.html#send-4">send/4</a></li>
    <li title="send-5"><a href="ssh_connection.html#send-5">send/5</a></li>
    <li title="send_eof-2"><a href="ssh_connection.html#send_eof-2">send_eof/2</a></li>
    <li title="session_channel-2"><a href="ssh_connection.html#session_channel-2">session_channel/2</a></li>
    <li title="session_channel-4"><a href="ssh_connection.html#session_channel-4">session_channel/4</a></li>
    <li title="setenv-5"><a href="ssh_connection.html#setenv-5">setenv/5</a></li>
    <li title="shell-2"><a href="ssh_connection.html#shell-2">shell/2</a></li>
    <li title="subsystem-4"><a href="ssh_connection.html#subsystem-4">subsystem/4</a></li>
    </ul>
</li>
<li id="no" title="ssh_client_key_api " expanded="false">ssh_client_key_api<ul>
<li><a href="ssh_client_key_api.html">
                  Top of manual page
                </a></li>
    <li title="Module:add_host_key-3"><a href="ssh_client_key_api.html#Module:add_host_key-3">Module:add_host_key/3</a></li>
    <li title="Module:add_host_key-4"><a href="ssh_client_key_api.html#Module:add_host_key-4">Module:add_host_key/4</a></li>
    <li title="Module:is_host_key-4"><a href="ssh_client_key_api.html#Module:is_host_key-4">Module:is_host_key/4</a></li>
    <li title="Module:is_host_key-5"><a href="ssh_client_key_api.html#Module:is_host_key-5">Module:is_host_key/5</a></li>
    <li title="Module:user_key-2"><a href="ssh_client_key_api.html#Module:user_key-2">Module:user_key/2</a></li>
    </ul>
</li>
<li id="no" title="ssh_server_key_api " expanded="false">ssh_server_key_api<ul>
<li><a href="ssh_server_key_api.html">
                  Top of manual page
                </a></li>
    <li title="Module:host_key-2"><a href="ssh_server_key_api.html#Module:host_key-2">Module:host_key/2</a></li>
    <li title="Module:is_auth_key-3"><a href="ssh_server_key_api.html#Module:is_auth_key-3">Module:is_auth_key/3</a></li>
    </ul>
</li>
<li id="no" title="ssh_file " expanded="false">ssh_file<ul>
<li><a href="ssh_file.html">
                  Top of manual page
                </a></li>
    <li title="add_host_key-4"><a href="ssh_file.html#add_host_key-4">add_host_key/4</a></li>
    <li title="decode-2"><a href="ssh_file.html#decode-2">decode/2</a></li>
    <li title="decode-2"><a href="ssh_file.html#decode-2">decode/2</a></li>
    <li title="decode-2"><a href="ssh_file.html#decode-2">decode/2</a></li>
    <li title="decode-2"><a href="ssh_file.html#decode-2">decode/2</a></li>
    <li title="encode-2"><a href="ssh_file.html#encode-2">encode/2</a></li>
    <li title="encode-2"><a href="ssh_file.html#encode-2">encode/2</a></li>
    <li title="encode-2"><a href="ssh_file.html#encode-2">encode/2</a></li>
    <li title="host_key-2"><a href="ssh_file.html#host_key-2">host_key/2</a></li>
    <li title="is_auth_key-3"><a href="ssh_file.html#is_auth_key-3">is_auth_key/3</a></li>
    <li title="is_host_key-5"><a href="ssh_file.html#is_host_key-5">is_host_key/5</a></li>
    <li title="user_key-2"><a href="ssh_file.html#user_key-2">user_key/2</a></li>
    </ul>
</li>
<li id="loadscrollpos" title="ssh_agent " expanded="true">ssh_agent<ul>
<li><a href="ssh_agent.html">
                  Top of manual page
                </a></li>
    <li title="add_host_key-3"><a href="ssh_agent.html#add_host_key-3">add_host_key/3</a></li>
    <li title="add_host_key-4"><a href="ssh_agent.html#add_host_key-4">add_host_key/4</a></li>
    <li title="is_host_key-4"><a href="ssh_agent.html#is_host_key-4">is_host_key/4</a></li>
    <li title="is_host_key-5"><a href="ssh_agent.html#is_host_key-5">is_host_key/5</a></li>
    <li title="user_key-2"><a href="ssh_agent.html#user_key-2">user_key/2</a></li>
    </ul>
</li>
<li id="no" title="ssh_sftp " expanded="false">ssh_sftp<ul>
<li><a href="ssh_sftp.html">
                  Top of manual page
                </a></li>
    <li title="apread-4"><a href="ssh_sftp.html#apread-4">apread/4</a></li>
    <li title="apwrite-4"><a href="ssh_sftp.html#apwrite-4">apwrite/4</a></li>
    <li title="aread-3"><a href="ssh_sftp.html#aread-3">aread/3</a></li>
    <li title="awrite-3"><a href="ssh_sftp.html#awrite-3">awrite/3</a></li>
    <li title="close-2"><a href="ssh_sftp.html#close-2">close/2</a></li>
    <li title="close-3"><a href="ssh_sftp.html#close-3">close/3</a></li>
    <li title="del_dir-2"><a href="ssh_sftp.html#del_dir-2">del_dir/2</a></li>
    <li title="del_dir-3"><a href="ssh_sftp.html#del_dir-3">del_dir/3</a></li>
    <li title="delete-2"><a href="ssh_sftp.html#delete-2">delete/2</a></li>
    <li title="delete-3"><a href="ssh_sftp.html#delete-3">delete/3</a></li>
    <li title="list_dir-2"><a href="ssh_sftp.html#list_dir-2">list_dir/2</a></li>
    <li title="list_dir-3"><a href="ssh_sftp.html#list_dir-3">list_dir/3</a></li>
    <li title="make_dir-2"><a href="ssh_sftp.html#make_dir-2">make_dir/2</a></li>
    <li title="make_dir-3"><a href="ssh_sftp.html#make_dir-3">make_dir/3</a></li>
    <li title="make_symlink-3"><a href="ssh_sftp.html#make_symlink-3">make_symlink/3</a></li>
    <li title="make_symlink-4"><a href="ssh_sftp.html#make_symlink-4">make_symlink/4</a></li>
    <li title="open-3"><a href="ssh_sftp.html#open-3">open/3</a></li>
    <li title="open-4"><a href="ssh_sftp.html#open-4">open/4</a></li>
    <li title="open_tar-3"><a href="ssh_sftp.html#open_tar-3">open_tar/3</a></li>
    <li title="open_tar-4"><a href="ssh_sftp.html#open_tar-4">open_tar/4</a></li>
    <li title="opendir-2"><a href="ssh_sftp.html#opendir-2">opendir/2</a></li>
    <li title="opendir-3"><a href="ssh_sftp.html#opendir-3">opendir/3</a></li>
    <li title="position-3"><a href="ssh_sftp.html#position-3">position/3</a></li>
    <li title="position-4"><a href="ssh_sftp.html#position-4">position/4</a></li>
    <li title="pread-4"><a href="ssh_sftp.html#pread-4">pread/4</a></li>
    <li title="pread-5"><a href="ssh_sftp.html#pread-5">pread/5</a></li>
    <li title="pwrite-4"><a href="ssh_sftp.html#pwrite-4">pwrite/4</a></li>
    <li title="pwrite-5"><a href="ssh_sftp.html#pwrite-5">pwrite/5</a></li>
    <li title="read-3"><a href="ssh_sftp.html#read-3">read/3</a></li>
    <li title="read-4"><a href="ssh_sftp.html#read-4">read/4</a></li>
    <li title="read_file-2"><a href="ssh_sftp.html#read_file-2">read_file/2</a></li>
    <li title="read_file-3"><a href="ssh_sftp.html#read_file-3">read_file/3</a></li>
    <li title="read_file_info-2"><a href="ssh_sftp.html#read_file_info-2">read_file_info/2</a></li>
    <li title="read_file_info-3"><a href="ssh_sftp.html#read_file_info-3">read_file_info/3</a></li>
    <li title="read_link-2"><a href="ssh_sftp.html#read_link-2">read_link/2</a></li>
    <li title="read_link-3"><a href="ssh_sftp.html#read_link-3">read_link/3</a></li>
    <li title="read_link_info-2"><a href="ssh_sftp.html#read_link_info-2">read_link_info/2</a></li>
    <li title="read_link_info-3"><a href="ssh_sftp.html#read_link_info-3">read_link_info/3</a></li>
    <li title="rename-3"><a href="ssh_sftp.html#rename-3">rename/3</a></li>
    <li title="rename-4"><a href="ssh_sftp.html#rename-4">rename/4</a></li>
    <li title="start_channel-1"><a href="ssh_sftp.html#start_channel-1">start_channel/1</a></li>
    <li title="start_channel-2"><a href="ssh_sftp.html#start_channel-2">start_channel/2</a></li>
    <li title="start_channel-1"><a href="ssh_sftp.html#start_channel-1">start_channel/1</a></li>
    <li title="start_channel-2"><a href="ssh_sftp.html#start_channel-2">start_channel/2</a></li>
    <li title="start_channel-3"><a href="ssh_sftp.html#start_channel-3">start_channel/3</a></li>
    <li title="start_channel-1"><a href="ssh_sftp.html#start_channel-1">start_channel/1</a></li>
    <li title="start_channel-2"><a href="ssh_sftp.html#start_channel-2">start_channel/2</a></li>
    <li title="stop_channel-1"><a href="ssh_sftp.html#stop_channel-1">stop_channel/1</a></li>
    <li title="write-3"><a href="ssh_sftp.html#write-3">write/3</a></li>
    <li title="write-4"><a href="ssh_sftp.html#write-4">write/4</a></li>
    <li title="write_file-3"><a href="ssh_sftp.html#write_file-3">write_file/3</a></li>
    <li title="write_file-4"><a href="ssh_sftp.html#write_file-4">write_file/4</a></li>
    <li title="write_file_info-3"><a href="ssh_sftp.html#write_file_info-3">write_file_info/3</a></li>
    <li title="write_file_info-4"><a href="ssh_sftp.html#write_file_info-4">write_file_info/4</a></li>
    </ul>
</li>
<li id="no" title="ssh_sftpd " expanded="false">ssh_sftpd<ul>
<li><a href="ssh_sftpd.html">
                  Top of manual page
                </a></li>
    <li title="subsystem_spec-1"><a href="ssh_sftpd.html#subsystem_spec-1">subsystem_spec/1</a></li>
    </ul>
</li>
</ul></nav></aside><div id="content">
<div class="innertube"></div>
<!-- refpage --><div class="innertube"><center><h1>ssh_agent</h1></center></div>
  
  <div class="innertube">
<h4 id="module" class="title-link" onMouseOver="document.getElementById('ghlink-module-idm3759').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-module-idm3759').style.visibility = 'hidden';">
<div class="title-name">Module</div>
<div class="title-anchors"><span id="ghlink-module-idm3759" class="ghlink-after"><a href="#module" title="Link to this place!"><span class="paperclip-after"></span></a></span></div>
</h4>
<div class="REFBODY module-body">ssh_agent</div>
</div>
  <div class="innertube">
<h4 id="module-summary" class="title-link" onMouseOver="document.getElementById('ghlink-module-summary-idm3760').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-module-summary-idm3760').style.visibility = 'hidden';">
<div class="title-name">Module Summary</div>
<div class="title-anchors"><span id="ghlink-module-summary-idm3760" class="ghlink-after"><a href="#module-summary" title="Link to this place!"><span class="paperclip-after"></span></a></span></div>
</h4>
<div class="REFBODY module-summary-body">Callback module for using an SSH agent instead of the default ssh_file callback.</div>
<h4 id="since" class="title-link" onMouseOver="document.getElementById('ghlink-since-idm3760').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-since-idm3760').style.visibility = 'hidden';">
<div class="title-name">Since</div>
<div class="title-anchors"><span id="ghlink-since-idm3760" class="ghlink-after"><a href="#since" title="Link to this place!"><span class="paperclip-after"></span></a></span></div>
</h4>
<div class="REFBODY module-since">
	Module ssh_agent was introduced in
	OTP 23.0.
      </div>
</div>
  <section class="description"><div class="innertube">
<h4 id="description" class="title-link" onMouseOver="document.getElementById('ghlink-description-idm3761').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-description-idm3761').style.visibility = 'hidden';">
<div class="title-name">Description</div>
<div class="title-anchors"><span id="ghlink-description-idm3761" class="ghlink-after"><a href="#description" title="Link to this place!"><span class="paperclip-after"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_agent.xml#L33" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-after"></span></a></span></div>
</h4>
<div class="REFBODY description-body"><p>
    <p>
      This module defines a callback handler for the communication with an
      <span class="bold_code bc-20"><a href="https://tools.ietf.org/html/draft-miller-ssh-agent-02">SSH Agent</a></span>
      and can be used to replace the <span class="bold_code bc-18"><a href="ssh_file.html">default callback</a></span>.
      This allows to issue signing requests to an agent that stores SSH private keys to perform
      authentication.
    </p>
    <p>
      Ssh_agent implements the <span class="bold_code bc-18"><a href="ssh_client_key_api.html">ssh_client_key_api</a></span>, to
      allow it to be used by setting the option
      <span class="bold_code bc-13"><a href="ssh.html#type-key_cb_common_option"><span class="code">key_cb</span></a></span>
      when starting a client (with for example
      <span class="bold_code bc-13"><a href="ssh.html#connect-3">ssh:connect</a></span>,
      <span class="bold_code bc-13"><a href="ssh.html#shell-1">ssh:shell</a></span>
      ).
    </p>
    <div class="example example-erl"><pre>      {key_cb, {ssh_agent, []}}</pre></div>
    <p>
      The agent communication is established through a UNIX domain socket. By default, the socket path
      will be fetched from the <span class="code">SSH_AUTH_SOCK</span> enviroment variable, which is the default socket path in the agent
      implementation of
      <span class="bold_code bc-20"><a href="http://www.openssh.com">OpenSSH</a></span>.
    </p>
    <p>
      <a name="SOCKET_PATH"></a>
      In order to set a different socket path the <span class="code">socket_path</span> option can be set.
    </p>
    <div class="example example-erl"><pre>      {key_cb, {ssh_agent, [{socket_path, SocketPath}]}}</pre></div>

    <div class="note">
<div class="label">Note</div>
<div class="content"><p>
      <p>The functions are <i>Callbacks</i> for the SSH app. They are not intended to be called from the user's code!
      </p>
    </p></div>
</div>
  </p></div>
</div></section>

  <div class="innertube">
<h4 id="data-types" class="title-link" onMouseOver="document.getElementById('ghlink-data-types-idm3782').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-data-types-idm3782').style.visibility = 'hidden';">
<div class="title-name">Data Types</div>
<div class="title-anchors"><span id="ghlink-data-types-idm3782" class="ghlink-after"><a href="#data-types" title="Link to this place!"><span class="paperclip-after"></span></a></span></div>
</h4>
    <h4 id="Options for the ssh_agent callback module" class="title-link" onMouseOver="document.getElementById('ghlink-Options for the ssh_agent callback module-idm3783').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-Options for the ssh_agent callback module-idm3783').style.visibility = 'hidden';">
<div class="title-name">Options for the ssh_agent callback module</div>
<div class="title-anchors"><span id="ghlink-Options for the ssh_agent callback module-idm3783" class="ghlink-after"><a href="#Options%20for%20the%20ssh_agent%20callback%20module" title="Link to this place!"><span class="paperclip-after"></span></a></span></div>
</h4>
    <article class="data-types-body"><h4 id="type-socket_path_option" class="title-link data-type-name" onMouseOver="document.getElementById('ghlink-type-socket_path_option').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-type-socket_path_option').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-type-socket_path_option" class="ghlink-before"><a href="#type-socket_path_option" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_agent.xml#L75" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">
      <span class="bold_code bc-4"><a name="type-socket_path_option">socket_path_option()</a> = {socket_path, string()}</span><br>
</div>
</h4>
<div class="data-type-desc"><div class="REFBODY rb-7">
        <p>Sets the <span class="bold_code bc-17"><a href="#SOCKET_PATH">socket path</a></span> for the communication with the agent.</p>
      </div></div></article>

    <article class="data-types-body"><h4 id="type-timeout_option" class="title-link data-type-name" onMouseOver="document.getElementById('ghlink-type-timeout_option').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-type-timeout_option').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-type-timeout_option" class="ghlink-before"><a href="#type-timeout_option" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_agent.xml#L82" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">
      <span class="bold_code bc-4"><a name="type-timeout_option">timeout_option()</a> = {timeout, integer()}</span><br>
</div>
</h4>
<div class="data-type-desc"><div class="REFBODY rb-7">
        <p>
          Sets the time-out in milliseconds when communicating with the agent via the socket.
          The default value is <span class="code">1000</span>.
        </p>
      </div></div></article>
    <article class="data-types-body"><h4 id="type-call_ssh_file_option" class="title-link data-type-name" onMouseOver="document.getElementById('ghlink-type-call_ssh_file_option').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-type-call_ssh_file_option').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-type-call_ssh_file_option" class="ghlink-before"><a href="#type-call_ssh_file_option" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_agent.xml#L91" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">
      <span class="bold_code bc-4"><a name="type-call_ssh_file_option">call_ssh_file_option()</a> = {call_ssh_file, atom()}</span><br>
</div>
</h4>
<div class="data-type-desc"><div class="REFBODY rb-7">
        <p>
          The module which the <span class="code">add_host_key</span> and <span class="code">is_host_key</span> callbacks are delegated to. Defaults to the
          <span class="bold_code bc-18"><a href="ssh_file.html">ssh_file</a></span> module.
        </p>
      </div></div></article>
  </div>

  <div class="innertube"><h4 id="exports" class="title-link" onMouseOver="document.getElementById('ghlink-exports-idm3801').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-exports-idm3801').style.visibility = 'hidden';">
<div class="title-name">Exports</div>
<div class="title-anchors"><span id="ghlink-exports-idm3801" class="ghlink-after"><a href="#exports" title="Link to this place!"><span class="paperclip-after"></span></a></span></div>
</h4></div>
<div class="exports-body">
<article class="func"><h4 id="add_host_key-3" class="bold_code title-link func-head" onMouseOver="document.getElementById('ghlink-add_host_key-3-idp40').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-add_host_key-3-idp40').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-add_host_key-3-idp40" class="ghlink-before"><a href="#add_host_key-3" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_agent.xml#L103" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<span class="title-name">add_host_key(Host :: string(),<br>             PublicKey :: <span class="bold_code bc-14"><a href="public_key.html#type-public_key">public_key:public_key()</a></span>,<br>             Options) -&gt;<br>                ok | {error, Error :: term()}</span><div class="title-since"><span class="since">OTP 23.0</span></div>
</h4>
<h4 id="add_host_key-4" class="bold_code title-link func-head" onMouseOver="document.getElementById('ghlink-add_host_key-4-idp41').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-add_host_key-4-idp41').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-add_host_key-4-idp41" class="ghlink-before"><a href="#add_host_key-4" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_agent.xml#L103" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<span class="title-name">add_host_key(Host,<br>             Port :: <span class="bold_code bc-14"><a href="inet.html#type-port_number">inet:port_number()</a></span>,<br>             PublicKey :: <span class="bold_code bc-14"><a href="public_key.html#type-public_key">public_key:public_key()</a></span>,<br>             Options) -&gt;<br>                Result</span><div class="title-since"><span class="since">OTP 23.0</span></div>
</h4>
<div class="REFBODY fun-types">
<h3 id="types" class="func-types-title">Types</h3>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Host = <br>    <span class="bold_code bc-14"><a href="inet.html#type-ip_address">inet:ip_address()</a></span> |<br>    <span class="bold_code bc-14"><a href="inet.html#type-hostname">inet:hostname()</a></span> |<br>    [<span class="bold_code bc-14"><a href="inet.html#type-ip_address">inet:ip_address()</a></span> | <span class="bold_code bc-14"><a href="inet.html#type-hostname">inet:hostname()</a></span>]</span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Options = <br>    <span class="bold_code bc-15"><a href="ssh_client_key_api.html#type-client_key_cb_options">ssh_client_key_api:client_key_cb_options</a></span>(<span class="bold_code bc-17"><a href="#type-call_ssh_file_option">call_ssh_file_option()</a></span>)</span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Result = ok | {error, Error :: term()}</span></div>
</div>
<div class="exports-tube"><div class="REFBODY rb-7">
        <p>
          This callback is delegated to the <span class="bold_code bc-13"><a href="ssh_file.html#add_host_key-4">ssh_file</a></span> module.
        </p>
      </div></div></article><article class="func"><h4 id="is_host_key-4" class="bold_code title-link func-head" onMouseOver="document.getElementById('ghlink-is_host_key-4-idp42').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-is_host_key-4-idp42').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-is_host_key-4-idp42" class="ghlink-before"><a href="#is_host_key-4" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_agent.xml#L114" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<span class="title-name">is_host_key(Key :: <span class="bold_code bc-14"><a href="public_key.html#type-public_key">public_key:public_key()</a></span>,<br>            Host :: string(),<br>            Algorithm :: <span class="bold_code bc-15"><a href="ssh.html#type-pubkey_alg">ssh:pubkey_alg()</a></span>,<br>            Options) -&gt;<br>               boolean()</span><div class="title-since"><span class="since">OTP 23.0</span></div>
</h4>
<h4 id="is_host_key-5" class="bold_code title-link func-head" onMouseOver="document.getElementById('ghlink-is_host_key-5-idp43').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-is_host_key-5-idp43').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-is_host_key-5-idp43" class="ghlink-before"><a href="#is_host_key-5" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_agent.xml#L114" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<span class="title-name">is_host_key(Key :: <span class="bold_code bc-14"><a href="public_key.html#type-public_key">public_key:public_key()</a></span>,<br>            Host,<br>            Port :: <span class="bold_code bc-14"><a href="inet.html#type-port_number">inet:port_number()</a></span>,<br>            Algorithm :: <span class="bold_code bc-15"><a href="ssh.html#type-pubkey_alg">ssh:pubkey_alg()</a></span>,<br>            Options) -&gt;<br>               boolean()</span><div class="title-since"><span class="since">OTP 23.0</span></div>
</h4>
<div class="REFBODY fun-types">
<h3 id="types" class="func-types-title">Types</h3>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Host = <br>    <span class="bold_code bc-14"><a href="inet.html#type-ip_address">inet:ip_address()</a></span> |<br>    <span class="bold_code bc-14"><a href="inet.html#type-hostname">inet:hostname()</a></span> |<br>    [<span class="bold_code bc-14"><a href="inet.html#type-ip_address">inet:ip_address()</a></span> | <span class="bold_code bc-14"><a href="inet.html#type-hostname">inet:hostname()</a></span>]</span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Options = <br>    <span class="bold_code bc-15"><a href="ssh_client_key_api.html#type-client_key_cb_options">ssh_client_key_api:client_key_cb_options</a></span>(<span class="bold_code bc-17"><a href="#type-call_ssh_file_option">call_ssh_file_option()</a></span>)</span></div>
</div>
<div class="exports-tube"><div class="REFBODY rb-7">
        <p>
          This callback is delegated to the <span class="bold_code bc-13"><a href="ssh_file.html#is_host_key-5">ssh_file</a></span> module.
        </p>
      </div></div></article><article class="func"><h4 id="user_key-2" class="bold_code title-link func-head" onMouseOver="document.getElementById('ghlink-user_key-2-idp44').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-user_key-2-idp44').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-user_key-2-idp44" class="ghlink-before"><a href="#user_key-2" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_agent.xml#L125" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<span class="title-name">user_key(Algorithm :: <span class="bold_code bc-15"><a href="ssh.html#type-pubkey_alg">ssh:pubkey_alg()</a></span>, Options) -&gt; Result</span><div class="title-since"><span class="since">OTP 23.0</span></div>
</h4>
<div class="REFBODY fun-types">
<h3 id="types" class="func-types-title">Types</h3>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Result = <br>    {ok, <span class="bold_code bc-14"><a href="public_key.html#type-private_key">public_key:private_key()</a></span>} |<br>    {ok, {ssh2_pubkey, PubKeyBlob :: binary()}} |<br>    {error, string()}</span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Options = <br>    <span class="bold_code bc-15"><a href="ssh_client_key_api.html#type-client_key_cb_options">ssh_client_key_api:client_key_cb_options</a></span>(<span class="bold_code bc-17"><a href="#type-socket_path_option">socket_path_option()</a></span> |<br>                                             <span class="bold_code bc-17"><a href="#type-timeout_option">timeout_option()</a></span>)</span></div>
</div>
<div class="exports-tube"><div class="REFBODY rb-7">
        <p><strong>Types and description</strong></p>
        <p>See the api description in
          <span class="bold_code bc-13"><a href="ssh_client_key_api.html#Module:user_key-2">ssh_client_key_api, Module:user_key/2</a></span>.
        </p>
      </div></div></article>
</div>
<div class="footer">
<hr>
<p>Copyright © 2005-2021 Ericsson AB. All Rights Reserved.</p>
</div>
</div>
</div>
<script type="text/javascript">window.__otpTopDocDir = '../js/';</script><script type="text/javascript" src="../js/highlight.js"></script>
<script src="/assets/js/doc-search.bundle.js"></script>
</body>
</html>
