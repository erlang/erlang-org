<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:erl="http://erlang.org" xmlns:fn="http://www.w3.org/2005/02/xpath-functions">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="utf-8">
<link rel="stylesheet" href="../otp_doc.css" type="text/css">
<title>Erlang -- os_sup</title>
</head>
<body>
<div id="container">
<script id="js" type="text/javascript" language="JavaScript" src="../js/flipmenu/flipmenu.js"></script><script id="js2" type="text/javascript" src="../js/erlresolvelinks.js"></script><script id="js3" type="text/javascript" src="../../../../doc/js/topbar.js"></script><script language="JavaScript" type="text/javascript">
            <!--
              function setscrollpos() {
                var objf = document.getElementById('loadscrollpos');
                if (objf) {
                  document.getElementById("leftnav").firstChild.scrollTop = objf.offsetTop - 10;
                }
              }

              function addEvent(obj, evType, fn){
                if (obj.addEventListener){
                obj.addEventListener(evType, fn, true);
                return true;
              } else if (obj.attachEvent){
                var r = obj.attachEvent("on"+evType, fn);
                return r;
              } else {
                return false;
              }
             }

             addEvent(window, 'load', setscrollpos);

             //-->
</script><div class="topbar">
<div class="topbar-expand "><button onclick="toggleDisplay();"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="Capa_1" viewBox="0 0 54 54" width="24" height="24"><g><path style="fill:#000000;" d="M27,54c-0.552,0-1-0.448-1-1V8c0-0.552,0.448-1,1-1s1,0.448,1,1v45C28,53.552,27.552,54,27,54z"></path><path style="fill:#000000;" d="M11,25c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414l16-16                                      c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414l-16,16C11.512,24.902,11.256,25,11,25z"></path><path style="fill:#000000;" d="M43,25c-0.256,0-0.512-0.098-0.707-0.293l-16-16c-0.391-0.391-0.391-1.023,0-1.414                                      s1.023-0.391,1.414,0l16,16c0.391,0.391,0.391,1.023,0,1.414C43.512,24.902,43.256,25,43,25z"></path><path style="fill:#000000;" d="M43,2H11c-0.552,0-1-0.448-1-1s0.448-1,1-1h32c0.552,0,1,0.448,1,1S43.552,2,43,2z"></path></g></svg></button></div>
<div class="topbar-title"><h1 id="os_sup">os_sup</h1></div>
<div class="search-expand ">        <button id="docsearch-mobile">
            <svg fill="#000000" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 50 50" width="24" height="24"><path d="M 21 3 C 11.621094 3 4 10.621094 4 20 C 4 29.378906 11.621094 37 21 37 C 24.710938 37 28.140625 35.804688 30.9375 33.78125 L 44.09375 46.90625 L 46.90625 44.09375 L 33.90625 31.0625 C 36.460938 28.085938 38 24.222656 38 20 C 38 10.621094 30.378906 3 21 3 Z M 21 5 C 29.296875 5 36 11.703125 36 20 C 36 28.296875 29.296875 35 21 35 C 12.703125 35 6 28.296875 6 20 C 6 11.703125 12.703125 5 21 5 Z"/></svg>
        </button>
</div>
</div>
<aside class="hide-mobile" id="leftnav"><nav class="leftnav-tube"><div class="erlang-logo-wrapper"><a href="../index.html"><img alt="Erlang Logo" src="../erlang-logo.png" class="erlang-logo"></a></div>
<p class="section-title">OS_Mon</p>
<p class="section-subtitle">Reference Manual</p>
<p class="section-version">Version 2.7.1</p>
<ul class="panel-sections">
<li><a href="../apps/os_mon/index.html">Reference Manual</a></li>
<li><a href="../apps/os_mon/notes.html">Release Notes</a></li>
<li><a href="../apps/os_mon/os_mon.pdf">PDF</a></li>
<li><a href="../index.html">Top</a></li>
</ul>
<div id="docsearch"></div>
<ul class="expand-collapse-items">
<li><a href="javascript:openAllFlips()">Expand All</a></li>
<li><a href="javascript:closeAllFlips()">Contract All</a></li>
</ul>
<h3 id="toc">Table of Contents</h3>
<ul class="flipMenu">
<li title="os_mon (App)"><a href="os_mon_app.html">os_mon (App)
                </a></li>
<li id="no" title="cpu_sup " expanded="false">cpu_sup<ul>
<li><a href="cpu_sup.html">
                  Top of manual page
                </a></li>
    <li title="avg1-0"><a href="cpu_sup.html#avg1-0">avg1/0</a></li>
    <li title="avg15-0"><a href="cpu_sup.html#avg15-0">avg15/0</a></li>
    <li title="avg5-0"><a href="cpu_sup.html#avg5-0">avg5/0</a></li>
    <li title="nprocs-0"><a href="cpu_sup.html#nprocs-0">nprocs/0</a></li>
    <li title="util-0"><a href="cpu_sup.html#util-0">util/0</a></li>
    <li title="util-1"><a href="cpu_sup.html#util-1">util/1</a></li>
    </ul>
</li>
<li id="no" title="disksup " expanded="false">disksup<ul>
<li><a href="disksup.html">
                  Top of manual page
                </a></li>
    <li title="get_almost_full_threshold-0"><a href="disksup.html#get_almost_full_threshold-0">get_almost_full_threshold/0</a></li>
    <li title="get_check_interval-0"><a href="disksup.html#get_check_interval-0">get_check_interval/0</a></li>
    <li title="get_disk_data-0"><a href="disksup.html#get_disk_data-0">get_disk_data/0</a></li>
    <li title="set_almost_full_threshold-1"><a href="disksup.html#set_almost_full_threshold-1">set_almost_full_threshold/1</a></li>
    <li title="set_check_interval-1"><a href="disksup.html#set_check_interval-1">set_check_interval/1</a></li>
    </ul>
</li>
<li id="no" title="memsup " expanded="false">memsup<ul>
<li><a href="memsup.html">
                  Top of manual page
                </a></li>
    <li title="get_check_interval-0"><a href="memsup.html#get_check_interval-0">get_check_interval/0</a></li>
    <li title="get_helper_timeout-0"><a href="memsup.html#get_helper_timeout-0">get_helper_timeout/0</a></li>
    <li title="get_memory_data-0"><a href="memsup.html#get_memory_data-0">get_memory_data/0</a></li>
    <li title="get_os_wordsize-0"><a href="memsup.html#get_os_wordsize-0">get_os_wordsize/0</a></li>
    <li title="get_procmem_high_watermark-0"><a href="memsup.html#get_procmem_high_watermark-0">get_procmem_high_watermark/0</a></li>
    <li title="get_sysmem_high_watermark-0"><a href="memsup.html#get_sysmem_high_watermark-0">get_sysmem_high_watermark/0</a></li>
    <li title="get_system_memory_data-0"><a href="memsup.html#get_system_memory_data-0">get_system_memory_data/0</a></li>
    <li title="set_check_interval-1"><a href="memsup.html#set_check_interval-1">set_check_interval/1</a></li>
    <li title="set_helper_timeout-1"><a href="memsup.html#set_helper_timeout-1">set_helper_timeout/1</a></li>
    <li title="set_procmem_high_watermark-1"><a href="memsup.html#set_procmem_high_watermark-1">set_procmem_high_watermark/1</a></li>
    <li title="set_sysmem_high_watermark-1"><a href="memsup.html#set_sysmem_high_watermark-1">set_sysmem_high_watermark/1</a></li>
    </ul>
</li>
<li id="loadscrollpos" title="os_sup " expanded="true">os_sup<ul>
<li><a href="os_sup.html">
                  Top of manual page
                </a></li>
    <li title="disable-0"><a href="os_sup.html#disable-0">disable/0</a></li>
    <li title="disable-2"><a href="os_sup.html#disable-2">disable/2</a></li>
    <li title="enable-0"><a href="os_sup.html#enable-0">enable/0</a></li>
    <li title="enable-2"><a href="os_sup.html#enable-2">enable/2</a></li>
    </ul>
</li>
<li id="no" title="nteventlog " expanded="false">nteventlog<ul>
<li><a href="nteventlog.html">
                  Top of manual page
                </a></li>
    <li title="start-2"><a href="nteventlog.html#start-2">start/2</a></li>
    <li title="start_link-2"><a href="nteventlog.html#start_link-2">start_link/2</a></li>
    <li title="stop-0"><a href="nteventlog.html#stop-0">stop/0</a></li>
    </ul>
</li>
</ul></nav></aside><div id="content">
<div class="innertube"></div>
<!-- refpage --><div class="innertube"><center><h1>os_sup</h1></center></div>
  
  <div class="innertube">
<h4 id="module" class="title-link" onMouseOver="document.getElementById('ghlink-module-idm651').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-module-idm651').style.visibility = 'hidden';">
<div class="title-name">Module</div>
<div class="title-anchors"><span id="ghlink-module-idm651" class="ghlink-after"><a href="#module" title="Link to this place!"><span class="paperclip-after"></span></a></span></div>
</h4>
<div class="REFBODY module-body">os_sup</div>
</div>
  <div class="innertube">
<h4 id="module-summary" class="title-link" onMouseOver="document.getElementById('ghlink-module-summary-idm652').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-module-summary-idm652').style.visibility = 'hidden';">
<div class="title-name">Module Summary</div>
<div class="title-anchors"><span id="ghlink-module-summary-idm652" class="ghlink-after"><a href="#module-summary" title="Link to this place!"><span class="paperclip-after"></span></a></span></div>
</h4>
<div class="REFBODY module-summary-body">Interface to OS System Messages</div>
</div>
  <section class="description"><div class="innertube">
<h4 id="description" class="title-link" onMouseOver="document.getElementById('ghlink-description-idm653').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-description-idm653').style.visibility = 'hidden';">
<div class="title-name">Description</div>
<div class="title-anchors"><span id="ghlink-description-idm653" class="ghlink-after"><a href="#description" title="Link to this place!"><span class="paperclip-after"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/os_mon/doc/src/os_sup.xml#L33" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-after"></span></a></span></div>
</h4>
<div class="REFBODY description-body"><p>
    <p><span class="code">os_sup</span> is a process providing a message passing service
      from the operating system to the error logger in the Erlang
      runtime system. It is part of the OS_Mon application, see
      <span class="bold_code bc-19"><a href="os_mon_app.html">os_mon(6)</a></span>. Available for
      Solaris and Windows.</p>
    <p>Messages received from the operating system results in an
      user defined callback function being called. This function can do
      whatever filtering and formatting is necessary and then deploy any
      type of logging suitable for the user's application.</p>
  </p></div>
</div></section>

  <section class="innertube"><h3 id="solaris-operation" class="title-link" onMouseOver="document.getElementById('ghlink-solaris-operation-idm658').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-solaris-operation-idm658').style.visibility = 'hidden';">
<div class="title-name">Solaris Operation</div>
<div class="title-anchors"><span id="ghlink-solaris-operation-idm658" class="ghlink-after"><a href="#solaris-operation" title="Link to this place!"><span class="paperclip-after"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/os_mon/doc/src/os_sup.xml#L45" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-after"></span></a></span></div>
</h3>
<div class="REFBODY rb-3">
    
    <p>The Solaris (SunOS 5.x) messages are retrieved from
      the syslog daemon, <span class="code">syslogd</span>.</p>
    <p>Enabling the service includes actions which require root
      privileges, such as change of ownership and file privileges of an
      executable binary file, and creating a modified copy of
      the configuration file for <span class="code">syslogd</span>. When <span class="code">os_sup</span> is
      terminated, the service must be disabled, meaning the original
      configuration must be restored. Enabling/disabling can be done
      either outside or inside <span class="code">os_sup</span>. See
      <span class="bold_code bc-17"><a href="#config">Configuration</a></span> below.</p>
    <div class="warning">
<div class="label">Warning</div>
<div class="content"><p>
      <p>This process cannot run in multiple instances on the same
        hardware. OS_Mon must be configured to start <span class="code">os_sup</span> on
        one node only if two or more Erlang nodes execute on the same
        machine.</p>
    </p></div>
</div>
    <p>The format of received events is not defined.</p>
  </div></section>

  <section class="innertube"><h3 id="windows-operation" class="title-link" onMouseOver="document.getElementById('ghlink-windows-operation-idm671').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-windows-operation-idm671').style.visibility = 'hidden';">
<div class="title-name">Windows Operation</div>
<div class="title-anchors"><span id="ghlink-windows-operation-idm671" class="ghlink-after"><a href="#windows-operation" title="Link to this place!"><span class="paperclip-after"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/os_mon/doc/src/os_sup.xml#L66" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-after"></span></a></span></div>
</h3>
<div class="REFBODY rb-3">
    
    <p>The Windows messages are retrieved from the eventlog file.</p>
    <p>The <span class="code">nteventlog</span> module is used to implement <span class="code">os_sup</span>.
      See <span class="bold_code bc-19"><a href="nteventlog.html">nteventlog(3)</a></span>. Note
      that the start functions of <span class="code">nteventlog</span> does not need to be
      used, as in this case the process is started automatically as part of
      the OS_Mon supervision tree.</p>
    <p>OS messages are formatted as a tuple
      <span class="code">{Time, Category, Facility, Severity, Message}</span>:</p>
    <dl>
      <dt><strong><span class="code">Time = {MegaSecs, Secs, MicroSecs}</span></strong></dt>
      <dd>
        <p>A time stamp as returned by the BIF <span class="code">now()</span>.</p>
      </dd>
      <dt><strong><span class="code">Category = string()</span></strong></dt>
      <dd>
        <p>Usually one of <span class="code">"System"</span>, <span class="code">"Application"</span> or
          <span class="code">"Security"</span>. Note that the NT eventlog viewer has
          another notion of category, which in most cases is totally
          meaningless and therefore not imported into Erlang. What is
          called a category here is one of the main three types of
          events occurring in a normal NT system.</p>
      </dd>
      <dt><strong><span class="code">Facility = string()</span></strong></dt>
      <dd>
        <p>The source of the message, usually the name of
          the application that generated it. This could be almost any
          string. When matching messages from certain applications,
          the version number of the application may have to be
          accounted for. This is what the NT event viewer calls
          "source".</p>
      </dd>
      <dt><strong><span class="code">Severity = string()</span></strong></dt>
      <dd>
        <p>One of <span class="code">"Error"</span>, <span class="code">"Warning"</span>,
          <span class="code">"Informational"</span>, <span class="code">"Audit_Success"</span>,
          <span class="code">"Audit_Faulure"</span> or, in case of a currently unknown
          Windows NT version <span class="code">"Severity_Unknown"</span>.</p>
      </dd>
      <dt><strong><span class="code">Message = string()</span></strong></dt>
      <dd>
        <p>Formatted exactly as it would be in the NT eventlog viewer.
          Binary data is not imported into Erlang.</p>
      </dd>
    </dl>
  </div></section>

  <section class="innertube"><a name="config"></a><h3 id="configuration" class="title-link" onMouseOver="document.getElementById('ghlink-configuration-idm712').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-configuration-idm712').style.visibility = 'hidden';">
<div class="title-name">Configuration</div>
<div class="title-anchors"><span id="ghlink-configuration-idm712" class="ghlink-after"><a href="#configuration" title="Link to this place!"><span class="paperclip-after"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/os_mon/doc/src/os_sup.xml#L114" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-after"></span></a></span></div>
</h3>
<div class="REFBODY rb-3">
    
    
    <dl>
      <dt><strong><span class="code">os_sup_mfa = {Module, Function, Args}</span></strong></dt>
      <dd>
        <p>The callback function to use. <span class="code">Module</span> and
          <span class="code">Function</span> are atoms and <span class="code">Args</span> is a list of terms.
          When an OS message <span class="code">Msg</span> is received, this function is
          called as <span class="code">apply(Module, Function, [Msg | Args])</span>.</p>
        <p>Default is <span class="code">{os_sup, error_report, [Tag]}</span> which will
          send the event to the error logger using
          <span class="bold_code bc-13"><a href="error_logger.html#error_report-2">error_logger:error_report(Tag, Msg)</a></span>. <span class="code">Tag</span> is the value of
          <span class="code">os_sup_errortag</span>, see below.</p>
      </dd>
      <dt><strong><span class="code">os_sup_errortag = atom()</span></strong></dt>
      <dd>
        <p>This parameter defines the error report type used when
          messages are sent to error logger using the default callback
          function. Default is <span class="code">std_error</span>, which means the events
          are handled by the standard event handler.</p>
      </dd>
      <dt><strong><span class="code">os_sup_enable = bool()</span></strong></dt>
      <dd>
        <p>Solaris only. Defines if the service should be enabled (and
          disabled) inside (<span class="code">true</span>) or outside (<span class="code">false</span>)
          <span class="code">os_sup</span>. For backwards compatibility reasons,
          the default is <span class="code">true</span>. The recommended value is
          <span class="code">false</span>, as the Erlang emulator should normally not be
          run with <span class="code">root</span> privileges, as is required for enabling
          the service.</p>
      </dd>
      <dt><strong><span class="code">os_sup_own = string()</span></strong></dt>
      <dd>
        <p>Solaris only. Defines the directory which contains
          the backup copy and the Erlang specific configuration files
          for <span class="code">syslogd</span>, and a named pipe to receive the messages
          from <span class="code">syslogd</span>. Default is <span class="code">"/etc"</span>.</p>
      </dd>
      <dt><strong><span class="code">os_sup_syslogconf = string()</span></strong></dt>
      <dd>
        <p>Solaris only. Defines the full name of the configuration file
          for <span class="code">syslogd</span>. Default is <span class="code">"/etc/syslog.conf"</span>.</p>
      </dd>
    </dl>
  </div></section>
  <div class="innertube"><h4 id="exports" class="title-link" onMouseOver="document.getElementById('ghlink-exports-idm758').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-exports-idm758').style.visibility = 'hidden';">
<div class="title-name">Exports</div>
<div class="title-anchors"><span id="ghlink-exports-idm758" class="ghlink-after"><a href="#exports" title="Link to this place!"><span class="paperclip-after"></span></a></span></div>
</h4></div>
<div class="exports-body">
<article class="func"><div class="bold_code func-head"><h4 id="enable-0" class="title-link" onMouseOver="document.getElementById('ghlink-enable-0-idm760').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-enable-0-idm760').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-enable-0-idm760" class="ghlink-before"><a href="#enable-0" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/os_mon/doc/src/os_sup.xml#L161" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">enable() -&gt; ok | {error, Res}</div>
</h4></div>
<div class="bold_code func-head"><h4 id="enable-2" class="title-link" onMouseOver="document.getElementById('ghlink-enable-2-idm761').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-enable-2-idm761').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-enable-2-idm761" class="ghlink-before"><a href="#enable-2" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/os_mon/doc/src/os_sup.xml#L161" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">enable(Dir, Conf) -&gt; ok | {error, Error}</div>
</h4></div>
<div class="exports-tube">
<div class="REFBODY rb-5">
<h3 id="types" class="func-types-title">Types</h3>
        <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Dir = Conf = Res = string()</span><br>
</div>
      </div>
<div class="REFBODY rb-7">
        <p>Enables the <span class="code">os_sup</span> service. Needed on Solaris only.</p>
        <p>If the configuration parameter <span class="code">os_sup_enable</span> is
          <span class="code">false</span>, this function is called automatically by
          <span class="code">os_sup</span>, using the values of <span class="code">os_sup_own</span> and
          <span class="code">os_sup_syslogconf</span> as arguments.</p>
        <p>If <span class="code">os_sup_enable</span> is <span class="code">true</span>, this function must
          be called <strong>before</strong> OS_Mon/<span class="code">os_sup</span> is started.
          <span class="code">Dir</span> defines the directory which contains the backup
          copy and the Erlang specific configuration files for
          <span class="code">syslogd</span>, and a named pipe to receive the messages
          from <span class="code">syslogd</span>. Defaults to <span class="code">"/etc"</span>. <span class="code">Conf</span>
          defines the full name of the configuration file for
          <span class="code">syslogd</span>. Default is <span class="code">"/etc/syslog.conf"</span>.</p>
        <p>Results in a OS call to:</p>
        <div class="example example-none"><pre>&lt;PRIVDIR&gt;/bin/mod_syslog otp Dir Conf</pre></div>
        <p>where <span class="code">&lt;PRIVDIR&gt;</span> is the <span class="code">priv</span> directory of
          OS_Mon, <span class="code">code:priv_dir(os_mon)</span>.</p>
        <p>Returns <span class="code">ok</span> if this yields the expected result
          <span class="code">"0"</span>, and <span class="code">{error, Res}</span> if it yields anything
          else.</p>
        <div class="note">
<div class="label">Note</div>
<div class="content"><p>
          <p>This function requires root privileges to succeed.</p>
        </p></div>
</div>
      </div>
</div></article><article class="func"><div class="bold_code func-head"><h4 id="disable-0" class="title-link" onMouseOver="document.getElementById('ghlink-disable-0-idm799').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-disable-0-idm799').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-disable-0-idm799" class="ghlink-before"><a href="#disable-0" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/os_mon/doc/src/os_sup.xml#L196" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">disable() -&gt; ok | {error, Res}</div>
</h4></div>
<div class="bold_code func-head"><h4 id="disable-2" class="title-link" onMouseOver="document.getElementById('ghlink-disable-2-idm800').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-disable-2-idm800').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-disable-2-idm800" class="ghlink-before"><a href="#disable-2" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/os_mon/doc/src/os_sup.xml#L196" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">disable(Dir, Conf) -&gt; ok | {error, Error}</div>
</h4></div>
<div class="exports-tube">
<div class="REFBODY rb-5">
<h3 id="types" class="func-types-title">Types</h3>
        <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Dir = Conf = Res = string()</span><br>
</div>
      </div>
<div class="REFBODY rb-7">
        <p>Disables the <span class="code">os_sup</span> service. Needed on Solaris only.</p>
        <p>If the configuration parameter <span class="code">os_sup_enable</span> is
          <span class="code">false</span>, this function is called automatically by
          <span class="code">os_sup</span>, using the same arguments as when
          <span class="code">enable/2</span> was called.</p>
        <p>If <span class="code">os_sup_enable</span> is <span class="code">true</span>, this function must
          be called <strong>after</strong> OS_Mon/<span class="code">os_sup</span> is stopped.
          <span class="code">Dir</span> defines the directory which contains the backup
          copy and the Erlang specific configuration files for
          <span class="code">syslogd</span>, and a named pipe to receive the messages
          from <span class="code">syslogd</span>. Defaults to <span class="code">"/etc"</span>. <span class="code">Conf</span>
          defines the full name of the configuration file for
          <span class="code">syslogd</span>. Default is <span class="code">"/etc/syslog.conf"</span>.</p>
        <p>Results in a OS call to:</p>
        <div class="example example-none"><pre>&lt;PRIVDIR&gt;/bin/mod_syslog nootp Dir Conf</pre></div>
        <p>where <span class="code">&lt;PRIVDIR&gt;</span> is the <span class="code">priv</span> directory of
          OS_Mon, <span class="code">code:priv_dir(os_mon)</span>.</p>
        <p>Returns <span class="code">ok</span> if this yields the expected result
          <span class="code">"0"</span>, and <span class="code">{error, Res}</span> if it yields anything
          else.</p>
        <div class="note">
<div class="label">Note</div>
<div class="content"><p>
          <p>This function requires root privileges to succeed.</p>
        </p></div>
</div>
      </div>
</div></article>
</div>

  <section class="innertube"><h3 id="see-also" class="title-link" onMouseOver="document.getElementById('ghlink-see-also-idm836').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-see-also-idm836').style.visibility = 'hidden';">
<div class="title-name">See also</div>
<div class="title-anchors"><span id="ghlink-see-also-idm836" class="ghlink-after"><a href="#see-also" title="Link to this place!"><span class="paperclip-after"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/os_mon/doc/src/os_sup.xml#L233" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-after"></span></a></span></div>
</h3>
<div class="REFBODY rb-3">
    
    <p><span class="bold_code bc-18"><a href="error_logger.html">error_logger(3)</a></span>,
      <span class="bold_code bc-19"><a href="os_mon_app.html">os_mon(3)</a></span></p>
    <p><span class="code">syslogd(1M)</span>, <span class="code">syslog.conf(4)</span> in the Solaris
      documentation.</p>
    <p></p>
  </div></section>
<div class="footer">
<hr>
<p>Copyright Â© 1997-2021 Ericsson AB. All Rights Reserved.</p>
</div>
</div>
</div>
<script type="text/javascript">window.__otpTopDocDir = '../js/';</script><script type="text/javascript" src="../js/highlight.js"></script>
<script src="/assets/js/doc-search.bundle.js"></script>
</body>
</html>
