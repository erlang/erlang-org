<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:erl="http://erlang.org" xmlns:fn="http://www.w3.org/2005/02/xpath-functions">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="utf-8">
<link rel="stylesheet" href="../otp_doc.css" type="text/css">
<title>Erlang -- diameter_sctp(3)</title>
</head>
<body>
<div id="container">
<script id="js" type="text/javascript" language="JavaScript" src="../js/flipmenu/flipmenu.js"></script><script id="js2" type="text/javascript" src="../js/erlresolvelinks.js"></script><script id="js3" type="text/javascript" src="../../../../doc/js/topbar.js"></script><script language="JavaScript" type="text/javascript">
            <!--
              function setscrollpos() {
                var objf = document.getElementById('loadscrollpos');
                if (objf) {
                  document.getElementById("leftnav").firstChild.scrollTop = objf.offsetTop - 10;
                }
              }

              function addEvent(obj, evType, fn){
                if (obj.addEventListener){
                obj.addEventListener(evType, fn, true);
                return true;
              } else if (obj.attachEvent){
                var r = obj.attachEvent("on"+evType, fn);
                return r;
              } else {
                return false;
              }
             }

             addEvent(window, 'load', setscrollpos);

             //-->
</script><div class="topbar">
<div class="topbar-expand "><button onclick="toggleDisplay();"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="Capa_1" viewBox="0 0 54 54" width="24" height="24"><g><path style="fill:#000000;" d="M27,54c-0.552,0-1-0.448-1-1V8c0-0.552,0.448-1,1-1s1,0.448,1,1v45C28,53.552,27.552,54,27,54z"></path><path style="fill:#000000;" d="M11,25c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414l16-16                                      c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414l-16,16C11.512,24.902,11.256,25,11,25z"></path><path style="fill:#000000;" d="M43,25c-0.256,0-0.512-0.098-0.707-0.293l-16-16c-0.391-0.391-0.391-1.023,0-1.414                                      s1.023-0.391,1.414,0l16,16c0.391,0.391,0.391,1.023,0,1.414C43.512,24.902,43.256,25,43,25z"></path><path style="fill:#000000;" d="M43,2H11c-0.552,0-1-0.448-1-1s0.448-1,1-1h32c0.552,0,1,0.448,1,1S43.552,2,43,2z"></path></g></svg></button></div>
<div class="topbar-title"><h1 id="diameter_sctp(3)">diameter_sctp(3)</h1></div>
<div class="search-expand ">        <button id="docsearch-mobile">
            <svg fill="#000000" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 50 50" width="24" height="24"><path d="M 21 3 C 11.621094 3 4 10.621094 4 20 C 4 29.378906 11.621094 37 21 37 C 24.710938 37 28.140625 35.804688 30.9375 33.78125 L 44.09375 46.90625 L 46.90625 44.09375 L 33.90625 31.0625 C 36.460938 28.085938 38 24.222656 38 20 C 38 10.621094 30.378906 3 21 3 Z M 21 5 C 29.296875 5 36 11.703125 36 20 C 36 28.296875 29.296875 35 21 35 C 12.703125 35 6 28.296875 6 20 C 6 11.703125 12.703125 5 21 5 Z"/></svg>
        </button>
</div>
</div>
<aside class="hide-mobile" id="leftnav"><nav class="leftnav-tube"><div class="erlang-logo-wrapper"><a href="../index.html"><img alt="Erlang Logo" src="../erlang-logo.png" class="erlang-logo"></a></div>
<p class="section-title">Diameter</p>
<p class="section-subtitle">Reference Manual</p>
<p class="section-version">Version 2.2.4</p>
<ul class="panel-sections">
<li><a href="../apps/diameter/users_guide.html">User's Guide</a></li>
<li><a href="../apps/diameter/index.html">Reference Manual</a></li>
<li><a href="../apps/diameter/notes.html">Release Notes</a></li>
<li><a href="../apps/diameter/diameter.pdf">PDF</a></li>
<li><a href="../index.html">Top</a></li>
</ul>
<div id="docsearch"></div>
<ul class="expand-collapse-items">
<li><a href="javascript:openAllFlips()">Expand All</a></li>
<li><a href="javascript:closeAllFlips()">Contract All</a></li>
</ul>
<h3 id="toc">Table of Contents</h3>
<ul class="flipMenu">
<li id="no" title="diameter " expanded="false">diameter<ul>
<li><a href="diameter.html">
                  Top of manual page
                </a></li>
    <li title="add_transport-2"><a href="diameter.html#add_transport-2">add_transport/2</a></li>
    <li title="call-4"><a href="diameter.html#call-4">call/4</a></li>
    <li title="origin_state_id-0"><a href="diameter.html#origin_state_id-0">origin_state_id/0</a></li>
    <li title="remove_transport-2"><a href="diameter.html#remove_transport-2">remove_transport/2</a></li>
    <li title="service_info-2"><a href="diameter.html#service_info-2">service_info/2</a></li>
    <li title="services-0"><a href="diameter.html#services-0">services/0</a></li>
    <li title="session_id-1"><a href="diameter.html#session_id-1">session_id/1</a></li>
    <li title="start-0"><a href="diameter.html#start-0">start/0</a></li>
    <li title="start_service-2"><a href="diameter.html#start_service-2">start_service/2</a></li>
    <li title="stop-0"><a href="diameter.html#stop-0">stop/0</a></li>
    <li title="stop_service-1"><a href="diameter.html#stop_service-1">stop_service/1</a></li>
    <li title="subscribe-1"><a href="diameter.html#subscribe-1">subscribe/1</a></li>
    <li title="unsubscribe-1"><a href="diameter.html#unsubscribe-1">unsubscribe/1</a></li>
    </ul>
</li>
<li title="diameterc"><a href="diameterc.html">diameterc</a></li>
<li id="no" title="diameter_app " expanded="false">diameter_app<ul>
<li><a href="diameter_app.html">
                  Top of manual page
                </a></li>
    <li title="Mod:handle_answer-4"><a href="diameter_app.html#Mod:handle_answer-4">Mod:handle_answer/4</a></li>
    <li title="Mod:handle_error-4"><a href="diameter_app.html#Mod:handle_error-4">Mod:handle_error/4</a></li>
    <li title="Mod:handle_request-3"><a href="diameter_app.html#Mod:handle_request-3">Mod:handle_request/3</a></li>
    <li title="Mod:peer_down-3"><a href="diameter_app.html#Mod:peer_down-3">Mod:peer_down/3</a></li>
    <li title="Mod:peer_up-3"><a href="diameter_app.html#Mod:peer_up-3">Mod:peer_up/3</a></li>
    <li title="Mod:pick_peer-4"><a href="diameter_app.html#Mod:pick_peer-4">Mod:pick_peer/4</a></li>
    <li title="Mod:prepare_request-3"><a href="diameter_app.html#Mod:prepare_request-3">Mod:prepare_request/3</a></li>
    <li title="Mod:prepare_retransmit-3"><a href="diameter_app.html#Mod:prepare_retransmit-3">Mod:prepare_retransmit/3</a></li>
    </ul>
</li>
<li id="no" title="diameter_codec " expanded="false">diameter_codec<ul>
<li><a href="diameter_codec.html">
                  Top of manual page
                </a></li>
    <li title="decode-2"><a href="diameter_codec.html#decode-2">decode/2</a></li>
    <li title="encode-2"><a href="diameter_codec.html#encode-2">encode/2</a></li>
    </ul>
</li>
<li title="diameter_dict"><a href="diameter_dict.html">diameter_dict</a></li>
<li id="no" title="diameter_make " expanded="false">diameter_make<ul>
<li><a href="diameter_make.html">
                  Top of manual page
                </a></li>
    <li title="codec-2"><a href="diameter_make.html#codec-2">codec/2</a></li>
    <li title="flatten-1"><a href="diameter_make.html#flatten-1">flatten/1</a></li>
    <li title="format-1"><a href="diameter_make.html#format-1">format/1</a></li>
    <li title="format_error-1"><a href="diameter_make.html#format_error-1">format_error/1</a></li>
    </ul>
</li>
<li id="no" title="diameter_transport " expanded="false">diameter_transport<ul>
<li><a href="diameter_transport.html">
                  Top of manual page
                </a></li>
    <li title="Mod:start-3"><a href="diameter_transport.html#Mod:start-3">Mod:start/3</a></li>
    </ul>
</li>
<li id="no" title="diameter_tcp " expanded="false">diameter_tcp<ul>
<li><a href="diameter_tcp.html">
                  Top of manual page
                </a></li>
    <li title="start-3"><a href="diameter_tcp.html#start-3">start/3</a></li>
    </ul>
</li>
<li id="loadscrollpos" title="diameter_sctp " expanded="true">diameter_sctp<ul>
<li><a href="diameter_sctp.html">
                  Top of manual page
                </a></li>
    <li title="start-3"><a href="diameter_sctp.html#start-3">start/3</a></li>
    </ul>
</li>
</ul></nav></aside><div id="content">
<div class="innertube"></div>
<!-- refpage --><div class="innertube"><center><h1>diameter_sctp</h1></center></div>


<div class="innertube">
<h4 id="module" class="title-link" onMouseOver="document.getElementById('ghlink-module-idm3813').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-module-idm3813').style.visibility = 'hidden';">
<div class="title-name">Module</div>
<div class="title-anchors"><span id="ghlink-module-idm3813" class="ghlink-after"><a href="#module" title="Link to this place!"><span class="paperclip-after"></span></a></span></div>
</h4>
<div class="REFBODY module-body">diameter_sctp</div>
</div>
<div class="innertube">
<h4 id="module-summary" class="title-link" onMouseOver="document.getElementById('ghlink-module-summary-idm3814').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-module-summary-idm3814').style.visibility = 'hidden';">
<div class="title-name">Module Summary</div>
<div class="title-anchors"><span id="ghlink-module-summary-idm3814" class="ghlink-after"><a href="#module-summary" title="Link to this place!"><span class="paperclip-after"></span></a></span></div>
</h4>
<div class="REFBODY module-summary-body">Diameter transport over SCTP.</div>
<h4 id="since" class="title-link" onMouseOver="document.getElementById('ghlink-since-idm3814').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-since-idm3814').style.visibility = 'hidden';">
<div class="title-name">Since</div>
<div class="title-anchors"><span id="ghlink-since-idm3814" class="ghlink-after"><a href="#since" title="Link to this place!"><span class="paperclip-after"></span></a></span></div>
</h4>
<div class="REFBODY module-since">
	Module diameter_sctp was introduced in
	OTP R14B03.
      </div>
</div>

<section class="description"><div class="innertube">
<h4 id="description" class="title-link" onMouseOver="document.getElementById('ghlink-description-idm3815').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-description-idm3815').style.visibility = 'hidden';">
<div class="title-name">Description</div>
<div class="title-anchors"><span id="ghlink-description-idm3815" class="ghlink-after"><a href="#description" title="Link to this place!"><span class="paperclip-after"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/diameter/doc/src/diameter_sctp.xml#L53" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-after"></span></a></span></div>
</h4>
<div class="REFBODY description-body"><p>

<p>
This module implements diameter transport over SCTP using <span class="bold_code bc-18"><a href="gen_sctp.html">gen_sctp(3)</a></span>.
It can be specified as the value of a transport_module option to
<span class="bold_code bc-15"><a href="diameter.html#add_transport-2">diameter:add_transport/2</a></span>
and implements the behaviour documented in
<span class="bold_code bc-19"><a href="diameter_transport.html">diameter_transport(3)</a></span>.</p>

<a name="start"></a>
</p></div>
</div></section>



<div class="innertube"><h4 id="exports" class="title-link" onMouseOver="document.getElementById('ghlink-exports-idm3821').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-exports-idm3821').style.visibility = 'hidden';">
<div class="title-name">Exports</div>
<div class="title-anchors"><span id="ghlink-exports-idm3821" class="ghlink-after"><a href="#exports" title="Link to this place!"><span class="paperclip-after"></span></a></span></div>
</h4></div>
<div class="exports-body"><article class="func"><div class="bold_code func-head"><h4 id="start-3" class="title-link" onMouseOver="document.getElementById('ghlink-start-3-idm3823').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-start-3-idm3823').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-start-3-idm3823" class="ghlink-before"><a href="#start-3" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/diameter/doc/src/diameter_sctp.xml#L69" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">start({Type, Ref}, Svc, [Opt])
         -&gt; {ok, Pid, [LAddr]} | {error, Reason}</div>
<div class="title-since"><span class="since">OTP R14B03</span></div>
</h4></div>
<div class="exports-tube">
<div class="REFBODY rb-5">
<h3 id="types" class="func-types-title">Types</h3>
<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Type = connect | accept</span><br>
</div>
<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Ref = <span class="bold_code bc-15"><a href="diameter.html#transport_ref">diameter:transport_ref()</a></span></span><br>
</div>
<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Svc = #diameter_service{}</span><br>
</div>
<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Opt = OwnOpt | SctpOpt</span><br>
</div>
<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Pid = pid()</span><br>
</div>
<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">LAddr = <span class="bold_code bc-13"><a href="inet.html#type-ip_address">inet:ip_address()</a></span></span><br>
</div>
<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Reason = term()</span><br>
</div>
<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">OwnOpt = {raddr, <span class="bold_code bc-13"><a href="inet.html#type-ip_address">inet:ip_address()</a></span>}
          | {rport, integer()}
          | {accept, Match}
          | {unordered, boolean() | pos_integer()}
          | {packet, boolean() | raw}
          | {message_cb, <span class="bold_code bc-15"><a href="diameter.html#eval">diameter:eval()</a></span>}
          | {sender, boolean()}</span><br>
</div>
<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">SctpOpt = term()</span><br>
</div>
<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Match = <span class="bold_code bc-13"><a href="inet.html#type-ip_address">inet:ip_address()</a></span> | string() | [Match]</span><br>
</div>
</div>
<div class="REFBODY rb-7">

<p>
The start function required by <span class="bold_code bc-19"><a href="diameter_transport.html">diameter_transport(3)</a></span>.</p>

<p>
Options <span class="code">raddr</span> and <span class="code">rport</span> specify the remote address
and port for a connecting transport and not valid for a listening
transport: the former is required while latter defaults to 3868 if
unspecified.
Multiple <span class="code">raddr</span> options can be specified, in which case the
connecting transport in question attempts each in sequence until
an association is established.</p>

<p>
Option <span class="code">accept</span> specifies remote addresses for a listening
transport and is not valid for a connecting transport.
If specified, a remote address that does not match one of the
specified addresses causes the association to be aborted.
Multiple <span class="code">accept</span> options can be specified.
A string-valued <span class="code">Match</span> that does not parse as an address is
interpreted as a regular expression.</p>

<p>
Option <span class="code">unordered</span> specifies whether or not to use unordered
delivery, integer <span class="code">N</span> being equivalent to <span class="code">N =&lt; OS</span>,
where <span class="code">OS</span> is the number of outbound streams negotiated on the
association in question.
Regardless of configuration, sending is ordered on stream 0
until reception of a second incoming message, to ensure that a peer
receives capabilities exchange messages before any other.
Defaults to <span class="code">false</span>.</p>

<p>
Option <span class="code">packet</span> determines how/if an incoming message is
packaged into a diameter_packet record.
If <span class="code">false</span> then messages are received as binary().
If <span class="code">true</span> then as a record with the binary() message in the
<span class="code">bin</span> field and a <span class="code">{stream, Id}</span> tuple in the
<span class="code">transport_data</span> field, where <span class="code">Id</span> is the identifier of the
inbound stream the message was received on.
If <span class="code">raw</span> then as a record with the received ancillary
sctp_sndrcvinfo record in the <span class="code">transport_data</span> field.
Defaults to <span class="code">true</span>.</p>

<p>
Options <span class="code">message_cb</span> and <span class="code">sender</span> have semantics identical
to those documented in <span class="bold_code bc-15"><a href="diameter_tcp.html#sender">diameter_tcp(3)</a></span>, but with the message argument
to a <span class="code">recv</span> callback being as directed by the <span class="code">packet</span>
option.</p>

<p>
An <span class="code">{outstream, Id}</span> tuple in the <span class="code">transport_data</span> field of
a outgoing diameter_packet record sets the outbound stream on which
the message is sent, modulo the negotiated number of outbound streams.
Any other value causes successive such sends to cycle though all
outbound streams.</p>

<p>
Remaining options are any accepted by <span class="bold_code bc-13"><a href="gen_sctp.html#open-1">gen_sctp:open/1</a></span>, with the exception
of options <span class="code">mode</span>, <span class="code">binary</span>, <span class="code">list</span>, <span class="code">active</span>
and <span class="code">sctp_events</span>.
Note that options <span class="code">ip</span> and <span class="code">port</span> specify the local address
and port respectively.</p>

<p>
Multiple <span class="code">ip</span> options can be specified for a multihomed peer.
If none are specified then the values of <span class="code">Host-IP-Address</span>
in the <span class="code">diameter_service</span> record are used.
Option <span class="code">port</span> defaults to 3868 for a listening transport and 0 for a
connecting transport.</p>

<div class="warning">
<div class="label">Warning</div>
<div class="content"><p>
<p>
An small receive buffer may result in a peer having to
resend incoming messages: set the <span class="bold_code bc-18"><a href="inet.html">inet(3)</a></span> option <span class="code">recbuf</span> to increase
the buffer size.</p>

<p>
An small send buffer may result in outgoing messages
being discarded: set the <span class="bold_code bc-18"><a href="inet.html">inet(3)</a></span> option <span class="code">sndbuf</span> to increase
the buffer size.</p>
</p></div>
</div>

</div>
</div></article></div>




<section class="innertube"><h3 id="see-also" class="title-link" onMouseOver="document.getElementById('ghlink-see-also-idm3899').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-see-also-idm3899').style.visibility = 'hidden';">
<div class="title-name">SEE ALSO</div>
<div class="title-anchors"><span id="ghlink-see-also-idm3899" class="ghlink-after"><a href="#see-also" title="Link to this place!"><span class="paperclip-after"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/diameter/doc/src/diameter_sctp.xml#L183" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-after"></span></a></span></div>
</h3>
<div class="REFBODY rb-3">


<p>
<span class="bold_code bc-19"><a href="diameter.html">diameter(3)</a></span>, <span class="bold_code bc-19"><a href="diameter_transport.html">diameter_transport(3)</a></span>, <span class="bold_code bc-18"><a href="gen_sctp.html">gen_sctp(3)</a></span>, <span class="bold_code bc-18"><a href="inet.html">inet(3)</a></span></p>

</div></section>

<div class="footer">
<hr>
<p>Copyright Â© 2011-2021 Ericsson AB. All Rights Reserved.</p>
</div>
</div>
</div>
<script type="text/javascript">window.__otpTopDocDir = '../js/';</script><script type="text/javascript" src="../js/highlight.js"></script>
<script src="/assets/js/doc-search.bundle.js"></script>
</body>
</html>
