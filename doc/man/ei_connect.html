<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:erl="http://erlang.org" xmlns:fn="http://www.w3.org/2005/02/xpath-functions">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="utf-8">
<link rel="stylesheet" href="../otp_doc.css" type="text/css">
<title>Erlang -- ei_connect</title>
</head>
<body>
<div id="container">
<script id="js" type="text/javascript" language="JavaScript" src="../js/flipmenu/flipmenu.js"></script><script id="js2" type="text/javascript" src="../js/erlresolvelinks.js"></script><script id="js3" type="text/javascript" src="../../../../doc/js/topbar.js"></script><script language="JavaScript" type="text/javascript">
            <!--
              function setscrollpos() {
                var objf = document.getElementById('loadscrollpos');
                if (objf) {
                  document.getElementById("leftnav").firstChild.scrollTop = objf.offsetTop - 10;
                }
              }

              function addEvent(obj, evType, fn){
                if (obj.addEventListener){
                obj.addEventListener(evType, fn, true);
                return true;
              } else if (obj.attachEvent){
                var r = obj.attachEvent("on"+evType, fn);
                return r;
              } else {
                return false;
              }
             }

             addEvent(window, 'load', setscrollpos);

             //-->
</script><div class="topbar">
<div class="topbar-expand "><button onclick="toggleDisplay();"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="Capa_1" viewBox="0 0 54 54" width="24" height="24"><g><path style="fill:#000000;" d="M27,54c-0.552,0-1-0.448-1-1V8c0-0.552,0.448-1,1-1s1,0.448,1,1v45C28,53.552,27.552,54,27,54z"></path><path style="fill:#000000;" d="M11,25c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414l16-16                                      c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414l-16,16C11.512,24.902,11.256,25,11,25z"></path><path style="fill:#000000;" d="M43,25c-0.256,0-0.512-0.098-0.707-0.293l-16-16c-0.391-0.391-0.391-1.023,0-1.414                                      s1.023-0.391,1.414,0l16,16c0.391,0.391,0.391,1.023,0,1.414C43.512,24.902,43.256,25,43,25z"></path><path style="fill:#000000;" d="M43,2H11c-0.552,0-1-0.448-1-1s0.448-1,1-1h32c0.552,0,1,0.448,1,1S43.552,2,43,2z"></path></g></svg></button></div>
<div class="topbar-title"><h1 id="ei_connect">ei_connect</h1></div>
<div class="search-expand ">        <button id="docsearch-mobile">
            <svg fill="#000000" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 50 50" width="24" height="24"><path d="M 21 3 C 11.621094 3 4 10.621094 4 20 C 4 29.378906 11.621094 37 21 37 C 24.710938 37 28.140625 35.804688 30.9375 33.78125 L 44.09375 46.90625 L 46.90625 44.09375 L 33.90625 31.0625 C 36.460938 28.085938 38 24.222656 38 20 C 38 10.621094 30.378906 3 21 3 Z M 21 5 C 29.296875 5 36 11.703125 36 20 C 36 28.296875 29.296875 35 21 35 C 12.703125 35 6 28.296875 6 20 C 6 11.703125 12.703125 5 21 5 Z"/></svg>
        </button>
</div>
</div>
<aside class="hide-mobile" id="leftnav"><nav class="leftnav-tube"><div class="erlang-logo-wrapper"><a href="../index.html"><img alt="Erlang Logo" src="../erlang-logo.png" class="erlang-logo"></a></div>
<p class="section-title">Erl_Interface</p>
<p class="section-subtitle">Reference Manual</p>
<p class="section-version">Version 5.1</p>
<ul class="panel-sections">
<li><a href="../apps/erl_interface/users_guide.html">User's Guide</a></li>
<li><a href="../apps/erl_interface/index.html">Reference Manual</a></li>
<li><a href="../apps/erl_interface/notes.html">Release Notes</a></li>
<li><a href="../apps/erl_interface/erl_interface.pdf">PDF</a></li>
<li><a href="../index.html">Top</a></li>
</ul>
<div id="docsearch"></div>
<ul class="expand-collapse-items">
<li><a href="javascript:openAllFlips()">Expand All</a></li>
<li><a href="javascript:closeAllFlips()">Contract All</a></li>
</ul>
<h3 id="toc">Table of Contents</h3>
<ul class="flipMenu">
<li id="no" title="ei " expanded="false">ei<ul>
<li><a href="ei.html">
                  Top of manual page
                </a></li>
    <li title="ei_cmp_pids"><a href="ei.html#ei_cmp_pids">ei_cmp_pids()
                </a></li>
<li title="ei_cmp_ports"><a href="ei.html#ei_cmp_ports">ei_cmp_ports()
                </a></li>
<li title="ei_cmp_refs"><a href="ei.html#ei_cmp_refs">ei_cmp_refs()
                </a></li>
<li title="ei_decode_atom"><a href="ei.html#ei_decode_atom">ei_decode_atom()
                </a></li>
<li title="ei_decode_atom_as"><a href="ei.html#ei_decode_atom_as">ei_decode_atom_as()
                </a></li>
<li title="ei_decode_bignum"><a href="ei.html#ei_decode_bignum">ei_decode_bignum()
                </a></li>
<li title="ei_decode_binary"><a href="ei.html#ei_decode_binary">ei_decode_binary()
                </a></li>
<li title="ei_decode_bitstring"><a href="ei.html#ei_decode_bitstring">ei_decode_bitstring()
                </a></li>
<li title="ei_decode_boolean"><a href="ei.html#ei_decode_boolean">ei_decode_boolean()
                </a></li>
<li title="ei_decode_char"><a href="ei.html#ei_decode_char">ei_decode_char()
                </a></li>
<li title="ei_decode_double"><a href="ei.html#ei_decode_double">ei_decode_double()
                </a></li>
<li title="ei_decode_ei_term"><a href="ei.html#ei_decode_ei_term">ei_decode_ei_term()
                </a></li>
<li title="ei_decode_fun"><a href="ei.html#ei_decode_fun">ei_decode_fun()
                </a></li>
<li title="ei_decode_iodata"><a href="ei.html#ei_decode_iodata">ei_decode_iodata()
                </a></li>
<li title="ei_decode_list_header"><a href="ei.html#ei_decode_list_header">ei_decode_list_header()
                </a></li>
<li title="ei_decode_long"><a href="ei.html#ei_decode_long">ei_decode_long()
                </a></li>
<li title="ei_decode_longlong"><a href="ei.html#ei_decode_longlong">ei_decode_longlong()
                </a></li>
<li title="ei_decode_map_header"><a href="ei.html#ei_decode_map_header">ei_decode_map_header()
                </a></li>
<li title="ei_decode_pid"><a href="ei.html#ei_decode_pid">ei_decode_pid()
                </a></li>
<li title="ei_decode_port"><a href="ei.html#ei_decode_port">ei_decode_port()
                </a></li>
<li title="ei_decode_ref"><a href="ei.html#ei_decode_ref">ei_decode_ref()
                </a></li>
<li title="ei_decode_string"><a href="ei.html#ei_decode_string">ei_decode_string()
                </a></li>
<li title="ei_decode_trace"><a href="ei.html#ei_decode_trace">ei_decode_trace()
                </a></li>
<li title="ei_decode_tuple_header"><a href="ei.html#ei_decode_tuple_header">ei_decode_tuple_header()
                </a></li>
<li title="ei_decode_ulong"><a href="ei.html#ei_decode_ulong">ei_decode_ulong()
                </a></li>
<li title="ei_decode_ulonglong"><a href="ei.html#ei_decode_ulonglong">ei_decode_ulonglong()
                </a></li>
<li title="ei_decode_version"><a href="ei.html#ei_decode_version">ei_decode_version()
                </a></li>
<li title="ei_encode_atom"><a href="ei.html#ei_encode_atom">ei_encode_atom()
                </a></li>
<li title="ei_encode_atom_as"><a href="ei.html#ei_encode_atom_as">ei_encode_atom_as()
                </a></li>
<li title="ei_encode_atom_len"><a href="ei.html#ei_encode_atom_len">ei_encode_atom_len()
                </a></li>
<li title="ei_encode_atom_len_as"><a href="ei.html#ei_encode_atom_len_as">ei_encode_atom_len_as()
                </a></li>
<li title="ei_encode_bignum"><a href="ei.html#ei_encode_bignum">ei_encode_bignum()
                </a></li>
<li title="ei_encode_binary"><a href="ei.html#ei_encode_binary">ei_encode_binary()
                </a></li>
<li title="ei_encode_bitstring"><a href="ei.html#ei_encode_bitstring">ei_encode_bitstring()
                </a></li>
<li title="ei_encode_boolean"><a href="ei.html#ei_encode_boolean">ei_encode_boolean()
                </a></li>
<li title="ei_encode_char"><a href="ei.html#ei_encode_char">ei_encode_char()
                </a></li>
<li title="ei_encode_double"><a href="ei.html#ei_encode_double">ei_encode_double()
                </a></li>
<li title="ei_encode_empty_list"><a href="ei.html#ei_encode_empty_list">ei_encode_empty_list()
                </a></li>
<li title="ei_encode_fun"><a href="ei.html#ei_encode_fun">ei_encode_fun()
                </a></li>
<li title="ei_encode_list_header"><a href="ei.html#ei_encode_list_header">ei_encode_list_header()
                </a></li>
<li title="ei_encode_long"><a href="ei.html#ei_encode_long">ei_encode_long()
                </a></li>
<li title="ei_encode_longlong"><a href="ei.html#ei_encode_longlong">ei_encode_longlong()
                </a></li>
<li title="ei_encode_map_header"><a href="ei.html#ei_encode_map_header">ei_encode_map_header()
                </a></li>
<li title="ei_encode_pid"><a href="ei.html#ei_encode_pid">ei_encode_pid()
                </a></li>
<li title="ei_encode_port"><a href="ei.html#ei_encode_port">ei_encode_port()
                </a></li>
<li title="ei_encode_ref"><a href="ei.html#ei_encode_ref">ei_encode_ref()
                </a></li>
<li title="ei_encode_string"><a href="ei.html#ei_encode_string">ei_encode_string()
                </a></li>
<li title="ei_encode_string_len"><a href="ei.html#ei_encode_string_len">ei_encode_string_len()
                </a></li>
<li title="ei_encode_trace"><a href="ei.html#ei_encode_trace">ei_encode_trace()
                </a></li>
<li title="ei_encode_tuple_header"><a href="ei.html#ei_encode_tuple_header">ei_encode_tuple_header()
                </a></li>
<li title="ei_encode_ulong"><a href="ei.html#ei_encode_ulong">ei_encode_ulong()
                </a></li>
<li title="ei_encode_ulonglong"><a href="ei.html#ei_encode_ulonglong">ei_encode_ulonglong()
                </a></li>
<li title="ei_encode_version"><a href="ei.html#ei_encode_version">ei_encode_version()
                </a></li>
<li title="ei_get_type"><a href="ei.html#ei_get_type">ei_get_type()
                </a></li>
<li title="ei_init"><a href="ei.html#ei_init">ei_init()
                </a></li>
<li title="ei_print_term"><a href="ei.html#ei_print_term">ei_print_term()
                </a></li>
<li title="ei_s_print_term"><a href="ei.html#ei_s_print_term">ei_s_print_term()
                </a></li>
<li title="ei_set_compat_rel"><a href="ei.html#ei_set_compat_rel">ei_set_compat_rel()
                </a></li>
<li title="ei_skip_term"><a href="ei.html#ei_skip_term">ei_skip_term()
                </a></li>
<li title="ei_x_append"><a href="ei.html#ei_x_append">ei_x_append()
                </a></li>
<li title="ei_x_append_buf"><a href="ei.html#ei_x_append_buf">ei_x_append_buf()
                </a></li>
<li title="ei_x_encode_atom"><a href="ei.html#ei_x_encode_atom">ei_x_encode_atom()
                </a></li>
<li title="ei_x_encode_atom_as"><a href="ei.html#ei_x_encode_atom_as">ei_x_encode_atom_as()
                </a></li>
<li title="ei_x_encode_atom_len"><a href="ei.html#ei_x_encode_atom_len">ei_x_encode_atom_len()
                </a></li>
<li title="ei_x_encode_atom_len_as"><a href="ei.html#ei_x_encode_atom_len_as">ei_x_encode_atom_len_as()
                </a></li>
<li title="ei_x_encode_bignum"><a href="ei.html#ei_x_encode_bignum">ei_x_encode_bignum()
                </a></li>
<li title="ei_x_encode_binary"><a href="ei.html#ei_x_encode_binary">ei_x_encode_binary()
                </a></li>
<li title="ei_x_encode_bitstring"><a href="ei.html#ei_x_encode_bitstring">ei_x_encode_bitstring()
                </a></li>
<li title="ei_x_encode_boolean"><a href="ei.html#ei_x_encode_boolean">ei_x_encode_boolean()
                </a></li>
<li title="ei_x_encode_char"><a href="ei.html#ei_x_encode_char">ei_x_encode_char()
                </a></li>
<li title="ei_x_encode_double"><a href="ei.html#ei_x_encode_double">ei_x_encode_double()
                </a></li>
<li title="ei_x_encode_empty_list"><a href="ei.html#ei_x_encode_empty_list">ei_x_encode_empty_list()
                </a></li>
<li title="ei_x_encode_fun"><a href="ei.html#ei_x_encode_fun">ei_x_encode_fun()
                </a></li>
<li title="ei_x_encode_list_header"><a href="ei.html#ei_x_encode_list_header">ei_x_encode_list_header()
                </a></li>
<li title="ei_x_encode_long"><a href="ei.html#ei_x_encode_long">ei_x_encode_long()
                </a></li>
<li title="ei_x_encode_longlong"><a href="ei.html#ei_x_encode_longlong">ei_x_encode_longlong()
                </a></li>
<li title="ei_x_encode_map_header"><a href="ei.html#ei_x_encode_map_header">ei_x_encode_map_header()
                </a></li>
<li title="ei_x_encode_pid"><a href="ei.html#ei_x_encode_pid">ei_x_encode_pid()
                </a></li>
<li title="ei_x_encode_port"><a href="ei.html#ei_x_encode_port">ei_x_encode_port()
                </a></li>
<li title="ei_x_encode_ref"><a href="ei.html#ei_x_encode_ref">ei_x_encode_ref()
                </a></li>
<li title="ei_x_encode_string"><a href="ei.html#ei_x_encode_string">ei_x_encode_string()
                </a></li>
<li title="ei_x_encode_string_len"><a href="ei.html#ei_x_encode_string_len">ei_x_encode_string_len()
                </a></li>
<li title="ei_x_encode_trace"><a href="ei.html#ei_x_encode_trace">ei_x_encode_trace()
                </a></li>
<li title="ei_x_encode_tuple_header"><a href="ei.html#ei_x_encode_tuple_header">ei_x_encode_tuple_header()
                </a></li>
<li title="ei_x_encode_ulong"><a href="ei.html#ei_x_encode_ulong">ei_x_encode_ulong()
                </a></li>
<li title="ei_x_encode_ulonglong"><a href="ei.html#ei_x_encode_ulonglong">ei_x_encode_ulonglong()
                </a></li>
<li title="ei_x_encode_version"><a href="ei.html#ei_x_encode_version">ei_x_encode_version()
                </a></li>
<li title="ei_x_format"><a href="ei.html#ei_x_format">ei_x_format()
                </a></li>
<li title="ei_x_format_wo_ver"><a href="ei.html#ei_x_format_wo_ver">ei_x_format_wo_ver()
                </a></li>
<li title="ei_x_free"><a href="ei.html#ei_x_free">ei_x_free()
                </a></li>
<li title="ei_x_new"><a href="ei.html#ei_x_new">ei_x_new()
                </a></li>
<li title="ei_x_new_with_version"><a href="ei.html#ei_x_new_with_version">ei_x_new_with_version()
                </a></li>
<li title="free_fun"><a href="ei.html#free_fun">free_fun()
                </a></li>
</ul>
</li>
<li id="loadscrollpos" title="ei_connect " expanded="true">ei_connect<ul>
<li><a href="ei_connect.html">
                  Top of manual page
                </a></li>
    <li title="ei_accept"><a href="ei_connect.html#ei_accept">ei_accept()
                </a></li>
<li title="ei_accept_tmo"><a href="ei_connect.html#ei_accept_tmo">ei_accept_tmo()
                </a></li>
<li title="ei_close_connection"><a href="ei_connect.html#ei_close_connection">ei_close_connection()
                </a></li>
<li title="ei_connect"><a href="ei_connect.html#ei_connect">ei_connect()
                </a></li>
<li title="ei_connect_host_port"><a href="ei_connect.html#ei_connect_host_port">ei_connect_host_port()
                </a></li>
<li title="ei_connect_host_port_tmo"><a href="ei_connect.html#ei_connect_host_port_tmo">ei_connect_host_port_tmo()
                </a></li>
<li title="ei_connect_init"><a href="ei_connect.html#ei_connect_init">ei_connect_init()
                </a></li>
<li title="ei_connect_init_ussi"><a href="ei_connect.html#ei_connect_init_ussi">ei_connect_init_ussi()
                </a></li>
<li title="ei_connect_tmo"><a href="ei_connect.html#ei_connect_tmo">ei_connect_tmo()
                </a></li>
<li title="ei_connect_xinit"><a href="ei_connect.html#ei_connect_xinit">ei_connect_xinit()
                </a></li>
<li title="ei_connect_xinit_ussi"><a href="ei_connect.html#ei_connect_xinit_ussi">ei_connect_xinit_ussi()
                </a></li>
<li title="ei_get_tracelevel"><a href="ei_connect.html#ei_get_tracelevel">ei_get_tracelevel()
                </a></li>
<li title="ei_gethostbyaddr"><a href="ei_connect.html#ei_gethostbyaddr">ei_gethostbyaddr()
                </a></li>
<li title="ei_gethostbyaddr_r"><a href="ei_connect.html#ei_gethostbyaddr_r">ei_gethostbyaddr_r()
                </a></li>
<li title="ei_gethostbyname"><a href="ei_connect.html#ei_gethostbyname">ei_gethostbyname()
                </a></li>
<li title="ei_gethostbyname_r"><a href="ei_connect.html#ei_gethostbyname_r">ei_gethostbyname_r()
                </a></li>
<li title="ei_listen"><a href="ei_connect.html#ei_listen">ei_listen()
                </a></li>
<li title="ei_make_pid"><a href="ei_connect.html#ei_make_pid">ei_make_pid()
                </a></li>
<li title="ei_make_ref"><a href="ei_connect.html#ei_make_ref">ei_make_ref()
                </a></li>
<li title="ei_publish"><a href="ei_connect.html#ei_publish">ei_publish()
                </a></li>
<li title="ei_publish_tmo"><a href="ei_connect.html#ei_publish_tmo">ei_publish_tmo()
                </a></li>
<li title="ei_receive"><a href="ei_connect.html#ei_receive">ei_receive()
                </a></li>
<li title="ei_receive_encoded"><a href="ei_connect.html#ei_receive_encoded">ei_receive_encoded()
                </a></li>
<li title="ei_receive_encoded_tmo"><a href="ei_connect.html#ei_receive_encoded_tmo">ei_receive_encoded_tmo()
                </a></li>
<li title="ei_receive_msg"><a href="ei_connect.html#ei_receive_msg">ei_receive_msg()
                </a></li>
<li title="ei_receive_msg_tmo"><a href="ei_connect.html#ei_receive_msg_tmo">ei_receive_msg_tmo()
                </a></li>
<li title="ei_receive_tmo"><a href="ei_connect.html#ei_receive_tmo">ei_receive_tmo()
                </a></li>
<li title="ei_reg_send"><a href="ei_connect.html#ei_reg_send">ei_reg_send()
                </a></li>
<li title="ei_reg_send_tmo"><a href="ei_connect.html#ei_reg_send_tmo">ei_reg_send_tmo()
                </a></li>
<li title="ei_rpc"><a href="ei_connect.html#ei_rpc">ei_rpc()
                </a></li>
<li title="ei_rpc_from"><a href="ei_connect.html#ei_rpc_from">ei_rpc_from()
                </a></li>
<li title="ei_rpc_to"><a href="ei_connect.html#ei_rpc_to">ei_rpc_to()
                </a></li>
<li title="ei_self"><a href="ei_connect.html#ei_self">ei_self()
                </a></li>
<li title="ei_send"><a href="ei_connect.html#ei_send">ei_send()
                </a></li>
<li title="ei_send_encoded"><a href="ei_connect.html#ei_send_encoded">ei_send_encoded()
                </a></li>
<li title="ei_send_encoded_tmo"><a href="ei_connect.html#ei_send_encoded_tmo">ei_send_encoded_tmo()
                </a></li>
<li title="ei_send_reg_encoded"><a href="ei_connect.html#ei_send_reg_encoded">ei_send_reg_encoded()
                </a></li>
<li title="ei_send_reg_encoded_tmo"><a href="ei_connect.html#ei_send_reg_encoded_tmo">ei_send_reg_encoded_tmo()
                </a></li>
<li title="ei_send_tmo"><a href="ei_connect.html#ei_send_tmo">ei_send_tmo()
                </a></li>
<li title="ei_set_tracelevel"><a href="ei_connect.html#ei_set_tracelevel">ei_set_tracelevel()
                </a></li>
<li title="ei_thisalivename"><a href="ei_connect.html#ei_thisalivename">ei_thisalivename()
                </a></li>
<li title="ei_thishostname"><a href="ei_connect.html#ei_thishostname">ei_thishostname()
                </a></li>
<li title="ei_thisnodename"><a href="ei_connect.html#ei_thisnodename">ei_thisnodename()
                </a></li>
<li title="ei_unpublish"><a href="ei_connect.html#ei_unpublish">ei_unpublish()
                </a></li>
<li title="ei_unpublish_tmo"><a href="ei_connect.html#ei_unpublish_tmo">ei_unpublish_tmo()
                </a></li>
<li title="ei_xconnect"><a href="ei_connect.html#ei_xconnect">ei_xconnect()
                </a></li>
<li title="ei_xconnect_host_port"><a href="ei_connect.html#ei_xconnect_host_port">ei_xconnect_host_port()
                </a></li>
<li title="ei_xconnect_host_port_tmo"><a href="ei_connect.html#ei_xconnect_host_port_tmo">ei_xconnect_host_port_tmo()
                </a></li>
<li title="ei_xconnect_tmo"><a href="ei_connect.html#ei_xconnect_tmo">ei_xconnect_tmo()
                </a></li>
<li title="ei_xlisten"><a href="ei_connect.html#ei_xlisten">ei_xlisten()
                </a></li>
<li title="ei_xreceive_msg"><a href="ei_connect.html#ei_xreceive_msg">ei_xreceive_msg()
                </a></li>
<li title="ei_xreceive_msg_tmo"><a href="ei_connect.html#ei_xreceive_msg_tmo">ei_xreceive_msg_tmo()
                </a></li>
<li title="ei_xrpc_to"><a href="ei_connect.html#ei_xrpc_to">ei_xrpc_to()
                </a></li>
</ul>
</li>
<li id="no" title="ei_global " expanded="false">ei_global<ul>
<li><a href="ei_global.html">
                  Top of manual page
                </a></li>
    <li title="ei_global_names"><a href="ei_global.html#ei_global_names">ei_global_names()
                </a></li>
<li title="ei_global_register"><a href="ei_global.html#ei_global_register">ei_global_register()
                </a></li>
<li title="ei_global_unregister"><a href="ei_global.html#ei_global_unregister">ei_global_unregister()
                </a></li>
<li title="ei_global_whereis"><a href="ei_global.html#ei_global_whereis">ei_global_whereis()
                </a></li>
</ul>
</li>
<li title="erl_call"><a href="erl_call.html">erl_call</a></li>
</ul></nav></aside><div id="content">
<div class="innertube"></div>
<!-- refpage --><div class="innertube"><center><h1>ei_connect</h1></center></div>
  
  <div class="innertube">
<h4 id="c-library" class="title-link" onMouseOver="document.getElementById('ghlink-c-library-idm1610').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-c-library-idm1610').style.visibility = 'hidden';">
<div class="title-name">C Library</div>
<div class="title-anchors"><span id="ghlink-c-library-idm1610" class="ghlink-after"><a href="#c-library" title="Link to this place!"><span class="paperclip-after"></span></a></span></div>
</h4>
<div class="REFBODY c-library-body">ei_connect</div>
</div>
  <div class="innertube">
<h4 id="library-summary" class="title-link" onMouseOver="document.getElementById('ghlink-library-summary-idm1611').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-library-summary-idm1611').style.visibility = 'hidden';">
<div class="title-name">Library Summary</div>
<div class="title-anchors"><span id="ghlink-library-summary-idm1611" class="ghlink-after"><a href="#library-summary" title="Link to this place!"><span class="paperclip-after"></span></a></span></div>
</h4>
<div class="REFBODY library-summary-body">Communicate with distributed Erlang.</div>
</div>
  <section class="description"><div class="innertube">
<h4 id="description" class="title-link" onMouseOver="document.getElementById('ghlink-description-idm1612').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-description-idm1612').style.visibility = 'hidden';">
<div class="title-name">Description</div>
<div class="title-anchors"><span id="ghlink-description-idm1612" class="ghlink-after"><a href="#description" title="Link to this place!"><span class="paperclip-after"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L36" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-after"></span></a></span></div>
</h4>
<div class="REFBODY description-body"><p>
    <p>This module enables C-programs to communicate with Erlang nodes,
      using the Erlang distribution over TCP/IP.</p>

    <p>A C-node appears to Erlang as a <strong>hidden node</strong>.
      That is, Erlang processes that know the name of the
      C-node can communicate with it in a normal manner, but
      the node name is not shown in the listing provided by
      <span class="bold_code bc-13"><a href="erlang.html#nodes-0"><span class="code">erlang:nodes/0</span></a></span>
      in <span class="code">ERTS</span>.</p>

    <p>The environment variable <span class="code">ERL_EPMD_PORT</span> can be used
      to indicate which logical cluster a C-node belongs to.</p>
  </p></div>
</div></section>

  <section class="innertube"><h3 id="time-out-functions" class="title-link" onMouseOver="document.getElementById('ghlink-time-out-functions-idm1621').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-time-out-functions-idm1621').style.visibility = 'hidden';">
<div class="title-name">Time-Out Functions</div>
<div class="title-anchors"><span id="ghlink-time-out-functions-idm1621" class="ghlink-after"><a href="#time-out-functions" title="Link to this place!"><span class="paperclip-after"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L51" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-after"></span></a></span></div>
</h3>
<div class="REFBODY rb-3">
    
    <p>Most functions appear in a version with the suffix
      <span class="code">_tmo</span> appended to the function name. Those functions
      take an extra argument, a time-out in <strong>milliseconds</strong>. The
      semantics is this: for each communication primitive involved in
      the operation, if the primitive does not complete within the time
      specified, the function returns an error and
      <span class="code">erl_errno</span> is set to <span class="code">ETIMEDOUT</span>.
      With communication primitive is meant an operation on the socket, like
      <span class="code">connect</span>, <span class="code">accept</span>,
      <span class="code">recv</span>, or <span class="code">send</span>.</p>

    <p>Clearly the time-outs are for implementing fault tolerance,
      not to keep hard real-time promises. The <span class="code">_tmo</span> functions
      are for detecting non-responsive peers and to avoid blocking on
      socket operations.</p>

    <p>A time-out value of <span class="code">0</span> (zero) means that time-outs are
      disabled. Calling a <span class="code">_tmo</span> function with the last
      argument as <span class="code">0</span> is therefore the same thing as calling
      the function without the <span class="code">_tmo</span> suffix.</p>

    <p>As with all other functions starting with <span class="code">ei_</span>,
      you are <strong>not</strong> expected
      to put the socket in non-blocking mode yourself in the program. Every
      use of non-blocking mode is embedded inside the time-out
      functions. The socket will always be back in blocking mode after
      the operations are completed (regardless of the result). To
      avoid problems, leave the socket options alone. <span class="code">ei</span> handles
      any socket options that need modification.</p>

    <p>In all other senses, the <span class="code">_tmo</span> functions inherit all
      the return values and the semantics from the functions without
      the <span class="code">_tmo</span> suffix.</p>
  </div></section>

  <section class="innertube"><a name="ussi"></a><h3 id="user-supplied-socket-implementation" class="title-link" onMouseOver="document.getElementById('ghlink-user-supplied-socket-implementation-idm1646').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-user-supplied-socket-implementation-idm1646').style.visibility = 'hidden';">
<div class="title-name">User Supplied Socket Implementation</div>
<div class="title-anchors"><span id="ghlink-user-supplied-socket-implementation-idm1646" class="ghlink-after"><a href="#user-supplied-socket-implementation" title="Link to this place!"><span class="paperclip-after"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L88" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-after"></span></a></span></div>
</h3>
<div class="REFBODY rb-3">
    
    
    <p>By default <span class="code">ei</span> supplies a TCP/IPv4 socket interface
    that is used when communicating. The user can however plug in
    his/her own IPv4 socket implementation. This, for example, in order
    to communicate over TLS. A user supplied socket implementation
    is plugged in by passing a
    <span class="bold_code bc-17"><a href="#ei_socket_callbacks">callback structure</a></span>
    to either
    <span class="bold_code bc-17"><a href="#ei_connect_init"><span class="code">ei_connect_init_ussi()</span></a></span>
    or
    <span class="bold_code bc-17"><a href="#ei_connect_init"><span class="code">ei_connect_xinit_ussi()</span></a></span>.</p>
    
    <p>All callbacks in the <span class="code">ei_socket_callbacks</span> structure
    <strong>should</strong> return zero on success; and a posix error
    code on failure.</p>
    
    <p>The <span class="code">addr</span> argument of the <span class="code">listen</span>, <span class="code">accept</span>,
    and <span class="code">connect</span> callbacks refer to appropriate address
    structure for currently used protocol. Currently <span class="code">ei</span>
    only supports IPv4. That is, at this time <span class="code">addr</span> always
    points to a <span class="code">struct sockaddr_in</span> structure.</p>

    <p><a name="ei_socket_callbacks_fields"></a>The
    <span class="bold_code bc-17"><a href="#ei_socket_callbacks"><span class="code">ei_socket_callbacks</span></a></span>
    structure may be enlarged in the future. All fields not set, <strong>needs</strong>
    to be zeroed out. Currently the following fields exist:</p>

    <dl>
      
      <dt><strong><span class="code">flags</span></strong></dt>
      <dd>
	<p>Flags informing <span class="code">ei</span> about the behaviour of the
	callbacks. Flags should be bitwise or:ed together. If no flag,
	is set, the <span class="code">flags</span> field should contain <span class="code">0</span>. Currently,
	supported flags:</p>
	<dl>
	  <dt><strong><span class="code">EI_SCLBK_FLG_FULL_IMPL</span></strong></dt>
	  <dd>
	    <p>
	      If set, the <span class="code">accept()</span>, <span class="code">connect()</span>,
	      <span class="code">writev()</span>, <span class="code">write()</span>, and <span class="code">read()</span> callbacks
	      implements timeouts. The timeout is passed in the <span class="code">tmo</span>
	      argument and is given in milli seconds. Note that the
	      <span class="code">tmo</span> argument to these callbacks differ from the
	      timeout arguments in the <span class="code">ei</span> API. Zero means a zero
	      timeout. That is, poll and timeout immediately unless the
	      operation is successful. <span class="code">EI_SCLBK_INF_TMO</span>
	      (max <span class="code">unsigned</span>) means infinite timeout. The file
	      descriptor is in blocking mode when a callback is called,
	      and it must be in blocking mode when the callback returns.
	    </p>
	    <p>
	      If not set, <span class="code">ei</span> will implement the timeout using
	      <span class="code">select()</span> in order to determine when to call the
	      callbacks and when to time out. The <span class="code">tmo</span> arguments
	      of the <span class="code">accept()</span>, <span class="code">connect()</span>, <span class="code">writev()</span>,
	      <span class="code">write()</span>, and <span class="code">read()</span> callbacks should be
	      ignored. The callbacks may be called in non-blocking mode.
	      The callbacks are not allowed to change between blocking
	      and non-blocking mode. In order for this to work,
	      <span class="code">select()</span> needs to interact with the socket primitives
	      used the same way as it interacts with the ordinary socket
	      primitives. If this is not the case, the callbacks
	      <strong>need</strong> to implement timeouts and this flag should
	      be set.
	    </p>
	  </dd>
	</dl>
	<p>More flags may be introduced in the future.</p>
      </dd>

      <dt><strong><span class="code">int (*socket)(void **ctx, void *setup_ctx)</span></strong></dt>
      <dd>
	<p>Create a socket and a context for the socket.</p>
	
	<p>On success it should set <span class="code">*ctx</span> to point to a context for
	the created socket. This context will be passed to all other
	socket callbacks. This function will be passed the same
	<span class="code">setup_context</span> as passed to the preceeding
	<span class="bold_code bc-17"><a href="#ei_connect_init"><span class="code">ei_connect_init_ussi()</span></a></span>
	or
	<span class="bold_code bc-17"><a href="#ei_connect_init"><span class="code">ei_connect_xinit_ussi()</span></a></span>
	call.</p>
	
	<div class="note">
<div class="label">Note</div>
<div class="content"><p><p>During the lifetime of a socket, the pointer <span class="code">*ctx</span>
	<strong>has</strong> to remain the same. That is, it cannot later be
	relocated.</p></p></div>
</div>
	
	<p>This callback is mandatory.</p>
      </dd>
      
      <dt><strong><span class="code">int (*close)(void *ctx)</span></strong></dt>
      <dd>
	<p>Close the socket identified by <span class="code">ctx</span> and destroy the context.</p>
	
	<p>This callback is mandatory.</p>
      </dd>
      
      <dt><strong><span class="code">int (*listen)(void *ctx, void *addr, int *len, int backlog)</span></strong></dt>
      <dd>
	<p>Bind the socket identified by <span class="code">ctx</span> to a local interface
	and then listen on it.</p>
	
	<p>The <span class="code">addr</span> and <span class="code">len</span> arguments are both input and output
	arguments. When called <span class="code">addr</span> points to an address structure of
	lenght <span class="code">*len</span> containing information on how to bind the socket.
	Uppon return this callback should have updated the structure referred
	by <span class="code">addr</span> with information on how the socket actually was bound.
	<span class="code">*len</span> should be updated to reflect the size of <span class="code">*addr</span>
	updated. <span class="code">backlog</span> identifies the size of the backlog for the
	listen socket.</p>
	
	<p>This callback is mandatory.</p>
      </dd>
      
      <dt><strong><span class="code">int (*accept)(void **ctx, void *addr, int *len, unsigned tmo)</span></strong></dt>
      <dd>
	<p>Accept connections on the listen socket identified by
	<span class="code">*ctx</span>.</p>

	<p>When a connection is accepted, a new context for the accepted
	connection should be created and <span class="code">*ctx</span> should be updated
	to point to the new context for the accepted connection. When
	called <span class="code">addr</span> points to an uninitialized address structure
	of lenght <span class="code">*len</span>. Uppon return this callback should have
	updated this structure with information about the client address.
	<span class="code">*len</span> should be updated to reflect the size of <span class="code">*addr</span>
	updated.
	</p>

	<p>If the <span class="code">EI_SCLBK_FLG_FULL_IMPL</span> flag has been set,
	<span class="code">tmo</span> contains timeout time in milliseconds.</p>

	<div class="note">
<div class="label">Note</div>
<div class="content"><p><p>During the lifetime of a socket, the pointer <span class="code">*ctx</span>
	<strong>has</strong> to remain the same. That is, it cannot later be
	relocated.</p></p></div>
</div>

	<p>This callback is mandatory.</p>
      </dd>
      
      <dt><strong><span class="code">int (*connect)(void *ctx, void *addr, int len, unsigned tmo)</span></strong></dt>
      <dd>
	<p>Connect the socket identified by <span class="code">ctx</span> to the address
	identified by <span class="code">addr</span>.</p>

	<p>When called <span class="code">addr</span> points to an address structure of
	lenght <span class="code">len</span> containing information on where to connect.</p>

	<p>If the <span class="code">EI_SCLBK_FLG_FULL_IMPL</span> flag has been set,
	<span class="code">tmo</span> contains timeout time in milliseconds.</p>
	
	<p>This callback is mandatory.</p>
      </dd>
      
      <dt><strong><span class="code">int (*writev)(void *ctx, const void *iov, long iovcnt, ssize_t *len, unsigned tmo)</span></strong></dt>
      <dd>
	<p>Write data on the connected socket identified by <span class="code">ctx</span>.</p>

	<p><span class="code">iov</span> points to an array of <span class="code">struct iovec</span> structures of
	length <span class="code">iovcnt</span> containing data to write to the socket. On success,
	this callback should set <span class="code">*len</span> to the amount of bytes successfully
	written on the socket.</p>
	
	<p>If the <span class="code">EI_SCLBK_FLG_FULL_IMPL</span> flag has been set,
	<span class="code">tmo</span> contains timeout time in milliseconds.</p>
	
	<p>This callback is optional. Set the <span class="code">writev</span> field
	in the the <span class="code">ei_socket_callbacks</span> structure to <span class="code">NULL</span> if not
	implemented.</p>
      </dd>
      
      <dt><strong><span class="code">int (*write)(void *ctx, const char *buf, ssize_t *len, unsigned tmo)</span></strong></dt>
      <dd>
	<p>Write data on the connected socket identified by <span class="code">ctx</span>.</p>
	
	<p>When called <span class="code">buf</span> points to a buffer of length <span class="code">*len</span>
	containing the data to write on the socket. On success, this callback
	should set <span class="code">*len</span> to the amount of bytes successfully written on
	the socket.</p>

	<p>If the <span class="code">EI_SCLBK_FLG_FULL_IMPL</span> flag has been set,
	<span class="code">tmo</span> contains timeout time in milliseconds.</p>
	
	<p>This callback is mandatory.</p>
      </dd>
      
      <dt><strong><span class="code">int (*read)(void *ctx, char *buf, ssize_t *len, unsigned tmo)</span></strong></dt>
      <dd>
	<p>Read data on the connected socket identified by <span class="code">ctx</span>.</p>
	
	<p><span class="code">buf</span> points to a buffer of length <span class="code">*len</span> where the
	read data should be placed. On success, this callback should update
	<span class="code">*len</span> to the amount of bytes successfully read on the socket.</p>
	
	<p>If the <span class="code">EI_SCLBK_FLG_FULL_IMPL</span> flag has been set,
	<span class="code">tmo</span> contains timeout time in milliseconds.</p>
	
	<p>This callback is mandatory.</p>
      </dd>
      
      <dt><strong><span class="code">int (*handshake_packet_header_size)(void *ctx, int *sz)</span></strong></dt>
      <dd>
	<p>Inform about handshake packet header size to use during the Erlang
	distribution handshake.</p>

	<p>On success, <span class="code">*sz</span> should be set to the handshake packet header
	size to use. Valid values are <span class="code">2</span> and <span class="code">4</span>. Erlang TCP
	distribution use a handshake packet size of <span class="code">2</span> and Erlang TLS
	distribution use a handshake packet size of <span class="code">4</span>.</p>

	<p>This callback is mandatory.</p>
      </dd>
      
      <dt><strong><span class="code">int (*connect_handshake_complete)(void *ctx)</span></strong></dt>
      <dd>
	<p>Called when a locally started handshake has completed successfully.</p>
	
	<p>This callback is optional. Set the <span class="code">connect_handshake_complete</span> field
	in the <span class="code">ei_socket_callbacks</span> structure to <span class="code">NULL</span> if not implemented.</p>	
      </dd>
      
      <dt><strong><span class="code">int (*accept_handshake_complete)(void *ctx)</span></strong></dt>
      <dd>
	<p>Called when a remotely started handshake has completed successfully.</p>

	<p>This callback is optional. Set the <span class="code">accept_handshake_complete</span> field in
	the <span class="code">ei_socket_callbacks</span> structure to <span class="code">NULL</span> if not implemented.</p>
      </dd>
      
      <dt><strong><span class="code">int (*get_fd)(void *ctx, int *fd)</span></strong></dt>
      <dd>
	<p>Inform about file descriptor used by the socket which is identified
	by <span class="code">ctx</span>.</p>

	<div class="note">
<div class="label">Note</div>
<div class="content"><p><p>During the lifetime of a socket, the file descriptor
	<strong>has</strong> to remain the same. That is, repeated calls to this
	callback with the same context <span class="code">should</span> always report the same
	file descriptor.</p>
	<p>The file descriptor <strong>has</strong> to be a real file descriptor.
	That is, no other operation should be able to get the same file
	descriptor until it has been released by the <span class="code">close()</span>
	callback.</p>
	</p></div>
</div>

	<p>This callback is mandatory.</p>
      </dd>
    </dl>
  </div></section>
  <section class="innertube"><h3 id="data-types" class="title-link" onMouseOver="document.getElementById('ghlink-data-types-idm1859').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-data-types-idm1859').style.visibility = 'hidden';">
<div class="title-name">Data Types</div>
<div class="title-anchors"><span id="ghlink-data-types-idm1859" class="ghlink-after"><a href="#data-types" title="Link to this place!"><span class="paperclip-after"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L338" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-after"></span></a></span></div>
</h3>
<div class="REFBODY rb-3">
    
    <dl>
      <dt><strong><a name="ei_cnode"></a><span class="code">ei_cnode</span></strong></dt>
      <dd><p>
	Opaque data type representing a C-node. A <span class="code">ei_cnode</span>
	structure is initialized by calling
	<span class="bold_code bc-17"><a href="#ei_connect_init"><span class="code">ei_connect_init()</span></a></span>
	or friends.
      </p></dd>

      <dt><strong><a name="ei_socket_callbacks"></a><span class="code">ei_socket_callbacks</span></strong></dt>
      <dd>
<div class="example example-none"><pre>typedef struct {
    int flags;
    int (*socket)(void **ctx, void *setup_ctx);
    int	(*close)(void *ctx);
    int (*listen)(void *ctx, void *addr, int *len, int backlog);
    int (*accept)(void **ctx, void *addr, int *len, unsigned tmo);
    int (*connect)(void *ctx, void *addr, int len, unsigned tmo);
    int (*writev)(void *ctx, const void *iov, int iovcnt, ssize_t *len, unsigned tmo);
    int (*write)(void *ctx, const char *buf, ssize_t *len, unsigned tmo);
    int (*read)(void *ctx, char *buf, ssize_t *len, unsigned tmo);
    int (*handshake_packet_header_size)(void *ctx, int *sz);
    int (*connect_handshake_complete)(void *ctx);
    int (*accept_handshake_complete)(void *ctx);
    int (*get_fd)(void *ctx, int *fd);
} ei_socket_callbacks;</pre></div>
        <p>
	  Callbacks functions for a <span class="bold_code bc-17"><a href="#ussi"><i>User
	  Supplied Socket Implementation</i></a></span>. 
	  <span class="bold_code bc-17"><a href="#ei_socket_callbacks_fields">Documentation
	  of each field</a></span> can be found in the
	  <i>User Supplied Socket Implementation</i> section
	  above.
	</p>

      </dd>

      <dt><strong><a name="ErlConnect"></a><span class="code">ErlConnect</span></strong></dt>
      <dd>
<div class="example example-none"><pre>typedef struct {
    char ipadr[4]; /* Ip v4 address in network byte order */
    char nodename[MAXNODELEN];
} ErlConnect;</pre></div>
      <p>IP v4 address and nodename.</p>
      </dd>

      <dt><strong><a name="Erl_IpAddr"></a><span class="code">Erl_IpAddr</span></strong></dt>
      <dd>
<div class="example example-none"><pre>typedef struct {
    unsigned s_addr; /* Ip v4 address in network byte order */
} Erl_IpAddr;</pre></div>
      <p>IP v4 address.</p>
      </dd>

      <dt><strong><a name="erlang_msg"></a><span class="code">erlang_msg</span></strong></dt>
      <dd>
	<div class="example example-none"><pre>typedef struct {
    long msgtype;
    erlang_pid from;
    erlang_pid to;
    char toname[MAXATOMLEN+1];
    char cookie[MAXATOMLEN+1];
    erlang_trace token;
} erlang_msg;</pre></div>
        <p>Information about a message received via
	<span class="bold_code bc-17"><a href="#ei_receive_msg"><span class="code">ei_receive_msg()</span></a></span>
	or friends.</p>
      </dd>
    </dl>
  </div></section>
  <div class="innertube"><h4 id="exports" class="title-link" onMouseOver="document.getElementById('ghlink-exports-idm1900').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-exports-idm1900').style.visibility = 'hidden';">
<div class="title-name">Exports</div>
<div class="title-anchors"><span id="ghlink-exports-idm1900" class="ghlink-after"><a href="#exports" title="Link to this place!"><span class="paperclip-after"></span></a></span></div>
</h4></div>
<div class="exports-body">
<article class="func"><div class="cref-head bold_code bc-7"><h4 id="ei_gethostbyaddr" class="title-link" onMouseOver="document.getElementById('ghlink-ei_gethostbyaddr-idm1902').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_gethostbyaddr-idm1902').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_gethostbyaddr-idm1902" class="ghlink-before"><a href="#ei_gethostbyaddr" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L412" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">struct hostent *ei_gethostbyaddr(<br>const char *addr,<br>int len,<br>int type)</div>
</h4></div>
<div class="cref-head bold_code bc-7"><h4 id="ei_gethostbyaddr_r" class="title-link" onMouseOver="document.getElementById('ghlink-ei_gethostbyaddr_r-idm1905').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_gethostbyaddr_r-idm1905').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_gethostbyaddr_r-idm1905" class="ghlink-before"><a href="#ei_gethostbyaddr_r" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L412" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">struct hostent *ei_gethostbyaddr_r(<br>const char *addr,<br>int length,<br>int type,<br>struct hostent *hostp,<br>char *buffer,<br>int buflen,<br>int *h_errnop)</div>
</h4></div>
<div class="cref-head bold_code bc-7"><h4 id="ei_gethostbyname" class="title-link" onMouseOver="document.getElementById('ghlink-ei_gethostbyname-idm1908').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_gethostbyname-idm1908').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_gethostbyname-idm1908" class="ghlink-before"><a href="#ei_gethostbyname" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L412" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">struct hostent *ei_gethostbyname(<br>const char *name)</div>
</h4></div>
<div class="cref-head bold_code bc-7"><h4 id="ei_gethostbyname_r" class="title-link" onMouseOver="document.getElementById('ghlink-ei_gethostbyname_r-idm1911').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_gethostbyname_r-idm1911').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_gethostbyname_r-idm1911" class="ghlink-before"><a href="#ei_gethostbyname_r" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L412" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">struct hostent *ei_gethostbyname_r(<br>const char *name,<br>struct hostent *hostp,<br>char *buffer,<br>int buflen,<br>int *h_errnop)</div>
</h4></div>
<div class="exports-tube"><div class="REFBODY rb-7">
        <p>Convenience functions for some common name lookup functions.</p>
      </div></div></article><article class="func"><div class="cref-head bold_code bc-7"><h4 id="ei_accept" class="title-link" onMouseOver="document.getElementById('ghlink-ei_accept-idm1918').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_accept-idm1918').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_accept-idm1918" class="ghlink-before"><a href="#ei_accept" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L424" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_accept(<br>ei_cnode *ec,<br>int listensock,<br>ErlConnect *conp)</div>
</h4></div>
<div class="exports-tube">
<div class="REFBODY rb-5">
<h3 id="types" class="func-types-title">Types</h3>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-17"><a href="#ei_cnode"><span class="code">ei_cnode</span></a></span></span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-17"><a href="#ErlConnect"><span class="code">ErlConnect</span></a></span></span><br>
</div>
      </div>
<div class="REFBODY rb-7">
        <p>Used by a server process to accept a
          connection from a client process.</p>
        <ul>
          <li>
            <p><span class="code">ec</span> is the C-node structure.</p>
          </li>
          <li>
            <p><span class="code">listensock</span> is an open socket descriptor on
              which <span class="code">listen()</span> has previously been called.</p>
          </li>
          <li>
            <p><span class="code">conp</span> is a pointer to an
	    <span class="bold_code bc-17"><a href="#ErlConnect"><span class="code">ErlConnect</span></a></span>
	    struct.</p>
          </li>
        </ul>
        <p>On success, <span class="code">conp</span> is filled in with the address and
          node name of the connecting client and a file descriptor is
          returned. On failure, <span class="code">ERL_ERROR</span> is returned and
          <span class="code">erl_errno</span> is set to <span class="code">EIO</span>.</p>
      </div>
</div></article><article class="func"><div class="cref-head bold_code bc-7"><h4 id="ei_accept_tmo" class="title-link" onMouseOver="document.getElementById('ghlink-ei_accept_tmo-idm1950').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_accept_tmo-idm1950').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_accept_tmo-idm1950" class="ghlink-before"><a href="#ei_accept_tmo" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L455" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_accept_tmo(<br>ei_cnode *ec,<br>int listensock,<br>ErlConnect *conp,<br>unsigned timeout_ms)</div>
</h4></div>
<div class="exports-tube">
<div class="REFBODY rb-5">
<h3 id="types" class="func-types-title">Types</h3>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-17"><a href="#ei_cnode"><span class="code">ei_cnode</span></a></span></span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-17"><a href="#ErlConnect"><span class="code">ErlConnect</span></a></span></span><br>
</div>
      </div>
<div class="REFBODY rb-7">
        <p>Equivalent to
          <span class="code">ei_accept</span> with an optional time-out argument,
          see the description at the beginning of this manual page.</p>
      </div>
</div></article><article class="func"><div class="cref-head bold_code bc-7"><h4 id="ei_close_connection" class="title-link" onMouseOver="document.getElementById('ghlink-ei_close_connection-idm1965').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_close_connection-idm1965').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_close_connection-idm1965" class="ghlink-before"><a href="#ei_close_connection" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L470" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_close_connection(<br>int fd)</div>
<div class="title-since"><span class="since">OTP 21.3</span></div>
</h4></div>
<div class="exports-tube"><div class="REFBODY rb-7">
        <p>Closes a previously opened connection or listen socket.</p>
      </div></div></article><article class="func"><div class="cref-head bold_code bc-7"><h4 id="ei_connect" class="title-link" onMouseOver="document.getElementById('ghlink-ei_connect-idm1972').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_connect-idm1972').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_connect-idm1972" class="ghlink-before"><a href="#ei_connect" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L478" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_connect(<br>ei_cnode* ec,<br>char *nodename)</div>
</h4></div>
<div class="cref-head bold_code bc-7"><h4 id="ei_xconnect" class="title-link" onMouseOver="document.getElementById('ghlink-ei_xconnect-idm1975').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_xconnect-idm1975').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_xconnect-idm1975" class="ghlink-before"><a href="#ei_xconnect" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L478" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_xconnect(<br>ei_cnode* ec,<br>Erl_IpAddr adr,<br>char *alivename)</div>
</h4></div>
<div class="cref-head bold_code bc-7"><h4 id="ei_connect_host_port" class="title-link" onMouseOver="document.getElementById('ghlink-ei_connect_host_port-idm1978').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_connect_host_port-idm1978').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_connect_host_port-idm1978" class="ghlink-before"><a href="#ei_connect_host_port" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L478" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_connect_host_port(<br>ei_cnode* ec,<br>char *hostname,<br>int port)</div>
<div class="title-since"><span class="since">OTP 23.0</span></div>
</h4></div>
<div class="cref-head bold_code bc-7"><h4 id="ei_xconnect_host_port" class="title-link" onMouseOver="document.getElementById('ghlink-ei_xconnect_host_port-idm1981').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_xconnect_host_port-idm1981').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_xconnect_host_port-idm1981" class="ghlink-before"><a href="#ei_xconnect_host_port" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L478" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_xconnect_host_port(<br>ei_cnode* ec,<br>Erl_IpAddr adr,<br>int port)</div>
<div class="title-since"><span class="since">OTP 23.0</span></div>
</h4></div>
<div class="exports-tube">
<div class="REFBODY rb-5">
<h3 id="types" class="func-types-title">Types</h3>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-17"><a href="#ei_cnode"><span class="code">ei_cnode</span></a></span></span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-17"><a href="#Erl_IpAddr"><span class="code">Erl_IpAddr</span></a></span></span><br>
</div>
      </div>
<div class="REFBODY rb-7">
        <p>Sets up a connection to an Erlang node.</p>
        <p><span class="code">ei_xconnect()</span> requires the IP address of the
          remote host and the alive name of the remote node to be
          specified. <span class="code">ei_connect()</span> provides an alternative
          interface and determines the information from the node name
          provided. The <span class="code">ei_xconnect_host_port()</span> function provides
          yet another alternative that will work even if there is no
          EPMD instance on the host where the remote node is running. The
          <span class="code">ei_xconnect_host_port()</span> function requires the IP
          address and port of the remote node to be specified.
          The <span class="code">ei_connect_host_port()</span> function is an alternative
          to <span class="code">ei_xconnect_host_port()</span> that lets the user specify
          a hostname instead of an IP address.</p>
        <ul>
          <li>
<span class="code">adr</span> is the 32-bit IP address of the remote
            host.</li>
          <li>
<span class="code">alive</span> is the alivename of the remote node.
          </li>
          <li>
<span class="code">node</span> is the name of the remote node.</li>
          <li>
<span class="code">port</span> is the port number of the remote node.</li>
        </ul>
        <p>These functions return an open file descriptor on success, or
          a negative value indicating that an error occurred. In the latter
          case they set <span class="code">erl_errno</span> to one of the
          following:</p>
        <dl>
          <dt><strong><span class="code">EHOSTUNREACH</span></strong></dt>
          <dd>The remote host <span class="code">node</span> is unreachable.</dd>
          <dt><strong><span class="code">ENOMEM</span></strong></dt>
          <dd>No more memory is available.</dd>
          <dt><strong><span class="code">EIO</span></strong></dt>
          <dd>I/O error.</dd>
        </dl>
        <p>Also, <span class="code">errno</span> values from
          <span class="code">socket</span><strong>(2)</strong> and
          <span class="code">connect</span><strong>(2)</strong>
          system calls may be propagated into <span class="code">erl_errno</span>.</p>
        <p><strong>Example:</strong></p>
        <div class="example example-none"><pre>#define NODE   "madonna@chivas.du.etx.ericsson.se"
#define ALIVE  "madonna"
#define IP_ADDR "150.236.14.75"

/*** Variant 1 ***/
int fd = ei_connect(&amp;ec, NODE);

/*** Variant 2 ***/
struct in_addr addr;
addr.s_addr = inet_addr(IP_ADDR);
fd = ei_xconnect(&amp;ec, &amp;addr, ALIVE);</pre></div>
      </div>
</div></article><article class="func"><div class="cref-head bold_code bc-7"><h4 id="ei_connect_init" class="title-link" onMouseOver="document.getElementById('ghlink-ei_connect_init-idm2034').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_connect_init-idm2034').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_connect_init-idm2034" class="ghlink-before"><a href="#ei_connect_init" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L543" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_connect_init(<br>ei_cnode* ec,<br>const char* this_node_name,<br>const char *cookie,<br>short creation)</div>
</h4></div>
<div class="cref-head bold_code bc-7"><h4 id="ei_connect_init_ussi" class="title-link" onMouseOver="document.getElementById('ghlink-ei_connect_init_ussi-idm2037').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_connect_init_ussi-idm2037').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_connect_init_ussi-idm2037" class="ghlink-before"><a href="#ei_connect_init_ussi" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L543" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_connect_init_ussi(<br>ei_cnode* ec,<br>const char* this_node_name,<br>const char *cookie,<br>short creation,<br>ei_socket_callbacks *cbs,<br>int cbs_sz,<br>void *setup_context)</div>
<div class="title-since"><span class="since">OTP 21.3</span></div>
</h4></div>
<div class="cref-head bold_code bc-7"><h4 id="ei_connect_xinit" class="title-link" onMouseOver="document.getElementById('ghlink-ei_connect_xinit-idm2040').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_connect_xinit-idm2040').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_connect_xinit-idm2040" class="ghlink-before"><a href="#ei_connect_xinit" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L543" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_connect_xinit(<br>ei_cnode* ec,<br>const char *thishostname,<br>const char *thisalivename,<br>const char *thisnodename,<br>Erl_IpAddr thisipaddr,<br>const char *cookie,<br>short creation)</div>
</h4></div>
<div class="cref-head bold_code bc-7"><h4 id="ei_connect_xinit_ussi" class="title-link" onMouseOver="document.getElementById('ghlink-ei_connect_xinit_ussi-idm2043').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_connect_xinit_ussi-idm2043').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_connect_xinit_ussi-idm2043" class="ghlink-before"><a href="#ei_connect_xinit_ussi" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L543" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_connect_xinit_ussi(<br>ei_cnode* ec,<br>const char *thishostname,<br>const char *thisalivename,<br>const char *thisnodename,<br>Erl_IpAddr thisipaddr,<br>const char *cookie,<br>short creation,<br>ei_socket_callbacks *cbs,<br>int cbs_sz,<br>void *setup_context)</div>
<div class="title-since"><span class="since">OTP 21.3</span></div>
</h4></div>
<div class="exports-tube">
<div class="REFBODY rb-5">
<h3 id="types" class="func-types-title">Types</h3>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-17"><a href="#ei_cnode"><span class="code">ei_cnode</span></a></span></span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-17"><a href="#Erl_IpAddr"><span class="code">Erl_IpAddr</span></a></span></span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-17"><a href="#ei_socket_callbacks"><span class="code">ei_socket_callbacks</span></a></span></span><br>
</div>
      </div>
<div class="REFBODY rb-7">
        <p>Initializes the <span class="code">ec</span> structure, to
          identify the node name and cookie of the server. One of them
          must be called before other functions that works on the
          <span class="code">ei_cnode</span> type or a file descriptor associated with
          a connection to another node is used.</p>
        <ul>
          <li>
            <p><span class="code">ec</span> is a structure containing information about
              the C-node. It is used in other <span class="code">ei</span> functions
              for connecting and receiving data.</p>
          </li>
          <li>
            <p><span class="code">this_node_name</span> is the name of the C-node
              (the name before '@' in the full node name).</p>
          </li>
          <li>
            <p><span class="code">cookie</span> is the cookie for the node.</p>
          </li>
          <li>
            <p><span class="code">creation</span> identifies a specific instance of a
              C-node. It can help prevent the node from receiving messages
              sent to an earlier process with the same registered name.</p>
          </li>
          <li>
            <p><span class="code">thishostname</span> is the name of the machine we are
              running on. If long names are to be used, they are to be fully
              qualified (that is, <span class="code">durin.erix.ericsson.se</span>
              instead of <span class="code">durin</span>).</p>
          </li>
          <li>
            <p><span class="code">thisalivename</span> is the name of the local C-node (the name
	    before '@' in the full node name). Can be <span class="code">NULL</span> (from OTP 23)
	    to get a dynamically assigned name from the peer node.</p>
          </li>
          <li>
            <p><span class="code">thisnodename</span> is the full name of the local C-node,
              that is, <span class="code">mynode@myhost</span>. Can be <span class="code">NULL</span> if
	      <span class="code">thisalivename</span> is <span class="code">NULL</span>.</p>
          </li>
          <li>
            <p><span class="code">thispaddr</span> if the IP address of the host.</p>
          </li>
	  <li>
	    <p><span class="code">cbs</span> is a pointer to a
	    <span class="bold_code bc-17"><a href="#ei_socket_callbacks">callback structure</a></span>
	    implementing and alternative socket interface.</p>
	  </li>
	  <li>
	    <p><span class="code">cbs_sz</span> is the size of the structure
	    pointed to by <span class="code">cbs</span>.</p>
	  </li>
	  <li>
	    <p><span class="code">setup_context</span> is a pointer to a structure that
	    will be passed as second argument to the <span class="code">socket</span> callback
	    in the <span class="code">cbs</span> structure.</p>
	  </li>

        </ul>
        <p>A C-node acting as a server is assigned a creation
          number when it calls <span class="code">ei_publish()</span>.</p>
        <p>A connection is closed by simply closing the socket.
          For information about how to close the socket gracefully (when
          there are outgoing packets before close), see the relevant system
          documentation.</p>
        <p>These functions return a negative value indicating that an error
          occurred.</p>
        <p><strong>Example 1:</strong></p>
        <div class="example example-none"><pre>int n = 0;
struct in_addr addr;
ei_cnode ec;
addr.s_addr = inet_addr("150.236.14.75");
if (ei_connect_xinit(&amp;ec,
                     "chivas",
                     "madonna",
                     "madonna@chivas.du.etx.ericsson.se",
                     &amp;addr;
                     "cookie...",
                     n++) &lt; 0) {
    fprintf(stderr,"ERROR when initializing: %d",erl_errno);
    exit(-1);
}</pre></div>
        <p><strong>Example 2:</strong></p>
        <div class="example example-none"><pre>if (ei_connect_init(&amp;ec, "madonna", "cookie...", n++) &lt; 0) {
    fprintf(stderr,"ERROR when initializing: %d",erl_errno);
    exit(-1);
}</pre></div>
      </div>
</div></article><article class="func"><div class="cref-head bold_code bc-7"><h4 id="ei_connect_tmo" class="title-link" onMouseOver="document.getElementById('ghlink-ei_connect_tmo-idm2118').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_connect_tmo-idm2118').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_connect_tmo-idm2118" class="ghlink-before"><a href="#ei_connect_tmo" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L648" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_connect_tmo(<br>ei_cnode* ec,<br>char *nodename,<br>unsigned timeout_ms)</div>
</h4></div>
<div class="cref-head bold_code bc-7"><h4 id="ei_xconnect_tmo" class="title-link" onMouseOver="document.getElementById('ghlink-ei_xconnect_tmo-idm2121').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_xconnect_tmo-idm2121').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_xconnect_tmo-idm2121" class="ghlink-before"><a href="#ei_xconnect_tmo" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L648" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_xconnect_tmo(<br>ei_cnode* ec,<br>Erl_IpAddr adr,<br>char *alivename,<br>unsigned timeout_ms)</div>
</h4></div>
<div class="cref-head bold_code bc-7"><h4 id="ei_connect_host_port_tmo" class="title-link" onMouseOver="document.getElementById('ghlink-ei_connect_host_port_tmo-idm2124').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_connect_host_port_tmo-idm2124').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_connect_host_port_tmo-idm2124" class="ghlink-before"><a href="#ei_connect_host_port_tmo" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L648" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_connect_host_port_tmo(<br>ei_cnode* ec,<br>char *hostname,<br>int port,<br>unsigned ms)</div>
<div class="title-since"><span class="since">OTP 23.0</span></div>
</h4></div>
<div class="cref-head bold_code bc-7"><h4 id="ei_xconnect_host_port_tmo" class="title-link" onMouseOver="document.getElementById('ghlink-ei_xconnect_host_port_tmo-idm2127').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_xconnect_host_port_tmo-idm2127').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_xconnect_host_port_tmo-idm2127" class="ghlink-before"><a href="#ei_xconnect_host_port_tmo" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L648" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_xconnect_host_port_tmo(<br>ei_cnode* ec,<br>Erl_IpAddr adr,<br>int port,<br>unsigned ms)</div>
<div class="title-since"><span class="since">OTP 23.0</span></div>
</h4></div>
<div class="exports-tube">
<div class="REFBODY rb-5">
<h3 id="types" class="func-types-title">Types</h3>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-17"><a href="#ei_cnode"><span class="code">ei_cnode</span></a></span></span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-17"><a href="#Erl_IpAddr"><span class="code">Erl_IpAddr</span></a></span></span><br>
</div>
      </div>
<div class="REFBODY rb-7">
        <p>Equivalent to <span class="code">ei_connect</span>, <span class="code">ei_xconnect</span>,
        <span class="code">ei_connect_host_port</span> and
        <span class="code">ei_xconnect_host_port</span> with an optional time-out
        argument, see the description at the beginning of this manual
        page.</p>
      </div>
</div></article><article class="func"><div class="cref-head bold_code bc-7"><h4 id="ei_get_tracelevel" class="title-link" onMouseOver="document.getElementById('ghlink-ei_get_tracelevel-idm2145').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_get_tracelevel-idm2145').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_get_tracelevel-idm2145" class="ghlink-before"><a href="#ei_get_tracelevel" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L668" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_get_tracelevel(void)</div>
<div class="title-since"><span class="since">OTP R13B04</span></div>
</h4></div>
<div class="cref-head bold_code bc-7"><h4 id="ei_set_tracelevel" class="title-link" onMouseOver="document.getElementById('ghlink-ei_set_tracelevel-idm2148').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_set_tracelevel-idm2148').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_set_tracelevel-idm2148" class="ghlink-before"><a href="#ei_set_tracelevel" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L668" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">void ei_set_tracelevel(<br>int level)</div>
<div class="title-since"><span class="since">OTP R13B04</span></div>
</h4></div>
<div class="exports-tube"><div class="REFBODY rb-7">
        <p>Used to set tracing on the distribution. The levels are different
          verbosity levels. A higher level means more information. See also
          section <span class="bold_code bc-17"><a href="#debug_information">
          Debug Information</a></span>.</p>
	<p>These functions are not thread safe.</p>
      </div></div></article><article class="func"><div class="cref-head bold_code bc-7"><h4 id="ei_listen" class="title-link" onMouseOver="document.getElementById('ghlink-ei_listen-idm2157').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_listen-idm2157').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_listen-idm2157" class="ghlink-before"><a href="#ei_listen" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L681" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_listen(<br>ei_cnode *ec,<br>int *port,<br>int backlog)</div>
<div class="title-since"><span class="since">OTP 21.3</span></div>
</h4></div>
<div class="cref-head bold_code bc-7"><h4 id="ei_xlisten" class="title-link" onMouseOver="document.getElementById('ghlink-ei_xlisten-idm2160').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_xlisten-idm2160').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_xlisten-idm2160" class="ghlink-before"><a href="#ei_xlisten" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L681" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_xlisten(<br>ei_cnode *ec,<br>Erl_IpAddr adr,<br>int *port,<br>int backlog)</div>
<div class="title-since"><span class="since">OTP 21.3</span></div>
</h4></div>
<div class="exports-tube">
<div class="REFBODY rb-5">
<h3 id="types" class="func-types-title">Types</h3>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-17"><a href="#ei_cnode"><span class="code">ei_cnode</span></a></span></span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-17"><a href="#Erl_IpAddr"><span class="code">Erl_IpAddr</span></a></span></span><br>
</div>
      </div>
<div class="REFBODY rb-7">
        <p>Used by a server process to setup a listen socket which
	later can be used for accepting connections from client processes.
	</p>
        <ul>
          <li>
            <p><span class="code">ec</span> is the C-node structure.</p>
          </li>
	  <li>
	    <p><span class="code">adr</span> is local interface to bind to.</p>
	  </li>
          <li>
            <p><span class="code">port</span> is a pointer to an integer containing the
	    port number to bind to. If <span class="code">*port</span> equals <span class="code">0</span>
	    when calling <span class="code">ei_listen()</span>, the socket will be bound to
	    an ephemeral port. On success, <span class="code">ei_listen()</span> will update
	    the value of <span class="code">*port</span> to the port actually bound to.
	    </p>
          </li>
          <li>
            <p><span class="code">backlog</span> is maximum backlog of pending connections.</p>
          </li>
        </ul>
	<p><span class="code">ei_listen</span> will create a socket, bind to a port on the
	local interface identified by <span class="code">adr</span> (or all local interfaces if
	<span class="code">ei_listen()</span> is called), and mark the socket as a passive socket
	(that is, a socket that will be used for accepting incoming connections).
	</p>
	<p>
	  On success, a file descriptor is returned which can be used in a call to
	  <span class="code">ei_accept()</span>. On failure, <span class="code">ERL_ERROR</span> is returned and
        <span class="code">erl_errno</span> is set to <span class="code">EIO</span>.</p>
      </div>
</div></article><article class="func"><div class="cref-head bold_code bc-7"><h4 id="ei_make_pid" class="title-link" onMouseOver="document.getElementById('ghlink-ei_make_pid-idm2201').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_make_pid-idm2201').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_make_pid-idm2201" class="ghlink-before"><a href="#ei_make_pid" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L724" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_make_pid(<br>ei_cnode *ec,<br>erlang_pid *pid)</div>
<div class="title-since"><span class="since">OTP 23.0</span></div>
</h4></div>
<div class="exports-tube">
<div class="REFBODY rb-5">
<h3 id="types" class="func-types-title">Types</h3>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-17"><a href="#ei_cnode"><span class="code">ei_cnode</span></a></span></span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-15"><a href="ei.html#erlang_pid"><span class="code">erlang_pid</span></a></span></span><br>
</div>
      </div>
<div class="REFBODY rb-7">
	<p>
	  Creates a new process identifier in the argument <span class="code">pid</span>. This process identifier
	  refers to a conseptual process residing on the C-node identified by the argument
	  <span class="code">ec</span>. On success <span class="code">0</span> is returned. On failure <span class="code">ERL_ERROR</span> is
	  returned and <span class="code">erl_errno</span> is set.
	</p>
	<p>
	  The C-node identified by <span class="code">ec</span> must have been initialized and must have
	  received a name prior to the call to <span class="code">ei_make_pid()</span>. Initialization
	  of the C-node is done by a call to
	  <span class="bold_code bc-17"><a href="#ei_connect_init"><span class="code">ei_connect_init()</span></a></span>
	  or friends. If the name is dynamically assigned from the peer node, the
	  C-node also has to be connected.
	</p>
      </div>
</div></article><article class="func"><div class="cref-head bold_code bc-7"><h4 id="ei_make_ref" class="title-link" onMouseOver="document.getElementById('ghlink-ei_make_ref-idm2225').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_make_ref-idm2225').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_make_ref-idm2225" class="ghlink-before"><a href="#ei_make_ref" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L749" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_make_ref(<br>ei_cnode *ec,<br>erlang_ref *ref)</div>
<div class="title-since"><span class="since">OTP 23.0</span></div>
</h4></div>
<div class="exports-tube">
<div class="REFBODY rb-5">
<h3 id="types" class="func-types-title">Types</h3>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-17"><a href="#ei_cnode"><span class="code">ei_cnode</span></a></span></span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-15"><a href="ei.html#erlang_ref"><span class="code">erlang_ref</span></a></span></span><br>
</div>
      </div>
<div class="REFBODY rb-7">
	<p>
	  Creates a new reference in the argument <span class="code">ref</span>. This reference originates
	  from the C-node identified by the argument <span class="code">ec</span>. On success <span class="code">0</span> is
	  returned. On failure <span class="code">ERL_ERROR</span> is returned and <span class="code">erl_errno</span> is set.
	</p>
	<p>
	  The C-node identified by <span class="code">ec</span> must have been initialized and must have
	  received a name prior to the call to <span class="code">ei_make_ref()</span>. Initialization
	  of the C-node is done by a call to
	  <span class="bold_code bc-17"><a href="#ei_connect_init"><span class="code">ei_connect_init()</span></a></span>
	  or friends. If the name is dynamically assigned from the peer node, the
	  C-node also has to be connected.
	</p>
      </div>
</div></article><article class="func"><div class="cref-head bold_code bc-7"><h4 id="ei_publish" class="title-link" onMouseOver="document.getElementById('ghlink-ei_publish-idm2249').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_publish-idm2249').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_publish-idm2249" class="ghlink-before"><a href="#ei_publish" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L773" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_publish(<br>ei_cnode *ec,<br>int port)</div>
</h4></div>
<div class="exports-tube">
<div class="REFBODY rb-5">
<h3 id="types" class="func-types-title">Types</h3>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-17"><a href="#ei_cnode"><span class="code">ei_cnode</span></a></span></span><br>
</div>
      </div>
<div class="REFBODY rb-7">
        <p>Used by a server process to register
          with the local name server EPMD, thereby allowing
          other processes to send messages by using the registered name.
          Before calling either of these functions, the process should
          have called <span class="code">bind()</span> and <span class="code">listen()</span>
          on an open socket.</p>
        <ul>
          <li>
            <p><span class="code">ec</span> is the C-node structure.</p>
          </li>
          <li>
            <p><span class="code">port</span> is the local name to register, and is to
              be the same as the port number that was previously bound to the
              socket.</p>
          </li>
          <li>
            <p><span class="code">addr</span> is the 32-bit IP address of the local
              host.</p>
          </li>
        </ul>
        <p>To unregister with EPMD, simply close the returned descriptor. Do
          not use <span class="code">ei_unpublish()</span>, which is deprecated
          anyway.</p>
        <p>On success, the function returns a descriptor connecting the
          calling process to EPMD. On failure, <span class="code">-1</span> is returned and
          <span class="code">erl_errno</span> is set to <span class="code">EIO</span>.</p>
        <p>Also, <span class="code">errno</span> values from
          <span class="code">socket</span><strong>(2)</strong> and
          <span class="code">connect</span><strong>(2)</strong> system calls may be propagated
          into <span class="code">erl_errno</span>.</p>
      </div>
</div></article><article class="func"><div class="cref-head bold_code bc-7"><h4 id="ei_publish_tmo" class="title-link" onMouseOver="document.getElementById('ghlink-ei_publish_tmo-idm2285').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_publish_tmo-idm2285').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_publish_tmo-idm2285" class="ghlink-before"><a href="#ei_publish_tmo" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L813" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_publish_tmo(<br>ei_cnode *ec,<br>int port,<br>unsigned timeout_ms)</div>
</h4></div>
<div class="exports-tube">
<div class="REFBODY rb-5">
<h3 id="types" class="func-types-title">Types</h3>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-17"><a href="#ei_cnode"><span class="code">ei_cnode</span></a></span></span><br>
</div>
      </div>
<div class="REFBODY rb-7">
        <p>Equivalent to
          <span class="code">ei_publish</span> with an optional time-out argument,
          see the description at the beginning of this manual page.</p>
      </div>
</div></article><article class="func"><div class="cref-head bold_code bc-7"><h4 id="ei_receive" class="title-link" onMouseOver="document.getElementById('ghlink-ei_receive-idm2297').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_receive-idm2297').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_receive-idm2297" class="ghlink-before"><a href="#ei_receive" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L826" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_receive(<br>int fd,<br>unsigned char* bufp,<br>int bufsize)</div>
</h4></div>
<div class="exports-tube"><div class="REFBODY rb-7">
        <p>Receives a message consisting of a sequence
          of bytes in the Erlang external format.</p>
        <ul>
          <li>
            <p><span class="code">fd</span> is an open descriptor to an Erlang
              connection. It is obtained from a previous
              <span class="code">ei_connect</span> or <span class="code">ei_accept</span>.</p>
          </li>
          <li>
            <p><span class="code">bufp</span> is a buffer large enough to hold the
              expected message.</p>
          </li>
          <li>
            <p><span class="code">bufsize</span> indicates the size of
              <span class="code">bufp</span>.</p>
          </li>
        </ul>
        <p>If a <strong>tick</strong> occurs, that is, the Erlang node on the
          other end of the connection has polled this node to see if it
          is still alive, the function returns <span class="code">ERL_TICK</span> and
          no message is placed in the buffer. Also,
          <span class="code">erl_errno</span> is set to <span class="code">EAGAIN</span>.</p>
        <p>On success, the message is placed in the specified buffer
          and the function returns the number of bytes actually read. On
          failure, the function returns <span class="code">ERL_ERROR</span> and sets
          <span class="code">erl_errno</span> to one of the following:</p>
        <dl>
          <dt><strong><span class="code">EAGAIN</span></strong></dt>
          <dd>Temporary error: Try again.</dd>
          <dt><strong><span class="code">EMSGSIZE</span></strong></dt>
          <dd>Buffer is too small.</dd>
          <dt><strong><span class="code">EIO</span></strong></dt>
          <dd>I/O error.</dd>
        </dl>
      </div></div></article><article class="func"><div class="cref-head bold_code bc-7"><h4 id="ei_receive_encoded" class="title-link" onMouseOver="document.getElementById('ghlink-ei_receive_encoded-idm2335').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_receive_encoded-idm2335').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_receive_encoded-idm2335" class="ghlink-before"><a href="#ei_receive_encoded" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L867" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_receive_encoded(<br>int fd,<br>char **mbufp,<br>int *bufsz,<br>erlang_msg *msg,<br>int *msglen)</div>
</h4></div>
<div class="exports-tube">
<div class="REFBODY rb-5">
<h3 id="types" class="func-types-title">Types</h3>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-17"><a href="#erlang_msg"><span class="code">erlang_msg</span></a></span></span><br>
</div>
      </div>
<div class="REFBODY rb-7">
        <p>This function is retained for compatibility with code
          generated by the interface compiler and with code following
          examples in the same application.</p>
        <p>In essence, the function performs the same operation as
          <span class="code">ei_xreceive_msg</span>, but instead of using an
          <span class="code">ei_x_buff</span>, the function expects a pointer to a character
          pointer (<span class="code">mbufp</span>), where the character pointer
          is to point to a memory area allocated by <span class="code">malloc</span>.
          Argument <span class="code">bufsz</span> is to be a pointer to an integer
          containing the exact size (in bytes) of the memory area. The function
          may reallocate the memory area and will in such cases put the new
          size in <span class="code">*bufsz</span> and update
          <span class="code">*mbufp</span>.</p>
        <p>Returns either <span class="code">ERL_TICK</span> or the
          <span class="code">msgtype</span> field of the
          <span class="code">erlang_msg *msg</span>. The length
          of the message is put in <span class="code">*msglen</span>. On error
          a value <span class="code">&lt; 0</span> is returned.</p>
        <p>It is recommended to use <span class="code">ei_xreceive_msg</span> instead when
          possible, for the sake of readability. However, the function will
          be retained in the interface for compatibility and
          will <strong>not</strong> be removed in future releases without prior
          notice.</p>
      </div>
</div></article><article class="func"><div class="cref-head bold_code bc-7"><h4 id="ei_receive_encoded_tmo" class="title-link" onMouseOver="document.getElementById('ghlink-ei_receive_encoded_tmo-idm2363').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_receive_encoded_tmo-idm2363').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_receive_encoded_tmo-idm2363" class="ghlink-before"><a href="#ei_receive_encoded_tmo" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L900" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_receive_encoded_tmo(<br>int fd,<br>char **mbufp,<br>int *bufsz,<br>erlang_msg *msg,<br>int *msglen,<br>unsigned timeout_ms)</div>
</h4></div>
<div class="exports-tube">
<div class="REFBODY rb-5">
<h3 id="types" class="func-types-title">Types</h3>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-17"><a href="#erlang_msg"><span class="code">erlang_msg</span></a></span></span><br>
</div>
      </div>
<div class="REFBODY rb-7">
        <p>Equivalent to
          <span class="code">ei_receive_encoded</span> with an optional time-out argument,
          see the description at the beginning of this manual page.</p>
      </div>
</div></article><article class="func"><div class="cref-head bold_code bc-7"><h4 id="ei_receive_msg" class="title-link" onMouseOver="document.getElementById('ghlink-ei_receive_msg-idm2375').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_receive_msg-idm2375').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_receive_msg-idm2375" class="ghlink-before"><a href="#ei_receive_msg" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L914" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_receive_msg(<br>int fd,<br>erlang_msg* msg,<br>ei_x_buff* x)</div>
</h4></div>
<div class="cref-head bold_code bc-7"><h4 id="ei_xreceive_msg" class="title-link" onMouseOver="document.getElementById('ghlink-ei_xreceive_msg-idm2378').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_xreceive_msg-idm2378').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_xreceive_msg-idm2378" class="ghlink-before"><a href="#ei_xreceive_msg" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L914" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_xreceive_msg(<br>int fd,<br>erlang_msg* msg,<br>ei_x_buff* x)</div>
</h4></div>
<div class="exports-tube">
<div class="REFBODY rb-5">
<h3 id="types" class="func-types-title">Types</h3>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-15"><a href="ei.html#ei_x_buff"><span class="code">ei_x_buff</span></a></span></span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-17"><a href="#erlang_msg"><span class="code">erlang_msg</span></a></span></span><br>
</div>
      </div>
<div class="REFBODY rb-7">
        <p>Receives a message to the buffer in <span class="code">x</span>.
          <span class="code">ei_xreceive_msg</span> allows the buffer in
          <span class="code">x</span> to grow, but <span class="code">ei_receive_msg</span>
          fails if the message is larger than the pre-allocated buffer in
          <span class="code">x</span>.</p>
        <ul>
          <li>
<span class="code">fd</span> is an open descriptor to an Erlang
            connection.</li>
          <li>
<span class="code">msg</span> is a pointer to an
            <span class="code">erlang_msg</span> structure
            and contains information on the message received.</li>
          <li>
<span class="code">x</span> is buffer obtained from
            <span class="code">ei_x_new</span>.</li>
        </ul>
        <p>On success, the functions return <span class="code">ERL_MSG</span> and the
        <span class="bold_code bc-17"><a href="#erlang_msg"><span class="code">msg</span></a></span> struct
	is initialized.</p>
        <p><span class="code">msgtype</span> identifies the type of message, and is
          one of the following:</p>
        <dl>
          <dt><strong><span class="code">ERL_SEND</span></strong></dt>
          <dd>
            <p>Indicates that an ordinary send operation has occurred.
              <span class="code">msg-&gt;to</span> contains the pid of the recipient (the
              C-node).</p>
          </dd>
          <dt><strong><span class="code">ERL_REG_SEND</span></strong></dt>
          <dd>
            <p>A registered send operation occurred.
              <span class="code">msg-&gt;from</span> contains the pid of the sender.</p>
          </dd>
          <dt><strong><span class="code">ERL_LINK</span> or
            <span class="code">ERL_UNLINK</span></strong></dt>
          <dd>
            <p><span class="code">msg-&gt;to</span> and
              <span class="code">msg-&gt;from</span> contain the pids of the
              sender and recipient of the link or unlink.</p>
          </dd>
          <dt><strong><span class="code">ERL_EXIT</span></strong></dt>
          <dd>
            <p>Indicates a broken link. <span class="code">msg-&gt;to</span> and
              <span class="code">msg-&gt;from</span> contain the pids of the linked
               processes.</p>
          </dd>
        </dl>
        <p>The return value is the same as for
          <span class="bold_code bc-17"><a href="#ei_receive"><span class="code">ei_receive</span></a></span>.</p>
      </div>
</div></article><article class="func"><div class="cref-head bold_code bc-7"><h4 id="ei_receive_msg_tmo" class="title-link" onMouseOver="document.getElementById('ghlink-ei_receive_msg_tmo-idm2439').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_receive_msg_tmo-idm2439').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_receive_msg_tmo-idm2439" class="ghlink-before"><a href="#ei_receive_msg_tmo" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L973" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_receive_msg_tmo(<br>int fd,<br>erlang_msg* msg,<br>ei_x_buff* x,<br>unsigned imeout_ms)</div>
</h4></div>
<div class="cref-head bold_code bc-7"><h4 id="ei_xreceive_msg_tmo" class="title-link" onMouseOver="document.getElementById('ghlink-ei_xreceive_msg_tmo-idm2442').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_xreceive_msg_tmo-idm2442').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_xreceive_msg_tmo-idm2442" class="ghlink-before"><a href="#ei_xreceive_msg_tmo" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L973" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_xreceive_msg_tmo(<br>int fd,<br>erlang_msg* msg,<br>ei_x_buff* x,<br>unsigned timeout_ms)</div>
</h4></div>
<div class="exports-tube">
<div class="REFBODY rb-5">
<h3 id="types" class="func-types-title">Types</h3>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-15"><a href="ei.html#ei_x_buff"><span class="code">ei_x_buff</span></a></span></span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-17"><a href="#erlang_msg"><span class="code">erlang_msg</span></a></span></span><br>
</div>
      </div>
<div class="REFBODY rb-7">
        <p>Equivalent to <span class="code">ei_receive_msg</span> and <span class="code">ei_xreceive_msg</span>
          with an optional time-out argument,
          see the description at the beginning of this manual page.</p>
      </div>
</div></article><article class="func"><div class="cref-head bold_code bc-7"><h4 id="ei_receive_tmo" class="title-link" onMouseOver="document.getElementById('ghlink-ei_receive_tmo-idm2458').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_receive_tmo-idm2458').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_receive_tmo-idm2458" class="ghlink-before"><a href="#ei_receive_tmo" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L988" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_receive_tmo(<br>int fd,<br>unsigned char* bufp,<br>int bufsize,<br>unsigned timeout_ms)</div>
</h4></div>
<div class="exports-tube"><div class="REFBODY rb-7">
        <p>Equivalent to
          <span class="code">ei_receive</span> with an optional time-out argument,
          see the description at the beginning of this manual page.</p>
      </div></div></article><article class="func"><div class="cref-head bold_code bc-7"><h4 id="ei_reg_send" class="title-link" onMouseOver="document.getElementById('ghlink-ei_reg_send-idm2466').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_reg_send-idm2466').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_reg_send-idm2466" class="ghlink-before"><a href="#ei_reg_send" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L998" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_reg_send(<br>ei_cnode* ec,<br>int fd,<br>char* server_name,<br>char* buf,<br>int len)</div>
</h4></div>
<div class="exports-tube">
<div class="REFBODY rb-5">
<h3 id="types" class="func-types-title">Types</h3>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-17"><a href="#ei_cnode"><span class="code">ei_cnode</span></a></span></span><br>
</div>
      </div>
<div class="REFBODY rb-7">
        <p>Sends an Erlang term to a registered process.</p>
        <ul>
          <li>
            <p><span class="code">fd</span> is an open descriptor to an Erlang
              connection.</p>
          </li>
          <li>
<span class="code">server_name</span> is the registered name of the
            intended recipient.</li>
          <li>
<span class="code">buf</span> is the buffer containing the term in
            binary format.</li>
          <li>
<span class="code">len</span> is the length of the message in bytes.
          </li>
        </ul>
        <p>Returns <span class="code">0</span> if successful, otherwise <span class="code">-1</span>. In
          the latter case it sets <span class="code">erl_errno</span> to
          <span class="code">EIO</span>.</p>
        <p><strong>Example:</strong></p>
        <p>Send the atom "ok" to the process "worker":</p>
        <div class="example example-none"><pre>ei_x_buff x;
ei_x_new_with_version(&amp;x);
ei_x_encode_atom(&amp;x, "ok");
if (ei_reg_send(&amp;ec, fd, x.buff, x.index) &lt; 0)
    handle_error();</pre></div>
      </div>
</div></article><article class="func"><div class="cref-head bold_code bc-7"><h4 id="ei_reg_send_tmo" class="title-link" onMouseOver="document.getElementById('ghlink-ei_reg_send_tmo-idm2496').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_reg_send_tmo-idm2496').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_reg_send_tmo-idm2496" class="ghlink-before"><a href="#ei_reg_send_tmo" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L1033" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_reg_send_tmo(<br>ei_cnode* ec,<br>int fd,<br>char* server_name,<br>char* buf,<br>int len,<br>unsigned timeout_ms)</div>
</h4></div>
<div class="exports-tube">
<div class="REFBODY rb-5">
<h3 id="types" class="func-types-title">Types</h3>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-17"><a href="#ei_cnode"><span class="code">ei_cnode</span></a></span></span><br>
</div>
      </div>
<div class="REFBODY rb-7">
        <p>Equivalent to
          <span class="code">ei_reg_send</span> with an optional time-out argument,
          see the description at the beginning of this manual page.</p>
      </div>
</div></article><article class="func"><div class="cref-head bold_code bc-7"><h4 id="ei_rpc" class="title-link" onMouseOver="document.getElementById('ghlink-ei_rpc-idm2508').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_rpc-idm2508').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_rpc-idm2508" class="ghlink-before"><a href="#ei_rpc" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L1047" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_rpc(<br>ei_cnode *ec,<br>int fd,<br>char *mod,<br>char *fun,<br>const char *argbuf,<br>int argbuflen,<br>ei_x_buff *x)</div>
</h4></div>
<div class="cref-head bold_code bc-7"><h4 id="ei_rpc_to" class="title-link" onMouseOver="document.getElementById('ghlink-ei_rpc_to-idm2511').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_rpc_to-idm2511').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_rpc_to-idm2511" class="ghlink-before"><a href="#ei_rpc_to" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L1047" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_rpc_to(<br>ei_cnode *ec,<br>int fd,<br>char *mod,<br>char *fun,<br>const char *argbuf,<br>int argbuflen)</div>
</h4></div>
<div class="cref-head bold_code bc-7"><h4 id="ei_xrpc_to" class="title-link" onMouseOver="document.getElementById('ghlink-ei_xrpc_to-idm2514').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_xrpc_to-idm2514').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_xrpc_to-idm2514" class="ghlink-before"><a href="#ei_xrpc_to" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L1047" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_xrpc_to(<br>ei_cnode *ec,<br>int fd,<br>char *mod,<br>char *fun,<br>const char *argbuf,<br>int argbuflen,<br>int flags)</div>
<div class="title-since"><span class="since">OTP 24.0</span></div>
</h4></div>
<div class="cref-head bold_code bc-7"><h4 id="ei_rpc_from" class="title-link" onMouseOver="document.getElementById('ghlink-ei_rpc_from-idm2517').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_rpc_from-idm2517').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_rpc_from-idm2517" class="ghlink-before"><a href="#ei_rpc_from" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L1047" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_rpc_from(<br>ei_cnode *ec,<br>int fd,<br>int timeout,<br>erlang_msg *msg,<br>ei_x_buff *x)</div>
</h4></div>
<div class="exports-tube">
<div class="REFBODY rb-5">
<h3 id="types" class="func-types-title">Types</h3>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-17"><a href="#ei_cnode"><span class="code">ei_cnode</span></a></span></span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-15"><a href="ei.html#ei_x_buff"><span class="code">ei_x_buff</span></a></span></span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-17"><a href="#erlang_msg"><span class="code">erlang_msg</span></a></span></span><br>
</div>
      </div>
<div class="REFBODY rb-7">
        <p>
          Supports calling Erlang functions on remote nodes.
          <span class="code">ei_rpc_to()</span> sends an RPC request to a remote node and
          <span class="code">ei_rpc_from()</span> receives the results of such a
          call. <span class="code">ei_rpc()</span> combines the functionality of these two
          functions by sending an RPC request and waiting for the
          results.
        </p>
        <p>
          The <span class="code">ei_xrpc_to()</span> function is equivalent to
          <span class="code">ei_rpc_to()</span> when its <span class="code">flags</span> parameter is set to
          <span class="code">0</span>. When the flags parameter of <span class="code">ei_xrpc_to()</span> is
          set to <span class="code">EI_RPC_FETCH_STDOUT</span>, stdout (standard output)
          data are forwarded. See the documentation for the flags
          parameter for more information about the
          <span class="code">EI_RPC_FETCH_STDOUT</span> flag.
        </p>
        <p>
        <span class="bold_code bc-13"><a href="rpc.html#call-4"><span class="code">rpc:call/4</span></a></span>
        in Kernel.
        </p>
        <ul>
          <li>
            <p><span class="code">ec</span> is the C-node structure previously
              initiated by a call to <span class="code">ei_connect_init()</span> or
              <span class="code">ei_connect_xinit()</span>.</p>
          </li>
          <li>
            <p><span class="code">fd</span> is an open descriptor to an Erlang
              connection.</p>
          </li>
          <li>
            <p><span class="code">timeout</span> is the maximum time (in milliseconds)
              to wait for results. Specify <span class="code">ERL_NO_TIMEOUT</span> to
              wait forever.
              <span class="code">ei_rpc()</span> waits infinitely for the answer,
              that is, the call will never time out.</p>
          </li>
          <li>
            <p><span class="code">mod</span> is the name of the module containing the
              function to be run on the remote node.</p>
          </li>
          <li>
            <p><span class="code">fun</span> is the name of the function to run.</p>
          </li>
          <li>
            <p><span class="code">argbuf</span> is a pointer to a buffer with an
              encoded Erlang list, without a version magic number, containing
              the arguments to be passed to the function.</p>
          </li>
          <li>
            <p><span class="code">argbuflen</span> is the length of the buffer
              containing the encoded Erlang list.</p>
          </li>
          <li>
            <p><span class="code">msg</span> is structure of type
              <span class="code">erlang_msg</span> and contains information on the
              message
              received. For a description of the <span class="code">erlang_msg</span>
              format, see <span class="bold_code bc-17"><a href="#ei_receive_msg">
              <span class="code">ei_receive_msg</span></a></span>.</p>
          </li>
          <li>
            <p><span class="code">x</span> points to the dynamic buffer that receives the
            result. For <span class="code">ei_rpc()</span> this is the result without the
            version magic number. For an <span class="code">ei_rpc_from()</span> call the
            result consists of a version magic number and a 2-tuple.
            The 2-tuple can be in one of the following two forms:</p>
            <dl>
              <dt><strong><span class="code">{rex,Reply}</span></strong></dt>
              <dd>
                This response value means that the RPC has
                completed. The result value is the <span class="code">Reply</span>
                term. This is the only type of response that one can
                get from an RPC triggered by a call to
                <span class="code">ei_rpc_to()</span> or <span class="code">ei_xrpc_to()</span> without the
                <span class="code">EI_RPC_FETCH_STDOUT</span> flag. If the RPC was
                triggered by a call to <span class="code">ei_xrpc_to()</span> with the
                <span class="code">EI_RPC_FETCH_STDOUT</span> flag set, then all forwarded
                stdout data has been received.
              </dd>
              <dt><strong><span class="code">{rex_stdout,StdOutUTF8Binary}</span></strong></dt>
              <dd>
                This response value can only be obtained if the RPC
                call was triggered by a call to <span class="code">ei_xrpc_to()</span>
                with the <span class="code">EI_RPC_FETCH_STDOUT</span> flag set. This
                response value means that forwarded stdout data has
                been received. The stdout data is stored in a binary
                and is UTF-8 encoded. One may need to call
                <span class="code">ei_rpc_from()</span> multiple times to read all the
                stdout data. The stdout data is received in the same
                order as it was written. All forwarded stdout data have
                been received when a <span class="code">{rex,Reply}</span> tuple has been
                obtained from an <span class="code">ei_rpc_from()</span> call.
              </dd>
            </dl>
          </li>
           <li>
            <p><span class="code">flags</span> The flag <span class="code">EI_RPC_FETCH_STDOUT</span> is
            currently the only flag that is supported by
            <span class="code">ei_xrpc_to()</span>. When <span class="code">EI_RPC_FETCH_STDOUT</span> is
            set, the called function is executed in a new process with
            a <span class="bold_code bc-13"><a href="erlang.html#group_leader-0">group
            leader</a></span> that forwards all stdout data. This means
            that stdout data that are written during the execution of
            the called function, by the called function and by
            descendant processes, will be forwarded (given that the
            group leader has not been changed by a call to <span class="bold_code bc-13"><a href="erlang.html#group_leader-2"><span class="code">erlang:group_leader/2</span></a></span>).
            The forwarded stdout data need to be collected by a
            sequence of calls to <span class="code">ei_rpc_from()</span>. See the
            description of the <span class="code">x</span> parameter for how
            <span class="code">ei_rpc_from()</span> is used to receive stdout data. See
            the documentation of the <span class="bold_code bc-18"><a href="../apps/stdlib/io_protocol.html">the I/O protocol</a></span>,
            for more information about the group leader concept.</p>
            <div class="note">
<div class="label">Note</div>
<div class="content"><p>
              <p>
                The flag <span class="code">EI_RPC_FETCH_STDOUT</span> only works when
                interacting with a node with a version greater or
                equal to OTP-24.
              </p>
            </p></div>
</div>
          </li>
        </ul>
        <p><span class="code">ei_rpc()</span> returns the number of bytes in the result
        on success and <span class="code">-1</span> on failure.  <span class="code">ei_rpc_from()</span>
        returns the number of bytes, otherwise one of <span class="code">ERL_TICK</span>,
        <span class="code">ERL_TIMEOUT</span>, and <span class="code">ERL_ERROR</span>. The functions
        <span class="code">ei_rpc_to()</span> and <span class="code">ei_xrpc_to()</span> returns 0 if
        successful, otherwise -1. When failing, all four functions set
        <span class="code">erl_errno</span> to one of the following:</p>
        <dl>
          <dt><strong><span class="code">EIO</span></strong></dt>
          <dd>I/O error.</dd>
          <dt><strong><span class="code">ETIMEDOUT</span></strong></dt>
          <dd>Time-out expired.</dd>
          <dt><strong><span class="code">EAGAIN</span></strong></dt>
          <dd>Temporary error: Try again.</dd>
        </dl>
        <p><strong>Example:</strong></p>
        <p>Check to see if an Erlang process is alive:</p>
        <div class="example example-none"><pre>int index = 0, is_alive;
ei_x_buff args, result;

ei_x_new(&amp;result);
ei_x_new(&amp;args);
ei_x_encode_list_header(&amp;args, 1);
ei_x_encode_pid(&amp;args, &amp;check_pid);
ei_x_encode_empty_list(&amp;args);

if (ei_rpc(&amp;ec, fd, "erlang", "is_process_alive",
           args.buff, args.index, &amp;result) &lt; 0)
    handle_error();

if (ei_decode_version(result.buff, &amp;index) &lt; 0
    || ei_decode_bool(result.buff, &amp;index, &amp;is_alive) &lt; 0)
    handle_error();</pre></div>
      </div>
</div></article><article class="func"><div class="cref-head bold_code bc-7"><h4 id="ei_self" class="title-link" onMouseOver="document.getElementById('ghlink-ei_self-idm2644').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_self-idm2644').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_self-idm2644" class="ghlink-before"><a href="#ei_self" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L1222" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">erlang_pid *ei_self(<br>ei_cnode *ec)</div>
</h4></div>
<div class="exports-tube">
<div class="REFBODY rb-5">
<h3 id="types" class="func-types-title">Types</h3>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-17"><a href="#ei_cnode"><span class="code">ei_cnode</span></a></span></span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-15"><a href="ei.html#erlang_pid"><span class="code">erlang_pid</span></a></span></span><br>
</div>
      </div>
<div class="REFBODY rb-7">
        <p>Retrieves a generic pid of the C-node. Every C-node
          has a (pseudo) pid used in <span class="code">ei_send_reg</span>,
          <span class="code">ei_rpc()</span>,
          and others. This is contained in a field in the <span class="code">ec</span>
          structure. Do <strong>not</strong> modify this structure.
	</p>
	<p>
	  On success a pointer to the process identifier is returned.
	  On failure <span class="code">NULL</span> is returned and <span class="code">erl_errno</span> is
	  set.
	</p>
	<p>
	  The C-node identified by <span class="code">ec</span> must have been initialized
	  and must have received a name prior to the call to <span class="code">ei_self()</span>.
	  Initialization of the C-node is done by a call to
	  <span class="bold_code bc-17"><a href="#ei_connect_init"><span class="code">ei_connect_init()</span></a></span>
	  or friends. If the name is dynamically assigned from the peer node, the
	  C-node also has to be connected.
	</p>

      </div>
</div></article><article class="func"><div class="cref-head bold_code bc-7"><h4 id="ei_send" class="title-link" onMouseOver="document.getElementById('ghlink-ei_send-idm2670').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_send-idm2670').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_send-idm2670" class="ghlink-before"><a href="#ei_send" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L1253" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_send(<br>int fd,<br>erlang_pid* to,<br>char* buf,<br>int len)</div>
</h4></div>
<div class="exports-tube">
<div class="REFBODY rb-5">
<h3 id="types" class="func-types-title">Types</h3>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-15"><a href="ei.html#erlang_pid"><span class="code">erlang_pid</span></a></span></span><br>
</div>
      </div>
<div class="REFBODY rb-7">
        <p>Sends an Erlang term to a process.</p>
        <ul>
          <li>
<span class="code">fd</span> is an open descriptor to an Erlang
            connection.</li>
          <li>
<span class="code">to</span> is the pid of the intended recipient of
            the message.</li>
          <li>
<span class="code">buf</span> is the buffer containing the term in
            binary format.</li>
          <li>
<span class="code">len</span> is the length of the message in bytes.
          </li>
        </ul>
        <p>Returns <span class="code">0</span> if successful, otherwise <span class="code">-1</span>. In
          the latter case it sets <span class="code">erl_errno</span> to
          <span class="code">EIO</span>.</p>
      </div>
</div></article><article class="func"><div class="cref-head bold_code bc-7"><h4 id="ei_send_encoded" class="title-link" onMouseOver="document.getElementById('ghlink-ei_send_encoded-idm2695').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_send_encoded-idm2695').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_send_encoded-idm2695" class="ghlink-before"><a href="#ei_send_encoded" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L1277" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_send_encoded(<br>int fd,<br>erlang_pid* to,<br>char* buf,<br>int len)</div>
</h4></div>
<div class="exports-tube">
<div class="REFBODY rb-5">
<h3 id="types" class="func-types-title">Types</h3>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-15"><a href="ei.html#erlang_pid"><span class="code">erlang_pid</span></a></span></span><br>
</div>
      </div>
<div class="REFBODY rb-7">
        <p>Works exactly as <span class="code">ei_send</span>, the alternative name is retained for
          backward compatibility. The function will <strong>not</strong> be
          removed without prior notice.</p>
      </div>
</div></article><article class="func"><div class="cref-head bold_code bc-7"><h4 id="ei_send_encoded_tmo" class="title-link" onMouseOver="document.getElementById('ghlink-ei_send_encoded_tmo-idm2708').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_send_encoded_tmo-idm2708').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_send_encoded_tmo-idm2708" class="ghlink-before"><a href="#ei_send_encoded_tmo" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L1290" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_send_encoded_tmo(<br>int fd,<br>erlang_pid* to,<br>char* buf,<br>int len,<br>unsigned timeout_ms)</div>
</h4></div>
<div class="exports-tube">
<div class="REFBODY rb-5">
<h3 id="types" class="func-types-title">Types</h3>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-15"><a href="ei.html#erlang_pid"><span class="code">erlang_pid</span></a></span></span><br>
</div>
      </div>
<div class="REFBODY rb-7">
        <p>Equivalent to
          <span class="code">ei_send_encoded</span> with an optional time-out argument,
          see the description at the beginning of this manual page.</p>
      </div>
</div></article><article class="func"><div class="cref-head bold_code bc-7"><h4 id="ei_send_reg_encoded" class="title-link" onMouseOver="document.getElementById('ghlink-ei_send_reg_encoded-idm2720').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_send_reg_encoded-idm2720').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_send_reg_encoded-idm2720" class="ghlink-before"><a href="#ei_send_reg_encoded" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L1304" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_send_reg_encoded(<br>int fd,<br>const erlang_pid *from,<br>const char *to,<br>const char *buf,<br>int len)</div>
</h4></div>
<div class="exports-tube">
<div class="REFBODY rb-5">
<h3 id="types" class="func-types-title">Types</h3>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-15"><a href="ei.html#erlang_pid"><span class="code">erlang_pid</span></a></span></span><br>
</div>
      </div>
<div class="REFBODY rb-7">
        <p>This function is retained for compatibility with code
          generated by the interface compiler and with code following
          examples in the same application.</p>
        <p>The function works as <span class="code">ei_reg_send</span> with one
          exception. Instead of taking <span class="code">ei_cnode</span> as first
          argument, it takes a second argument, an
          <span class="code">erlang_pid</span>,
          which is to be the process identifier of the sending process
          (in the Erlang distribution protocol).</p>
        <p>A suitable <span class="code">erlang_pid</span> can be retrieved from the
        <span class="code">ei_cnode</span> structure by calling <span class="code">ei_self(cnode_pointer)</span>.</p>
      </div>
</div></article><article class="func"><div class="cref-head bold_code bc-7"><h4 id="ei_send_reg_encoded_tmo" class="title-link" onMouseOver="document.getElementById('ghlink-ei_send_reg_encoded_tmo-idm2739').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_send_reg_encoded_tmo-idm2739').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_send_reg_encoded_tmo-idm2739" class="ghlink-before"><a href="#ei_send_reg_encoded_tmo" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L1326" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_send_reg_encoded_tmo(<br>int fd,<br>const erlang_pid *from,<br>const char *to,<br>const char *buf,<br>int len,<br>unsigned timeout_ms)</div>
</h4></div>
<div class="exports-tube">
<div class="REFBODY rb-5">
<h3 id="types" class="func-types-title">Types</h3>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-15"><a href="ei.html#erlang_pid"><span class="code">erlang_pid</span></a></span></span><br>
</div>
      </div>
<div class="REFBODY rb-7">
        <p>Equivalent to
          <span class="code">ei_send_reg_encoded</span> with an optional time-out argument,
          see the description at the beginning of this manual page.</p>
      </div>
</div></article><article class="func"><div class="cref-head bold_code bc-7"><h4 id="ei_send_tmo" class="title-link" onMouseOver="document.getElementById('ghlink-ei_send_tmo-idm2751').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_send_tmo-idm2751').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_send_tmo-idm2751" class="ghlink-before"><a href="#ei_send_tmo" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L1340" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_send_tmo(<br>int fd,<br>erlang_pid* to,<br>char* buf,<br>int len,<br>unsigned timeout_ms)</div>
</h4></div>
<div class="exports-tube">
<div class="REFBODY rb-5">
<h3 id="types" class="func-types-title">Types</h3>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-15"><a href="ei.html#erlang_pid"><span class="code">erlang_pid</span></a></span></span><br>
</div>
      </div>
<div class="REFBODY rb-7">
        <p>Equivalent to
          <span class="code">ei_send</span> with an optional time-out argument,
          see the description at the beginning of this manual page.</p>
      </div>
</div></article><article class="func"><div class="cref-head bold_code bc-7"><h4 id="ei_thisnodename" class="title-link" onMouseOver="document.getElementById('ghlink-ei_thisnodename-idm2763').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_thisnodename-idm2763').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_thisnodename-idm2763" class="ghlink-before"><a href="#ei_thisnodename" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L1353" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">const char *ei_thisnodename(<br>ei_cnode *ec)</div>
</h4></div>
<div class="cref-head bold_code bc-7"><h4 id="ei_thishostname" class="title-link" onMouseOver="document.getElementById('ghlink-ei_thishostname-idm2766').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_thishostname-idm2766').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_thishostname-idm2766" class="ghlink-before"><a href="#ei_thishostname" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L1353" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">const char *ei_thishostname(<br>ei_cnode *ec)</div>
</h4></div>
<div class="cref-head bold_code bc-7"><h4 id="ei_thisalivename" class="title-link" onMouseOver="document.getElementById('ghlink-ei_thisalivename-idm2769').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_thisalivename-idm2769').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_thisalivename-idm2769" class="ghlink-before"><a href="#ei_thisalivename" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L1353" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">const char *ei_thisalivename(<br>ei_cnode *ec)</div>
</h4></div>
<div class="exports-tube">
<div class="REFBODY rb-5">
<h3 id="types" class="func-types-title">Types</h3>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-17"><a href="#ei_cnode"><span class="code">ei_cnode</span></a></span></span><br>
</div>
      </div>
<div class="REFBODY rb-7">
        <p>Can be used to retrieve information about
          the C-node. These values are initially set with
          <span class="code">ei_connect_init()</span> or
          <span class="code">ei_connect_xinit()</span>.</p>
        <p>These function simply fetch the appropriate field from the
          <span class="code">ec</span>
          structure. Read the field directly will probably be safe for
          a long time, so these functions are not really needed.</p>
      </div>
</div></article><article class="func"><div class="cref-head bold_code bc-7"><h4 id="ei_unpublish" class="title-link" onMouseOver="document.getElementById('ghlink-ei_unpublish-idm2784').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_unpublish-idm2784').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_unpublish-idm2784" class="ghlink-before"><a href="#ei_unpublish" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L1373" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_unpublish(<br>ei_cnode *ec)</div>
</h4></div>
<div class="exports-tube">
<div class="REFBODY rb-5">
<h3 id="types" class="func-types-title">Types</h3>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-17"><a href="#ei_cnode"><span class="code">ei_cnode</span></a></span></span><br>
</div>
      </div>
<div class="REFBODY rb-7">
        <p>Can be called by a process to unregister a
          specified node from EPMD on the local host. This is, however, usually
	  not allowed, unless EPMD was started with flag
          <span class="code">-relaxed_command_check</span>, which it normally is not.</p>
        <p>To unregister a node you have published, you should
	  close the descriptor that was returned by
	  <span class="code">ei_publish()</span>.</p>
        <div class="warning">
<div class="label">Warning</div>
<div class="content"><p>
          <p>This function is deprecated and will be removed in a future
	  release.</p>
        </p></div>
</div>
        <p><span class="code">ec</span> is the node structure of the node to
          unregister.</p>
        <p>If the node was successfully unregistered from EPMD, the
          function returns <span class="code">0</span>. Otherwise, <span class="code">-1</span> is returned and
          <span class="code">erl_errno</span> is set to <span class="code">EIO</span>.</p>
      </div>
</div></article><article class="func"><div class="cref-head bold_code bc-7"><h4 id="ei_unpublish_tmo" class="title-link" onMouseOver="document.getElementById('ghlink-ei_unpublish_tmo-idm2807').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_unpublish_tmo-idm2807').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-ei_unpublish_tmo-idm2807" class="ghlink-before"><a href="#ei_unpublish_tmo" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L1399" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">int ei_unpublish_tmo(<br>ei_cnode *ec,<br>unsigned timeout_ms)</div>
</h4></div>
<div class="exports-tube">
<div class="REFBODY rb-5">
<h3 id="types" class="func-types-title">Types</h3>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type"><span class="bold_code bc-17"><a href="#ei_cnode"><span class="code">ei_cnode</span></a></span></span><br>
</div>
      </div>
<div class="REFBODY rb-7">
        <p>Equivalent to
          <span class="code">ei_unpublish</span> with an optional time-out argument,
          see the description at the beginning of this manual page.</p>
      </div>
</div></article>
</div>

  <section class="innertube"><a name="debug_information"></a><h3 id="debug-information" class="title-link" onMouseOver="document.getElementById('ghlink-debug-information-idm2818').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-debug-information-idm2818').style.visibility = 'hidden';">
<div class="title-name">Debug Information</div>
<div class="title-anchors"><span id="ghlink-debug-information-idm2818" class="ghlink-after"><a href="#debug-information" title="Link to this place!"><span class="paperclip-after"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei_connect.xml#L1413" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-after"></span></a></span></div>
</h3>
<div class="REFBODY rb-3">
    
    
    <p>If a connection attempt fails, the following can be checked:</p>

    <ul>
      <li>
<span class="code">erl_errno</span>.</li>
      <li>That the correct cookie was used</li>
      <li>That EPMD is running</li>
      <li>That the remote Erlang node on the other side is running the
        same version of Erlang as the <span class="code">ei</span> library</li>
      <li>That environment variable <span class="code">ERL_EPMD_PORT</span>
        is set correctly</li>
    </ul>

    <p>The connection attempt can be traced by setting a trace level by either
      using <span class="code">ei_set_tracelevel</span> or by setting environment
      variable <span class="code">EI_TRACELEVEL</span>.
      The trace levels have the following messages:</p>

    <ul>
        <li>1: Verbose error messages</li>
        <li>2: Above messages and verbose warning messages</li>
        <li>3: Above messages and progress reports for connection handling
        </li>
        <li>4: Above messages and progress reports for communication</li>
        <li>5: Above messages and progress reports for data conversion</li>
    </ul>
  </div></section>

<div class="footer">
<hr>
<p>Copyright  1998-2021 Ericsson AB. All Rights Reserved.</p>
</div>
</div>
</div>
<script type="text/javascript">window.__otpTopDocDir = '../js/';</script><script type="text/javascript" src="../js/highlight.js"></script>
<script src="/assets/js/doc-search.bundle.js"></script>
</body>
</html>
