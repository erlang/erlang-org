<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.1">
    <meta name="project" content="stdlib v7.0.1">


<meta name="exdoc:full-text-search-url" content="/doc/search.html?v=28&q=">
<meta name="major-vsn" content="28">
<link rel="canonical" href="https://www.erlang.org/doc/apps/stdlib/gen_server.html" />
    <title>gen_server — stdlib v7.0.1</title>

    <link rel="stylesheet" href="dist/html-erlang-ZK43ZOAC.css" />

    <script defer src="dist/sidebar_items-5EDA278D.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-DPJLHKSM.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="../../index.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="stdlib" />
        </a>

      <div>
        <a href="../../index.html" class="sidebar-projectName" translate="no">
stdlib
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v7.0.1
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-behaviour" id="main" data-type="modules">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of stdlib</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>
      <span translate="no">gen_server</span> <small>behaviour</small>
      <small class="app-vsn" translate="no">(stdlib v7.0.1)</small>

    </h1>

      <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L22" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


    <section id="moduledoc">
<p>Generic server behavior.</p><p>This behavior module provides the server in a client-server relation.
A generic server process (<code class="inline">gen_server</code>) implemented using this module
has a standard set of interface functions and includes functionality
for tracing and error reporting.  It also fits into
an OTP supervision tree. For more information, see section
<a href="../../system/gen_server_concepts.html">gen_server Behaviour</a>
in OTP Design Principles.</p><p>A <code class="inline">gen_server</code> process assumes all specific parts to be located
in a callback module exporting a predefined set of functions.
The relationship between the behavior functions
and the callback functions is as follows:</p><pre><code class="text">gen_server module            Callback module
-----------------            ---------------
gen_server:start
gen_server:start_monitor
gen_server:start_link -----&gt; Module:init/1

gen_server:stop       -----&gt; Module:terminate/2

gen_server:call
gen_server:send_request
gen_server:multi_call -----&gt; Module:handle_call/3

gen_server:cast
gen_server:abcast     -----&gt; Module:handle_cast/2

-                     -----&gt; Module:handle_info/2

-                     -----&gt; Module:handle_continue/2

-                     -----&gt; Module:terminate/2

-                     -----&gt; Module:code_change/3</code></pre><p>If a callback function fails or returns a bad value,
the <code class="inline">gen_server</code> process terminates.  However, an exception of class
<a href="../../apps/erts/erlang.html#throw/1"><code class="inline">throw</code></a> is not regarded as an error
but as a valid return, from all callback functions.</p><p>A <code class="inline">gen_server</code> process handles system messages as described in <a href="sys.html"><code class="inline">sys</code></a>.
The <a href="sys.html"><code class="inline">sys</code></a> module can be used for debugging a <code class="inline">gen_server</code> process.</p><p>Notice that a <code class="inline">gen_server</code> process does not trap exit signals
automatically, this must be explicitly initiated in the callback module.</p><p>Unless otherwise stated, all functions in this module fail
if the specified <code class="inline">gen_server</code> process does not exist
or if bad arguments are specified.</p><p>The <code class="inline">gen_server</code> process can go into hibernation (see <a href="../../apps/erts/erlang.html#hibernate/3"><code class="inline">erlang:hibernate/3</code></a>)
if a callback function specifies <code class="inline">'hibernate'</code> instead of a time-out value.
This can be useful if the server is expected to be idle for a long time.
However, use this feature with care, as hibernation implies at least
two garbage collections (when hibernating and shortly after waking up)
and is not something you want to do between each call to a busy server.</p><p>If the <code class="inline">gen_server</code> process needs to perform an action after
initialization or to break the execution of a callback into multiple steps,
it can return <code class="inline">{continue, Continue}</code> in place of
the time-out or hibernation value, which will invoke
the <a href="#c:handle_continue/2"><code class="inline">Module:handle_continue/2</code></a> callback,
before receiving any external message / request.</p><p>If the <code class="inline">gen_server</code> process terminates, e.g. as a result of a function
in the callback module returning <code class="inline">{stop,Reason,NewState}</code>,
an exit signal with this <code class="inline">Reason</code> is sent to linked processes and ports.
See <a href="../../system/ref_man_processes.html#errors">Processes</a>
in the Reference Manual for details regarding error handling
using exit signals.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>For some important information about distributed signals, see the
<a href="../../system/ref_man_processes.html#blocking-signaling-over-distribution" title=""><em>Blocking Signaling Over Distribution</em></a>
section in the <em>Processes</em> chapter of the <em>Erlang Reference Manual</em>.
Blocking signaling can, for example, cause call time-outs
in <code class="inline">gen_server</code> to be significantly delayed.</p></section><h2 id="module-see-also" class="section-heading"><a href="#module-see-also" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">See Also</span></h2><p><a href="gen_event.html"><code class="inline">gen_event</code></a>, <a href="gen_statem.html"><code class="inline">gen_statem</code></a>, <a href="proc_lib.html"><code class="inline">proc_lib</code></a>, <a href="supervisor.html"><code class="inline">supervisor</code></a>, <a href="sys.html"><code class="inline">sys</code></a></p>
    </section>

</div>

  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-types summary">
  <h2>
    <a href="#types">Types</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:action/0" data-no-tooltip="" translate="no">action()</a>

      </div>

        <div class="summary-synopsis"><p>Callback and server loop action.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:enter_loop_opt/0" data-no-tooltip="" translate="no">enter_loop_opt()</a>

      </div>

        <div class="summary-synopsis"><p>Server start options for the <a><code class="inline">start</code></a> or
<a><code class="inline">enter_loop</code></a> functions.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:format_status/0" data-no-tooltip="" translate="no">format_status()</a>

      </div>

        <div class="summary-synopsis"><p>A map that describes the <code class="inline">gen_server</code> status.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:from/0" data-no-tooltip="" translate="no">from()</a>

      </div>

        <div class="summary-synopsis"><p>A call's reply destination.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:reply_tag/0" data-no-tooltip="" translate="no">reply_tag()</a>

      </div>

        <div class="summary-synopsis"><p>A handle that associates a reply to the corresponding request.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:request_id/0" data-no-tooltip="" translate="no">request_id()</a>

      </div>

        <div class="summary-synopsis"><p>An opaque request identifier. See <a><code class="inline">send_request/2</code></a> for details.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:request_id_collection/0" data-no-tooltip="" translate="no">request_id_collection()</a>

      </div>

        <div class="summary-synopsis"><p>An opaque collection of request identifiers (<a><code class="inline">request_id/0</code></a>).</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:response_timeout/0" data-no-tooltip="" translate="no">response_timeout()</a>

      </div>

        <div class="summary-synopsis"><p>Response time-out for an asynchronous call.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:server_name/0" data-no-tooltip="" translate="no">server_name()</a>

      </div>

        <div class="summary-synopsis"><p>Server name specification: <code class="inline">local</code>, <code class="inline">global</code>, or <code class="inline">via</code> registered.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:server_ref/0" data-no-tooltip="" translate="no">server_ref()</a>

      </div>

        <div class="summary-synopsis"><p>Server specification: <a><code class="inline">pid/0</code></a> or registered <a><code class="inline">server_name/0</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:start_mon_ret/0" data-no-tooltip="" translate="no">start_mon_ret()</a>

      </div>

        <div class="summary-synopsis"><p>Return value from the <a><code class="inline">start_monitor/3,4</code></a> functions.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:start_opt/0" data-no-tooltip="" translate="no">start_opt()</a>

      </div>

        <div class="summary-synopsis"><p>Server start options for the <a><code class="inline">start</code> functions</a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:start_ret/0" data-no-tooltip="" translate="no">start_ret()</a>

      </div>

        <div class="summary-synopsis"><p>Return value from the <a><code class="inline">start/3,4</code></a> and
<a><code class="inline">start_link/3,4</code></a> functions.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:timeout_option/0" data-no-tooltip="" translate="no">timeout_option()</a>

      </div>

        <div class="summary-synopsis"><p>Time-out timer start option, to select absolute time of expiry.</p></div>

    </div>

</div>
<div class="summary-callbacks summary">
  <h2>
    <a href="#callbacks">Callbacks</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c:code_change/3" data-no-tooltip="" translate="no">code_change(OldVsn, State, Extra)</a>

      </div>

        <div class="summary-synopsis"><p>Update the server state after code change.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c:format_status/1" data-no-tooltip="" translate="no">format_status(Status)</a>

      </div>

        <div class="summary-synopsis"><p>Format/limit the status value.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c:format_status/2" data-no-tooltip="" translate="no">format_status(Opt, StatusData)</a>

          <span class="deprecated" title="the callback gen_server:format_status(_,_) is deprecated; use format_status/1 instead">deprecated</span>

      </div>

        <div class="summary-synopsis"><p>Format/limit the status value.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c:handle_call/3" data-no-tooltip="" translate="no">handle_call(Request, From, State)</a>

      </div>

        <div class="summary-synopsis"><p>Handle a call.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c:handle_cast/2" data-no-tooltip="" translate="no">handle_cast(Request, State)</a>

      </div>

        <div class="summary-synopsis"><p>Handle a cast message.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c:handle_continue/2" data-no-tooltip="" translate="no">handle_continue(Info, State)</a>

      </div>

        <div class="summary-synopsis"><p>Handle a callback continuation.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c:handle_info/2" data-no-tooltip="" translate="no">handle_info(Info, State)</a>

      </div>

        <div class="summary-synopsis"><p>Handle an info message (regular process message).</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c:init/1" data-no-tooltip="" translate="no">init(Args)</a>

      </div>

        <div class="summary-synopsis"><p>Initialize the server.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c:terminate/2" data-no-tooltip="" translate="no">terminate(Reason, State)</a>

      </div>

        <div class="summary-synopsis"><p>Handle server termination.</p></div>

    </div>

</div>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#abcast/2" data-no-tooltip="" translate="no">abcast(Name, Request)</a>

      </div>

        <div class="summary-synopsis"><p>Cast a request to multiple nodes.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#abcast/3" data-no-tooltip="" translate="no">abcast(Nodes, Name, Request)</a>

      </div>

        <div class="summary-synopsis"><p>Cast a request to multiple nodes.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#call/2" data-no-tooltip="" translate="no">call(ServerRef, Request)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a><code class="inline">call(ServerRef, Request, 5000)</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#call/3" data-no-tooltip="" translate="no">call(ServerRef, Request, Timeout)</a>

      </div>

        <div class="summary-synopsis"><p>Call a server: send request and wait for response.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#cast/2" data-no-tooltip="" translate="no">cast(ServerRef, Request)</a>

      </div>

        <div class="summary-synopsis"><p>Cast a request to a server.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#check_response/2" data-no-tooltip="" translate="no">check_response(Msg, ReqId)</a>

      </div>

        <div class="summary-synopsis"><p>Check if a received message is a request response.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#check_response/3" data-no-tooltip="" translate="no">check_response(Msg, ReqIdCollection, Delete)</a>

      </div>

        <div class="summary-synopsis"><p>Check if a received message is a request response in a collection.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#enter_loop/3" data-no-tooltip="" translate="no">enter_loop(Module, Options, State)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a><code class="inline">enter_loop(Mod, Options, State, self())</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#enter_loop/4" data-no-tooltip="" translate="no">enter_loop/4</a>

      </div>

        <div class="summary-synopsis"><p>Make the calling process become a <code class="inline">gen_server</code> process.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#enter_loop/5" data-no-tooltip="" translate="no">enter_loop(Module, Options, State, ServerName, Action)</a>

      </div>

        <div class="summary-synopsis"><p>Make the calling process become a <code class="inline">gen_server</code> process.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#multi_call/2" data-no-tooltip="" translate="no">multi_call(Name, Request)</a>

      </div>

        <div class="summary-synopsis"><p>Call servers on multiple nodes in parallel.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#multi_call/3" data-no-tooltip="" translate="no">multi_call(Nodes, Name, Request)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a><code class="inline">multi_call(Nodes, Name, Request, infinity)</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#multi_call/4" data-no-tooltip="" translate="no">multi_call(Nodes, Name, Request, Timeout)</a>

      </div>

        <div class="summary-synopsis"><p>Call servers on multiple nodes in parallel.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#receive_response/2" data-no-tooltip="" translate="no">receive_response(ReqId, Timeout)</a>

      </div>

        <div class="summary-synopsis"><p>Receive a request response.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#receive_response/3" data-no-tooltip="" translate="no">receive_response(ReqIdCollection, Timeout, Delete)</a>

      </div>

        <div class="summary-synopsis"><p>Receive a request response in a collection.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#reply/2" data-no-tooltip="" translate="no">reply(Client, Reply)</a>

      </div>

        <div class="summary-synopsis"><p>Send a reply to a client.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#reqids_add/3" data-no-tooltip="" translate="no">reqids_add(ReqId, Label, ReqIdCollection)</a>

      </div>

        <div class="summary-synopsis"><p>Store a request identifier in a colletion.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#reqids_new/0" data-no-tooltip="" translate="no">reqids_new()</a>

      </div>

        <div class="summary-synopsis"><p>Create an empty request identifier collection.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#reqids_size/1" data-no-tooltip="" translate="no">reqids_size(ReqIdCollection)</a>

      </div>

        <div class="summary-synopsis"><p>Returns the number of request identifiers in <code class="inline">ReqIdCollection</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#reqids_to_list/1" data-no-tooltip="" translate="no">reqids_to_list(ReqIdCollection)</a>

      </div>

        <div class="summary-synopsis"><p>Convert a request identifier collection to a list.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#send_request/2" data-no-tooltip="" translate="no">send_request(ServerRef, Request)</a>

      </div>

        <div class="summary-synopsis"><p>Send an asynchronous <code class="inline">call</code> request.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#send_request/4" data-no-tooltip="" translate="no">send_request(ServerRef, Request, Label, ReqIdCollection)</a>

      </div>

        <div class="summary-synopsis"><p>Send an asynchronous <code class="inline">call</code> request and add it
to a request identifier collection.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#start/3" data-no-tooltip="" translate="no">start(Module, Args, Options)</a>

      </div>

        <div class="summary-synopsis"><p>Start a server, neither linked nor registered.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#start/4" data-no-tooltip="" translate="no">start(ServerName, Module, Args, Options)</a>

      </div>

        <div class="summary-synopsis"><p>Start a server, registered but not linked.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#start_link/3" data-no-tooltip="" translate="no">start_link(Module, Args, Options)</a>

      </div>

        <div class="summary-synopsis"><p>Start a server, linked but not registered.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#start_link/4" data-no-tooltip="" translate="no">start_link(ServerName, Module, Args, Options)</a>

      </div>

        <div class="summary-synopsis"><p>Start a server, linked and registered.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#start_monitor/3" data-no-tooltip="" translate="no">start_monitor(Module, Args, Options)</a>

      </div>

        <div class="summary-synopsis"><p>Start a server, monitored but neither linked nor registered.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#start_monitor/4" data-no-tooltip="" translate="no">start_monitor(ServerName, Module, Args, Options)</a>

      </div>

        <div class="summary-synopsis"><p>Start a server, monitored and registered, but not linked.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#stop/1" data-no-tooltip="" translate="no">stop(ServerRef)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a><code class="inline">stop(ServerRef, normal, infinity)</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#stop/3" data-no-tooltip="" translate="no">stop(ServerRef, Reason, Timeout)</a>

      </div>

        <div class="summary-synopsis"><p>Stop a server.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#wait_response/2" data-no-tooltip="" translate="no">wait_response(ReqId, WaitTime)</a>

      </div>

        <div class="summary-synopsis"><p>Wait for a request response.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#wait_response/3" data-no-tooltip="" translate="no">wait_response(ReqIdCollection, WaitTime, Delete)</a>

      </div>

        <div class="summary-synopsis"><p>Wait for any request response in a collection.</p></div>

    </div>

</div>

  </section>


  <section id="types" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types</span>
    </h1>
    <div class="types-list">
<section class="detail" id="t:action/0">

  <div class="detail-header">
    <a href="#t:action/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">action()</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L738" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> action() ::
          (Time :: <a href="../../apps/erts/erlang.html#t:timeout/0">timeout</a>()) |
          hibernate |
          {timeout, Time :: <a href="../../apps/erts/erlang.html#t:timeout/0">timeout</a>(), Message :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} |
          {timeout,
           Time :: <a href="../../apps/erts/erlang.html#t:timeout/0">timeout</a>(),
           Message :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
           Options :: <a href="#t:timeout_option/0">timeout_option</a>() | [<a href="#t:timeout_option/0">timeout_option</a>()]} |
          {hibernate, Time :: <a href="../../apps/erts/erlang.html#t:timeout/0">timeout</a>(), Message :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} |
          {hibernate,
           Time :: <a href="../../apps/erts/erlang.html#t:timeout/0">timeout</a>(),
           Message :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
           Options :: <a href="#t:timeout_option/0">timeout_option</a>() | [<a href="#t:timeout_option/0">timeout_option</a>()]} |
          {continue, Continue :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}.</pre>

      </div>

<p>Callback and server loop action.</p><p>Returned by the callbacks <a href="#c:init/1"><code class="inline">Module:init/1</code></a>,
<a href="#c:handle_call/3"><code class="inline">Module:handle_call/3</code></a>,
<a href="#c:handle_cast/2"><code class="inline">Module:handle_cast/2</code></a>,
<a href="#c:handle_info/2"><code class="inline">Module:handle_info/2</code></a>,
and <a href="#c:handle_continue/2"><code class="inline">Module:handle_continue/2</code></a>.
It is also the last argument to <a href="#enter_loop/4"><code class="inline">enter_loop/4,5</code></a>.</p><p><a href="#t:action/0"><code class="inline">action/0</code></a> is one of:</p><ul><li><p><strong><code class="inline">Time ::</code><a href="../../apps/erts/erlang.html#t:timeout/0"><code class="inline">timeout()</code></a></strong> -
If the action is an integer <code class="inline">Time</code>, a time-out occurs
unless a request or a message is received within that many milliseconds.
A time-out is represented by the atom <code class="inline">timeout</code> as the <code class="inline">Info</code> argument
to be handled by the <a href="#c:handle_info/2"><code class="inline">Module:handle_info/2</code></a>
callback function.  The action <code class="inline">infinity</code> can be used to wait indefinitely,
which is the default when there is no <a href="#t:action/0"><code class="inline">action/0</code></a> specified.</p><p>For <code class="inline">Time = 0</code>, if there is a request or message waiting to be received,
it interrupts (cancels) the time-out.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>A system message restarts the time-out, which is a known
and unfortunate flaw in its implementation.  This also applies to
stray (cancelled) timer messages from the
<code class="inline">{timeout|hibernate, ...}</code> time-outs described below,
so it is recommended to not use them
in combination with this legacy time-out type.</p></section></li><li><p><strong><code class="inline">{timeout, Time, Message}</code><br/><code class="inline">{timeout, Time, Message, Options}</code></strong> - Like <code class="inline">Time</code> above,
but the delivered <code class="inline">Info</code> argument is specified by <code class="inline">Message</code>,
and the time-out is not affected by system messages.</p><p><code class="inline">Options</code> can be used to trigger the time-out at an absolute point in time
instead.  See <a href="#t:timeout_option/0"><code class="inline">timeout_option/0</code></a> and <a href="../../apps/erts/erlang.html#start_timer/4"><code class="inline">erlang:start_timer/4</code></a> for details.</p><p>A relative time-out with <code class="inline">Time = 0</code> is immediately delivered,
before any request or message is received, including system messages.</p><p>A time-out with <code class="inline">Time = infinity</code> will never be delivered
so the action is ignored; no time-out is started.</p></li><li><p><strong><code class="inline">{hibernate, Time, Message}</code><br/><code class="inline">{hibernate, Time, Message, Options}</code></strong> - A combination of
the action <code class="inline">hibernate</code> below, and  <code class="inline">{timeout, Time, Message}</code>
or <code class="inline">{timeout, Time, Message, Options}</code> above.</p><p>The process goes into hibernation while waiting for the next
request or message to arrive, or for the time-out to expire.</p></li><li><p><strong><code class="inline">hibernate</code></strong> - The process goes into hibernation
(by calling <a href="../../apps/erts/erlang.html#hibernate/0"><code class="inline">erlang:hibernate/0</code></a>), waiting for the next
request or message to arrive</p></li><li><p><strong><code class="inline">{continue, Continue}</code></strong> - The process will immediately execute the
<a href="#c:handle_continue/2"><code class="inline">Module:handle_continue/2</code></a> callback function,
with <code class="inline">Continue</code> as the first argument.</p></li></ul>
  </section>
</section>
<section class="detail" id="t:enter_loop_opt/0">

  <div class="detail-header">
    <a href="#t:enter_loop_opt/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">enter_loop_opt()</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L921" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> enter_loop_opt() ::
          {hibernate_after, HibernateAfterTimeout :: <a href="../../apps/erts/erlang.html#t:timeout/0">timeout</a>()} | {debug, Dbgs :: [<a href="sys.html#t:debug_option/0">sys:debug_option</a>()]}.</pre>

      </div>

<p>Server start options for the <a href="#start_link/4"><code class="inline">start</code></a> or
<a href="#enter_loop/5"><code class="inline">enter_loop</code></a> functions.</p><p>Options that can be used when starting a <code class="inline">gen_server</code> server through
<a href="#enter_loop/5"><code class="inline">enter_loop/3-5</code></a> or the start functions such as
<a href="#start_link/4"><code class="inline">start_link/3,4</code></a>.</p><ul><li><p><strong><code class="inline">{hibernate_after, HibernateAfterTimeout}</code></strong> - Specifies that the
<code class="inline">gen_server</code> process awaits any message for <code class="inline">HibernateAfterTimeout</code>
milliseconds and if no message is received, the process goes into
hibernation automatically (by calling <a href="proc_lib.html#hibernate/3"><code class="inline">proc_lib:hibernate/3</code></a>).</p></li><li><p><strong><code class="inline">{debug, Dbgs}</code></strong> - For every entry in <code class="inline">Dbgs</code>,
the corresponding function in <a href="sys.html"><code class="inline">sys</code></a> is called.</p></li></ul>
  </section>
</section>
<section class="detail" id="t:format_status/0">

  <div class="detail-header">
    <a href="#t:format_status/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">format_status()</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L602" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> format_status() ::
          #{state => <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), message => <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), reason => <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), log => [<a href="sys.html#t:system_event/0">sys:system_event</a>()]}.</pre>

      </div>

<p>A map that describes the <code class="inline">gen_server</code> status.</p><p>The keys are:</p><ul><li><strong><code class="inline">state</code></strong> - The internal state of the <code class="inline">gen_server</code> process.</li><li><strong><code class="inline">message</code></strong> - The message that caused the server to terminate.</li><li><strong><code class="inline">reason</code></strong> - The reason that caused the server to terminate.</li><li><strong><code class="inline">log</code></strong> - The <a href="sys.html#log/2">sys log</a> of the server.</li></ul><p>New associations may be added to the status map without prior notice.</p>
  </section>
</section>
<section class="detail" id="t:from/0">

  <div class="detail-header">
    <a href="#t:from/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">from()</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L756" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> from() :: {Client :: <a href="../../apps/erts/erlang.html#t:pid/0">pid</a>(), Tag :: <a href="#t:reply_tag/0">reply_tag</a>()}.</pre>

      </div>

<p>A call's reply destination.</p><p>Destination, given to the <code class="inline">gen_server</code> as the first argument
to the callback function <a href="#c:handle_call/3"><code class="inline">Module:handle_call/3</code></a>,
to be used by the when replying through <a href="#reply/2"><code class="inline">reply/2</code></a> (instead of
through the callback function's return value), to the process <code class="inline">Client</code>
that has called the <code class="inline">gen_server</code> using <a href="#call/2"><code class="inline">call/2,3</code></a>.
<code class="inline">Tag</code> is a term that is unique for this call/request instance.</p>
  </section>
</section>
<section class="detail" id="t:reply_tag/0">

  <div class="detail-header">
    <a href="#t:reply_tag/0" class="detail-link" data-no-tooltip="" aria-label="Link to this opaque">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">reply_tag()</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L759" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-opaque</span> reply_tag()</pre>

      </div>

<p>A handle that associates a reply to the corresponding request.</p>
  </section>
</section>
<section class="detail" id="t:request_id/0">

  <div class="detail-header">
    <a href="#t:request_id/0" class="detail-link" data-no-tooltip="" aria-label="Link to this opaque">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">request_id()</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L762" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-opaque</span> request_id()</pre>

      </div>

<p>An opaque request identifier. See <a href="#send_request/2"><code class="inline">send_request/2</code></a> for details.</p>
  </section>
</section>
<section class="detail" id="t:request_id_collection/0">

  <div class="detail-header">
    <a href="#t:request_id_collection/0" class="detail-link" data-no-tooltip="" aria-label="Link to this opaque">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">request_id_collection()</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L770" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-opaque</span> request_id_collection()</pre>

      </div>

<p>An opaque collection of request identifiers (<a href="#t:request_id/0"><code class="inline">request_id/0</code></a>).</p><p>Each request identifier can be associated with a label
chosen by the user.  For more information see <a href="#reqids_new/0"><code class="inline">reqids_new/0</code></a>.</p>
  </section>
</section>
<section class="detail" id="t:response_timeout/0">

  <div class="detail-header">
    <a href="#t:response_timeout/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">response_timeout()</h1>

        <span class="note">(not exported)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L798" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> response_timeout() :: <a href="../../apps/erts/erlang.html#t:timeout/0">timeout</a>() | {abs, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()}.</pre>

      </div>

<p>Response time-out for an asynchronous call.</p><p>Used to set a time limit on how long to wait for a response using either
<a href="#receive_response/2"><code class="inline">receive_response/2</code></a>, <a href="#receive_response/3"><code class="inline">receive_response/3</code></a>, <a href="#wait_response/2"><code class="inline">wait_response/2</code></a>, or
<a href="#wait_response/3"><code class="inline">wait_response/3</code></a>. The time unit used is <code class="inline">millisecond</code>.</p><p>Currently valid values:</p><ul><li><p><strong><code class="inline">0..4294967295</code></strong> - Time-out relative to current time in milliseconds.</p></li><li><p><strong><code class="inline">infinity</code></strong> - Infinite time-out. That is,
the operation will never time out.</p></li><li><p><strong><code class="inline">{abs, Timeout}</code></strong> - An absolute
<a href="../../apps/erts/erlang.html#monotonic_time/1">Erlang monotonic time</a>
time-out in milliseconds. That is, the operation will time out when
<a href="../../apps/erts/erlang.html#monotonic_time/1"><code class="inline">erlang:monotonic_time(millisecond)</code></a>
returns a value larger than or equal to <code class="inline">Timeout</code>.
<code class="inline">Timeout</code> is not allowed to identify a time further into the future
than <code class="inline">4294967295</code> milliseconds.  Specifying the time-out
using an absolute value is especially handy when you have
a deadline for responses corresponding to a complete collection
of requests (<a href="#t:request_id_collection/0"><code class="inline">request_id_collection/0</code></a>), since you do not have to
recalculate the relative time until the deadline over and over again.</p></li></ul>
  </section>
</section>
<section class="detail" id="t:server_name/0">

  <div class="detail-header">
    <a href="#t:server_name/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">server_name()</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L841" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> server_name() ::
          {local, LocalName :: <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>()} |
          {global, GlobalName :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} |
          {via, RegMod :: <a href="../../apps/erts/erlang.html#t:module/0">module</a>(), ViaName :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}.</pre>

      </div>

<p>Server name specification: <code class="inline">local</code>, <code class="inline">global</code>, or <code class="inline">via</code> registered.</p><p>To be used when starting a <code class="inline">gen_server</code>.  See functions
<a href="#start/3"><code class="inline">start/3,4</code></a>,
<a href="#start_link/3"><code class="inline">start_link/3,4</code></a>,
<a href="#start_monitor/3"><code class="inline">start_monitor/3,4</code></a>,
<a href="#enter_loop/3"><code class="inline">enter_loop/3,4,5</code></a>, and the type <a href="#t:server_ref/0"><code class="inline">server_ref/0</code></a>.</p><ul><li><p><strong><code class="inline">{local, LocalName}</code></strong> - Register the <code class="inline">gen_server</code> locally
as <code class="inline">LocalName</code> using <a href="../../apps/erts/erlang.html#register/2"><code class="inline">register/2</code></a>.</p></li><li><p><strong><code class="inline">{global, GlobalName}</code></strong> - Register the <code class="inline">gen_server</code> process id
globally as <code class="inline">GlobalName</code> using <a href="../../apps/kernel/global.html#register_name/2"><code class="inline">global:register_name/2</code></a>.</p></li><li><p><strong><code class="inline">{via, RegMod, ViaName}</code></strong> - Register the <code class="inline">gen_server</code> process
with the registry represented by <code class="inline">RegMod</code>. The <code class="inline">RegMod</code> callback
is to export the functions <code class="inline">register_name/2</code>, <code class="inline">unregister_name/1</code>,
<code class="inline">whereis_name/1</code>, and <code class="inline">send/2</code>, which are to behave like
the corresponding functions in <a href="../../apps/kernel/global.html"><code class="inline">global</code></a>.
Thus, <code class="inline">{via, global, GlobalName}</code> is a valid reference
equivalent to <code class="inline">{global, GlobalName}</code>.</p></li></ul>
  </section>
</section>
<section class="detail" id="t:server_ref/0">

  <div class="detail-header">
    <a href="#t:server_ref/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">server_ref()</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L870" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> server_ref() ::
          <a href="../../apps/erts/erlang.html#t:pid/0">pid</a>() |
          (LocalName :: <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>()) |
          {Name :: <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>(), Node :: <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>()} |
          {global, GlobalName :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} |
          {via, RegMod :: <a href="../../apps/erts/erlang.html#t:module/0">module</a>(), ViaName :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}.</pre>

      </div>

<p>Server specification: <a href="../../apps/erts/erlang.html#t:pid/0"><code class="inline">pid/0</code></a> or registered <a href="#t:server_name/0"><code class="inline">server_name/0</code></a>.</p><p>To be used when addressing a <code class="inline">gen_server</code>.  See <a href="#call/2"><code class="inline">call/2,3</code></a>,
<a href="#cast/2"><code class="inline">cast/2</code></a>, <a href="#send_request/2"><code class="inline">send_request/2</code></a>, <a href="#check_response/2"><code class="inline">check_response/2</code></a>, <a href="#wait_response/2"><code class="inline">wait_response/2</code></a>,
<a href="#stop/1"><code class="inline">stop/2,3</code></a> and the type <a href="#t:server_name/0"><code class="inline">server_name/0</code></a>.</p><p>It can be:</p><ul><li><p><strong><a href="../../apps/erts/erlang.html#t:pid/0"><code class="inline">pid/0</code></a></strong> - The <code class="inline">gen_server</code>'s process identifier.</p></li><li><p><strong><code class="inline">LocalName</code></strong> - The <code class="inline">gen_server</code> is locally registered
as <code class="inline">LocalName</code> with <a href="../../apps/erts/erlang.html#register/2"><code class="inline">register/2</code></a>.</p></li><li><p><strong><code class="inline">{Name,Node}</code></strong> - The <code class="inline">gen_server</code> is locally registered
on another node.</p></li><li><p><strong><code class="inline">{global, GlobalName}</code></strong> - The <code class="inline">gen_server</code> is globally registered
in <a href="../../apps/kernel/global.html"><code class="inline">global</code></a>.</p></li><li><p><strong><code class="inline">{via, RegMod, ViaName}</code></strong> - The <code class="inline">gen_server</code> is registered
in an alternative process registry.  See the same term
described for <a href="#t:server_name/0"><code class="inline">server_name/0</code></a>.</p></li></ul>
  </section>
</section>
<section class="detail" id="t:start_mon_ret/0">

  <div class="detail-header">
    <a href="#t:start_mon_ret/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">start_mon_ret()</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L964" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> start_mon_ret() ::
          {ok, {Pid :: <a href="../../apps/erts/erlang.html#t:pid/0">pid</a>(), MonRef :: <a href="../../apps/erts/erlang.html#t:reference/0">reference</a>()}} | ignore | {error, Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}.</pre>

      </div>

<p>Return value from the <a href="#start_monitor/3"><code class="inline">start_monitor/3,4</code></a> functions.</p><p>The same as type <a href="#t:start_ret/0"><code class="inline">start_ret/0</code></a> except that for a succesful start
it returns both the process identifier <code class="inline">Pid</code>
and a <a href="../../apps/erts/erlang.html#monitor/2"><code class="inline">monitor/2,3</code></a> <a href="../../apps/erts/erlang.html#t:reference/0"><code class="inline">MonRef</code></a>.</p>
  </section>
</section>
<section class="detail" id="t:start_opt/0">

  <div class="detail-header">
    <a href="#t:start_opt/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">start_opt()</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L900" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> start_opt() ::
          {timeout, Timeout :: <a href="../../apps/erts/erlang.html#t:timeout/0">timeout</a>()} |
          {spawn_opt, SpawnOptions :: [<a href="proc_lib.html#t:start_spawn_option/0">proc_lib:start_spawn_option</a>()]} |
          <a href="#t:enter_loop_opt/0">enter_loop_opt</a>().</pre>

      </div>

<p>Server start options for the <a href="#start_link/3"><code class="inline">start</code> functions</a>.</p><p>Options that can be used when starting a <code class="inline">gen_server</code> server through,
for example, <a href="#start_link/4"><code class="inline">start_link/3,4</code></a>.</p><ul><li><p><strong><code class="inline">{timeout, Timeout}</code></strong> - How many milliseconds
the <code class="inline">gen_server</code> process is allowed to spend initializing
or it is terminated and the start function returns <code class="inline">{error, timeout}</code>.</p></li><li><p><strong><code class="inline">{spawn_opt, SpawnOptions}</code></strong> - The <code class="inline">SpawnOptions</code> option list
is passed to the function used to spawn the <code class="inline">gen_server</code>;
see <a href="proc_lib.html#t:start_spawn_option/0"><code class="inline">proc_lib:start_spawn_option/0</code></a>).</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>Using spawn option <code class="inline">monitor</code> is not allowed -
it causes a <code class="inline">badarg</code> failure.</p></section></li><li><p><strong><a href="#t:enter_loop_opt/0"><code class="inline">enter_loop_opt/0</code></a></strong> - See the type <a href="#t:enter_loop_opt/0"><code class="inline">enter_loop_opt/0</code></a>
below for more start options that are also allowed
by <a href="#enter_loop/3"><code class="inline">enter_loop/3,4,5</code></a>.</p></li></ul>
  </section>
</section>
<section class="detail" id="t:start_ret/0">

  <div class="detail-header">
    <a href="#t:start_ret/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">start_ret()</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L952" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> start_ret() :: {ok, Pid :: <a href="../../apps/erts/erlang.html#t:pid/0">pid</a>()} | ignore | {error, Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}.</pre>

      </div>

<p>Return value from the <a href="#start/3"><code class="inline">start/3,4</code></a> and
<a href="#start_link/3"><code class="inline">start_link/3,4</code></a> functions.</p><ul><li><p><strong><code class="inline">{ok, Pid}</code></strong> - The <code class="inline">gen_server</code> process was succesfully created and
initialized, with the process identifier <code class="inline">Pid</code>.</p></li><li><p><strong><code class="inline">{error, {already_started, OtherPid}}</code></strong> - A process with the specified
<code class="inline">ServerName</code> exists already with the process identifier <code class="inline">OtherPid</code>.
This function failed to start a <code class="inline">gen_server</code>.  It exited with reason
<code class="inline">normal</code> before calling <a href="#c:init/1"><code class="inline">Module:init/1</code></a>.</p></li><li><p><strong><code class="inline">{error, timeout}</code></strong> - The <code class="inline">gen_server</code> process failed to initialize
since <a href="#c:init/1"><code class="inline">Module:init/1</code></a> did not return within the
<a href="#t:start_opt/0">start time-out</a>. The <code class="inline">gen_server</code> process was killed
with <a href="../../apps/erts/erlang.html#exit/2"><code class="inline">exit(_, kill)</code></a>.</p></li><li><p><strong><code class="inline">ignore</code></strong> - The <code class="inline">gen_server</code> process failed to initialize since
<a href="#c:init/1"><code class="inline">Module:init/1</code></a> returned <code class="inline">ignore</code>.</p></li><li><p><strong><code class="inline">{error,Reason}</code></strong> - The <code class="inline">gen_server</code> process failed to initialize since
<a href="#c:init/1"><code class="inline">Module:init/1</code></a> returned <code class="inline">{stop,Reason}</code>, <code class="inline">{error,Reason}</code>,
or it failed with reason <code class="inline">Reason</code>.</p></li></ul><p>See <a href="#c:init/1"><code class="inline">Module:init/1</code></a> about the exit reason
for the <code class="inline">gen_server</code> process when it fails to initialize.</p>
  </section>
</section>
<section class="detail" id="t:timeout_option/0">

  <div class="detail-header">
    <a href="#t:timeout_option/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">timeout_option()</h1>

        <span class="note">(not exported)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L675" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> timeout_option() :: {abs, Abs :: <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()}.</pre>

      </div>

<p>Time-out timer start option, to select absolute time of expiry.</p><p>If <code class="inline">Abs</code> is <code class="inline">true</code> an absolute timer is started,
and if it is <code class="inline">false</code> a relative, which is the default.
See <a href="../../apps/erts/erlang.html#start_timer/4"><code class="inline">erlang:start_timer/4</code></a> for details.</p>
  </section>
</section>

    </div>
  </section>

  <section id="callbacks" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#callbacks">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Callbacks</span>
    </h1>
    <div class="callbacks-list">
<section class="detail" id="c:code_change/3">

  <div class="detail-header">
    <a href="#c:code_change/3" class="detail-link" data-no-tooltip="" aria-label="Link to this callback">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">code_change(OldVsn, State, Extra)</h1>

        <span class="note">(optional)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L531" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-callback</span> code_change(OldVsn :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>() | {down, <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}, State :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), Extra :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()) ->
                         {ok, NewState :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} | {error, Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}.</pre>

      </div>

<p>Update the server state after code change.</p><p>This function is called by a <code class="inline">gen_server</code> process when it is to update
its internal state during a release upgrade/downgrade, that is,
when the instruction <code class="inline">{update, Module, Change, ...}</code>, is specified
in the <a href="../../apps/sasl/appup.html"><code class="inline">appup</code></a> file.</p><p>For more information, see section
<a href="../../system/release_handling.html#instr">Release Handling Instructions</a>
in OTP Design Principles.</p><p>For an upgrade, <code class="inline">OldVsn</code> is <code class="inline">Vsn</code>, and for a downgrade, <code class="inline">OldVsn</code> is
<code class="inline">{down,Vsn}</code>.  <code class="inline">Vsn</code> is defined by the <code class="inline">vsn</code> attribute(s)
of the old version of the callback module <code class="inline">Module</code>.  If no such attribute
is defined, the version is the checksum of the Beam file.</p><p><code class="inline">State</code> is the internal state of the <code class="inline">gen_server</code> process.</p><p><code class="inline">Extra</code> is passed &quot;as is&quot; from the <code class="inline">{advanced,Extra}</code> part
of the update instruction.</p><p>If successful, the function must return the updated internal state.</p><p>If the function returns <code class="inline">{error,Reason}</code>,
the ongoing upgrade fails and rolls back to the old release.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>If a release upgrade/downgrade with <code class="inline">Change = {advanced, Extra}</code>
specified in the <a href="../../apps/sasl/appup.html"><code class="inline">.appup</code></a> file is made when
<a href="#c:code_change/3"><code class="inline">Module:code_change/3</code></a> is not implemented,
the callback call will crash with an <code class="inline">undef</code> error reason.</p></section>
  </section>
</section>
<section class="detail" id="c:format_status/1">

  <div class="detail-header">
    <a href="#c:format_status/1" class="detail-link" data-no-tooltip="" aria-label="Link to this callback">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">format_status(Status)</h1>

        <span class="note">(since OTP 25.0)</span>

        <span class="note">(optional)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L658" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-callback</span> format_status(Status) -> NewStatus when Status :: <a href="#t:format_status/0">format_status</a>(), NewStatus :: <a href="#t:format_status/0">format_status</a>().</pre>

      </div>

<p>Format/limit the status value.</p><p>This function is called by a <code class="inline">gen_server</code> process in in order to
format/limit the server state for debugging and logging purposes.</p><p>It is called in the following situations:</p><ul><li><a href="sys.html#get_status/1"><code class="inline">sys:get_status/1,2</code></a> is invoked
to get the <code class="inline">gen_server</code> status.</li><li>The <code class="inline">gen_server</code> process terminates abnormally and logs an error.</li></ul><p>This callback is used to limit the status of the process returned by
<a href="sys.html#get_status/1"><code class="inline">sys:get_status/1,2</code></a> or sent to <a href="../../apps/kernel/logger.html"><code class="inline">logger</code></a>.</p><p>The callback gets a map <code class="inline">Status</code> describing the current status
and shall return a map <code class="inline">NewStatus</code> with the same keys,
but it may transform some values.</p><p>Two possible use cases for this callback is to remove
sensitive information from the state to prevent it from being printed
in log files, or to compact large irrelevant status items
that would only clutter the logs.</p><p>Example:</p><pre><code class="makeup erlang" translate="no"><span class="nf">format_status</span><span class="p" data-group-id="2769653538-1">(</span><span class="n">Status</span><span class="p" data-group-id="2769653538-1">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
  </span><span class="nc">maps</span><span class="p">:</span><span class="nf">map</span><span class="p" data-group-id="2769653538-2">(</span><span class="w">
    </span><span class="nf">fun</span><span class="p" data-group-id="2769653538-3">(</span><span class="ss">state</span><span class="p">,</span><span class="n">State</span><span class="p" data-group-id="2769653538-3">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="nc">maps</span><span class="p">:</span><span class="nf">remove</span><span class="p" data-group-id="2769653538-4">(</span><span class="ss">private_key</span><span class="p">,</span><span class="w"> </span><span class="n">State</span><span class="p" data-group-id="2769653538-4">)</span><span class="p">;</span><span class="w">
       </span><span class="p" data-group-id="2769653538-5">(</span><span class="ss">message</span><span class="p">,</span><span class="p" data-group-id="2769653538-6">{</span><span class="ss">password</span><span class="p">,</span><span class="w"> </span><span class="p">_</span><span class="n">Pass</span><span class="p" data-group-id="2769653538-6">}</span><span class="p" data-group-id="2769653538-5">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="p" data-group-id="2769653538-7">{</span><span class="ss">password</span><span class="p">,</span><span class="w"> </span><span class="ss">removed</span><span class="p" data-group-id="2769653538-7">}</span><span class="p">;</span><span class="w">
       </span><span class="p" data-group-id="2769653538-8">(</span><span class="p">_</span><span class="p">,</span><span class="n">Value</span><span class="p" data-group-id="2769653538-8">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="n">Value</span><span class="w">
    </span><span class="k">end</span><span class="p">,</span><span class="w"> </span><span class="n">Status</span><span class="p" data-group-id="2769653538-2">)</span><span class="p">.</span></code></pre><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>This callback is optional, so callback modules need not export it. The
<code class="inline">gen_server</code> module provides a default implementation
of this function that returns the callback module state.</p><p>If this callback is exported but fails,
to hide possibly sensitive data,
the default function will instead return the fact that
<a href="#c:format_status/1"><code class="inline">Module:format_status/1</code></a> has crashed.</p></section>
  </section>
</section>
<section class="detail" id="c:format_status/2">

  <div class="detail-header">
    <a href="#c:format_status/2" class="detail-link" data-no-tooltip="" aria-label="Link to this callback">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">format_status(Opt, StatusData)</h1>

        <span class="note">(since OTP R13B04)</span>

        <span class="note">(optional)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L584" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

    <div class="deprecated">
      This callback is deprecated. the callback gen_server:format_status(_,_) is deprecated; use format_status/1 instead.
    </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-callback</span> format_status(Opt, StatusData) -> Status
                           when
                               Opt :: normal | terminate,
                               StatusData :: [PDict | State],
                               PDict :: [{Key :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), Value :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}],
                               State :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                               Status :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Format/limit the status value.</p><p>This function is called by a <code class="inline">gen_server</code> process
in in order to format/limit the server state
for debugging and logging purposes.</p><p>It is called in the following situations:</p><ul><li>One of <a href="sys.html#get_status/1"><code class="inline">sys:get_status/1,2</code></a> is invoked to get the
<code class="inline">gen_server</code> status. <code class="inline">Opt</code> is set to the atom <code class="inline">normal</code>.</li><li>The <code class="inline">gen_server</code> process terminates abnormally and logs an error.
<code class="inline">Opt</code> is set to the atom <code class="inline">terminate</code>.</li></ul><p>This function is useful for changing the form and appearance
of the <code class="inline">gen_server</code> status for these cases. A callback module
wishing to change the <code class="inline">sys:get_status/1,2</code> return value,
as well as how its status appears in termination error logs,
exports an instance of <a href="#c:format_status/2"><code class="inline">Module:format_status/2</code></a>
that returns a term describing the current status
of the <code class="inline">gen_server</code> process.</p><p><code class="inline">PDict</code> is the current value of the process dictionary
of the <code class="inline">gen_server</code> process..</p><p><code class="inline">State</code> is the internal state of the <code class="inline">gen_server</code> process.</p><p>The function is to return <code class="inline">Status</code>, a term that changes the details
of the current state and status of the <code class="inline">gen_server</code> process.
There are no restrictions of the form <code class="inline">Status</code> can take,
but for the <code class="inline">sys:get_status/1,2</code> case (when <code class="inline">Opt</code> is <code class="inline">normal</code>),
the recommended form for the <code class="inline">Status</code> value is
<code class="inline">[{data, [{&quot;State&quot;, Term}]}]</code>, where <code class="inline">Term</code> provides relevant details
of the <code class="inline">gen_server</code> state.  Following this recommendation is not required,
but it makes the callback module status consistent with the rest of
the <code class="inline">sys:get_status/1,2</code> return value.</p><p>One use for this function is to return compact alternative
state representations to avoid that large state terms are printed
in log files.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>This callback is optional, so callback modules need not export it.
The <code class="inline">gen_server</code> module provides a default implementation
of this function that returns the callback module state.</p></section>
  </section>
</section>
<section class="detail" id="c:handle_call/3">

  <div class="detail-header">
    <a href="#c:handle_call/3" class="detail-link" data-no-tooltip="" aria-label="Link to this callback">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">handle_call(Request, From, State)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L366" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-callback</span> handle_call(Request :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), From :: <a href="#t:from/0">from</a>(), State :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()) ->
                         {reply, Reply :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), NewState :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} |
                         {reply, Reply :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), NewState :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), Action :: <a href="#t:action/0">action</a>()} |
                         {noreply, NewState :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} |
                         {noreply, NewState :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), Action :: <a href="#t:action/0">action</a>()} |
                         {stop, Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), Reply :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), NewState :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} |
                         {stop, Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), NewState :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}.</pre>

      </div>

<p>Handle a call.</p><p>Whenever a <code class="inline">gen_server</code> process receives a request sent using
<a href="#call/3"><code class="inline">call/2,3</code></a>, <a href="#multi_call/4"><code class="inline">multi_call/2,3,4</code></a>,
or <a href="#send_request/4"><code class="inline">send_request/2,4</code></a>, this function is called
to handle the request.</p><p><code class="inline">State</code> is the internal state of the <code class="inline">gen_server</code> process,
and <code class="inline">NewState</code> a possibly updated one.</p><p><code class="inline">Request</code> is passed from the same argument provided
to <code class="inline">call</code> or <code class="inline">multi_call</code>.</p><p>The return value <code class="inline">Result</code> is interpreted as follows:</p><ul><li><p><strong><code class="inline">{reply,Reply,NewState}</code><br/><code class="inline">{reply,Reply,NewState,_}</code></strong> - The <code class="inline">Reply</code> value is sent back
to the client request and there becomes its return value.</p><p>The <code class="inline">gen_server</code> process continues executing with the possibly updated
internal state <code class="inline">NewState</code>.</p></li><li><p><strong><code class="inline">{noreply,NewState}</code><br/><code class="inline">{noreply,NewState,_}</code></strong> - The <code class="inline">gen_server</code> process
continues executing with the possibly updated internal state <code class="inline">NewState</code>.</p><p>A reply to the client request has to be created by calling
<a href="#reply/2"><code class="inline">reply(From, Reply)</code></a>, either in this
or in a later callback.</p></li><li><p><strong><code class="inline">{reply,_,_,Action}</code><br/><code class="inline">{noreply,_,Action}</code></strong> - <code class="inline">Action</code> is described by the <a href="#t:action/0"><code class="inline">action/0</code></a> type.</p></li><li><p><strong><code class="inline">{stop,Reason,NewState}</code><br/><code class="inline">{stop,Reason,Reply,NewState}</code></strong> - The <code class="inline">gen_server</code> process will call
<a href="#c:terminate/2"><code class="inline">Module:terminate(Reason,NewState)</code></a>,
and then terminate.</p><p><code class="inline">{stop,_,Reply,_}</code> will create a reply to the client request just as
<code class="inline">{reply,Reply,...}</code> while <code class="inline">{stop,_,_}</code> will not, so just as for
<code class="inline">{noreply,NewState,...}</code> a reply has to be created by calling
<a href="#reply/2"><code class="inline">reply(From, Reply)</code></a> before returning <code class="inline">{stop,_,_}</code>.</p></li></ul>
  </section>
</section>
<section class="detail" id="c:handle_cast/2">

  <div class="detail-header">
    <a href="#c:handle_cast/2" class="detail-link" data-no-tooltip="" aria-label="Link to this callback">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">handle_cast(Request, State)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L385" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-callback</span> handle_cast(Request :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), State :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()) ->
                         {noreply, NewState :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} |
                         {noreply, NewState :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), Action :: <a href="#t:action/0">action</a>()} |
                         {stop, Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), NewState :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}.</pre>

      </div>

<p>Handle a cast message.</p><p>Whenever a <code class="inline">gen_server</code> process receives a request sent using <a href="#cast/2"><code class="inline">cast/2</code></a>
or <a href="#abcast/2"><code class="inline">abcast/2,3</code></a>, this function is called
to handle the request.</p><p>For a description of the arguments and possible return values,
see <a href="#c:handle_call/3"><code class="inline">Module:handle_call/3</code></a>.</p>
  </section>
</section>
<section class="detail" id="c:handle_continue/2">

  <div class="detail-header">
    <a href="#c:handle_continue/2" class="detail-link" data-no-tooltip="" aria-label="Link to this callback">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">handle_continue(Info, State)</h1>

        <span class="note">(since OTP 21.0)</span>

        <span class="note">(optional)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L439" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-callback</span> handle_continue(Info :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), State :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()) ->
                             {noreply, NewState :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} |
                             {noreply, NewState :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), Action :: <a href="#t:action/0">action</a>()} |
                             {stop, Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), NewState :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}.</pre>

      </div>

<p>Handle a callback continuation.</p><p>This function is called by a <code class="inline">gen_server</code> process whenever
a previous callback returns one of the tuples containing
<code class="inline">{continue, Continue}</code>.  The call is invoked immediately after
the previous callback, which makes it useful for performing work
after initialization or, for splitting the work in a callback
into multiple steps, updating the process state along the way.</p><p>For a description of the other arguments and possible return values,
see <a href="#c:handle_call/3"><code class="inline">Module:handle_call/3</code></a>.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>This callback is optional, so callback modules need to export it
only if they return one of the tuples containing <code class="inline">{continue,Continue}</code>
from another callback.  If such a <code class="inline">{continue,_}</code> tuple is used
and the callback is not implemented, the process will exit
with <code class="inline">undef</code> error.</p></section>
  </section>
</section>
<section class="detail" id="c:handle_info/2">

  <div class="detail-header">
    <a href="#c:handle_info/2" class="detail-link" data-no-tooltip="" aria-label="Link to this callback">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">handle_info(Info, State)</h1>

        <span class="note">(optional)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L411" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-callback</span> handle_info(Info :: timeout | <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), State :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()) ->
                         {noreply, NewState :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} |
                         {noreply, NewState :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), Action :: <a href="#t:action/0">action</a>()} |
                         {stop, Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), NewState :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}.</pre>

      </div>

<p>Handle an info message (regular process message).</p><p>This function is called by a <code class="inline">gen_server</code> process when a time-out occurs
or when it receives any other message than a synchronous
or asynchronous request (or a system message).</p><p><code class="inline">Info</code> is either the atom <code class="inline">timeout</code>, if a time-out has occurred,
or the received message.</p><p>For a description of the other arguments and possible return values,
see <a href="#c:handle_call/3"><code class="inline">Module:handle_call/3</code></a>.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>This callback is optional, so callback modules need not export it.
The <code class="inline">gen_server</code> module provides a default implementation
of this function that logs about the unexpected <code class="inline">Info</code> message,
drops it and returns <code class="inline">{noreply, State}</code>.</p></section>
  </section>
</section>
<section class="detail" id="c:init/1">

  <div class="detail-header">
    <a href="#c:init/1" class="detail-link" data-no-tooltip="" aria-label="Link to this callback">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">init(Args)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L315" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-callback</span> init(Args :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()) ->
                  {ok, State :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} |
                  {ok, State :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), Action :: <a href="#t:action/0">action</a>()} |
                  {stop, Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} |
                  ignore |
                  {error, Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}.</pre>

      </div>

<p>Initialize the server.</p><p>Whenever a <code class="inline">gen_server</code> process is started using <a href="#start/3"><code class="inline">start/3,4</code></a>,
<a href="#start_monitor/3"><code class="inline">start_monitor/3,4</code></a>,
or <a href="#start_link/3"><code class="inline">start_link/3,4</code></a>, this function is called
by the new process to initialize the server.</p><p><code class="inline">Args</code> is the <code class="inline">Args</code> argument provided to the start function.</p><p>The return value <code class="inline">Result</code> is interpreted as follows:</p><ul><li><p><strong><code class="inline">{ok,State}</code><br/><code class="inline">{ok,State,_}</code></strong> - Initialization was succesful
 and <code class="inline">State</code> is the internal state of the <code class="inline">gen_server</code> process.</p></li><li><p><strong><code class="inline">{ok,_,Action}</code></strong>  - <code class="inline">Action</code> is described by the <a href="#t:action/0"><code class="inline">action/0</code></a> type.</p></li><li><p><strong><code class="inline">{stop,Reason}</code></strong> - Initialization failed.  The <code class="inline">gen_server</code>
process exits with reason <code class="inline">Reason</code>.</p></li><li><p><strong><code class="inline">{error,Reason}</code> <em>since OTP 26.0</em><br/><code class="inline">ignore</code></strong> - Initialization failed. The <code class="inline">gen_server</code> process exits
with reason <code class="inline">normal</code>.</p></li></ul><p>See function <a href="#start_link/3"><code class="inline">start_link/3,4</code></a>'s return value
<a href="#t:start_ret/0"><code class="inline">start_ret/0</code></a> in these different cases.</p>
  </section>
</section>
<section class="detail" id="c:terminate/2">

  <div class="detail-header">
    <a href="#c:terminate/2" class="detail-link" data-no-tooltip="" aria-label="Link to this callback">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">terminate(Reason, State)</h1>

        <span class="note">(optional)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L492" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-callback</span> terminate(Reason :: normal | shutdown | {shutdown, <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} | <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), State :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()) -> <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Handle server termination.</p><p>This function is called by a <code class="inline">gen_server</code> process
when it is about to terminate.</p><p>It is to be the opposite of <a href="#c:init/1"><code class="inline">Module:init/1</code></a>
and do any necessary cleaning up.  When it returns,
the <code class="inline">gen_server</code> process terminates with <code class="inline">Reason</code>.
The return value is ignored.</p><p><code class="inline">Reason</code> is a term denoting the stop reason and <code class="inline">State</code>
is the internal state of the <code class="inline">gen_server</code> process.</p><p><code class="inline">Reason</code> depends on why the <code class="inline">gen_server</code> process is terminating.
If it is because another callback function has returned a stop tuple
<code class="inline">{stop,..}</code>, <code class="inline">Reason</code> has the value specified in that tuple.
If it is because of a failure, <code class="inline">Reason</code> is the error reason.</p><p>If the <code class="inline">gen_server</code> process is part of a supervision tree
and is ordered by its supervisor to terminate, this function is called
with <code class="inline">Reason=shutdown</code> if the following conditions apply:</p><ul><li>The <code class="inline">gen_server</code> process has been set to trap exit signals.</li><li>The shutdown strategy as defined in the child specification
of the supervisor is an integer time-out value, not <code class="inline">brutal_kill</code>.</li></ul><p>Even if the <code class="inline">gen_server</code> process is <em>not</em> part of a supervision tree,
this function is called if it receives an <code class="inline">'EXIT'</code> message from its parent.
<code class="inline">Reason</code> is the same as in the <code class="inline">'EXIT'</code> message.</p><p>If the <code class="inline">gen_server</code> process does not trap exits,
the <code class="inline">gen_server</code> process terminates immediately.</p><p>Notice that for any other reason than <code class="inline">normal</code>, <code class="inline">shutdown</code>, or
<code class="inline">{shutdown,Term}</code>, see <a href="#stop/3"><code class="inline">stop/3</code></a>, the <code class="inline">gen_server</code> process is assumed
to terminate because of an error, and an error report is issued
using <a href="../../apps/kernel/logger.html"><code class="inline">logger</code></a>.</p><p>When the gen_server process exits, an exit signal with the same reason
is sent to linked processes and ports.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>This callback is optional, so callback modules need not export it.
The <code class="inline">gen_server</code> module provides a default implementation
with no cleanup.</p></section>
  </section>
</section>

    </div>
  </section>

  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Functions</span>
    </h1>
    <div class="functions-list">
<section class="detail" id="abcast/2">

  <div class="detail-header">
    <a href="#abcast/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">abcast(Name, Request)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L1870" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> abcast(Name :: <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>(), Request :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()) -> abcast.</pre>

      </div>

<p>Cast a request to multiple nodes.</p><p>Equivalent to <a href="#abcast/3"><code class="inline">abcast(Nodes, Name, Request)</code></a>
where <code class="inline">Nodes</code> is all nodes connected to the calling node,
including the calling node itself.</p>
  </section>
</section>
<section class="detail" id="abcast/3">

  <div class="detail-header">
    <a href="#abcast/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">abcast(Nodes, Name, Request)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L1893" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> abcast(Nodes :: [<a href="../../apps/erts/erlang.html#t:node/0">node</a>()], Name :: <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>(), Request :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()) -> abcast.</pre>

      </div>

<p>Cast a request to multiple nodes.</p><p>Sends an asynchronous request to the <code class="inline">gen_server</code> processes
locally registered as <code class="inline">Name</code> at the specified nodes.
The function returns immediately and ignores nodes that do not exist,
or where the <code class="inline">gen_server</code> <code class="inline">Name</code> does not exist.  The  <code class="inline">gen_server</code>
processes call <a href="#c:handle_cast/2"><code class="inline">Module:handle_cast/2</code></a>
to handle the request.</p><p>For a description of the arguments,
see <a href="#multi_call/2"><code class="inline">multi_call/2,3,4</code></a>.</p>
  </section>
</section>
<section class="detail" id="call/2">

  <div class="detail-header">
    <a href="#call/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">call(ServerRef, Request)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L1216" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> call(ServerRef :: <a href="#t:server_ref/0">server_ref</a>(), Request :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()) -> Reply :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Equivalent to <a href="#call/3"><code class="inline">call(ServerRef, Request, 5000)</code></a>.</p>
  </section>
</section>
<section class="detail" id="call/3">

  <div class="detail-header">
    <a href="#call/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">call(ServerRef, Request, Timeout)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L1296" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> call(ServerRef :: <a href="#t:server_ref/0">server_ref</a>(), Request :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), Timeout :: <a href="../../apps/erts/erlang.html#t:timeout/0">timeout</a>()) -> Reply :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Call a server: send request and wait for response.</p><p>Makes a synchronous call to the <code class="inline">ServerRef</code> of the <code class="inline">gen_server</code> process
by sending a request and waiting until a reply arrives
or a time-out occurs.  The <code class="inline">gen_server</code> process calls
<a href="#c:handle_call/3"><code class="inline">Module:handle_call/3</code></a> to handle the request.</p><p>See also <code class="inline">ServerRef</code>'s type <a href="#t:server_ref/0"><code class="inline">server_ref/0</code></a>.</p><p><code class="inline">Request</code> is any term that is passed as the first argument to
<a href="#c:handle_call/3"><code class="inline">Module:handle_call/3</code></a>.</p><p><code class="inline">Timeout</code> is an integer that specifies how many milliseconds to wait
for a reply, or the atom <code class="inline">infinity</code> to wait indefinitely.  If no reply
is received within the specified time, this function exits the calling
process with an exit term containing <code class="inline">Reason = timeout</code> as described below.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>Before OTP 24, if the caller uses (<code class="inline">try</code>...)<code class="inline">catch</code>
to avoid process exit, and the server happens to just be late
with the reply, it may arrive to the process message queue
any time later. The calling process must therefore after
catching a time-out exit be prepared to receive garbage message(s)
of the form <code class="inline">{reference(), _}</code> and deal with them appropriately
(discard them) so they do not clog the process message queue,
or gets mistaken for other messages.</p><p>Starting with OTP 24, <code class="inline">gen_server:call</code> uses process aliases,
so late replies will not be received.</p></section><p>The return value <code class="inline">Reply</code> is passed from the return value of
<a href="#c:handle_call/3"><code class="inline">Module:handle_call/3</code></a>.</p><p>This call may exit the calling process with an exit term on the form
<code class="inline">{Reason, Location}</code> where <code class="inline">Location = {gen_server, call, ArgList}</code>
and <code class="inline">Reason</code> can be (at least) one of:</p><ul><li><p><strong><code class="inline">timeout</code></strong> - The call was aborted after waiting <code class="inline">Timeout</code> milliseconds
for a reply, as described above.</p></li><li><p><strong><code class="inline">noproc</code></strong> - The <code class="inline">ServerRef</code> refers to a server by name (it is not a
<a href="../../apps/erts/erlang.html#t:pid/0"><code class="inline">pid/0</code></a>) and looking up the server process failed, or the <a href="../../apps/erts/erlang.html#t:pid/0"><code class="inline">pid/0</code></a>
was already terminated.</p></li><li><p><strong><code class="inline">{nodedown,Node}</code></strong> - The <code class="inline">ServerRef</code> refers to a server
on the remote node <code class="inline">Node</code> and the connection to that node failed.</p></li><li><p><strong><code class="inline">calling_self</code></strong> - A call to <a href="../../apps/erts/erlang.html#self/0"><code class="inline">self/0</code></a> would hang indefinitely.</p></li><li><p><strong><code class="inline">shutdown</code></strong> - The server was stopped during the call
by its supervisor.  See also <a href="#stop/3"><code class="inline">stop/3</code></a>.</p></li><li><p><strong><code class="inline">normal</code><br/><code class="inline">{shutdown,Term}</code></strong> - The server stopped during the call
by returning <code class="inline">{stop,Reason,_}</code> from one of its callbacks
without replying to this call. See also <a href="#stop/3"><code class="inline">stop/3</code></a>.</p></li><li><p><strong><code class="inline">_OtherTerm</code></strong> - The server process exited during the call,
with reason <code class="inline">Reason</code>. Either by returning <code class="inline">{stop,Reason,_}</code>
from one of its callbacks (without replying to this call),
by raising an exception, or due to getting an exit signal
it did not trap.</p></li></ul>
  </section>
</section>
<section class="detail" id="cast/2">

  <div class="detail-header">
    <a href="#cast/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">cast(ServerRef, Request)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L1809" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> cast(ServerRef :: <a href="#t:server_ref/0">server_ref</a>(), Request :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()) -> ok.</pre>

      </div>

<p>Cast a request to a server.</p><p>Sends an asynchronous request to the <code class="inline">gen_server</code>
<a href="#t:server_ref/0"><code class="inline">ServerRef</code></a> and returns <code class="inline">ok</code> immediately,
ignoring if the destination node or <code class="inline">gen_server</code>
process does not exist.</p><p>The <code class="inline">gen_server</code> process calls
<a href="#c:handle_cast/2"><code class="inline">Module:handle_cast(Request, _)</code></a>
to handle the request.</p>
  </section>
</section>
<section class="detail" id="check_response/2">

  <div class="detail-header">
    <a href="#check_response/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">check_response(Msg, ReqId)</h1>

        <span class="note">(since OTP 23.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L1642" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> check_response(Msg, ReqId) -> Result
                        when
                            Msg :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                            ReqId :: <a href="#t:request_id/0">request_id</a>(),
                            Response ::
                                {reply, Reply :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} | {error, {Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), <a href="#t:server_ref/0">server_ref</a>()}},
                            Result :: Response | no_reply.</pre>

      </div>

<p>Check if a received message is a request response.</p><p>Checks if <code class="inline">Msg</code> is a response corresponding to
the request identifier <code class="inline">ReqId</code>.  The request must have been made
by <a href="#send_request/2"><code class="inline">send_request/2</code></a>, and by the same process calling this function.</p><p>If <code class="inline">Msg</code> is a reply to the handle <code class="inline">ReqId</code> the result of the request
is returned in <code class="inline">Reply</code>.  Otherwise this function returns <code class="inline">no_reply</code>
and no cleanup is done, and thus the function shall be invoked repeatedly
until the response is returned.</p><p>The return value <code class="inline">Reply</code> is passed from the return value of
<a href="#c:handle_call/3"><code class="inline">Module:handle_call/3</code></a>.</p><p>If the <code class="inline">gen_statem</code> server process has died when this function
is called, that is; <code class="inline">Msg</code> reports the server's death,
this function returns an <code class="inline">error</code> return with the exit <code class="inline">Reason</code>.</p>
  </section>
</section>
<section class="detail" id="check_response/3">

  <div class="detail-header">
    <a href="#check_response/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">check_response(Msg, ReqIdCollection, Delete)</h1>

        <span class="note">(since OTP 25.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L1707" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> check_response(Msg, ReqIdCollection, Delete) -> Result
                        when
                            Msg :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                            ReqIdCollection :: <a href="#t:request_id_collection/0">request_id_collection</a>(),
                            Delete :: <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>(),
                            Response ::
                                {reply, Reply :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} | {error, {Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), <a href="#t:server_ref/0">server_ref</a>()}},
                            Result ::
                                {Response,
                                 Label :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                 NewReqIdCollection :: <a href="#t:request_id_collection/0">request_id_collection</a>()} |
                                no_request | no_reply.</pre>

      </div>

<p>Check if a received message is a request response in a collection.</p><p>Check if <code class="inline">Msg</code> is a response corresponding to a request identifier
stored in <code class="inline">ReqIdCollection</code>.  All request identifiers of <code class="inline">ReqIdCollection</code>
must correspond to requests that have been made using <a href="#send_request/2"><code class="inline">send_request/2</code></a>
or <a href="#send_request/4"><code class="inline">send_request/4</code></a>, by the process calling this function.</p><p>The <code class="inline">Label</code> in the response equals the <code class="inline">Label</code> associated
with the request identifier that the response corresponds to.
The <code class="inline">Label</code> of a request identifier is associated
when <a href="#reqids_add/3">storing the request id</a> in a collection,
or when sending the request using <a href="#send_request/4"><code class="inline">send_request/4</code></a>.</p><p>Compared to <a href="#check_response/2"><code class="inline">check_response/2</code></a>, the returned result or exception
associated with a specific request identifier will be wrapped
in a 3-tuple <code class="inline">{Response, Label, NewReqIdCollection}</code>.
<code class="inline">Response</code> is the value that would have been produced
by <a href="#check_response/2"><code class="inline">check_response/2</code></a>, <code class="inline">Label</code> is the value associated with
the specific <a href="#t:request_id/0">request identifier</a>
and <code class="inline">NewReqIdCollection</code> is a possibly modified
request identifier collection.</p><p>If <code class="inline">ReqIdCollection</code> is empty, <code class="inline">no_request</code> will be returned.</p><p>If <code class="inline">Msg</code> does not correspond to any of the request identifiers
in <code class="inline">ReqIdCollection</code>, <code class="inline">no_reply</code> is returned.</p><p>If <code class="inline">Delete</code> is <code class="inline">true</code>, the association with <code class="inline">Label</code>
has been deleted from <code class="inline">ReqIdCollection</code> in the resulting
<code class="inline">NewReqIdCollection</code>.  If <code class="inline">Delete</code> is <code class="inline">false</code>, <code class="inline">NewReqIdCollection</code>
will equal <code class="inline">ReqIdCollection</code>.  Note that deleting an association
is not for free and that a collection containing already handled
requests can still be used by subsequent calls to
<a href="#check_response/3"><code class="inline">check_response/3</code></a>, <a href="#receive_response/3"><code class="inline">receive_response/3</code></a>, and <a href="#wait_response/3"><code class="inline">wait_response/3</code></a>.</p><p>However, without deleting handled associations,
the above calls will not be able to detect when there are
no more outstanding requests to handle, so you will have to keep track
of this some other way than relying on a <code class="inline">no_request</code> return.
Note that if you pass a collection only containing
associations of already handled or abandoned requests to
this function, it will always return <code class="inline">no_reply</code>.</p>
  </section>
</section>
<section class="detail" id="enter_loop/3">

  <div class="detail-header">
    <a href="#enter_loop/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">enter_loop(Module, Options, State)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L2115" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> enter_loop(Module :: <a href="../../apps/erts/erlang.html#t:module/0">module</a>(), Options :: [<a href="#t:enter_loop_opt/0">enter_loop_opt</a>()], State :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()) -> <a href="../../apps/erts/erlang.html#t:no_return/0">no_return</a>().</pre>

      </div>

<p>Equivalent to <a href="#enter_loop/4"><code class="inline">enter_loop(Mod, Options, State, self())</code></a>.</p>
  </section>
</section>
<section class="detail" id="enter_loop/4">

  <div class="detail-header">
    <a href="#enter_loop/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">enter_loop/4</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L2144" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> enter_loop(Module :: <a href="../../apps/erts/erlang.html#t:module/0">module</a>(),
                 Options :: [<a href="#t:enter_loop_opt/0">enter_loop_opt</a>()],
                 State :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                 ServerName :: <a href="#t:server_name/0">server_name</a>() | <a href="../../apps/erts/erlang.html#t:pid/0">pid</a>()) ->
                    <a href="../../apps/erts/erlang.html#t:no_return/0">no_return</a>();
                (Module :: <a href="../../apps/erts/erlang.html#t:module/0">module</a>(), Options :: [<a href="#t:enter_loop_opt/0">enter_loop_opt</a>()], State :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), Action :: <a href="#t:action/0">action</a>()) ->
                    <a href="../../apps/erts/erlang.html#t:no_return/0">no_return</a>().</pre>

      </div>

<p>Make the calling process become a <code class="inline">gen_server</code> process.</p><p>With argument <code class="inline">ServerName</code> equivalent to
<a href="#enter_loop/5"><code class="inline">enter_loop(Module, Options, State, ServerName, infinity)</code></a>.</p><p>With argument <code class="inline">Action</code> equivalent to
<a href="#enter_loop/5"><code class="inline">enter_loop(Module, Options, State, self(), Action)</code></a>.</p>
  </section>
</section>
<section class="detail" id="enter_loop/5">

  <div class="detail-header">
    <a href="#enter_loop/5" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">enter_loop(Module, Options, State, ServerName, Action)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L2206" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> enter_loop(Module :: <a href="../../apps/erts/erlang.html#t:module/0">module</a>(),
                 Options :: [<a href="#t:enter_loop_opt/0">enter_loop_opt</a>()],
                 State :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                 ServerName :: <a href="#t:server_name/0">server_name</a>() | <a href="../../apps/erts/erlang.html#t:pid/0">pid</a>(),
                 Action :: <a href="#t:action/0">action</a>()) ->
                    <a href="../../apps/erts/erlang.html#t:no_return/0">no_return</a>().</pre>

      </div>

<p>Make the calling process become a <code class="inline">gen_server</code> process.</p><p>Does not return, instead the calling process enters the <code class="inline">gen_server</code>
process receive loop and becomes a <code class="inline">gen_server</code> process.
The process <em>must</em> have been started using one of the start functions
in <a href="proc_lib.html"><code class="inline">proc_lib</code></a>.  The user is responsible for any initialization
of the process, including registering a name for it.</p><p>This function is useful when a more complex initialization procedure
is needed than the <code class="inline">gen_server</code> <a href="#c:init/1"><code class="inline">Module:init/1</code></a>;
callback provides.</p><p><code class="inline">Module</code>, <code class="inline">Options</code>, and <code class="inline">ServerName</code> have the same meanings
as when calling <a href="#start_link/3"><code class="inline">start[_link|_monitor]/3,4</code></a>
or <code class="inline">ServerName</code> can be <a href="../../apps/erts/erlang.html#self/0"><code class="inline">self/0</code></a> for an anonymous server,
which is the same as calling an <code class="inline">enter_loop/3,4</code> function
without a <code class="inline">ServerName</code> argument.  However, if <code class="inline">ServerName</code>
is specified (and not as <a href="../../apps/erts/erlang.html#self/0"><code class="inline">self/0</code></a>), the process must have been registered
accordingly <em>before</em> this function is called.</p><p><code class="inline">State</code> has the same meanings as in the return value of
<a href="#c:init/1"><code class="inline">Module:init/1</code></a>, which is <em>not</em> called when
<a href="#enter_loop/3"><code class="inline">enter_loop/3,4,5</code></a> is used.  Note that
to adhere to the <a href="../../system/gen_server_concepts.html">gen_server Behaviour</a>
such a callback function needs to be defined, and it might as well
be the one used when starting the <code class="inline">gen_server</code> process
through <code class="inline">proc_lib</code>, and then be the one that calls <code class="inline">enter_loop/3,4,5</code>.
But if such a <a href="#c:init/1"><code class="inline">Module:init/1</code></a> function,
in for example error cases, cannot call <code class="inline">enter_loop/3,4,5</code>,
it should return a value that follows the type specification
for <a href="#c:init/1"><code class="inline">Module:init/1</code></a> such as <code class="inline">ignore</code>,
although that value will be lost when returning to the spawning function.</p><p><code class="inline">Action</code> is described by the <a href="#t:action/0"><code class="inline">action/0</code></a> type.</p><p>This function fails if the calling process was not started
by a <code class="inline">proc_lib</code> start function, or if it is not registered
according to <code class="inline">ServerName</code>.</p>
  </section>
</section>
<section class="detail" id="multi_call/2">

  <div class="detail-header">
    <a href="#multi_call/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">multi_call(Name, Request)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L1928" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> multi_call(Name :: <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>(), Request :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()) ->
                    {Replies :: [{Node :: <a href="../../apps/erts/erlang.html#t:node/0">node</a>(), Reply :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}], BadNodes :: [<a href="../../apps/erts/erlang.html#t:node/0">node</a>()]}.</pre>

      </div>

<p>Call servers on multiple nodes in parallel.</p><p>Equivalent to <a href="#multi_call/3"><code class="inline">multi_call(Nodes, Name, Request)</code></a>
where <code class="inline">Nodes</code> is all nodes connected to the calling node,
including the calling node itself.</p>
  </section>
</section>
<section class="detail" id="multi_call/3">

  <div class="detail-header">
    <a href="#multi_call/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">multi_call(Nodes, Name, Request)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L1943" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> multi_call(Nodes :: [<a href="../../apps/erts/erlang.html#t:node/0">node</a>()], Name :: <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>(), Request :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()) ->
                    {Replies :: [{Node :: <a href="../../apps/erts/erlang.html#t:node/0">node</a>(), Reply :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}], BadNodes :: [<a href="../../apps/erts/erlang.html#t:node/0">node</a>()]}.</pre>

      </div>

<p>Equivalent to <a href="#multi_call/4"><code class="inline">multi_call(Nodes, Name, Request, infinity)</code></a>.</p>
  </section>
</section>
<section class="detail" id="multi_call/4">

  <div class="detail-header">
    <a href="#multi_call/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">multi_call(Nodes, Name, Request, Timeout)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L2005" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> multi_call(Nodes :: [<a href="../../apps/erts/erlang.html#t:node/0">node</a>()], Name :: <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>(), Request :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), Timeout :: <a href="../../apps/erts/erlang.html#t:timeout/0">timeout</a>()) ->
                    {Replies :: [{Node :: <a href="../../apps/erts/erlang.html#t:node/0">node</a>(), Reply :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}], BadNodes :: [<a href="../../apps/erts/erlang.html#t:node/0">node</a>()]}.</pre>

      </div>

<p>Call servers on multiple nodes in parallel.</p><p>Makes a synchronous call to all <code class="inline">gen_server</code> processes
locally registered as <code class="inline">Name</code> at the specified nodes,
by first sending the request to the nodes, and then waiting
for the replies. The <code class="inline">gen_server</code> processes on the nodes call
<a href="#c:handle_call/3"><code class="inline">Module:handle_call/3</code></a> to handle the request.</p><p>The function returns a tuple <code class="inline">{Replies, BadNodes}</code>,
where <code class="inline">Replies</code> is a list of <code class="inline">{Node, Reply}</code> tuples,
and <code class="inline">BadNodes</code> is a list of nodes that either did not exist,
where <code class="inline">Name</code> was not a registered <code class="inline">gen_server</code>,
or where it did not reply.</p><p><code class="inline">Nodes</code> is a list of node names to which the request is to be sent.</p><p><code class="inline">Name</code> is the locally registered name for each <code class="inline">gen_server</code> process.</p><p><code class="inline">Request</code> is any term that is passed as the first argument to
<a href="#c:handle_call/3"><code class="inline">Module:handle_call/3</code></a>.</p><p><code class="inline">Timeout</code> is an integer that specifies how many milliseconds
to wait for all replies, or the atom <code class="inline">infinity</code> to wait indefinitely.
If no reply is received from a node within the specified time,
the node is added to <code class="inline">BadNodes</code>.</p><p>When a reply <code class="inline">Reply</code> is received from the <code class="inline">gen_server</code> process
at a node <code class="inline">Node</code>, <code class="inline">{Node,Reply}</code> is added to <code class="inline">Replies</code>.
<code class="inline">Reply</code> is passed from the return value of
<a href="#c:handle_call/3"><code class="inline">Module:handle_call/3</code></a>.</p><section role="note" class="admonition warning"><h4 class="admonition-title warning">Warning</h4><p>If one of the nodes cannot process monitors, for example,
C or Java nodes, and the <code class="inline">gen_server</code> process is not started
when the requests are sent, but starts within 2 seconds,
this function waits the whole <code class="inline">Timeout</code>, which may be infinity.</p><p>This problem does not exist if all nodes are Erlang nodes.</p></section><p>To prevent late answers (after the time-out)
from polluting the message queue of the caller,
a middleman process is used to do the calls.
Late answers are then discarded when they arrive to
the terminated middleman process.</p>
  </section>
</section>
<section class="detail" id="receive_response/2">

  <div class="detail-header">
    <a href="#receive_response/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">receive_response(ReqId, Timeout)</h1>

        <span class="note">(since OTP 24.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L1531" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> receive_response(ReqId, Timeout) -> Result
                          when
                              ReqId :: <a href="#t:request_id/0">request_id</a>(),
                              Timeout :: <a href="#t:response_timeout/0">response_timeout</a>(),
                              Response ::
                                  {reply, Reply :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} | {error, {Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), <a href="#t:server_ref/0">server_ref</a>()}},
                              Result :: Response | timeout.</pre>

      </div>

<p>Receive a request response.</p><p>Receive a response corresponding to the request identifier <code class="inline">ReqId</code>.
The request must have been made by <a href="#send_request/2"><code class="inline">send_request/2</code></a>,
and it must have been made by the same process calling this function.</p><p><code class="inline">Timeout</code> specifies how long to wait for a response.
If no response is received within the specified time,
this function returns <code class="inline">timeout</code>.  Assuming that the
server executes on a node supporting aliases (introduced in OTP 24)
the request will also be abandoned.  That is,
no response will be received after a time-out.
Otherwise, a stray response might be received at a later time.</p><p>The return value <code class="inline">Reply</code> is passed from the return value of
<a href="#c:handle_call/3"><code class="inline">Module:handle_call/3</code></a>.</p><p>The function returns an error if the <code class="inline">gen_server</code> died
before a reply was sent.</p><p>The difference between <a href="#receive_response/2"><code class="inline">receive_response/2</code></a> and <a href="#wait_response/2"><code class="inline">wait_response/2</code></a>
is that <a href="#receive_response/2"><code class="inline">receive_response/2</code></a> abandons the request at time-out
so that a potential future response is ignored,
while <a href="#wait_response/2"><code class="inline">wait_response/2</code></a> does not.</p>
  </section>
</section>
<section class="detail" id="receive_response/3">

  <div class="detail-header">
    <a href="#receive_response/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">receive_response(ReqIdCollection, Timeout, Delete)</h1>

        <span class="note">(since OTP 25.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L1607" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> receive_response(ReqIdCollection, Timeout, Delete) -> Result
                          when
                              ReqIdCollection :: <a href="#t:request_id_collection/0">request_id_collection</a>(),
                              Timeout :: <a href="#t:response_timeout/0">response_timeout</a>(),
                              Delete :: <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>(),
                              Response ::
                                  {reply, Reply :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} | {error, {Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), <a href="#t:server_ref/0">server_ref</a>()}},
                              Result ::
                                  {Response,
                                   Label :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                   NewReqIdCollection :: <a href="#t:request_id_collection/0">request_id_collection</a>()} |
                                  no_request | timeout.</pre>

      </div>

<p>Receive a request response in a collection.</p><p>Receive a response in <code class="inline">ReqIdCollection</code>. All request identifiers
of <code class="inline">ReqIdCollection</code> must correspond to requests that have been made
using <a href="#send_request/2"><code class="inline">send_request/2</code></a> or <a href="#send_request/4"><code class="inline">send_request/4</code></a>, and all requests
must have been made by the process calling this function.</p><p>The <code class="inline">Label</code> in the response is the <code class="inline">Label</code> associated with
the request identifier that the response corresponds to.
The <code class="inline">Label</code> of a request identifier is associated
when <a href="#reqids_add/3">adding the request id</a> to a collection,
or when sending the request using <a href="#send_request/4"><code class="inline">send_request/4</code></a>.</p><p>Compared to <a href="#receive_response/2"><code class="inline">receive_response/2</code></a>, the returned result or exception
associated with a specific request identifier will be wrapped
in a 3-tuple <code class="inline">{Response, Label, NewReqIdCollection}</code>.
<code class="inline">Response</code> is the value that would have been produced
by <a href="#receive_response/2"><code class="inline">receive_response/2</code></a>, <code class="inline">Label</code> is the value associated with
the specific <a href="#t:request_id/0">request identifier</a>
and <code class="inline">NewReqIdCollection</code> is a possibly modified
request identifier collection.</p><p>If <code class="inline">ReqIdCollection</code> is empty, <code class="inline">no_request</code> will be returned.</p><p><code class="inline">Timeout</code> specifies how long to wait for a response.  If no response
is received within the specified time, the function returns <code class="inline">timeout</code>.
Assuming that the server executes on a node supporting aliases
(introduced in OTP 24) all requests identified by <code class="inline">ReqIdCollection</code>
will also be abandoned.  That is, no responses will be received
after a time-out.  Otherwise, stray responses might be received
at a later time.</p><p>The difference between <a href="#receive_response/3"><code class="inline">receive_response/3</code></a> and <a href="#wait_response/3"><code class="inline">wait_response/3</code></a>
is that <a href="#receive_response/3"><code class="inline">receive_response/3</code></a> abandons the requests at time-out
so that potential future responses are ignored,
while <a href="#wait_response/3"><code class="inline">wait_response/3</code></a> does not.</p><p>If <code class="inline">Delete</code> is <code class="inline">true</code>, the association with <code class="inline">Label</code>
is deleted from <code class="inline">ReqIdCollection</code> in the resulting
<code class="inline">NewReqIdCollection</code>. If <code class="inline">Delete</code> is <code class="inline">false</code>, <code class="inline">NewReqIdCollection</code>
will equal <code class="inline">ReqIdCollection</code>.  Note that deleting an association
is not for free and that a collection containing already handled
requests can still be used by subsequent calls to
<a href="#receive_response/3"><code class="inline">receive_response/3</code></a>, <a href="#check_response/3"><code class="inline">check_response/3</code></a>, and <a href="#wait_response/3"><code class="inline">wait_response/3</code></a>.</p><p>However, without deleting handled associations,
the above calls will not be able to detect when there are
no more outstanding requests to handle, so you will have to keep track
of this some other way than relying on a <code class="inline">no_request</code> return.
Note that if you pass a collection only containing
associations of already handled or abandoned requests to
this function, it will always block until <code class="inline">Timeout</code> expires
and then return <code class="inline">timeout</code>.</p>
  </section>
</section>
<section class="detail" id="reply/2">

  <div class="detail-header">
    <a href="#reply/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">reply(Client, Reply)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L1850" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> reply(Client :: <a href="#t:from/0">from</a>(), Reply :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()) -> ok.</pre>

      </div>

<p>Send a reply to a client.</p><p>This function can be used by a <code class="inline">gen_server</code> process to explicitly send
a reply to a client that called <a href="#call/2"><code class="inline">call/2,3</code></a> or
<a href="#multi_call/2"><code class="inline">multi_call/2,3,4</code></a>, when the reply cannot be passed
in the return value of <a href="#c:handle_call/3"><code class="inline">Module:handle_call/3</code></a>.</p><p><code class="inline">Client</code> must be the <code class="inline">From</code> argument provided to the <a href="#c:handle_call/3"><code class="inline">handle_call/3</code></a>
callback function. <code class="inline">Reply</code> is any term passed back to the client
as the return value of <code class="inline">call/2,3</code> or <code class="inline">multi_call/2,3,4</code>.</p>
  </section>
</section>
<section class="detail" id="reqids_add/3">

  <div class="detail-header">
    <a href="#reqids_add/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">reqids_add(ReqId, Label, ReqIdCollection)</h1>

        <span class="note">(since OTP 25.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L1763" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> reqids_add(ReqId :: <a href="#t:request_id/0">request_id</a>(), Label :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), ReqIdCollection :: <a href="#t:request_id_collection/0">request_id_collection</a>()) ->
                    NewReqIdCollection :: <a href="#t:request_id_collection/0">request_id_collection</a>().</pre>

      </div>

<p>Store a request identifier in a colletion.</p><p>Stores <code class="inline">ReqId</code> and associates a <code class="inline">Label</code> with the request identifier
by adding this information to <code class="inline">ReqIdCollection</code> and returning
the resulting request identifier collection.</p>
  </section>
</section>
<section class="detail" id="reqids_new/0">

  <div class="detail-header">
    <a href="#reqids_new/0" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">reqids_new()</h1>

        <span class="note">(since OTP 25.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L1736" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> reqids_new() -> NewReqIdCollection :: <a href="#t:request_id_collection/0">request_id_collection</a>().</pre>

      </div>

<p>Create an empty request identifier collection.</p><p>Returns a new empty request identifier collection.
A request identifier collection can be utilized to handle
multiple outstanding requests.</p><p>Request identifiers of requests made by <a href="#send_request/2"><code class="inline">send_request/2</code></a>
can be stored in a collection using <a href="#reqids_add/3"><code class="inline">reqids_add/3</code></a>.
Such a collection of request identifiers can later be used
in order to get one response corresponding to a request
in the collection by passing the collection as argument to
<a href="#receive_response/3"><code class="inline">receive_response/3</code></a>, <a href="#wait_response/3"><code class="inline">wait_response/3</code></a>, or, <a href="#check_response/3"><code class="inline">check_response/3</code></a>.</p><p><a href="#reqids_size/1"><code class="inline">reqids_size/1</code></a> can be used to determine the number of
request identifiers in a collection.</p>
  </section>
</section>
<section class="detail" id="reqids_size/1">

  <div class="detail-header">
    <a href="#reqids_size/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">reqids_size(ReqIdCollection)</h1>

        <span class="note">(since OTP 25.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L1744" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> reqids_size(ReqIdCollection :: <a href="#t:request_id_collection/0">request_id_collection</a>()) -> <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>().</pre>

      </div>

<p>Returns the number of request identifiers in <code class="inline">ReqIdCollection</code>.</p>
  </section>
</section>
<section class="detail" id="reqids_to_list/1">

  <div class="detail-header">
    <a href="#reqids_to_list/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">reqids_to_list(ReqIdCollection)</h1>

        <span class="note">(since OTP 25.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L1781" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> reqids_to_list(ReqIdCollection :: <a href="#t:request_id_collection/0">request_id_collection</a>()) ->
                        [{ReqId :: <a href="#t:request_id/0">request_id</a>(), Label :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}].</pre>

      </div>

<p>Convert a request identifier collection to a list.</p><p>Returns a list of <code class="inline">{ReqId, Label}</code> tuples which corresponds to
all request identifiers with their associated labels
in <a href="#t:request_id_collection/0"><code class="inline">ReqIdCollection</code></a>.</p>
  </section>
</section>
<section class="detail" id="send_request/2">

  <div class="detail-header">
    <a href="#send_request/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">send_request(ServerRef, Request)</h1>

        <span class="note">(since OTP 23.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L1345" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> send_request(ServerRef :: <a href="#t:server_ref/0">server_ref</a>(), Request :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()) -> ReqId :: <a href="#t:request_id/0">request_id</a>().</pre>

      </div>

<p>Send an asynchronous <code class="inline">call</code> request.</p><p>Sends <code class="inline">Request</code> to the <code class="inline">gen_server</code> process identified by <code class="inline">ServerRef</code>
and returns a request identifier <code class="inline">ReqId</code>.</p><p>The return value <code class="inline">ReqId</code> shall later be used with <a href="#receive_response/2"><code class="inline">receive_response/2</code></a>,
<a href="#wait_response/2"><code class="inline">wait_response/2</code></a>, or <a href="#check_response/2"><code class="inline">check_response/2</code></a> to fetch the actual result
of the request.  Besides passing the request identifier directly
to these functions, it can also be stored in
a request identifier collection using <a href="#reqids_add/3"><code class="inline">reqids_add/3</code></a>.
Such a collection of request identifiers can later be used
in order to get one response corresponding to a
request in the collection by passing the collection
as argument to <a href="#receive_response/3"><code class="inline">receive_response/3</code></a>, <a href="#wait_response/3"><code class="inline">wait_response/3</code></a>,
or <a href="#check_response/3"><code class="inline">check_response/3</code></a>.  If you are about to store the request identifier
in a collection, you may want to consider using <a href="#send_request/4"><code class="inline">send_request/4</code></a> instead.</p><p>The call
<code class="inline">gen_server:receive_response(gen_server:send_request(ServerRef, Request), Timeout)</code>
can be seen as equivalent to
<a href="#call/3"><code class="inline">gen_server:call(ServerRef, Request, Timeout)</code></a>,
ignoring the error handling.</p><p>The <code class="inline">gen_server</code> process calls <a href="#c:handle_call/3"><code class="inline">Module:handle_call/3</code></a> to
handle the request.</p><p>See the type <a href="#t:server_ref/0"><code class="inline">server_ref/0</code></a> for the possible values for <code class="inline">ServerRef</code>.</p><p><code class="inline">Request</code> is any term that is passed as the first argument to
<a href="#c:handle_call/3"><code class="inline">Module:handle_call/3</code></a>.</p>
  </section>
</section>
<section class="detail" id="send_request/4">

  <div class="detail-header">
    <a href="#send_request/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">send_request(ServerRef, Request, Label, ReqIdCollection)</h1>

        <span class="note">(since OTP 25.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L1376" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> send_request(ServerRef :: <a href="#t:server_ref/0">server_ref</a>(),
                   Request :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                   Label :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                   ReqIdCollection :: <a href="#t:request_id_collection/0">request_id_collection</a>()) ->
                      NewReqIdCollection :: <a href="#t:request_id_collection/0">request_id_collection</a>().</pre>

      </div>

<p>Send an asynchronous <code class="inline">call</code> request and add it
to a request identifier collection.</p><p>Sends <code class="inline">Request</code> to the <code class="inline">gen_server</code> process identified by <code class="inline">ServerRef</code>.
The <code class="inline">Label</code> will be associated with the request identifier
of the operation and added to the returned request identifier collection
<code class="inline">NewReqIdCollection</code>.  The collection can later be used in order to
get one response corresponding to a request in the collection
by passing the collection as argument to <a href="#receive_response/3"><code class="inline">receive_response/3</code></a>,
<a href="#wait_response/3"><code class="inline">wait_response/3</code></a>, or <a href="#check_response/3"><code class="inline">check_response/3</code></a>.</p><p>The same as calling
<a href="#reqids_add/3"><code class="inline">reqids_add</code></a><code class="inline">(</code><a href="#send_request/2"><code class="inline">send_request</code></a><code class="inline">(ServerRef, Request), Label, ReqIdCollection)</code>,
but slightly more efficient.</p>
  </section>
</section>
<section class="detail" id="start/3">

  <div class="detail-header">
    <a href="#start/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">start(Module, Args, Options)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L984" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> start(Module :: <a href="../../apps/erts/erlang.html#t:module/0">module</a>(), Args :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), Options :: [<a href="#t:start_opt/0">start_opt</a>()]) -> <a href="#t:start_ret/0">start_ret</a>().</pre>

      </div>

<p>Start a server, neither linked nor registered.</p><p>Equivalent to <a href="#start/4"><code class="inline">start/4</code></a> except that the <code class="inline">gen_server</code> process is not
registered with any <a href="#t:server_name/0">name service</a>.</p>
  </section>
</section>
<section class="detail" id="start/4">

  <div class="detail-header">
    <a href="#start/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">start(ServerName, Module, Args, Options)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L1007" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> start(ServerName :: <a href="#t:server_name/0">server_name</a>(), Module :: <a href="../../apps/erts/erlang.html#t:module/0">module</a>(), Args :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), Options :: [<a href="#t:start_opt/0">start_opt</a>()]) ->
               <a href="#t:start_ret/0">start_ret</a>().</pre>

      </div>

<p>Start a server, registered but not linked.</p><p>Creates a standalone <code class="inline">gen_server</code> process, that is,
a <code class="inline">gen_server</code> process that is not part of a supervision tree,
and thus has no supervisor.</p><p>Other than that see <a href="#start_link/4"><code class="inline">start_link/4</code></a>.</p>
  </section>
</section>
<section class="detail" id="start_link/3">

  <div class="detail-header">
    <a href="#start_link/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">start_link(Module, Args, Options)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L1026" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> start_link(Module :: <a href="../../apps/erts/erlang.html#t:module/0">module</a>(), Args :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), Options :: [<a href="#t:start_opt/0">start_opt</a>()]) -> <a href="#t:start_ret/0">start_ret</a>().</pre>

      </div>

<p>Start a server, linked but not registered.</p><p>Equivalent to <a href="#start_link/4"><code class="inline">start_link/4</code></a> except that the <code class="inline">gen_server</code> process is
not registered with any <a href="#t:server_name/0">name service</a>.</p>
  </section>
</section>
<section class="detail" id="start_link/4">

  <div class="detail-header">
    <a href="#start_link/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">start_link(ServerName, Module, Args, Options)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L1096" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> start_link(ServerName :: <a href="#t:server_name/0">server_name</a>(),
                 Module :: <a href="../../apps/erts/erlang.html#t:module/0">module</a>(),
                 Args :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                 Options :: [<a href="#t:start_opt/0">start_opt</a>()]) ->
                    <a href="#t:start_ret/0">start_ret</a>().</pre>

      </div>

<p>Start a server, linked and registered.</p><p>Creates a <code class="inline">gen_server</code> process as part of a supervision tree.
This function is to be called, directly or indirectly, by the supervisor.
For example, it ensures that the <code class="inline">gen_server</code> process is spawned
as linked to the caller (supervisor).</p><p>The <code class="inline">gen_server</code> process calls <a href="#c:init/1"><code class="inline">Module:init/1</code></a>
to initialize.  To ensure a synchronized startup procedure,
<code class="inline">start_link/3,4</code> does not return until <a href="#c:init/1"><code class="inline">Module:init/1</code></a>
has returned or failed.</p><p><a href="#t:server_name/0"><code class="inline">ServerName</code></a> specifies with what name
and now to register the server name.  See type <a href="#t:server_name/0"><code class="inline">server_name/0</code></a>
for different name registrations.</p><p><code class="inline">Module</code> is the name of the callback module.</p><p><code class="inline">Args</code> is any term that is passed as the argument to
<a href="#c:init/1"><code class="inline">Module:init/1</code></a>.</p><p>See type <a href="#t:start_opt/0"><code class="inline">start_opt/0</code></a> for <code class="inline">Options</code> for starting
the <code class="inline">gen_server</code> process.</p><p>See type <a href="#t:start_ret/0"><code class="inline">start_ret/0</code></a> for a description this function's return values.</p><p>If <code class="inline">start_link/3,4</code> returns <code class="inline">ignore</code> or <code class="inline">{error, _}</code>,
the started <code class="inline">gen_server</code> process has terminated.  If an <code class="inline">'EXIT'</code> message
was delivered to the calling process (due to the process link),
that message has been consumed.</p><section role="note" class="admonition warning"><h4 class="admonition-title warning">Warning</h4><p>Before OTP 26.0, if the started <code class="inline">gen_server</code> process returned e.g.
<code class="inline">{stop, Reason}</code> from <a href="#c:init/1"><code class="inline">Module:init/1</code></a>, this function
could return <code class="inline">{error, Reason}</code> <em>before</em> the started <a href="gen_server.html"><code class="inline">gen_server</code></a> process
had terminated so starting again might fail because VM resources
such as the registered name was not yet unregistered. An <code class="inline">'EXIT'</code> message
could arrive later to the process calling this function.</p><p>But if the started <code class="inline">gen_server</code> process instead failed during
<a href="#c:init/1"><code class="inline">Module:init/1</code></a>, a process link <code class="inline">{'EXIT', Pid, Reason}</code>
message caused this function to return <code class="inline">{error, Reason}</code>,
so the <code class="inline">'EXIT'</code> message had been consumed and the started
<a href="gen_server.html"><code class="inline">gen_server</code></a> process had terminated.</p><p>Since it was impossible to tell the difference between these two cases
from <code class="inline">start_link/3,4</code>'s return value, this inconsistency was cleaned up
in OTP 26.0.</p></section><p>The difference between returning <code class="inline">{stop, _}</code> and <code class="inline">{error, _}</code> from
<a href="#c:init/1"><code class="inline">Module:init/1</code></a>, is that <code class="inline">{error, _}</code> results in a graceful
(&quot;silent&quot;) termination since the <code class="inline">gen_server</code> process exits
with reason <code class="inline">normal</code>.</p>
  </section>
</section>
<section class="detail" id="start_monitor/3">

  <div class="detail-header">
    <a href="#start_monitor/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">start_monitor(Module, Args, Options)</h1>

        <span class="note">(since OTP 23.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L1116" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> start_monitor(Module :: <a href="../../apps/erts/erlang.html#t:module/0">module</a>(), Args :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), Options :: [<a href="#t:start_opt/0">start_opt</a>()]) -> <a href="#t:start_mon_ret/0">start_mon_ret</a>().</pre>

      </div>

<p>Start a server, monitored but neither linked nor registered.</p><p>Equivalent to <a href="#start_monitor/4"><code class="inline">start_monitor/4</code></a> except that the <code class="inline">gen_server</code> process
is not registered with any <a href="#t:server_name/0">name service</a>.</p>
  </section>
</section>
<section class="detail" id="start_monitor/4">

  <div class="detail-header">
    <a href="#start_monitor/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">start_monitor(ServerName, Module, Args, Options)</h1>

        <span class="note">(since OTP 23.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L1147" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> start_monitor(ServerName :: <a href="#t:server_name/0">server_name</a>(),
                    Module :: <a href="../../apps/erts/erlang.html#t:module/0">module</a>(),
                    Args :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                    Options :: [<a href="#t:start_opt/0">start_opt</a>()]) ->
                       <a href="#t:start_mon_ret/0">start_mon_ret</a>().</pre>

      </div>

<p>Start a server, monitored and registered, but not linked.</p><p>Creates a standalone <code class="inline">gen_server</code> process, that is,
a <code class="inline">gen_server</code> process that is not part of a supervision tree
(and thus has no supervisor) and atomically sets up a monitor
to the newly created server.</p><p>Other than that see <a href="#start_link/3"><code class="inline">start_link/3,4</code></a>.
Note that the return value for a successful start differs in that
it returns a monitor <code class="inline">reference</code>.  See type <a href="#t:start_mon_ret/0"><code class="inline">start_mon_ret/0</code></a>.</p><p>If the start is not successful, the caller will be blocked
until the monitor's <code class="inline">'DOWN'</code> message has been received
and removed from the message queue.</p>
  </section>
</section>
<section class="detail" id="stop/1">

  <div class="detail-header">
    <a href="#stop/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">stop(ServerRef)</h1>

        <span class="note">(since OTP 18.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L1166" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> stop(ServerRef :: <a href="#t:server_ref/0">server_ref</a>()) -> ok.</pre>

      </div>

<p>Equivalent to <a href="#stop/3"><code class="inline">stop(ServerRef, normal, infinity)</code></a>.</p>
  </section>
</section>
<section class="detail" id="stop/3">

  <div class="detail-header">
    <a href="#stop/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">stop(ServerRef, Reason, Timeout)</h1>

        <span class="note">(since OTP 18.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L1198" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> stop(ServerRef :: <a href="#t:server_ref/0">server_ref</a>(), Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), Timeout :: <a href="../../apps/erts/erlang.html#t:timeout/0">timeout</a>()) -> ok.</pre>

      </div>

<p>Stop a server.</p><p>Orders the generic server specified by <code class="inline">ServerRef</code> to exit
with the specified <code class="inline">Reason</code> and waits for it to terminate.
The <code class="inline">gen_server</code> process calls <a href="#c:terminate/2"><code class="inline">Module:terminate/2</code></a>
before exiting.</p><p>The function returns <code class="inline">ok</code> if the server terminates
with the expected reason. Any other reason than <code class="inline">normal</code>, <code class="inline">shutdown</code>,
or <code class="inline">{shutdown,Term}</code> causes an error report to be issued using <a href="../../apps/kernel/logger.html"><code class="inline">logger</code></a>.
An exit signal with the same reason is sent to linked processes and ports.</p><p><code class="inline">Timeout</code> is an integer that specifies how many milliseconds to wait
for the server to terminate, or the atom <code class="inline">infinity</code> to wait indefinitely.
If the server has not terminated within the specified time,
the call exits the calling process with reason <code class="inline">timeout</code>.</p><p>If the process does not exist, the call exits the calling process
with reason <code class="inline">noproc</code>, or with reason <code class="inline">{nodedown,Node}</code>
if the connection fails to the remote <code class="inline">Node</code> where the server runs.</p>
  </section>
</section>
<section class="detail" id="wait_response/2">

  <div class="detail-header">
    <a href="#wait_response/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">wait_response(ReqId, WaitTime)</h1>

        <span class="note">(since OTP 23.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L1415" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> wait_response(ReqId, WaitTime) -> Result
                       when
                           ReqId :: <a href="#t:request_id/0">request_id</a>(),
                           WaitTime :: <a href="#t:response_timeout/0">response_timeout</a>(),
                           Response ::
                               {reply, Reply :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} | {error, {Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), <a href="#t:server_ref/0">server_ref</a>()}},
                           Result :: Response | timeout.</pre>

      </div>

<p>Wait for a request response.</p><p>Wait for the response to the request identifier <code class="inline">ReqId</code>. The request
must have been made by <a href="#send_request/2"><code class="inline">send_request/2</code></a>, and it must have been made
by the same process calling this function.</p><p><code class="inline">WaitTime</code> specifies how long to wait for a reply.
If no reply is received within the specified time,
the function returns <code class="inline">timeout</code> and no cleanup is done.
Thus the function can be invoked repeatedly until a reply is returned.</p><p>The return value <code class="inline">Reply</code> is passed from the return value of
<a href="#c:handle_call/3"><code class="inline">Module:handle_call/3</code></a>.</p><p>The function returns an error if the <code class="inline">gen_server</code>
died before a reply was sent.</p><p>The difference between <a href="#receive_response/2"><code class="inline">receive_response/2</code></a> and
<a href="#wait_response/2"><code class="inline">wait_response/2</code></a> is that <a href="#receive_response/2"><code class="inline">receive_response/2</code></a> abandons
the request at time-out so that a potential future response is ignored,
while <a href="#wait_response/2"><code class="inline">wait_response/2</code></a> does not.</p>
  </section>
</section>
<section class="detail" id="wait_response/3">

  <div class="detail-header">
    <a href="#wait_response/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">wait_response(ReqIdCollection, WaitTime, Delete)</h1>

        <span class="note">(since OTP 25.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/gen_server.erl#L1489" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> wait_response(ReqIdCollection, WaitTime, Delete) -> Result
                       when
                           ReqIdCollection :: <a href="#t:request_id_collection/0">request_id_collection</a>(),
                           WaitTime :: <a href="#t:response_timeout/0">response_timeout</a>(),
                           Delete :: <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>(),
                           Response ::
                               {reply, Reply :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()} | {error, {Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), <a href="#t:server_ref/0">server_ref</a>()}},
                           Result ::
                               {Response,
                                Label :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                                NewReqIdCollection :: <a href="#t:request_id_collection/0">request_id_collection</a>()} |
                               no_request | timeout.</pre>

      </div>

<p>Wait for any request response in a collection.</p><p>Wait for a response in a <code class="inline">ReqIdCollection</code>.  All request identifiers
of <code class="inline">ReqIdCollection</code> must correspond to requests that have been made
using <a href="#send_request/2"><code class="inline">send_request/2</code></a> or <a href="#send_request/4"><code class="inline">send_request/4</code></a>, and all requests
must have been made by the process calling this function.</p><p>The <code class="inline">Label</code> in the response is the <code class="inline">Label</code> associated with
the request identifier that the response corresponds to.
The <code class="inline">Label</code> of a request identifier is associated
when <a href="#reqids_add/3">adding the request id</a> to a collection,
or when sending the request using <a href="#send_request/4"><code class="inline">send_request/4</code></a>.</p><p>Compared to <a href="#wait_response/2"><code class="inline">wait_response/2</code></a>, the returned result or exception
associated with a specific request identifier will be wrapped
in a 3-tuple <code class="inline">{Response, Label, NewReqIdCollection}</code>.
<code class="inline">Response</code> is the value that would have been produced
by <a href="#wait_response/2"><code class="inline">wait_response/2</code></a>, <code class="inline">Label</code> is the value associated with
the specific <a href="#t:request_id/0">request identifier</a>
and <code class="inline">NewReqIdCollection</code> is a possibly modified
request identifier collection.</p><p>If <code class="inline">ReqIdCollection</code> is empty, <code class="inline">no_request</code> will be returned.</p><p>If no response is received before <code class="inline">WaitTime</code> has expired,
<code class="inline">timeout</code> is returned.  It is valid to continue waiting
for a response as many times as needed up until a response
has been received and completed by <code class="inline">check_response()</code>,
<code class="inline">receive_response()</code>, or <code class="inline">wait_response()</code>.</p><p>The difference between <a href="#receive_response/3"><code class="inline">receive_response/3</code></a> and <a href="#wait_response/3"><code class="inline">wait_response/3</code></a>
is that <a href="#receive_response/3"><code class="inline">receive_response/3</code></a> abandons requests at time-out
so that potential future responses are ignored, while
<a href="#wait_response/3"><code class="inline">wait_response/3</code></a> does not.</p><p>If <code class="inline">Delete</code> is <code class="inline">true</code>, the association with <code class="inline">Label</code>
has been deleted from <code class="inline">ReqIdCollection</code> in the resulting
<code class="inline">NewReqIdCollection</code>.  If <code class="inline">Delete</code> is <code class="inline">false</code>, <code class="inline">NewReqIdCollection</code>
will equal <code class="inline">ReqIdCollection</code>.  Note that deleting an association
is not for free and that a collection containing already handled
requests can still be used by subsequent calls to
<a href="#wait_response/3"><code class="inline">wait_response/3</code></a>, <a href="#check_response/3"><code class="inline">check_response/3</code></a>, and <a href="#receive_response/3"><code class="inline">receive_response/3</code></a>.</p><p>However, without deleting handled associations, the above
calls will not be able to detect when there are
no more outstanding requests to handle, so you will have to keep track
of this some other way than relying on a <code class="inline">no_request</code> return.
Note that if you pass a collection only containing
associations of already handled or abandoned requests
to this function, it will always block until <code class="inline">WaitTime</code> expires
and then return <code class="inline">timeout</code>.</p>
  </section>
</section>

    </div>
  </section>

    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="stdlib.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.1) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>
<p>Copyright © 1996-2025 <a href="https://www.ericsson.com">Ericsson AB</a></p>
    </footer>
  </div>
</main>
</div>
  <script defer src="https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.min.js"></script>
  <script>
  let initialized = false;

  window.addEventListener("exdoc:loaded", () => {
      if (!initialized) {
      mermaid.initialize({
          startOnLoad: false,
          theme: document.body.className.includes("dark") ? "dark" : "default"
      });
      initialized = true;
      }

      let id = 0;
      for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
          graphEl.innerHTML = svg;
          bindFunctions?.(graphEl);
          preEl.insertAdjacentElement("afterend", graphEl);
          preEl.remove();
      });
      }
  });
  </script>

  </body>
</html>
