<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.1">
    <meta name="project" content="stdlib v7.0.1">


<meta name="exdoc:full-text-search-url" content="/doc/search.html?v=28&q=">
<meta name="major-vsn" content="28">
<link rel="canonical" href="https://www.erlang.org/doc/apps/stdlib/zstd.html" />
    <title>zstd â€” stdlib v7.0.1</title>

    <link rel="stylesheet" href="dist/html-erlang-ZK43ZOAC.css" />

    <script defer src="dist/sidebar_items-5EDA278D.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-DPJLHKSM.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="../../index.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="stdlib" />
        </a>

      <div>
        <a href="../../index.html" class="sidebar-projectName" translate="no">
stdlib
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v7.0.1
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-module" id="main" data-type="modules">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of stdlib</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>
      <span translate="no">zstd</span> 
      <small class="app-vsn" translate="no">(stdlib v7.0.1)</small>

    </h1>

      <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/zstd.erl#L23" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


    <section id="moduledoc">
<p>Zstandard compression interface.</p><p>This module provides an API for the Zstandard library
(<a href="http://www.zstd.net">www.zstd.net</a>). It is used to compress and decompress data
and offers the same compression ratio as <a href="../../apps/erts/zlib.html"><code class="inline">zlib</code></a> but at a lower CPU cost.</p><p>Example:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="n">Data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">~&quot;my data to be compressed&quot;</span><span class="p">.</span><span class="gp unselectable">
2&gt; </span><span class="n">Compressed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">compress</span><span class="p" data-group-id="6600399408-1">(</span><span class="n">Data</span><span class="p" data-group-id="6600399408-1">)</span><span class="p">.</span><span class="gp unselectable">
3&gt; </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">decompress</span><span class="p" data-group-id="6600399408-2">(</span><span class="n">Compressed</span><span class="p" data-group-id="6600399408-2">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="6600399408-3">[</span><span class="s">~&quot;my data to be compressed&quot;</span><span class="p" data-group-id="6600399408-3">]</span></code></pre><p>If you are compressing or decompressing possibly large amounts of data,
it is also possible to do streamed compression/decompression.</p><p>Example:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="n">Compress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">fun</span><span class="w"> </span><span class="n">F</span><span class="p" data-group-id="0485837652-1">(</span><span class="n">Ctx</span><span class="p">,</span><span class="w"> </span><span class="n">D</span><span class="p" data-group-id="0485837652-1">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
                      </span><span class="k">case</span><span class="w"> </span><span class="nc">file</span><span class="p">:</span><span class="nf">read</span><span class="p" data-group-id="0485837652-2">(</span><span class="n">D</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p" data-group-id="0485837652-2">)</span><span class="w"> </span><span class="k">of</span><span class="w">
                          </span><span class="p" data-group-id="0485837652-3">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="n">Data</span><span class="p" data-group-id="0485837652-3">}</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
                              </span><span class="p" data-group-id="0485837652-4">{</span><span class="ss">continue</span><span class="p">,</span><span class="w"> </span><span class="n">C</span><span class="p" data-group-id="0485837652-4">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">stream</span><span class="p" data-group-id="0485837652-5">(</span><span class="n">Ctx</span><span class="p">,</span><span class="w"> </span><span class="n">Data</span><span class="p" data-group-id="0485837652-5">)</span><span class="p">,</span><span class="w">
                              </span><span class="p" data-group-id="0485837652-6">[</span><span class="n">C</span><span class="p">|</span><span class="n">F</span><span class="p" data-group-id="0485837652-7">(</span><span class="n">Ctx</span><span class="p">,</span><span class="w"> </span><span class="n">D</span><span class="p" data-group-id="0485837652-7">)</span><span class="p" data-group-id="0485837652-6">]</span><span class="p">;</span><span class="w">
                          </span><span class="ss">eof</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
                              </span><span class="p" data-group-id="0485837652-8">{</span><span class="ss">done</span><span class="p">,</span><span class="w"> </span><span class="n">C</span><span class="p" data-group-id="0485837652-8">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">finish</span><span class="p" data-group-id="0485837652-9">(</span><span class="n">Ctx</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p" data-group-id="0485837652-9">)</span><span class="p">,</span><span class="w">
                              </span><span class="n">C</span><span class="w">
                      </span><span class="k">end</span><span class="w">
              </span><span class="k">end</span><span class="p">.</span><span class="gp unselectable">
2&gt; </span><span class="p" data-group-id="0485837652-10">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="n">Ctx</span><span class="p" data-group-id="0485837652-10">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">context</span><span class="p" data-group-id="0485837652-11">(</span><span class="ss">compress</span><span class="p" data-group-id="0485837652-11">)</span><span class="p">.</span><span class="gp unselectable">
3&gt; </span><span class="p" data-group-id="0485837652-12">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="n">D</span><span class="p" data-group-id="0485837652-12">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">file</span><span class="p">:</span><span class="nf">open</span><span class="p" data-group-id="0485837652-13">(</span><span class="n">File</span><span class="p">,</span><span class="p" data-group-id="0485837652-14">[</span><span class="ss">read</span><span class="p">,</span><span class="ss">binary</span><span class="p" data-group-id="0485837652-14">]</span><span class="p" data-group-id="0485837652-13">)</span><span class="p">.</span><span class="gp unselectable">
4&gt; </span><span class="n">Compressed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">iolist_to_binary</span><span class="p" data-group-id="0485837652-15">(</span><span class="n">Compress</span><span class="p" data-group-id="0485837652-16">(</span><span class="n">Ctx</span><span class="p">,</span><span class="w"> </span><span class="n">D</span><span class="p" data-group-id="0485837652-16">)</span><span class="p" data-group-id="0485837652-15">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="0485837652-17">&lt;&lt;</span><span class="mi">40</span><span class="p">,</span><span class="mi">181</span><span class="p">,</span><span class="mi">47</span><span class="p">,</span><span class="mi">253</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">88</span><span class="p">,</span><span class="mi">89</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">108</span><span class="p">,</span><span class="mi">111</span><span class="p">,</span><span class="mi">114</span><span class="p">,</span><span class="mi">101</span><span class="p">,</span><span class="mi">109</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">105</span><span class="p">,</span><span class="mi">112</span><span class="p">,</span><span class="mi">115</span><span class="p">,</span><span class="mi">117</span><span class="p">,</span><span class="mi">109</span><span class="p" data-group-id="0485837652-17">&gt;&gt;</span><span class="gp unselectable">
5&gt; </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">decompress</span><span class="p" data-group-id="0485837652-18">(</span><span class="n">Compressed</span><span class="p" data-group-id="0485837652-18">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="0485837652-19">[</span><span class="s">~&quot;lorem ipsum&quot;</span><span class="p" data-group-id="0485837652-19">]</span></code></pre><p>In all functions errors can be thrown, where <code class="inline">Reason</code> describes the error.</p><p>Typical <code class="inline">Reason</code>s:</p><ul><li><strong><code class="inline">badarg</code></strong> - Bad argument.</li><li><strong><code class="inline">zstd_error</code></strong> - An error generated by the Zstandard library.</li><li><strong><code class="inline">not_on_controlling_process</code></strong> - The context was used by a process that
did not create it.</li></ul>
    </section>

</div>

  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-types summary">
  <h2>
    <a href="#types">Types</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:compress_parameters/0" data-no-tooltip="" translate="no">compress_parameters()</a>

      </div>

        <div class="summary-synopsis"><p>Compression parameters.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:compressionLevel/0" data-no-tooltip="" translate="no">compressionLevel()</a>

      </div>

        <div class="summary-synopsis"><p>The compression level.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:context/0" data-no-tooltip="" translate="no">context()</a>

      </div>

        <div class="summary-synopsis"><p>A compression or decompression context that can be used
for streaming compression or decompression.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:decompress_parameters/0" data-no-tooltip="" translate="no">decompress_parameters()</a>

      </div>

        <div class="summary-synopsis"><p>Decompression parameters.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:dict/0" data-no-tooltip="" translate="no">dict()</a>

      </div>

        <div class="summary-synopsis"><p>A compression or decompression dictionary.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:strategy/0" data-no-tooltip="" translate="no">strategy()</a>

      </div>

        <div class="summary-synopsis"><p>The compression strategy.</p></div>

    </div>

</div>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#close/1" data-no-tooltip="" translate="no">close(Ctx)</a>

      </div>

        <div class="summary-synopsis"><p>Close a <a><code class="inline">context/0</code></a>, releasing all referenced resources. After a <a><code class="inline">context/0</code></a>
is closed it is no longer possible to use it.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#compress/1" data-no-tooltip="" translate="no">compress(Data)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a><code class="inline">compress(Data, #{})</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#compress/2" data-no-tooltip="" translate="no">compress(Data, CtxOrOptions)</a>

      </div>

        <div class="summary-synopsis"><p>Compress <code class="inline">Data</code> using the given <a><code class="inline">compress_parameters/0</code></a> or the <a><code class="inline">context/0</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#context/1" data-no-tooltip="" translate="no">context(Mode)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a><code class="inline">context(Mode, #{})</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#context/2" data-no-tooltip="" translate="no">context(Mode, Options)</a>

      </div>

        <div class="summary-synopsis"><p>Create a compression or decompression context.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#decompress/1" data-no-tooltip="" translate="no">decompress(Data)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a><code class="inline">decompress(Data, #{})</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#decompress/2" data-no-tooltip="" translate="no">decompress(Data, CtxOrOptions)</a>

      </div>

        <div class="summary-synopsis"><p>Decompress <code class="inline">Data</code> using the given <a><code class="inline">compress_parameters/0</code></a> or the <a><code class="inline">context/0</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#dict/2" data-no-tooltip="" translate="no">dict(Mode, Dict)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a><code class="inline">dict(Mode, Dict, #{})</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#dict/3" data-no-tooltip="" translate="no">dict/3</a>

      </div>

        <div class="summary-synopsis"><p>Create a compression or decompression dictionary.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#finish/2" data-no-tooltip="" translate="no">finish(Ctx, Data)</a>

      </div>

        <div class="summary-synopsis"><p>Finish compressing/decompressing data.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_dict_id/1" data-no-tooltip="" translate="no">get_dict_id(DictOrFrame)</a>

      </div>

        <div class="summary-synopsis"><p>Get the dictionary ID of a dictionary or a frame.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_frame_header/1" data-no-tooltip="" translate="no">get_frame_header(Frame)</a>

      </div>

        <div class="summary-synopsis"><p>Get header of a Zstandard compressed frame.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_parameter/2" data-no-tooltip="" translate="no">get_parameter(Ctx, Key)</a>

      </div>

        <div class="summary-synopsis"><p>Get a parameter from a <a><code class="inline">context/0</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#reset/1" data-no-tooltip="" translate="no">reset(Ctx)</a>

      </div>

        <div class="summary-synopsis"><p>Reset a context while streaming data, returning it to its original state
but keeping all parameters set.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#set_parameter/3" data-no-tooltip="" translate="no">set_parameter(Ctx, Key, Value)</a>

      </div>

        <div class="summary-synopsis"><p>Set a parameter on a <code class="inline">context/0</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#stream/2" data-no-tooltip="" translate="no">stream(Ctx, Data)</a>

      </div>

        <div class="summary-synopsis"><p>Compress or decompress a stream of data. The last stream of data should be called
with <a><code class="inline">finish/2</code></a> to complete the compression/decompression.</p></div>

    </div>

</div>

  </section>


  <section id="types" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types</span>
    </h1>
    <div class="types-list">
<section class="detail" id="t:compress_parameters/0">

  <div class="detail-header">
    <a href="#t:compress_parameters/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">compress_parameters()</h1>

        <span class="note">(not exported)</span>

        <span class="note">(since OTP 28.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/zstd.erl#L153" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> compress_parameters() ::
          #{dictionary => <a href="../../apps/erts/erlang.html#t:binary/0">binary</a>() | <a href="#t:dict/0">dict</a>(),
            pledgedSrcSize => <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>(),
            compressionLevel => <a href="#t:compressionLevel/0">compressionLevel</a>(),
            windowLog => <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>(),
            hashLog => <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>(),
            chainLog => <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>(),
            searchLog => <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>(),
            minMatch => <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>(),
            targetLength => <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>(),
            strategy => <a href="#t:strategy/0">strategy</a>(),
            targetCBlockSize => <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>(),
            enableLongDistanceMatching => <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>(),
            ldmHashLog => <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>(),
            ldmMinMatch => <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>(),
            ldmBucketSizeLog => <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>(),
            ldmHashRateLog => <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>(),
            contentSizeFlag => <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>(),
            checksumFlag => <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>(),
            dictIDFlag => <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()}.</pre>

      </div>

<p>Compression parameters.</p><p>Zstandard has many parameters that can be tuned. Setting some parameters will
fail when set to an incorrect value, while others will be silently adjusted to
the closest valid value.</p><ul><li><p><code class="inline">dictionary</code> - Sets the compression dictionary for the context. The dictionary
can be either a <code class="inline">t:binary()</code> representing the dictionary or a compression <a href="#t:dict/0"><code class="inline">dict/0</code></a>.
When a <a href="#t:dict/0"><code class="inline">dict/0</code></a> is attached to a context it will be kept alive until
either the context is closed or it is replaced by another dictionary.</p><p>To reset the context to not use any dictionary use the empty dictionary, that is <code class="inline">&lt;&lt;&gt;&gt;</code>.</p></li><li><p><code class="inline">pedgedSrcSize</code> - When using <a href="#stream/2"><code class="inline">stream/2</code></a> to do streaming compression, the decompressed
size is not known when the header of the Zstandard frame is emitted. Setting this
parameter on the context lets the compressor know the expected size of the data to
compress. If the size is not correct when <a href="#finish/2"><code class="inline">finish/2</code></a> is called an exception will be
generated. Using <a href="#compress/2"><code class="inline">compress/1,2</code></a> will automatically set this value.</p></li><li><p><code class="inline">compressionLevel</code> - Sets the <a href="#t:compressionLevel/0"><code class="inline">compressionLevel/0</code></a>.</p></li><li><p><code class="inline">windowLog</code> | <code class="inline">hashLog</code> | <code class="inline">chainLog</code> | <code class="inline">searchLog</code> | <code class="inline">minMatch</code> |
<code class="inline">targetLength</code> | <code class="inline">targetCBlockSize</code> - Set the corresponding parameter.
See the Zstandard documentation for more details.</p></li><li><p><code class="inline">strategy</code> - Sets the compression <a href="#t:strategy/0"><code class="inline">strategy/0</code></a>.</p></li><li><p><code class="inline">enableLongDistanceMatching</code> - Whether to enable Long Distance Matching or not.
LDM is useful when compressing large datasets and is enabled by using a high
<code class="inline">compressionLevel</code>.</p></li><li><p><code class="inline">ldmHashLog</code> | <code class="inline">ldmMinMatch</code> | <code class="inline">ldmBucketSizeLog</code> | <code class="inline">ldmHashRateLog</code> -
Set the corresponding LDM parameter.
See the Zstandard documentation for more details.</p></li><li><p><code class="inline">contentSizeFlag</code> - Whether to include the contentSize or not.</p></li><li><p><code class="inline">checksumFlag</code> - Whether to include the checksum or not.</p></li><li><p><code class="inline">dictIDFlag</code> - Whether to include the dictionary ID or not.</p></li></ul><p>The Zstandard documentation contains more details about each parameter.</p>
  </section>
</section>
<section class="detail" id="t:compressionLevel/0">

  <div class="detail-header">
    <a href="#t:compressionLevel/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">compressionLevel()</h1>

        <span class="note">(not exported)</span>

        <span class="note">(since OTP 28.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/zstd.erl#L101" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> compressionLevel() :: -22..22.</pre>

      </div>

<p>The compression level.</p><p>Higher values mean better compression ratio at the sacrifice of
performance. A negative value sacrifices compression ratio in
favor of performance.</p><p>0 is a special value which represents the default compression level.</p>
  </section>
</section>
<section class="detail" id="t:context/0">

  <div class="detail-header">
    <a href="#t:context/0" class="detail-link" data-no-tooltip="" aria-label="Link to this opaque">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">context()</h1>

        <span class="note">(since OTP 28.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/zstd.erl#L84" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-opaque</span> context()</pre>

      </div>

<p>A compression or decompression context that can be used
for streaming compression or decompression.</p><p>Only the process that created the context can use it.</p>
  </section>
</section>
<section class="detail" id="t:decompress_parameters/0">

  <div class="detail-header">
    <a href="#t:decompress_parameters/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">decompress_parameters()</h1>

        <span class="note">(not exported)</span>

        <span class="note">(since OTP 28.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/zstd.erl#L199" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> decompress_parameters() :: #{dictionary => <a href="../../apps/erts/erlang.html#t:binary/0">binary</a>() | <a href="#t:dict/0">dict</a>(), windowLogMax => <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()}.</pre>

      </div>

<p>Decompression parameters.</p><p>Zstandard has many parameters that can be tuned. Setting some parameters will
fail when set to an incorrect value, while others will be silently adjusted to
the closest valid value.</p><ul><li><code class="inline">dictionary</code> - Sets the decompression dictionary for the context. The dictionary
can be either a <code class="inline">t:binary()</code> representing the dictionary or a decompression <a href="#t:dict/0"><code class="inline">dict/0</code></a>.
When a <a href="#t:dict/0"><code class="inline">dict/0</code></a> is attached to a context it will be kept alive until
either the context is closed or it is replaced by another dictionary.</li></ul><p>To reset the context to not use any dictionary use the empty dictionary, that is <code class="inline">&lt;&lt;&gt;&gt;</code>.</p><ul><li><code class="inline">windowLogMax</code> - Set the corresponding parameter. See the Zstandard documentation for more details.</li></ul>
  </section>
</section>
<section class="detail" id="t:dict/0">

  <div class="detail-header">
    <a href="#t:dict/0" class="detail-link" data-no-tooltip="" aria-label="Link to this opaque">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">dict()</h1>

        <span class="note">(since OTP 28.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/zstd.erl#L90" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-opaque</span> dict()</pre>

      </div>

<p>A compression or decompression dictionary.</p>
  </section>
</section>
<section class="detail" id="t:strategy/0">

  <div class="detail-header">
    <a href="#t:strategy/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">strategy()</h1>

        <span class="note">(not exported)</span>

        <span class="note">(since OTP 28.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/zstd.erl#L115" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> strategy() ::
          default | fast | dfast | greedy | lazy | lazy2 | btlazy2 | btopt | btultra | btultra2.</pre>

      </div>

<p>The compression strategy.</p><p>The strategies are listed depending on which compression ratio they
give, that is the <code class="inline">fast</code> strategy is the fastest but also has the
worst compression ratio, while <code class="inline">btultra2</code> is the slowest but has
the best compression ratio.</p><p><code class="inline">default</code> is a special strategy representing the current default strategy.</p><p>See the Zstandard documentation for details on each strategy.</p>
  </section>
</section>

    </div>
  </section>

  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Functions</span>
    </h1>
    <div class="functions-list">
<section class="detail" id="close/1">

  <div class="detail-header">
    <a href="#close/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">close(Ctx)</h1>

        <span class="note">(since OTP 28.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/zstd.erl#L598" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> close(Ctx :: <a href="#t:context/0">context</a>()) -> ok.</pre>

      </div>

<p>Close a <a href="#t:context/0"><code class="inline">context/0</code></a>, releasing all referenced resources. After a <a href="#t:context/0"><code class="inline">context/0</code></a>
is closed it is no longer possible to use it.</p><p>A <a href="#t:context/0"><code class="inline">context/0</code></a> is automatically closed when GC:ed, so the only reason to call
this function is to make the resources attached to the context be released
before the next GC.</p>
  </section>
</section>
<section class="detail" id="compress/1">

  <div class="detail-header">
    <a href="#compress/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">compress(Data)</h1>

        <span class="note">(since OTP 28.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/zstd.erl#L606" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> compress(<a href="../../apps/erts/erlang.html#t:iodata/0">iodata</a>()) -> <a href="../../apps/erts/erlang.html#t:iodata/0">iodata</a>().</pre>

      </div>

<p>Equivalent to <a href="#compress/2"><code class="inline">compress(Data, #{})</code></a>.</p>
  </section>
</section>
<section class="detail" id="compress/2">

  <div class="detail-header">
    <a href="#compress/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">compress(Data, CtxOrOptions)</h1>

        <span class="note">(since OTP 28.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/zstd.erl#L624" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> compress(Data :: <a href="../../apps/erts/erlang.html#t:iodata/0">iodata</a>(), Options :: <a href="#t:compress_parameters/0">compress_parameters</a>()) -> <a href="../../apps/erts/erlang.html#t:iodata/0">iodata</a>();
              (Data :: <a href="../../apps/erts/erlang.html#t:iodata/0">iodata</a>(), Ctx :: <a href="#t:context/0">context</a>()) -> <a href="../../apps/erts/erlang.html#t:iodata/0">iodata</a>().</pre>

      </div>

<p>Compress <code class="inline">Data</code> using the given <a href="#t:compress_parameters/0"><code class="inline">compress_parameters/0</code></a> or the <a href="#t:context/0"><code class="inline">context/0</code></a>.</p><p>Example:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">compress</span><span class="p" data-group-id="3187963211-1">(</span><span class="s">&quot;abc&quot;</span><span class="p" data-group-id="3187963211-1">)</span><span class="p">.</span><span class="gp unselectable">
2&gt; </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">compress</span><span class="p" data-group-id="3187963211-2">(</span><span class="s">&quot;abc&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3187963211-3">#{</span><span class="w"> </span><span class="ss">compressionLevel</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="p" data-group-id="3187963211-3">}</span><span class="p" data-group-id="3187963211-2">)</span><span class="p">.</span></code></pre>
  </section>
</section>
<section class="detail" id="context/1">

  <div class="detail-header">
    <a href="#context/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">context(Mode)</h1>

        <span class="note">(since OTP 28.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/zstd.erl#L434" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> context(compress | decompress) -> {ok, <a href="#t:context/0">context</a>()}.</pre>

      </div>

<p>Equivalent to <a href="#context/2"><code class="inline">context(Mode, #{})</code></a>.</p>
  </section>
</section>
<section class="detail" id="context/2">

  <div class="detail-header">
    <a href="#context/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">context(Mode, Options)</h1>

        <span class="note">(since OTP 28.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/zstd.erl#L448" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> context(compress, Options :: <a href="#t:compress_parameters/0">compress_parameters</a>()) -> {ok, <a href="#t:context/0">context</a>()};
             (decompress, Options :: <a href="#t:decompress_parameters/0">decompress_parameters</a>()) -> {ok, <a href="#t:context/0">context</a>()}.</pre>

      </div>

<p>Create a compression or decompression context.</p><p>A context can be used to do streaming compression/decompression and allows
re-using parameters for multiple compressions/decompressions.</p>
  </section>
</section>
<section class="detail" id="decompress/1">

  <div class="detail-header">
    <a href="#decompress/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">decompress(Data)</h1>

        <span class="note">(since OTP 28.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/zstd.erl#L641" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> decompress(<a href="../../apps/erts/erlang.html#t:iodata/0">iodata</a>()) -> <a href="../../apps/erts/erlang.html#t:iodata/0">iodata</a>().</pre>

      </div>

<p>Equivalent to <a href="#decompress/2"><code class="inline">decompress(Data, #{})</code></a>.</p>
  </section>
</section>
<section class="detail" id="decompress/2">

  <div class="detail-header">
    <a href="#decompress/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">decompress(Data, CtxOrOptions)</h1>

        <span class="note">(since OTP 28.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/zstd.erl#L660" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> decompress(Data :: <a href="../../apps/erts/erlang.html#t:iodata/0">iodata</a>(), Options :: <a href="#t:decompress_parameters/0">decompress_parameters</a>()) -> <a href="../../apps/erts/erlang.html#t:iodata/0">iodata</a>();
                (Data :: <a href="../../apps/erts/erlang.html#t:iodata/0">iodata</a>(), Ctx :: <a href="#t:context/0">context</a>()) -> <a href="../../apps/erts/erlang.html#t:iodata/0">iodata</a>().</pre>

      </div>

<p>Decompress <code class="inline">Data</code> using the given <a href="#t:compress_parameters/0"><code class="inline">compress_parameters/0</code></a> or the <a href="#t:context/0"><code class="inline">context/0</code></a>.</p><p>Example:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="n">Compressed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">compress</span><span class="p" data-group-id="9613888525-1">(</span><span class="s">&quot;abc&quot;</span><span class="p" data-group-id="9613888525-1">)</span><span class="p">.</span><span class="gp unselectable">
2&gt; </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">decompress</span><span class="p" data-group-id="9613888525-2">(</span><span class="n">Compressed</span><span class="p" data-group-id="9613888525-2">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="9613888525-3">[</span><span class="s">~&quot;abc&quot;</span><span class="p" data-group-id="9613888525-3">]</span></code></pre>
  </section>
</section>
<section class="detail" id="dict/2">

  <div class="detail-header">
    <a href="#dict/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">dict(Mode, Dict)</h1>

        <span class="note">(since OTP 28.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/zstd.erl#L324" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> dict(Mode :: compress | decompress, Dict :: <a href="../../apps/erts/erlang.html#t:binary/0">binary</a>()) -> {ok, <a href="#t:dict/0">dict</a>()}.</pre>

      </div>

<p>Equivalent to <a href="#dict/3"><code class="inline">dict(Mode, Dict, #{})</code></a>.</p>
  </section>
</section>
<section class="detail" id="dict/3">

  <div class="detail-header">
    <a href="#dict/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">dict/3</h1>

        <span class="note">(since OTP 28.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/zstd.erl#L364" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> dict(compress, Dict :: <a href="../../apps/erts/erlang.html#t:binary/0">binary</a>(), #{compressionLevel => <a href="#t:compressionLevel/0">compressionLevel</a>()}) -> {ok, <a href="#t:dict/0">dict</a>()};
          (decompress, Dict :: <a href="../../apps/erts/erlang.html#t:binary/0">binary</a>(), #{}) -> {ok, <a href="#t:dict/0">dict</a>()}.</pre>

      </div>

<p>Create a compression or decompression dictionary.</p><p>A compression dictionary can be used as a <a href="#t:compress_parameters/0"><code class="inline">compress_parameters/0</code></a> to use
a dictionary for compression. Dictionaries allow good compression ratios
even for small amounts of data.</p><p>A decompression dictionary can be used as a <a href="#t:decompress_parameters/0"><code class="inline">decompress_parameters/0</code></a> to use
a dictionary for decompression. The same dictionary has to be used for
compression as decompression. To verify that the same dictionary is used
you can use <a href="#get_dict_id/1"><code class="inline">get_dict_id/1</code></a> on the dictionary and compressed data, or just
try to decompress as decompression will raise and exception if an incorrect
dictionary is given.</p><p>The <code class="inline">compressionLevel</code> set on a dictionary will override the <code class="inline">compressionLevel</code>
set in the <a href="#t:context/0"><code class="inline">context/0</code></a>.</p><p>Example:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="p" data-group-id="9484549519-1">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="n">CDict</span><span class="p" data-group-id="9484549519-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">dict</span><span class="p" data-group-id="9484549519-2">(</span><span class="ss">compress</span><span class="p">,</span><span class="w"> </span><span class="n">Dict</span><span class="p" data-group-id="9484549519-2">)</span><span class="p">.</span><span class="gp unselectable">
2&gt; </span><span class="n">Data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">lists</span><span class="p">:</span><span class="nf">duplicate</span><span class="p" data-group-id="9484549519-3">(</span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="9484549519-3">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="9484549519-4">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="p">_</span><span class="p" data-group-id="9484549519-4">]</span><span class="gp unselectable">
3&gt; </span><span class="nf">iolist_size</span><span class="p" data-group-id="9484549519-5">(</span><span class="nc">zstd</span><span class="p">:</span><span class="nf">compress</span><span class="p" data-group-id="9484549519-6">(</span><span class="n">Data</span><span class="p" data-group-id="9484549519-6">)</span><span class="p" data-group-id="9484549519-5">)</span><span class="p">.</span><span class="w">
</span><span class="mi">17</span><span class="gp unselectable">
4&gt; </span><span class="nf">iolist_size</span><span class="p" data-group-id="9484549519-7">(</span><span class="nc">zstd</span><span class="p">:</span><span class="nf">compress</span><span class="p" data-group-id="9484549519-8">(</span><span class="n">Data</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9484549519-9">#{</span><span class="w"> </span><span class="ss">dictionary</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="n">CDict</span><span class="p">,</span><span class="w"> </span><span class="ss">dictIDFlag</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ss">false</span><span class="w"> </span><span class="p" data-group-id="9484549519-9">}</span><span class="p" data-group-id="9484549519-8">)</span><span class="p" data-group-id="9484549519-7">)</span><span class="p">.</span><span class="w">
</span><span class="mi">16</span></code></pre><p>As loading a dictionary can be a heavy operations, it is possible to create
only a single <a href="#t:dict/0"><code class="inline">dict/0</code></a> and provide it to multiple <a href="#t:context/0"><code class="inline">context/0</code></a>.</p><p>There is no API exposed in <a href="zstd.html"><code class="inline">zstd</code></a> to create a dictionary, instead use the
<code class="inline">zstd</code> command line tool.</p>
  </section>
</section>
<section class="detail" id="finish/2">

  <div class="detail-header">
    <a href="#finish/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">finish(Ctx, Data)</h1>

        <span class="note">(since OTP 28.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/zstd.erl#L519" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> finish(Ctx :: <a href="#t:context/0">context</a>(), Data :: <a href="../../apps/erts/erlang.html#t:iodata/0">iodata</a>()) -> Result when Result :: {done, <a href="../../apps/erts/erlang.html#t:iovec/0">erlang:iovec</a>()}.</pre>

      </div>

<p>Finish compressing/decompressing data.</p><p>This flushes all output buffers and resets the <a href="#t:context/0"><code class="inline">context/0</code></a> so
that it can be used for compressing/decompressing again.</p><p>Example:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="p" data-group-id="1349329518-1">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="n">DCtx</span><span class="p" data-group-id="1349329518-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">context</span><span class="p" data-group-id="1349329518-2">(</span><span class="ss">decompress</span><span class="p" data-group-id="1349329518-2">)</span><span class="p">.</span><span class="gp unselectable">
2&gt; </span><span class="p" data-group-id="1349329518-3">{</span><span class="ss">continue</span><span class="p">,</span><span class="w"> </span><span class="n">D1</span><span class="p" data-group-id="1349329518-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">stream</span><span class="p" data-group-id="1349329518-4">(</span><span class="n">DCtx</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1349329518-5">&lt;&lt;</span><span class="mi">40</span><span class="p">,</span><span class="mi">181</span><span class="p">,</span><span class="mi">47</span><span class="p">,</span><span class="mi">253</span><span class="p">,</span><span class="mi">32</span><span class="p" data-group-id="1349329518-5">&gt;&gt;</span><span class="p" data-group-id="1349329518-4">)</span><span class="p">.</span><span class="gp unselectable">
3&gt; </span><span class="p" data-group-id="1349329518-6">{</span><span class="ss">done</span><span class="p">,</span><span class="w"> </span><span class="n">D2</span><span class="p" data-group-id="1349329518-6">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">finish</span><span class="p" data-group-id="1349329518-7">(</span><span class="n">DCtx</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1349329518-8">&lt;&lt;</span><span class="mi">2</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">97</span><span class="p">,</span><span class="mi">98</span><span class="p" data-group-id="1349329518-8">&gt;&gt;</span><span class="p" data-group-id="1349329518-7">)</span><span class="p">.</span><span class="gp unselectable">
4&gt; </span><span class="nf">iolist_to_binary</span><span class="p" data-group-id="1349329518-9">(</span><span class="p" data-group-id="1349329518-10">[</span><span class="n">D1</span><span class="p">,</span><span class="n">D2</span><span class="p" data-group-id="1349329518-10">]</span><span class="p" data-group-id="1349329518-9">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="1349329518-11">&lt;&lt;</span><span class="s">&quot;ab&quot;</span><span class="p" data-group-id="1349329518-11">&gt;&gt;</span></code></pre>
  </section>
</section>
<section class="detail" id="get_dict_id/1">

  <div class="detail-header">
    <a href="#get_dict_id/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_dict_id(DictOrFrame)</h1>

        <span class="note">(since OTP 28.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/zstd.erl#L385" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> get_dict_id(DictOrFrame :: <a href="#t:dict/0">dict</a>() | <a href="../../apps/erts/erlang.html#t:binary/0">binary</a>()) -> <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>().</pre>

      </div>

<p>Get the dictionary ID of a dictionary or a frame.</p><p>The dictionary ID 0 represents no dictionary.</p><p>Example:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="p" data-group-id="1363516122-1">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="n">CDict</span><span class="p" data-group-id="1363516122-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">dict</span><span class="p" data-group-id="1363516122-2">(</span><span class="ss">compress</span><span class="p">,</span><span class="w"> </span><span class="n">Dict</span><span class="p" data-group-id="1363516122-2">)</span><span class="p">.</span><span class="gp unselectable">
2&gt; </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">get_dict_id</span><span class="p" data-group-id="1363516122-3">(</span><span class="n">CDict</span><span class="p" data-group-id="1363516122-3">)</span><span class="p">.</span><span class="w">
</span><span class="mi">1850243626</span><span class="gp unselectable">
3&gt; </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">get_dict_id</span><span class="p" data-group-id="1363516122-4">(</span><span class="nc">zstd</span><span class="p">:</span><span class="nf">compress</span><span class="p" data-group-id="1363516122-5">(</span><span class="s">&quot;abc&quot;</span><span class="p" data-group-id="1363516122-5">)</span><span class="p" data-group-id="1363516122-4">)</span><span class="p">.</span><span class="w">
</span><span class="mi">0</span></code></pre>
  </section>
</section>
<section class="detail" id="get_frame_header/1">

  <div class="detail-header">
    <a href="#get_frame_header/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_frame_header(Frame)</h1>

        <span class="note">(since OTP 28.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/zstd.erl#L425" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> get_frame_header(Frame :: <a href="../../apps/erts/erlang.html#t:iodata/0">iodata</a>()) ->
                          {ok,
                           #{blockSizeMax => <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>(),
                             checksumFlag => <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>(),
                             dictID => <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>(),
                             frameContentSize => <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>(),
                             frameType => 'ZSTD_frame' | 'ZSTD_skippableFrame',
                             headerSize => <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>(),
                             windowSize => <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()}} |
                          {error, <a href="unicode.html#t:chardata/0">unicode:chardata</a>()}.</pre>

      </div>

<p>Get header of a Zstandard compressed frame.</p><p>A compressed Zstandard stream can consist of multiple frames. This
function will read metadata from the first frame. This information
can be useful when debugging corrupted Zstandard streams.</p><p>Example:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="n">Compressed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">compress</span><span class="p" data-group-id="5196437033-1">(</span><span class="s">~&quot;abc&quot;</span><span class="p" data-group-id="5196437033-1">)</span><span class="p">.</span><span class="gp unselectable">
2&gt; </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">get_frame_header</span><span class="p" data-group-id="5196437033-2">(</span><span class="n">Compressed</span><span class="p" data-group-id="5196437033-2">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="5196437033-3">{</span><span class="ss">ok</span><span class="p">,</span><span class="p" data-group-id="5196437033-4">#{</span><span class="ss">frameContentSize</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="ss">windowSize</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="ss">blockSizeMax</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="ss">frameType</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ss">&#39;ZSTD_frame&#39;</span><span class="p">,</span><span class="ss">headerSize</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
      </span><span class="ss">dictID</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">checksumFlag</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ss">false</span><span class="p" data-group-id="5196437033-4">}</span><span class="p" data-group-id="5196437033-3">}</span></code></pre>
  </section>
</section>
<section class="detail" id="get_parameter/2">

  <div class="detail-header">
    <a href="#get_parameter/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_parameter(Ctx, Key)</h1>

        <span class="note">(since OTP 28.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/zstd.erl#L314" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> get_parameter(Ctx :: <a href="#t:context/0">context</a>(), Key :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()) -> Value :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Get a parameter from a <a href="#t:context/0"><code class="inline">context/0</code></a>.</p><p>See <a href="#t:compress_parameters/0"><code class="inline">compress_parameters/0</code></a> and <a href="#t:decompress_parameters/0"><code class="inline">decompress_parameters/0</code></a> for details on
which parameters are available and what each parameter does.</p><p>Note that it is not possible to get the <code class="inline">dictionary</code> and <code class="inline">pledgedSrcSize</code>
parameters using this API. Instead you can use <a href="#get_dict_id/1"><code class="inline">get_dict_id/1</code></a> on the
<a href="#t:context/0"><code class="inline">context/0</code></a> to get the id of the dictionary used. There is no way to
get the <code class="inline">pledgedSrcSize</code>.</p><p>Returns <code class="inline">ok</code> on success, raises an error on failure.</p><p>Example:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="p" data-group-id="0308884194-1">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="n">CCtx</span><span class="p" data-group-id="0308884194-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">context</span><span class="p" data-group-id="0308884194-2">(</span><span class="ss">compress</span><span class="p" data-group-id="0308884194-2">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="0308884194-3">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="p">_</span><span class="p" data-group-id="0308884194-3">}</span><span class="gp unselectable">
2&gt; </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">get_parameter</span><span class="p" data-group-id="0308884194-4">(</span><span class="n">CCtx</span><span class="p">,</span><span class="w"> </span><span class="ss">compressionLevel</span><span class="p" data-group-id="0308884194-4">)</span><span class="p">.</span><span class="w">
</span><span class="mi">3</span><span class="gp unselectable">
3&gt; </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">set_parameter</span><span class="p" data-group-id="0308884194-5">(</span><span class="n">CCtx</span><span class="p">,</span><span class="w"> </span><span class="ss">compressionLevel</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p" data-group-id="0308884194-5">)</span><span class="p">.</span><span class="w">
</span><span class="ss">ok</span><span class="gp unselectable">
4&gt; </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">get_parameter</span><span class="p" data-group-id="0308884194-6">(</span><span class="n">CCtx</span><span class="p">,</span><span class="w"> </span><span class="ss">compressionLevel</span><span class="p" data-group-id="0308884194-6">)</span><span class="p">.</span><span class="w">
</span><span class="mi">15</span></code></pre>
  </section>
</section>
<section class="detail" id="reset/1">

  <div class="detail-header">
    <a href="#reset/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">reset(Ctx)</h1>

        <span class="note">(since OTP 28.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/zstd.erl#L583" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> reset(Ctx :: <a href="#t:context/0">context</a>()) -> ok.</pre>

      </div>

<p>Reset a context while streaming data, returning it to its original state
but keeping all parameters set.</p><p>By resetting the state, the context can be re-used for other operations even
if it is in the middle of a (de)compression stream.</p><p>Example:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="p" data-group-id="4325960599-1">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="n">CCtx</span><span class="p" data-group-id="4325960599-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">context</span><span class="p" data-group-id="4325960599-2">(</span><span class="ss">compress</span><span class="p" data-group-id="4325960599-2">)</span><span class="p">.</span><span class="gp unselectable">
2&gt; </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">stream</span><span class="p" data-group-id="4325960599-3">(</span><span class="n">CCtx</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;a&quot;</span><span class="p" data-group-id="4325960599-3">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="4325960599-4">{</span><span class="ss">continue</span><span class="p">,</span><span class="w"> </span><span class="p">_</span><span class="p" data-group-id="4325960599-4">}</span><span class="gp unselectable">
3&gt; </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">reset</span><span class="p" data-group-id="4325960599-5">(</span><span class="n">CCtx</span><span class="p" data-group-id="4325960599-5">)</span><span class="p">.</span><span class="w">
</span><span class="ss">ok</span><span class="gp unselectable">
4&gt; </span><span class="p" data-group-id="4325960599-6">{</span><span class="ss">done</span><span class="p">,</span><span class="w"> </span><span class="n">Compressed</span><span class="p" data-group-id="4325960599-6">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">finish</span><span class="p" data-group-id="4325960599-7">(</span><span class="n">CCtx</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;b&quot;</span><span class="p" data-group-id="4325960599-7">)</span><span class="p">.</span><span class="gp unselectable">
5&gt; </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">decompress</span><span class="p" data-group-id="4325960599-8">(</span><span class="n">Compressed</span><span class="p" data-group-id="4325960599-8">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="4325960599-9">[</span><span class="s">~&quot;b&quot;</span><span class="p" data-group-id="4325960599-9">]</span></code></pre>
  </section>
</section>
<section class="detail" id="set_parameter/3">

  <div class="detail-header">
    <a href="#set_parameter/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">set_parameter(Ctx, Key, Value)</h1>

        <span class="note">(since OTP 28.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/zstd.erl#L269" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> set_parameter(Ctx :: <a href="#t:context/0">context</a>(), Key :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), Value :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()) -> ok.</pre>

      </div>

<p>Set a parameter on a <code class="inline">context/0</code>.</p><p>See <a href="#t:compress_parameters/0"><code class="inline">compress_parameters/0</code></a> and <a href="#t:decompress_parameters/0"><code class="inline">decompress_parameters/0</code></a> for details on
which parameters are available and what each parameter does.</p><p>Returns <code class="inline">ok</code> on success, raises an error on failure.</p><p>Example:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="p" data-group-id="4641200246-1">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="n">CCtx</span><span class="p" data-group-id="4641200246-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">context</span><span class="p" data-group-id="4641200246-2">(</span><span class="ss">compress</span><span class="p" data-group-id="4641200246-2">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="4641200246-3">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="p">_</span><span class="p" data-group-id="4641200246-3">}</span><span class="gp unselectable">
2&gt; </span><span class="ss">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">set_parameter</span><span class="p" data-group-id="4641200246-4">(</span><span class="n">CCtx</span><span class="p">,</span><span class="w"> </span><span class="ss">compressionLevel</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p" data-group-id="4641200246-4">)</span><span class="p">.</span><span class="w">
</span><span class="ss">ok</span><span class="gp unselectable">
3&gt; </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">stream</span><span class="p" data-group-id="4641200246-5">(</span><span class="n">CCtx</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="p" data-group-id="4641200246-5">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="4641200246-6">{</span><span class="ss">continue</span><span class="p">,</span><span class="w"> </span><span class="p">_</span><span class="p" data-group-id="4641200246-6">}</span><span class="gp unselectable">
4&gt; </span><span class="k">catch</span><span class="w"> </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">set_parameter</span><span class="p" data-group-id="4641200246-7">(</span><span class="n">CCtx</span><span class="p">,</span><span class="w"> </span><span class="ss">dictionary</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;abc&quot;</span><span class="p" data-group-id="4641200246-7">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="4641200246-8">{</span><span class="ss">&#39;EXIT&#39;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4641200246-9">{</span><span class="p" data-group-id="4641200246-10">{</span><span class="ss">zstd_error</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4641200246-11">&lt;&lt;</span><span class="s">&quot;Operation not authorized at current processing stage&quot;</span><span class="p" data-group-id="4641200246-11">&gt;&gt;</span><span class="p" data-group-id="4641200246-10">}</span><span class="p">,</span><span class="w"> </span><span class="p">_</span><span class="p" data-group-id="4641200246-9">}</span><span class="p" data-group-id="4641200246-8">}</span></code></pre>
  </section>
</section>
<section class="detail" id="stream/2">

  <div class="detail-header">
    <a href="#stream/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">stream(Ctx, Data)</h1>

        <span class="note">(since OTP 28.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/stdlib/src/zstd.erl#L477" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> stream(Ctx :: <a href="#t:context/0">context</a>(), Data :: <a href="../../apps/erts/erlang.html#t:iodata/0">iodata</a>()) -> Result
                when
                    Result ::
                        {continue, Remainder :: <a href="../../apps/erts/erlang.html#t:iovec/0">erlang:iovec</a>(), Output :: <a href="../../apps/erts/erlang.html#t:binary/0">binary</a>()} |
                        {continue, Output :: <a href="../../apps/erts/erlang.html#t:binary/0">binary</a>()}.</pre>

      </div>

<p>Compress or decompress a stream of data. The last stream of data should be called
with <a href="#finish/2"><code class="inline">finish/2</code></a> to complete the compression/decompression.</p><p>Example:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="p" data-group-id="0115716576-1">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="n">CCtx</span><span class="p" data-group-id="0115716576-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">context</span><span class="p" data-group-id="0115716576-2">(</span><span class="ss">compress</span><span class="p" data-group-id="0115716576-2">)</span><span class="p">.</span><span class="gp unselectable">
2&gt; </span><span class="p" data-group-id="0115716576-3">{</span><span class="ss">continue</span><span class="p">,</span><span class="w"> </span><span class="n">C1</span><span class="p" data-group-id="0115716576-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">stream</span><span class="p" data-group-id="0115716576-4">(</span><span class="n">CCtx</span><span class="p">,</span><span class="w"> </span><span class="s">~&quot;a&quot;</span><span class="p" data-group-id="0115716576-4">)</span><span class="p">.</span><span class="gp unselectable">
3&gt; </span><span class="p" data-group-id="0115716576-5">{</span><span class="ss">done</span><span class="p">,</span><span class="w"> </span><span class="n">C2</span><span class="p" data-group-id="0115716576-5">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">finish</span><span class="p" data-group-id="0115716576-6">(</span><span class="n">CCtx</span><span class="p">,</span><span class="w"> </span><span class="s">~&quot;b&quot;</span><span class="p" data-group-id="0115716576-6">)</span><span class="p">.</span><span class="gp unselectable">
4&gt; </span><span class="n">Compressed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">iolist_to_binary</span><span class="p" data-group-id="0115716576-7">(</span><span class="p" data-group-id="0115716576-8">[</span><span class="n">C1</span><span class="p">,</span><span class="w"> </span><span class="n">C2</span><span class="p" data-group-id="0115716576-8">]</span><span class="p" data-group-id="0115716576-7">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="0115716576-9">&lt;&lt;</span><span class="mi">40</span><span class="p">,</span><span class="mi">181</span><span class="p">,</span><span class="mi">47</span><span class="p">,</span><span class="mi">253</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">88</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">97</span><span class="p">,</span><span class="mi">98</span><span class="p" data-group-id="0115716576-9">&gt;&gt;</span><span class="gp unselectable">
5&gt; </span><span class="nc">zstd</span><span class="p">:</span><span class="nf">decompress</span><span class="p" data-group-id="0115716576-10">(</span><span class="n">Compressed</span><span class="p" data-group-id="0115716576-10">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="0115716576-11">[</span><span class="p" data-group-id="0115716576-12">&lt;&lt;</span><span class="s">&quot;ab&quot;</span><span class="p" data-group-id="0115716576-12">&gt;&gt;</span><span class="p" data-group-id="0115716576-11">]</span></code></pre>
  </section>
</section>

    </div>
  </section>

    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="stdlib.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.1) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>
<p>Copyright Â© 1996-2025 <a href="https://www.ericsson.com">Ericsson AB</a></p>
    </footer>
  </div>
</main>
</div>
  <script defer src="https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.min.js"></script>
  <script>
  let initialized = false;

  window.addEventListener("exdoc:loaded", () => {
      if (!initialized) {
      mermaid.initialize({
          startOnLoad: false,
          theme: document.body.className.includes("dark") ? "dark" : "default"
      });
      initialized = true;
      }

      let id = 0;
      for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
          graphEl.innerHTML = svg;
          bindFunctions?.(graphEl);
          preEl.insertAdjacentElement("afterend", graphEl);
          preEl.remove();
      });
      }
  });
  </script>

  </body>
</html>
