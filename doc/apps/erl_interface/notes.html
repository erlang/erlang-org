<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.1">
    <meta name="project" content="erl_interface v5.6.1">


<meta name="major-vsn" content="28">
<meta name="exdoc:full-text-search-url" content="/doc/search.html?v=28&q=">
<link rel="canonical" href="https://www.erlang.org/doc/apps/erl_interface/notes.html" />
    <title>Erl_interface Release Notes â€” erl_interface v5.6.1</title>

    <link rel="stylesheet" href="dist/html-erlang-ZK43ZOAC.css" />

    <script defer src="dist/sidebar_items-5872C7C5.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-DPJLHKSM.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="../../index.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="erl_interface" />
        </a>

      <div>
        <a href="../../index.html" class="sidebar-projectName" translate="no">
erl_interface
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v5.6.1
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-extra" id="main" data-type="extras">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of erl_interface</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>Erl_interface Release Notes</h1>


      <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/erl_interface/doc/notes.md#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


<p>This document describes the changes made to the Erl_interface application.</p><h2 id="erl_interface-5-6-1" class="section-heading"><a href="#erl_interface-5-6-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 5.6.1</span></h2><h3 id="improvements-and-new-features" class="section-heading"><a href="#improvements-and-new-features" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Fixed C compiler warnings generated by codechecker.</p><p>Own Id: OTP-19671 Aux Id: <a href="https://github.com/erlang/otp/pull/9832" title="">PR-9832</a></p></li></ul><h3 id="known-bugs-and-problems" class="section-heading"><a href="#known-bugs-and-problems" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Known Bugs and Problems</span></h3><ul><li><p>The <code class="inline">ei</code> API for decoding/encoding terms is not fully 64-bit compatible since terms that have a representation on the external term format larger than 2 GB cannot be handled.</p><p>Own Id: OTP-16607 Aux Id: OTP-16608</p></li></ul><h2 id="erl_interface-5-6" class="section-heading"><a href="#erl_interface-5-6" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 5.6</span></h2><h3 id="improvements-and-new-features-1" class="section-heading"><a href="#improvements-and-new-features-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Fixed licenses in files and added ORT curations to the following apps: otp, eldap, erl_interface, eunit, parsetools, stdlib, syntax_tools, and ERTS.</p><p>Own Id: OTP-19478 Aux Id: <a href="https://github.com/erlang/otp/pull/9376" title="">PR-9376</a>, <a href="https://github.com/erlang/otp/pull/9402" title="">PR-9402</a>, <a href="https://github.com/erlang/otp/pull/9819" title="">PR-9819</a></p></li><li><p>Added support for compiling Erlang/OTP for Windows on ARM64.</p><p>Own Id: OTP-19480 Aux Id: <a href="https://github.com/erlang/otp/pull/8734" title="">PR-8734</a></p></li><li><p>When compiling C/C++ code on Unix systems, the compiler hardening flags suggested by the <a href="https://github.com/ossf/wg-best-practices-os-developers/blob/main/docs/Compiler-Hardening-Guides/Compiler-Options-Hardening-Guide-for-C-and-C%2B%2B.md">Open Source Security Foundation</a> are now enabled by default. To disable them, pass <code class="inline">--disable-security-hardening-flags</code> to <code class="inline">configure</code>.</p><p>Own Id: OTP-19519 Aux Id: <a href="https://github.com/erlang/otp/pull/9441" title="">PR-9441</a></p></li><li><p>The license and copyright header has changed format to include an <code class="inline">SPDX-License-Identifier</code>. At the same time, most files have been updated to follow a uniform standard for license headers.</p><p>Own Id: OTP-19575 Aux Id: <a href="https://github.com/erlang/otp/pull/9670" title="">PR-9670</a></p></li><li><p>Update of MD5 implementation from OpenSSL version 3.1.4 to 3.5.</p><p>Own Id: OTP-19614 Aux Id: <a href="https://github.com/erlang/otp/pull/9775" title="">PR-9775</a></p></li></ul><h3 id="known-bugs-and-problems-1" class="section-heading"><a href="#known-bugs-and-problems-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Known Bugs and Problems</span></h3><ul><li><p>The <code class="inline">ei</code> API for decoding/encoding terms is not fully 64-bit compatible since terms that have a representation on the external term format larger than 2 GB cannot be handled.</p><p>Own Id: OTP-16607 Aux Id: OTP-16608</p></li></ul><h2 id="erl_interface-5-5-2" class="section-heading"><a href="#erl_interface-5-5-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 5.5.2</span></h2><h3 id="improvements-and-new-features-2" class="section-heading"><a href="#improvements-and-new-features-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The documentation has been migrated to use Markdown and ExDoc.</p><p>Own Id: OTP-18955 Aux Id: <a href="https://github.com/erlang/otp/pull/8026" title="">PR-8026</a></p></li></ul><h3 id="known-bugs-and-problems-2" class="section-heading"><a href="#known-bugs-and-problems-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Known Bugs and Problems</span></h3><ul><li><p>The <code class="inline">ei</code> API for decoding/encoding terms is not fully 64-bit compatible since terms that have a representation on the external term format larger than 2 GB cannot be handled.</p><p>Own Id: OTP-16607 Aux Id: OTP-16608</p></li></ul><h2 id="erl_interface-5-5-1" class="section-heading"><a href="#erl_interface-5-5-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 5.5.1</span></h2><h3 id="fixed-bugs-and-malfunctions" class="section-heading"><a href="#fixed-bugs-and-malfunctions" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix bug where the system installed openssl/md5.h would be confused with the vendored md5.h.</p><p>Own Id: OTP-18931 Aux Id: GH-7987 PR-7989</p></li></ul><h2 id="erl_interface-5-5" class="section-heading"><a href="#erl_interface-5-5" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 5.5</span></h2><h3 id="fixed-bugs-and-malfunctions-1" class="section-heading"><a href="#fixed-bugs-and-malfunctions-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fixed some benign compile warnings on Windows.</p><p>Own Id: OTP-18895</p></li></ul><h3 id="improvements-and-new-features-3" class="section-heading"><a href="#improvements-and-new-features-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Add support to encode maps with <code class="inline">ei_x_format</code>.</p><p>Own Id: OTP-18764 Aux Id: PR-7602</p></li><li><p>Replaced old md5 implementation with an implementation from OpenSSL.</p><p>Own Id: OTP-18877</p></li></ul><h3 id="known-bugs-and-problems-3" class="section-heading"><a href="#known-bugs-and-problems-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Known Bugs and Problems</span></h3><ul><li><p>The <code class="inline">ei</code> API for decoding/encoding terms is not fully 64-bit compatible since
terms that have a representation on the external term format larger than 2 GB
cannot be handled.</p><p>Own Id: OTP-16607 Aux Id: OTP-16608</p></li></ul><h2 id="erl_interface-5-4" class="section-heading"><a href="#erl_interface-5-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 5.4</span></h2><h3 id="improvements-and-new-features-4" class="section-heading"><a href="#improvements-and-new-features-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>As announced since the release of OTP 24, support for:</p><ul><li>version 4 node container types in the external term format are now
mandatory. That is, references supporting up to 5 32-bit integer
identifiers, and process and port identifiers with support for 64-bit data
storage. The distribution flag
<a href="../../apps/erts/erl_dist_protocol.html#DFLAG_V4_NC"><code class="inline">DFLAG_V4_NC</code></a> is therefor now
also mandatory. OTP has since OTP 24 supported this. Also note that the
external format produced by <code class="inline">term_to_binary()</code> and <code class="inline">term_to_iovec()</code> will
unconditionally produce pids, ports, and references supporting this larger
format.</li><li>the <a href="../../apps/erts/erl_dist_protocol.html#new_link_protocol">new link protocol</a>
introduced in OTP 23.3 is now mandatory. The distribution flag
<a href="../../apps/erts/erl_dist_protocol.html#DFLAG_UNLINK_ID"><code class="inline">DFLAG_UNLINK_ID</code></a> is
therefor now also mandatory.</li></ul><p>Due to the above, OTP 26 nodes will refuse to connect to OTP nodes from
releases prior to OTP 24.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-18140 Aux Id: PR-6072</p></li></ul><h3 id="known-bugs-and-problems-4" class="section-heading"><a href="#known-bugs-and-problems-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Known Bugs and Problems</span></h3><ul><li><p>The <code class="inline">ei</code> API for decoding/encoding terms is not fully 64-bit compatible since
terms that have a representation on the external term format larger than 2 GB
cannot be handled.</p><p>Own Id: OTP-16607 Aux Id: OTP-16608</p></li></ul><h2 id="erl_interface-5-3-2-1" class="section-heading"><a href="#erl_interface-5-3-2-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 5.3.2.1</span></h2><h3 id="improvements-and-new-features-5" class="section-heading"><a href="#improvements-and-new-features-5" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Replaced old md5 implementation with an implementation from OpenSSL.</p><p>Own Id: OTP-18877</p></li></ul><h2 id="erl_interface-5-3-2" class="section-heading"><a href="#erl_interface-5-3-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 5.3.2</span></h2><h3 id="fixed-bugs-and-malfunctions-2" class="section-heading"><a href="#fixed-bugs-and-malfunctions-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fixed configure tests for a few ARM-specific instructions, which prevented the
emulator from being built on some platforms.</p><p>Own Id: OTP-18554</p></li></ul><h2 id="erl_interface-5-3-1" class="section-heading"><a href="#erl_interface-5-3-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 5.3.1</span></h2><h3 id="fixed-bugs-and-malfunctions-3" class="section-heading"><a href="#fixed-bugs-and-malfunctions-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Accept connection setup from OTP 23 and 24 nodes that are not using epmd.</p><p>Own Id: OTP-18404 Aux Id: GH-6595, PR-6625</p></li></ul><h3 id="known-bugs-and-problems-5" class="section-heading"><a href="#known-bugs-and-problems-5" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Known Bugs and Problems</span></h3><ul><li><p>The <code class="inline">ei</code> API for decoding/encoding terms is not fully 64-bit compatible since
terms that have a representation on the external term format larger than 2 GB
cannot be handled.</p><p>Own Id: OTP-16607 Aux Id: OTP-16608</p></li></ul><h2 id="erl_interface-5-3" class="section-heading"><a href="#erl_interface-5-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 5.3</span></h2><h3 id="fixed-bugs-and-malfunctions-4" class="section-heading"><a href="#fixed-bugs-and-malfunctions-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p><code class="inline">erl_call</code> no longer links against <code class="inline">nsl</code> on platforms where <code class="inline">gethostbyname</code> is
provided by libc.</p><p>Own Id: OTP-17846 Aux Id: PR-5558</p></li></ul><h3 id="improvements-and-new-features-6" class="section-heading"><a href="#improvements-and-new-features-6" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The following distribution flags are now mandatory: <code class="inline">DFLAG_BIT_BINARIES</code>,
<code class="inline">DFLAG_EXPORT_PTR_TAG</code>, <code class="inline">DFLAG_MAP_TAGS</code>, <code class="inline">DFLAG_NEW_FLOATS</code>, and
<code class="inline">DFLAG_FUN_TAGS</code>. This mainly concerns libraries or application that implement
the distribution protocol themselves.</p><p>Own Id: OTP-17318 Aux Id: PR-4972</p></li><li><p>Input for <code class="inline">configure</code> scripts adapted to <code class="inline">autoconf</code> 2.71.</p><p>Own Id: OTP-17414 Aux Id: PR-4967</p></li><li><p>Removed use of node creation value zero as a wildcard. Also prevent zero from
being used as creation by <code class="inline">erl_interface</code> and <code class="inline">jinterface</code> nodes.</p><p>Own Id: OTP-17682 Aux Id: PR-5347</p></li><li><p>Changed <code class="inline">creation</code> arguments, of function <code class="inline">ei_connect_init</code> and friends, from
type <code class="inline">short</code> to <code class="inline">unsigned int</code> for full 32-bit range.</p><p>Own Id: OTP-17802 Aux Id: PR-5347</p></li></ul><h3 id="known-bugs-and-problems-6" class="section-heading"><a href="#known-bugs-and-problems-6" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Known Bugs and Problems</span></h3><ul><li><p>The <code class="inline">ei</code> API for decoding/encoding terms is not fully 64-bit compatible since
terms that have a representation on the external term format larger than 2 GB
cannot be handled.</p><p>Own Id: OTP-16607 Aux Id: OTP-16608</p></li></ul><h2 id="erl_interface-5-2-2-1" class="section-heading"><a href="#erl_interface-5-2-2-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 5.2.2.1</span></h2><h3 id="improvements-and-new-features-7" class="section-heading"><a href="#improvements-and-new-features-7" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Replaced old md5 implementation with an implementation from OpenSSL.</p><p>Own Id: OTP-18877</p></li></ul><h2 id="erl_interface-5-2-2" class="section-heading"><a href="#erl_interface-5-2-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 5.2.2</span></h2><h3 id="fixed-bugs-and-malfunctions-5" class="section-heading"><a href="#fixed-bugs-and-malfunctions-5" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Avoid attempt build dynamic libs if config option <code class="inline">--enable-ei-dynamic-lib</code> is
not given.</p><p>Own Id: OTP-17987 Aux Id: GH-5781, PR-5787</p></li></ul><h2 id="erl_interface-5-2-1" class="section-heading"><a href="#erl_interface-5-2-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 5.2.1</span></h2><h3 id="fixed-bugs-and-malfunctions-6" class="section-heading"><a href="#fixed-bugs-and-malfunctions-6" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix compile error regarding <code class="inline">gethostbyaddr_r</code> on Android. Error introduced in
OTP 24.3.</p><p>Own Id: OTP-17975 Aux Id: PR-5763</p></li></ul><h2 id="erl_interface-5-2" class="section-heading"><a href="#erl_interface-5-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 5.2</span></h2><h3 id="improvements-and-new-features-8" class="section-heading"><a href="#improvements-and-new-features-8" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Add <code class="inline">--enable-ei-dynamic-lib</code> configure option that will make erl_interface
also release a dynamic library version of libei.</p><p>Own Id: OTP-17883 Aux Id: PR-5601 ERIERL-724</p></li></ul><h3 id="known-bugs-and-problems-7" class="section-heading"><a href="#known-bugs-and-problems-7" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Known Bugs and Problems</span></h3><ul><li><p>The <code class="inline">ei</code> API for decoding/encoding terms is not fully 64-bit compatible since
terms that have a representation on the external term format larger than 2 GB
cannot be handled.</p><p>Own Id: OTP-16607 Aux Id: OTP-16608</p></li></ul><h2 id="erl_interface-5-1" class="section-heading"><a href="#erl_interface-5-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 5.1</span></h2><h3 id="improvements-and-new-features-9" class="section-heading"><a href="#improvements-and-new-features-9" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>erl_call now prints an error when the arguments cannot be parsed.</p><p>Own Id: OTP-17626</p></li></ul><h3 id="known-bugs-and-problems-8" class="section-heading"><a href="#known-bugs-and-problems-8" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Known Bugs and Problems</span></h3><ul><li><p>The <code class="inline">ei</code> API for decoding/encoding terms is not fully 64-bit compatible since
terms that have a representation on the external term format larger than 2 GB
cannot be handled.</p><p>Own Id: OTP-16607 Aux Id: OTP-16608</p></li></ul><h2 id="erl_interface-5-0-1" class="section-heading"><a href="#erl_interface-5-0-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 5.0.1</span></h2><h3 id="fixed-bugs-and-malfunctions-7" class="section-heading"><a href="#fixed-bugs-and-malfunctions-7" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Commit of generated <code class="inline">configure</code> script.</p><p>Own Id: OTP-17420 Aux Id: OTP-17398, GH-4821</p></li></ul><h2 id="erl_interface-5-0" class="section-heading"><a href="#erl_interface-5-0" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 5.0</span></h2><h3 id="fixed-bugs-and-malfunctions-8" class="section-heading"><a href="#fixed-bugs-and-malfunctions-8" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Two options have been added to <code class="inline">erl_call</code>. The <code class="inline">-fetch_stdout</code> option fetches
stdout data resulting from the code invoked by <code class="inline">erl_call</code>. The <code class="inline">-fetch_stdout</code>
option disables printing of the result term. In order to implement the first
of these two options a new function called <code class="inline">ei_xrpc_from</code> has been added to
erl_interface. For details see the <code class="inline">erl_call</code> documentation and
<code class="inline">erl_interface</code> documentation.</p><p>Own Id: OTP-17132</p></li></ul><h3 id="improvements-and-new-features-10" class="section-heading"><a href="#improvements-and-new-features-10" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Accept 64-bit process identifiers from external nodes. This is the first step
in an upgrade path toward using 64-bit pids in a future OTP release.</p><p>Own Id: OTP-16720 Aux Id: PR-2680</p></li><li><p>The experimental HiPE application has been removed, together with all related
functionality in other applications.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-16963</p></li><li><p>The <code class="inline">registry</code> functionality part of <code class="inline">erl_interface</code> has been removed. It was
as of OTP 23 deprecated and scheduled for removal in OTP 24.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-16970</p></li><li><p>Accept references up to a size of 160-bits from remote nodes. This is the
first step in an upgrade path toward using references up to 160-bits in a
future OTP release.</p><p>Own Id: OTP-17005 Aux Id: OTP-16718</p></li><li><p>Accept 64-bit port identifiers from external nodes. This is the first step in
an upgrade path toward using 64-bit port identifiers in a future OTP release.</p><p>Own Id: OTP-17007</p></li><li><p>Support the new link protocol in order to be able to phase out the old link
protocol in the future. <code class="inline">erl_interface</code> does not support setting up or
removing links from the <code class="inline">erl_interface</code> side, so the bug present with the old
protocol did not effect <code class="inline">erl_interface</code>. This since both participants of a
link simultaneously needed to operate on the link in order to trigger the bug.</p><p>Own Id: OTP-17270 Aux Id: OTP-17127</p></li></ul><h3 id="known-bugs-and-problems-9" class="section-heading"><a href="#known-bugs-and-problems-9" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Known Bugs and Problems</span></h3><ul><li><p>The <code class="inline">ei</code> API for decoding/encoding terms is not fully 64-bit compatible since
terms that have a representation on the external term format larger than 2 GB
cannot be handled.</p><p>Own Id: OTP-16607 Aux Id: OTP-16608</p></li></ul><h2 id="erl_interface-4-0-3-1" class="section-heading"><a href="#erl_interface-4-0-3-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 4.0.3.1</span></h2><h3 id="fixed-bugs-and-malfunctions-9" class="section-heading"><a href="#fixed-bugs-and-malfunctions-9" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Commit of generated <code class="inline">configure</code> script.</p><p>Own Id: OTP-17420 Aux Id: OTP-17398, GH-4821</p></li></ul><h3 id="known-bugs-and-problems-10" class="section-heading"><a href="#known-bugs-and-problems-10" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Known Bugs and Problems</span></h3><ul><li><p>The <code class="inline">ei</code> API for decoding/encoding terms is not fully 64-bit compatible since
terms that have a representation on the external term format larger than 2 GB
cannot be handled.</p><p>Own Id: OTP-16607 Aux Id: OTP-16608</p></li></ul><h2 id="erl_interface-4-0-3" class="section-heading"><a href="#erl_interface-4-0-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 4.0.3</span></h2><h3 id="fixed-bugs-and-malfunctions-10" class="section-heading"><a href="#fixed-bugs-and-malfunctions-10" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix bug where sending of large data with ei<em>send</em>*/ei_rpc with infinite
timeout could fail when the tcp buffer becomes full.</p><p>Fault has existed since OTP-21.</p><p>Own Id: OTP-17358 Aux Id: ERLERL-610</p></li></ul><h3 id="known-bugs-and-problems-11" class="section-heading"><a href="#known-bugs-and-problems-11" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Known Bugs and Problems</span></h3><ul><li><p>The <code class="inline">ei</code> API for decoding/encoding terms is not fully 64-bit compatible since
terms that have a representation on the external term format larger than 2 GB
cannot be handled.</p><p>Own Id: OTP-16607 Aux Id: OTP-16608</p></li></ul><h2 id="erl_interface-4-0-2-1" class="section-heading"><a href="#erl_interface-4-0-2-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 4.0.2.1</span></h2><h3 id="fixed-bugs-and-malfunctions-11" class="section-heading"><a href="#fixed-bugs-and-malfunctions-11" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix bug where sending of large data with ei<em>send</em>*/ei_rpc with infinite
timeout could fail when the tcp buffer becomes full.</p><p>Fault has existed since OTP-21.</p><p>Own Id: OTP-17358 Aux Id: ERLERL-610</p></li></ul><h2 id="erl_interface-4-0-2" class="section-heading"><a href="#erl_interface-4-0-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 4.0.2</span></h2><h3 id="fixed-bugs-and-malfunctions-12" class="section-heading"><a href="#fixed-bugs-and-malfunctions-12" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Integers outside of the range [-(1 bsl 32) - 1, (1 bsl 32) -1] were
previously intended to be printed in an internal bignum format by
<code class="inline">ei_print_term()</code> and <code class="inline">ei_s_print_term()</code>. Unfortunately the implementation
has been buggy since OTP R13B02 and since then produced results with random
content which also could crash the calling program.</p><p>This fix replaces the printing of the internal format with printing in
hexadecimal form and extend the range for printing in decimal form. Currently
integers in the range [-(1 bsl 64), (1 bsl 64)] are printed in decimal form
and integers outside of this range in Erlang hexadecimal form.</p><p>Own Id: OTP-17099 Aux Id: ERIERL-585</p></li></ul><h3 id="known-bugs-and-problems-12" class="section-heading"><a href="#known-bugs-and-problems-12" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Known Bugs and Problems</span></h3><ul><li><p>The <code class="inline">ei</code> API for decoding/encoding terms is not fully 64-bit compatible since
terms that have a representation on the external term format larger than 2 GB
cannot be handled.</p><p>Own Id: OTP-16607 Aux Id: OTP-16608</p></li></ul><h2 id="erl_interface-4-0-1" class="section-heading"><a href="#erl_interface-4-0-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 4.0.1</span></h2><h3 id="fixed-bugs-and-malfunctions-13" class="section-heading"><a href="#fixed-bugs-and-malfunctions-13" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix erl_interface on windows to be compiled with correct flags to make
internal primitives reentrant.</p><p>Own Id: OTP-16740</p></li><li><p>Fixed <code class="inline">ei_get_type</code> to set <code class="inline">*size</code> to zero for floats, pids, port and refs
according to documentation.</p><p>Own Id: OTP-16753 Aux Id: ERL-1288, PR-2678</p></li><li><p>Fix ei_connect when using a dynamic node name to force usage of distribution
version 6.</p><p>This bug caused <code class="inline">erl_call -R -address</code> to not work properly.</p><p>Own Id: OTP-16786</p></li></ul><h3 id="improvements-and-new-features-11" class="section-heading"><a href="#improvements-and-new-features-11" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Changes in order to build on the Haiku operating system.</p><p>Thanks to Calvin Buckley</p><p>Own Id: OTP-16707 Aux Id: PR-2638</p></li></ul><h3 id="known-bugs-and-problems-13" class="section-heading"><a href="#known-bugs-and-problems-13" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Known Bugs and Problems</span></h3><ul><li><p>The <code class="inline">ei</code> API for decoding/encoding terms is not fully 64-bit compatible since
terms that have a representation on the external term format larger than 2 GB
cannot be handled.</p><p>Own Id: OTP-16607 Aux Id: OTP-16608</p></li></ul><h2 id="erl_interface-4-0" class="section-heading"><a href="#erl_interface-4-0" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 4.0</span></h2><h3 id="fixed-bugs-and-malfunctions-14" class="section-heading"><a href="#fixed-bugs-and-malfunctions-14" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix various compiler warnings on 64-bit Windows.</p><p>Own Id: OTP-15800</p></li><li><p><code class="inline">erl_call</code> will now work properly on systems that cannot resolve their own
hostname.</p><p>Own Id: OTP-16604</p></li><li><p>Various bug fixes:</p><ul><li>Internal error checking in various functions.</li><li><a href="ei_connect.html#ei_rpc"><code class="inline">ei_rpc()</code></a> accepted any 2-tuple message as an rpc
response.</li><li><a href="ei.html#ei_decode_ref"><code class="inline">ei_decode_ref()</code></a> now refuse to write outside of
allocated memory in case a huge reference is decoded.</li><li><a href="ei.html#ei_decode_ei_term"><code class="inline">ei_decode_ei_term()</code></a> now reports the same term
types as <a href="ei.html#ei_get_type"><code class="inline">ei_get_type()</code></a>.</li></ul><p>Own Id: OTP-16623</p></li></ul><h3 id="improvements-and-new-features-12" class="section-heading"><a href="#improvements-and-new-features-12" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>A client node can receive its node name dynamically from the node that it
first connects to. This featured can by used by</p><ul><li>starting with <code class="inline">erl -sname undefined</code></li><li>erl_interface functions <code class="inline">ei_connect_init</code> and friends</li><li><code class="inline">erl_call -R</code></li></ul><p>Own Id: OTP-13812</p></li><li><p>Increased size of node incarnation numbers (aka &quot;creation&quot;), from 2 bits to 32
bits. This will reduce the risk of pids/ports/refs, from different node
incarnation with the same name, being mixed up.</p><p>Own Id: OTP-15603</p></li><li><p>Fix various build issues when compiling Erlang/OTP to the IBM AIX platform.</p><p>Own Id: OTP-15866 Aux Id: PR-2110</p></li><li><p>Improved node connection setup handshake protocol. Made possible to agree on
protocol version without dependence on <code class="inline">epmd</code> or other prior knowledge of peer
node version. Also added exchange of node incarnation (&quot;creation&quot;) values and
expanded the distribution capability flag field from 32 to 64 bits.</p><p>Own Id: OTP-16229</p></li><li><p>New <code class="inline">erl_call</code> option <code class="inline">-address [Host]:Port</code> to connect directly to a node
without being dependent on <code class="inline">epmd</code> to resolve the node name.</p><p>Own Id: OTP-16251</p></li><li><p>As announced in OTP 22.0, the deprecated parts of <code class="inline">erl_interface</code> have now
been removed (essentially all C functions with prefix <code class="inline">erl_</code>).</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-16328</p></li><li><p>As announced in OTP 22.0, the previously existing limited support for VxWorks
has now been removed.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-16329 Aux Id: OTP-15621</p></li><li><p>New function <code class="inline">ei_connect_host_port</code> and friends to allow node connection
without being dependent on <code class="inline">epmd</code> for node name resolution.</p><p>Own Id: OTP-16496 Aux Id: OTP-16251</p></li><li><p>A number of new functions have been added to the <code class="inline">erl_interface</code> API:</p><ul><li><a href="ei.html#ei_cmp_pids"><code class="inline">ei_cmp_pids()</code></a></li><li><a href="ei.html#ei_cmp_ports"><code class="inline">ei_cmp_ports()</code></a></li><li><a href="ei.html#ei_cmp_refs"><code class="inline">ei_cmp_refs()</code></a></li><li><a href="ei.html#ei_decode_iodata"><code class="inline">ei_decode_iodata()</code></a></li><li><a href="ei_connect.html#ei_make_pid"><code class="inline">ei_make_pid()</code></a></li><li><a href="ei_connect.html#ei_make_ref"><code class="inline">ei_make_ref()</code></a></li></ul><p>Own Id: OTP-16594</p></li><li><p>Added a <code class="inline">-timeout</code> option to <code class="inline">erl_call</code>.</p><p>Own Id: OTP-16624</p></li><li><p>The <code class="inline">erl_interface</code> <code class="inline">registry</code> functionality is deprecated as of OTP 23, and
will be removed in OTP 24. Reasonably new <code class="inline">gcc</code> compilers will issue
deprecation warnings when using this functionality. In order to disable these
warnings, define the macro <code class="inline">EI_NO_DEPR_WARN</code>.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-16630</p></li><li><p>Documentation improvements.</p><p>Own Id: OTP-16633</p></li></ul><h3 id="known-bugs-and-problems-14" class="section-heading"><a href="#known-bugs-and-problems-14" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Known Bugs and Problems</span></h3><ul><li><p>The <code class="inline">ei</code> API for decoding/encoding terms is not fully 64-bit compatible since
terms that have a representation on the external term format larger than 2 GB
cannot be handled.</p><p>Own Id: OTP-16607 Aux Id: OTP-16608</p></li></ul><h2 id="erl_interface-3-13-2-2" class="section-heading"><a href="#erl_interface-3-13-2-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.13.2.2</span></h2><h3 id="fixed-bugs-and-malfunctions-15" class="section-heading"><a href="#fixed-bugs-and-malfunctions-15" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Commit of generated <code class="inline">configure</code> script.</p><p>Own Id: OTP-17420 Aux Id: OTP-17398, GH-4821</p></li></ul><h3 id="known-bugs-and-problems-15" class="section-heading"><a href="#known-bugs-and-problems-15" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Known Bugs and Problems</span></h3><ul><li><p>The <code class="inline">ei</code> API for decoding/encoding terms is not fully 64-bit compatible since
terms that have a representation on the external term format larger than 2 GB
cannot be handled.</p><p>Own Id: OTP-16607 Aux Id: OTP-16608</p></li></ul><h2 id="erl_interface-3-13-2-1" class="section-heading"><a href="#erl_interface-3-13-2-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.13.2.1</span></h2><h3 id="fixed-bugs-and-malfunctions-16" class="section-heading"><a href="#fixed-bugs-and-malfunctions-16" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix bug where sending of large data with ei<em>send</em>*/ei_rpc with infinite
timeout could fail when the tcp buffer becomes full.</p><p>Fault has existed since OTP-21.</p><p>Own Id: OTP-17358 Aux Id: ERLERL-610</p></li></ul><h3 id="known-bugs-and-problems-16" class="section-heading"><a href="#known-bugs-and-problems-16" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Known Bugs and Problems</span></h3><ul><li><p>The <code class="inline">ei</code> API for decoding/encoding terms is not fully 64-bit compatible since
terms that have a representation on the external term format larger than 2 GB
cannot be handled.</p><p>Own Id: OTP-16607 Aux Id: OTP-16608</p></li></ul><h2 id="erl_interface-3-13-2-0-1" class="section-heading"><a href="#erl_interface-3-13-2-0-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.13.2.0.1</span></h2><h3 id="fixed-bugs-and-malfunctions-17" class="section-heading"><a href="#fixed-bugs-and-malfunctions-17" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix bug where sending of large data with ei<em>send</em>*/ei_rpc with infinite
timeout could fail when the tcp buffer becomes full.</p><p>Fault has existed since OTP-21.</p><p>Own Id: OTP-17358 Aux Id: ERIERL-610</p></li></ul><h2 id="erl_interface-3-13-2" class="section-heading"><a href="#erl_interface-3-13-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.13.2</span></h2><h3 id="fixed-bugs-and-malfunctions-18" class="section-heading"><a href="#fixed-bugs-and-malfunctions-18" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix link error &quot;multiple definition of `ei_default_socket_callbacks'&quot; for gcc
version 10 or when built with gcc option -fno-common. Error exists since
OTP-21.3.</p><p>Own Id: OTP-16412 Aux Id: PR-2503</p></li></ul><h2 id="erl_interface-3-13-1" class="section-heading"><a href="#erl_interface-3-13-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.13.1</span></h2><h3 id="fixed-bugs-and-malfunctions-19" class="section-heading"><a href="#fixed-bugs-and-malfunctions-19" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix user supplied socket implementation for Windows and other platforms
without gcc atomics.</p><p>Own Id: OTP-16308</p></li></ul><h2 id="erl_interface-3-13" class="section-heading"><a href="#erl_interface-3-13" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.13</span></h2><h3 id="fixed-bugs-and-malfunctions-20" class="section-heading"><a href="#fixed-bugs-and-malfunctions-20" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix bugs in <code class="inline">ei_print_term</code> for binaries and bit strings causing incorrect
output.</p><p>Own Id: OTP-15917</p></li><li><p>Fixed bug in <code class="inline">ei_decode_fun</code> for very old fun encoding format. Bug exist since
OTP 22.0.</p><p>Own Id: OTP-15996</p></li></ul><h3 id="improvements-and-new-features-13" class="section-heading"><a href="#improvements-and-new-features-13" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p><code class="inline">ei_print_term()</code> now supports printing of maps and funs.</p><p>Own Id: OTP-15814</p></li></ul><h2 id="erl_interface-3-12" class="section-heading"><a href="#erl_interface-3-12" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.12</span></h2><h3 id="fixed-bugs-and-malfunctions-21" class="section-heading"><a href="#fixed-bugs-and-malfunctions-21" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>The vxworks configure has been updated to respect the environment CFLAGS.</p><p>Own Id: OTP-15773</p></li></ul><h3 id="improvements-and-new-features-14" class="section-heading"><a href="#improvements-and-new-features-14" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Minor adjustments made to build system for parallel configure.</p><p>Own Id: OTP-15340 Aux Id: OTP-14625</p></li><li><p>The limited support for VxWorks is deprecated as of OTP 22, and will be
removed in OTP 23.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-15621</p></li><li><p>The old legacy <code class="inline">erl_interface</code> library (functions with prefix <code class="inline">erl_</code>) is
deprecated as of OTP 22, and will be removed in OTP 23. This does not apply to
the <code class="inline">ei</code> library. Reasonably new <code class="inline">gcc</code> compilers will issue deprecation
warnings. In order to disable these warnings, define the macro
<code class="inline">EI_NO_DEPR_WARN</code>.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-15622</p></li><li><p>Added support to receive, decode, encode and send both bit strings and export
funs (<code class="inline">fun M:F/A</code>).</p><p>New functions <code class="inline">ei_decode_bitstring</code> and <code class="inline">ei_encode_bitstring</code> have been added
in order to decode and encode bit strings where the number of bits is not
necessary divisible by 8 (a whole number of bytes). The existing functions
<code class="inline">ei_decode_fun</code> and <code class="inline">ei_encode_fun</code> can now also handle export funs.</p><p>Before this change, bit strings and export funs sent to an erl_interface
c-node were encoded using an undocumented fallback tuple format. For bit
strings <code class="inline">{Binary,BitsInLastByte}</code> and for export funs <code class="inline">{M,F}</code>. Existing c-node
implementations expecting these tuples must be changed to instead use
<code class="inline">ei_decode_bitstring</code> and <code class="inline">ei_decode_fun</code>. As a temporary solution you can
also build erl_interface with macro <code class="inline">EI_COMPAT=21</code> or call
<code class="inline">ei_set_compat_rel(21)</code> to receive the old fallback tuples.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-15712 Aux Id: OTP-15774</p></li></ul><h2 id="erl_interface-3-11-3-2" class="section-heading"><a href="#erl_interface-3-11-3-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.11.3.2</span></h2><h3 id="fixed-bugs-and-malfunctions-22" class="section-heading"><a href="#fixed-bugs-and-malfunctions-22" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix bug where sending of large data with ei<em>send</em>*/ei_rpc with infinite
timeout could fail when the tcp buffer becomes full.</p><p>Fault has existed since OTP-21.</p><p>Own Id: OTP-17358 Aux Id: ERLERL-610</p></li></ul><h3 id="known-bugs-and-problems-17" class="section-heading"><a href="#known-bugs-and-problems-17" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Known Bugs and Problems</span></h3><ul><li><p>The <code class="inline">ei</code> API for decoding/encoding terms is not fully 64-bit compatible since
terms that have a representation on the external term format larger than 2 GB
cannot be handled.</p><p>Own Id: OTP-16607 Aux Id: OTP-16608</p></li></ul><h2 id="erl_interface-3-11-3-1" class="section-heading"><a href="#erl_interface-3-11-3-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.11.3.1</span></h2><h3 id="fixed-bugs-and-malfunctions-23" class="section-heading"><a href="#fixed-bugs-and-malfunctions-23" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix link error &quot;multiple definition of `ei_default_socket_callbacks'&quot; for gcc
version 10 or when built with gcc option -fno-common. Error exists since
OTP-21.3.</p><p>Own Id: OTP-16412 Aux Id: PR-2503</p></li></ul><h3 id="known-bugs-and-problems-18" class="section-heading"><a href="#known-bugs-and-problems-18" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Known Bugs and Problems</span></h3><ul><li><p>The <code class="inline">ei</code> API for decoding/encoding terms is not fully 64-bit compatible since
terms that have a representation on the external term format larger than 2 GB
cannot be handled.</p><p>Own Id: OTP-16607 Aux Id: OTP-16608</p></li></ul><h2 id="erl_interface-3-11-3" class="section-heading"><a href="#erl_interface-3-11-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.11.3</span></h2><h3 id="fixed-bugs-and-malfunctions-24" class="section-heading"><a href="#fixed-bugs-and-malfunctions-24" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p><code class="inline">erl_interface</code>/<code class="inline">ei</code> refused to use node names with an alive name (the part of
the node name preceding the @ sign) longer than 63 characters and a host name
longer than 64 characters. The total amount of characters allowed in a node
name (alivename@hostname) was thus limited to 128 characters. These limits
applied both to the own node name as well as node names of other nodes.
Ordinary Erlang nodes limit the node name length to 256 characters, which
meant that you could not communicate with certain Erlang nodes due to their
node name used.</p><p><code class="inline">erl_interface</code>/<code class="inline">ei</code> now allow the total amount of characters in a node name
to be up to 256 characters. These characters may be distributed between alive
name and host name in whatever way needed. That is, the maximum amount of
characters in the alive name may be 254 and the maximum amount of characters
in the host name may be 254, but in total the node name must not exceed 256
characters.</p><p>Own Id: OTP-15781 Aux Id: ERIERL-356</p></li></ul><h2 id="erl_interface-3-11-2-1" class="section-heading"><a href="#erl_interface-3-11-2-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.11.2.1</span></h2><h3 id="fixed-bugs-and-malfunctions-25" class="section-heading"><a href="#fixed-bugs-and-malfunctions-25" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p><code class="inline">erl_interface</code>/<code class="inline">ei</code> refused to use node names with an alive name (the part of
the node name preceding the @ sign) longer than 63 characters and a host name
longer than 64 characters. The total amount of characters allowed in a node
name (alivename@hostname) was thus limited to 128 characters. These limits
applied both to the own node name as well as node names of other nodes.
Ordinary Erlang nodes limit the node name length to 256 characters, which
meant that you could not communicate with certain Erlang nodes due to their
node name used.</p><p><code class="inline">erl_interface</code>/<code class="inline">ei</code> now allow the total amount of characters in a node name
to be up to 256 characters. These characters may be distributed between alive
name and host name in whatever way needed. That is, the maximum amount of
characters in the alive name may be 254 and the maximum amount of characters
in the host name may be 254, but in total the node name must not exceed 256
characters.</p><p>Own Id: OTP-15781 Aux Id: ERIERL-356</p></li></ul><h2 id="erl_interface-3-11-2" class="section-heading"><a href="#erl_interface-3-11-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.11.2</span></h2><h3 id="fixed-bugs-and-malfunctions-26" class="section-heading"><a href="#fixed-bugs-and-malfunctions-26" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix handling of Makefile dependencies so that parallel make works properly.</p><p>Own Id: OTP-15757</p></li></ul><h2 id="erl_interface-3-11-1" class="section-heading"><a href="#erl_interface-3-11-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.11.1</span></h2><h3 id="fixed-bugs-and-malfunctions-27" class="section-heading"><a href="#fixed-bugs-and-malfunctions-27" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fixed two bugs in the <code class="inline">erl_call</code> program. A missing initialization (introduced
in <code class="inline">erl_interface-3.11</code>) which either caused a crash or failure to connect to
or start a node, and an incorrectly calculated timeout which could cause
failure to start an erlang node. These bugs only caused failures on some
platforms.</p><p>Own Id: OTP-15676 Aux Id: OTP-15442, ERL-881</p></li></ul><h2 id="erl_interface-3-11" class="section-heading"><a href="#erl_interface-3-11" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.11</span></h2><h3 id="improvements-and-new-features-15" class="section-heading"><a href="#improvements-and-new-features-15" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Support for plugin of a
<a href="ei_connect.html#ussi">user supplied socket implementation</a> has been added.</p><p>Own Id: OTP-15442 Aux Id: ERIERL-258</p></li></ul><h2 id="erl_interface-3-10-4" class="section-heading"><a href="#erl_interface-3-10-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.10.4</span></h2><h3 id="fixed-bugs-and-malfunctions-28" class="section-heading"><a href="#fixed-bugs-and-malfunctions-28" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Make <code class="inline">ei_connect</code> and friends also accept state <code class="inline">ok_simultaneous</code> during
handshake, which means the other node has initiated a connection setup that
will be cancelled in favor of this connection.</p><p>Own Id: OTP-15161 Aux Id: ERIERL-191</p></li><li><p>Fixed bug in <code class="inline">ei_receive_msg</code>, <code class="inline">ei_xreceive_msg</code>, <code class="inline">ei_receive_msg_tmo</code> and
<code class="inline">ei_xreceive_msg_tmo</code>. The <code class="inline">x-&gt;index</code> was set to entire buffer size instead of
the number of bytes actually received.</p><p>Own Id: OTP-15171</p></li><li><p>Fixed bug in <code class="inline">ei_connect_init</code> which could be provoked if called by concurrent
threads. <code class="inline">ei_connect_init</code> called posix interface <code class="inline">gethostbyname</code> which is
documented as not thread safe.</p><p>Own Id: OTP-15191</p></li><li><p>Fixed bug in erl_compare_ext() ignoring the tail of lists of otherwise equal
content. Example: <code class="inline">[a | b]</code> and <code class="inline">[a | c]</code> compared equal and <code class="inline">{[a], b}</code> and
<code class="inline">{[a], c}</code> compared equal.</p><p>Own Id: OTP-15277 Aux Id: PR-1929</p></li></ul><h2 id="erl_interface-3-10-3" class="section-heading"><a href="#erl_interface-3-10-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.10.3</span></h2><h3 id="fixed-bugs-and-malfunctions-29" class="section-heading"><a href="#fixed-bugs-and-malfunctions-29" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix bug where calling erl_init on certain platforms could result in a buffer
overflow bug.</p><p>Own Id: OTP-15033</p></li><li><p>Fixed <code class="inline">erl_call -m</code> to not deallocate module source binary before it has been
read.</p><p>Own Id: OTP-15105 Aux Id: ERL-629</p></li></ul><h3 id="improvements-and-new-features-16" class="section-heading"><a href="#improvements-and-new-features-16" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The program <code class="inline">erl_call</code> calls <code class="inline">erl_eval:eval_str/1</code> when it used to call
<code class="inline">lib:eval_str/1</code>. This means that <code class="inline">erl_call</code> will fail when trying interact
with an Erlang node running Erlang/OTP 20 or earlier.</p><p>Own Id: OTP-15114 Aux Id: OTP-15072, ERL-634</p></li></ul><h2 id="erl_interface-3-10-2-2" class="section-heading"><a href="#erl_interface-3-10-2-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.10.2.2</span></h2><h3 id="fixed-bugs-and-malfunctions-30" class="section-heading"><a href="#fixed-bugs-and-malfunctions-30" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix handling of Makefile dependencies so that parallel make works properly.</p><p>Own Id: OTP-15757</p></li></ul><h2 id="erl_interface-3-10-2-1" class="section-heading"><a href="#erl_interface-3-10-2-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.10.2.1</span></h2><h3 id="fixed-bugs-and-malfunctions-31" class="section-heading"><a href="#fixed-bugs-and-malfunctions-31" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Make <code class="inline">ei_connect</code> and friends also accept state <code class="inline">ok_simultaneous</code> during
handshake, which means the other node has initiated a connection setup that
will be cancelled in favor of this connection.</p><p>Own Id: OTP-15161 Aux Id: ERIERL-191</p></li></ul><h2 id="erl_interface-3-10-2" class="section-heading"><a href="#erl_interface-3-10-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.10.2</span></h2><h3 id="fixed-bugs-and-malfunctions-32" class="section-heading"><a href="#fixed-bugs-and-malfunctions-32" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix bug in <code class="inline">ei_connect</code> functions that may cause failure due to insufficient
buffer space for gethostbyname_r.</p><p>Own Id: OTP-15022 Aux Id: ERIERL-163</p></li><li><p>Optimize encoding/decoding for pure 7-bit ascii atoms.</p><p>Own Id: OTP-15023 Aux Id: ERIERL-150</p></li></ul><h2 id="erl_interface-3-10-1" class="section-heading"><a href="#erl_interface-3-10-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.10.1</span></h2><h3 id="fixed-bugs-and-malfunctions-33" class="section-heading"><a href="#fixed-bugs-and-malfunctions-33" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Removed all old unused files in the documentation.</p><p>Own Id: OTP-14475 Aux Id: ERL-409, PR-1493</p></li></ul><h2 id="erl_interface-3-10" class="section-heading"><a href="#erl_interface-3-10" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.10</span></h2><h3 id="fixed-bugs-and-malfunctions-34" class="section-heading"><a href="#fixed-bugs-and-malfunctions-34" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix bug where gethostname would incorrectly fail with enametoolong on Linux.</p><p>Own Id: OTP-14310</p></li></ul><h3 id="improvements-and-new-features-17" class="section-heading"><a href="#improvements-and-new-features-17" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Remove generation of atoms in old latin1 external format in the distribution
between erlang nodes, <code class="inline">erl_interface</code>, and <code class="inline">jinterface</code>. The new utf8 format
for atoms was introduced in OTP R16. An OTP 20 node can therefore not connect
to nodes older than R16.</p><p>Atoms that can be encoded using latin1 are still encoded by <code class="inline">term_to_binary()</code>
using latin1 encoding. Note that all atoms will by default be encoded using
utf8 in a future Erlang/OTP release. For more information see the
documentation of <a href="../../apps/erts/erlang.html#term_to_binary/2"><code class="inline">erlang:term_to_binary/2</code></a>.</p><p>Own Id: OTP-14337</p></li></ul><h2 id="erl_interface-3-9-3" class="section-heading"><a href="#erl_interface-3-9-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.9.3</span></h2><h3 id="improvements-and-new-features-18" class="section-heading"><a href="#improvements-and-new-features-18" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Minor documentation update</p><p>Own Id: OTP-14233 Aux Id: PR-1343</p></li></ul><h2 id="erl_interface-3-9-2" class="section-heading"><a href="#erl_interface-3-9-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.9.2</span></h2><h3 id="fixed-bugs-and-malfunctions-35" class="section-heading"><a href="#fixed-bugs-and-malfunctions-35" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix <code class="inline">ei_connect_init</code> and <code class="inline">ei_connect_xinit</code> to adjust the <code class="inline">creation</code> argument
to be compatible with nodes older than OTP-19.</p><p>Own Id: OTP-13981</p></li></ul><h3 id="improvements-and-new-features-19" class="section-heading"><a href="#improvements-and-new-features-19" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Editorial documentation changes</p><p>Own Id: OTP-13980</p></li></ul><h2 id="erl_interface-3-9-1" class="section-heading"><a href="#erl_interface-3-9-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.9.1</span></h2><h3 id="fixed-bugs-and-malfunctions-36" class="section-heading"><a href="#fixed-bugs-and-malfunctions-36" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Look for .erlang.cookie in windows system directory if HOMEDRIVE and HOMEPATH
is not set. The same behaviour as the VM.</p><p>Own Id: OTP-13849</p></li></ul><h2 id="erl_interface-3-9" class="section-heading"><a href="#erl_interface-3-9" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.9</span></h2><h3 id="fixed-bugs-and-malfunctions-37" class="section-heading"><a href="#fixed-bugs-and-malfunctions-37" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix decoding of LLONG_MIN in erl_decode</p><p>Own Id: OTP-13666 Aux Id: ERL-158</p></li><li><p>On windows <code class="inline">ei_decode_ulong</code> and <code class="inline">ei_decode_long</code> now correctly returns an
error when trying to decode a number that does not fit in a long. Fixed a bug
on windows where enabling ei tracing would cause a segmentation fault.</p><p>Own Id: OTP-13673</p></li></ul><h3 id="improvements-and-new-features-20" class="section-heading"><a href="#improvements-and-new-features-20" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Handle terms (pids,ports and refs) from nodes with a 'creation' value larger
than 3. This is a preparation of the distribution protocol to allow OTP 19
nodes to correctly communicate with future nodes (20 or higher). The
'creation' value differentiates different incarnations of the same node
(name).</p><p>Own Id: OTP-13488</p></li></ul><h2 id="erl_interface-3-8-2" class="section-heading"><a href="#erl_interface-3-8-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.8.2</span></h2><h3 id="fixed-bugs-and-malfunctions-38" class="section-heading"><a href="#fixed-bugs-and-malfunctions-38" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix Erl_Interface build error on Debian/Hurd and Debian/kFreeBSD. (Thanks to
Sergei Golovan)</p><p>Own Id: OTP-13328</p></li></ul><h3 id="improvements-and-new-features-21" class="section-heading"><a href="#improvements-and-new-features-21" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>EPMD supports both IPv4 and IPv6</p><p>Also affects oldest supported windows version.</p><p>Own Id: OTP-13364</p></li></ul><h2 id="erl_interface-3-8-1" class="section-heading"><a href="#erl_interface-3-8-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.8.1</span></h2><h3 id="improvements-and-new-features-22" class="section-heading"><a href="#improvements-and-new-features-22" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Fix the conditional selection of gethostbyname_r and gethostbyaddr_r.</p><p>Own Id: OTP-13188</p></li></ul><h2 id="erl_interface-3-8" class="section-heading"><a href="#erl_interface-3-8" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.8</span></h2><h3 id="improvements-and-new-features-23" class="section-heading"><a href="#improvements-and-new-features-23" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Do not accept Nan and Infinity values</p><p>Erlang does not accept these values, so we return an error in the C interface
rather than letting them through to the Erlang VM, which rejects the message
with a somewhat cryptic &quot;bad external term&quot;.</p><p>Own Id: OTP-12801</p></li></ul><h2 id="erl_interface-3-7-20" class="section-heading"><a href="#erl_interface-3-7-20" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.7.20</span></h2><h3 id="fixed-bugs-and-malfunctions-39" class="section-heading"><a href="#fixed-bugs-and-malfunctions-39" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Use C99 function isfinite() instead of finite() when available on non GCC
compilers.</p><p>Own Id: OTP-12268</p></li></ul><h3 id="improvements-and-new-features-24" class="section-heading"><a href="#improvements-and-new-features-24" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Distribute <code class="inline">autoconf</code> helpers to applications at build time instead of having
multiple identical copies committed in the repository.</p><p>Own Id: OTP-12348</p></li><li><p>Added an .appup file for the application.</p><p>Own Id: OTP-12358 Aux Id: OTP-12178</p></li></ul><h2 id="erl_interface-3-7-19" class="section-heading"><a href="#erl_interface-3-7-19" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.7.19</span></h2><h3 id="fixed-bugs-and-malfunctions-40" class="section-heading"><a href="#fixed-bugs-and-malfunctions-40" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Added a <code class="inline">.app</code> file for the application.</p><p>Own Id: OTP-12178</p></li></ul><h2 id="erl_interface-3-7-18" class="section-heading"><a href="#erl_interface-3-7-18" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.7.18</span></h2><h3 id="fixed-bugs-and-malfunctions-41" class="section-heading"><a href="#fixed-bugs-and-malfunctions-41" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Implement --enable-sanitizers[=sanitizers]. Similar to debugging with
Valgrind, it's very useful to enable -fsanitize= switches to catch bugs at
runtime.</p><p>Own Id: OTP-12153</p></li></ul><h2 id="erl_interface-3-7-17" class="section-heading"><a href="#erl_interface-3-7-17" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.7.17</span></h2><h3 id="fixed-bugs-and-malfunctions-42" class="section-heading"><a href="#fixed-bugs-and-malfunctions-42" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Now works with Visual Studio.</p><p>Own Id: OTP-11984</p></li></ul><h2 id="erl_interface-3-7-16" class="section-heading"><a href="#erl_interface-3-7-16" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.7.16</span></h2><h3 id="fixed-bugs-and-malfunctions-43" class="section-heading"><a href="#fixed-bugs-and-malfunctions-43" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix memcheck warning in gen_challange (Thanks to Olivier Girondel)</p><p>Own Id: OTP-11608</p></li></ul><h2 id="erl_interface-3-7-15" class="section-heading"><a href="#erl_interface-3-7-15" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.7.15</span></h2><h3 id="fixed-bugs-and-malfunctions-44" class="section-heading"><a href="#fixed-bugs-and-malfunctions-44" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Silence warnings (Thanks to Anthony Ramine)</p><p>Own Id: OTP-11517</p></li></ul><h2 id="erl_interface-3-7-14" class="section-heading"><a href="#erl_interface-3-7-14" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.7.14</span></h2><h3 id="improvements-and-new-features-25" class="section-heading"><a href="#improvements-and-new-features-25" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Introduced functionality for inspection of system and build configuration.</p><p>Own Id: OTP-11196</p></li><li><p>Header and library files from ic and erl_interface are now installed into
usr/{include,lib}. Note that these directories are unversioned, so the
latest installed version will be the one in the directory.</p><p>Own Id: OTP-11284</p></li><li><p>Fix location of true binary under Mac OSX. Thanks to Simon Cornish.</p><p>Own Id: OTP-11289</p></li></ul><h2 id="erl_interface-3-7-13" class="section-heading"><a href="#erl_interface-3-7-13" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.7.13</span></h2><h3 id="improvements-and-new-features-26" class="section-heading"><a href="#improvements-and-new-features-26" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>A guard was added to check if file descriptor is valid before closing it.</p><p>Own Id: OTP-11167</p></li></ul><h2 id="erl_interface-3-7-12" class="section-heading"><a href="#erl_interface-3-7-12" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.7.12</span></h2><h3 id="fixed-bugs-and-malfunctions-45" class="section-heading"><a href="#fixed-bugs-and-malfunctions-45" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Superfluous trailing comma in enum erlang_char_encoding causing compile error
for g++ with --pedantic option.</p><p>Own Id: OTP-10913 Aux Id: seq12264</p></li></ul><h2 id="erl_interface-3-7-11" class="section-heading"><a href="#erl_interface-3-7-11" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.7.11</span></h2><h3 id="fixed-bugs-and-malfunctions-46" class="section-heading"><a href="#fixed-bugs-and-malfunctions-46" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Revert the structs <code class="inline">erlang_pid</code>, <code class="inline">erlang_port</code> and <code class="inline">erlang_ref</code> as they were
before R16A (without <code class="inline">node_org_enc</code>) in order to be backward compatible with
user code that accesses the fields of these structs.</p><p>Own Id: OTP-10885 Aux Id: seq12256</p></li></ul><h2 id="erl_interface-3-7-10" class="section-heading"><a href="#erl_interface-3-7-10" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.7.10</span></h2><h3 id="improvements-and-new-features-27" class="section-heading"><a href="#improvements-and-new-features-27" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Where necessary a comment stating encoding has been added to Erlang files. The
comment is meant to be removed in Erlang/OTP R17B when UTF-8 becomes the
default encoding.</p><p>Own Id: OTP-10630</p></li><li><p>Limited support for unicode atoms in the external format and in the internal
representation of the vm. This is a preparative feature in order to support
communication with future releases of Erlang/OTP that may create unicode
atoms.</p><p>Own Id: OTP-10753</p></li></ul><h2 id="erl_interface-3-7-9" class="section-heading"><a href="#erl_interface-3-7-9" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.7.9</span></h2><h3 id="improvements-and-new-features-28" class="section-heading"><a href="#improvements-and-new-features-28" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Teach lib/erl_interface/configure.in to look for pthreads support in libc
(where it can be found on QNX)</p><p>A minor tweak such that this configure <em>fails</em> if you pass --enable-threads
and no pthreads support can be found.</p><p>(Thanks to Per Hedeland)</p><p>Own Id: OTP-10581</p></li></ul><h2 id="erl_interface-3-7-8" class="section-heading"><a href="#erl_interface-3-7-8" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.7.8</span></h2><h3 id="improvements-and-new-features-29" class="section-heading"><a href="#improvements-and-new-features-29" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Detect when middle endian doubles are used by a platform and account for it
when decoding floats. (Thanks to Mike Sperber)</p><p>Own Id: OTP-10209</p></li></ul><h2 id="erl_interface-3-7-7" class="section-heading"><a href="#erl_interface-3-7-7" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.7.7</span></h2><h3 id="fixed-bugs-and-malfunctions-47" class="section-heading"><a href="#fixed-bugs-and-malfunctions-47" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Minor suppressions and fixes of compilation warnings</p><p>Own Id: OTP-10016</p></li></ul><h2 id="erl_interface-3-7-6" class="section-heading"><a href="#erl_interface-3-7-6" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.7.6</span></h2><h3 id="fixed-bugs-and-malfunctions-48" class="section-heading"><a href="#fixed-bugs-and-malfunctions-48" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>An error when getting global names on OS X Lion has been fixed. The error
caused truncated strings to be returned from the function.</p><p>Own Id: OTP-9799</p></li></ul><h3 id="improvements-and-new-features-30" class="section-heading"><a href="#improvements-and-new-features-30" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Erlang/OTP can now be built using parallel make if you limit the number of
jobs, for instance using '<code class="inline">make -j6</code>' or '<code class="inline">make -j10</code>'. '<code class="inline">make -j</code>' does not
work at the moment because of some missing dependencies.</p><p>Own Id: OTP-9451</p></li><li><p>Eliminate use of deprecated regexp module</p><p>Own Id: OTP-9810</p></li></ul><h2 id="erl_interface-3-7-5" class="section-heading"><a href="#erl_interface-3-7-5" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.7.5</span></h2><h3 id="fixed-bugs-and-malfunctions-49" class="section-heading"><a href="#fixed-bugs-and-malfunctions-49" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Align ei buffer according to size of pointers</p><p>Own Id: OTP-9390</p></li><li><p>XML files have been corrected.</p><p>Own Id: OTP-9550 Aux Id: OTP-9541</p></li><li><p>Make comment and documentation reflect code in
erl_interface/src/misc/ei_decode_term.c (Thanks to Anneli Cuss)</p><p>Own Id: OTP-9559</p></li></ul><h3 id="improvements-and-new-features-31" class="section-heading"><a href="#improvements-and-new-features-31" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>ei: integer overflow in string/atom encoding</p><p>ei_encode_atom() and ei_encode_string() use strlen() to get the length of the
buffer. As strlen() returns an unsigned long long and both ei functions take a
signed integer, the length fields may overflow.</p><p>Check so that the results of strlen can be held in a signed integer. (Thanks
to Michael Santos)</p><p>Own Id: OTP-9530</p></li></ul><h2 id="erl_interface-3-7-4" class="section-heading"><a href="#erl_interface-3-7-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.7.4</span></h2><h3 id="fixed-bugs-and-malfunctions-50" class="section-heading"><a href="#fixed-bugs-and-malfunctions-50" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix using sizeof() for array given as function argument</p><p>When using the sizeof() operator for an array given as function argument it
returns the size of the pointer. In this case, the affected function hex(char
digest[16], char buff[33]) will just print 4 or 8 byte instead of the full
length of 16 bytes, on 32bit and 64bit systems respectively. (Thanks to
Cristian greco)</p><p>Own Id: OTP-9151</p></li><li><p>Initialize <code class="inline">to</code> and <code class="inline">to_name</code> in <code class="inline">erl_receive_msg</code>. (Thanks to GÃ¶ran Larsson)</p><p>Own Id: OTP-9241</p></li><li><p>erl_interface: fix compile error(Thanks to Michael Santos)</p><p>Own Id: OTP-9252</p></li></ul><h2 id="erl_interface-3-7-3" class="section-heading"><a href="#erl_interface-3-7-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.7.3</span></h2><h3 id="fixed-bugs-and-malfunctions-51" class="section-heading"><a href="#fixed-bugs-and-malfunctions-51" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Some malformed distribution messages could cause VM to crash, this is now
corrected.</p><p>Own Id: OTP-8993</p></li><li><p>Strengthen string copy check (Thanks to Michael Santos).</p><p>Own Id: OTP-9071</p></li><li><p>Strengthen atom length check when decoding atoms (Thanks to Michael Santos).</p><p>Own Id: OTP-9072</p></li></ul><h3 id="improvements-and-new-features-32" class="section-heading"><a href="#improvements-and-new-features-32" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Fix global registration. C node needed DFLAG_DIST_MONITOR_FLAT set when
connecting. Fix list compare in erl_compare_ext to return correct result.
(Thanks to Vitaliy Batichko and Evgeny Khirin)</p><p>Own Id: OTP-9015</p></li></ul><h2 id="erl_interface-3-7-2" class="section-heading"><a href="#erl_interface-3-7-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.7.2</span></h2><h3 id="fixed-bugs-and-malfunctions-52" class="section-heading"><a href="#fixed-bugs-and-malfunctions-52" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>erl_call: remove get_hostent</p><p>get_hostent does not properly handle IPv4 addresses on little endian platforms
and fails with hostnames beginning with a number. Remove get_hostent and use
ei_gethostbyname directly since gethostbyname supports IPv4 addresses.</p><p>(Thanks to Michael Santos)</p><p>Own Id: OTP-8890</p></li><li><p>teach ei_x_format to handle unary - and + (Thanks to Steve Vinoski)</p><p>Own Id: OTP-8891</p></li><li><p>Fix zero byte allocation in registry. (Thanks to Michael Santos)</p><p>Own Id: OTP-8893</p></li><li><p>Check the length of the node name to prevent an overflow. Memory error control
of ei_alloc_big. (Thanks to Michael Santos)</p><p>Own Id: OTP-8943</p></li><li><p>erl_term_len() in erl_interface could returned too large values for integers
(since R14B) and too small values for refs (since R9B).</p><p>Own Id: OTP-8945</p></li></ul><h2 id="erl_interface-3-7-1-1" class="section-heading"><a href="#erl_interface-3-7-1-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.7.1.1</span></h2><h3 id="fixed-bugs-and-malfunctions-53" class="section-heading"><a href="#fixed-bugs-and-malfunctions-53" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>The <code class="inline">erl_interface</code> tracelevel for erlang messages was incorrect. This has now
been fixed.</p><p>Own Id: OTP-8874</p></li></ul><h2 id="erl_interface-3-7-1" class="section-heading"><a href="#erl_interface-3-7-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.7.1</span></h2><h3 id="fixed-bugs-and-malfunctions-54" class="section-heading"><a href="#fixed-bugs-and-malfunctions-54" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Removed unused variable in <code class="inline">ei_decode_term.c</code>.</p><p>Fixed faulty deallocation in <code class="inline">erl_call</code>.</p><p>Own Id: OTP-8748</p></li><li><p>ei_connect: correct man page examples (Thanks to Michael Santos)</p><p>Own Id: OTP-8813</p></li><li><p>ei: prevent overflow in <code class="inline">ei_connect_init</code> and <code class="inline">ei_xconnect</code></p><p>Add length check of the buffer before copying. (Thanks to Michael Santos)</p><p>Own Id: OTP-8814</p></li><li><p>Remove DECLSPEC feature which fails on Windows Vista and use the fallback
implementation instead.</p><p>Own Id: OTP-8826</p></li><li><p>erl_call: fix multiple buffer overflows (Thanks to Michael Santos)</p><p>Own Id: OTP-8827</p></li></ul><h3 id="improvements-and-new-features-33" class="section-heading"><a href="#improvements-and-new-features-33" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Fix incorrect writev iovec buffer handling in <code class="inline">erl_interface</code> (Thanks to Steve
Vinoski)</p><p>Own Id: OTP-8837</p></li></ul><h2 id="erl_interface-3-7" class="section-heading"><a href="#erl_interface-3-7" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.7</span></h2><h3 id="improvements-and-new-features-34" class="section-heading"><a href="#improvements-and-new-features-34" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>compact IEEE 754 double encoding in external binary format for ei</p><ul><li>Implement the compact IEEE 754 double encoding in external binary format for
ei. Encoding for ei now always produces the NEW_FLOAT_EXT format. Decoding
and term printing handle both the old ERL_FLOAT_EXT encoding and the new
NEW_FLOAT_EXT encoding.</li><li>Legacy erl_interface code also handles the new encoding, but still produces
the ERL_FLOAT_EXT encoding by default.</li><li>Also enable the DFLAG_NEW_FLOATS distribution flag.</li><li>ei_get_type() will return ERL_FLOAT_EXT regardless if the external format is
encoded with ERL_FLOAT_EXT or NEW_FLOAT_EXT for doubles.</li><li>Reduce the number of copies of the code for encoding and decoding doubles
throughout ei and erl_interface by instead calling the ei encoding and
decoding functions wherever possible.</li><li>Restore commented-out float tests in ei_decode_SUITE and ei_encode_SUITE in
lib/erl_interface/test. Modify them to make them match the style of other
tests in the same suites.</li></ul><p>These changes are based on an ei float patch from Serge Aleynikov originally
submitted against R12B-2 in July 2008 and reworked by Steve Vinoski May 2010.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-8684</p></li></ul><h2 id="erl_interface-3-6-5" class="section-heading"><a href="#erl_interface-3-6-5" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.6.5</span></h2><h3 id="improvements-and-new-features-35" class="section-heading"><a href="#improvements-and-new-features-35" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Document debug support.</p><p>Debug trace output for connection activity could be enabled setting the trace
level as an integer to the EI_TRACELEVEL environment variable. This option
could also be read and set from a running program using
ei_get_tracelevel(void) and ei_set_tracelevel(int).</p><p>Own Id: OTP-5037</p></li><li><p>Cross compilation improvements and other build system improvements.</p><p>Most notable:</p><ul><li>Lots of cross compilation improvements. The old cross compilation support
was more or less non-existing as well as broken. Please, note that the cross
compilation support should still be considered as experimental. Also note
that old cross compilation configurations cannot be used without
modifications. For more information on cross compiling Erlang/OTP see the
<code class="inline">$ERL_TOP/INSTALL-CROSS.md</code> file.</li><li>Support for staged install using
<a href="http://www.gnu.org/prep/standards/html_node/DESTDIR.html">DESTDIR</a>. The old
broken <code class="inline">INSTALL_PREFIX</code> has also been fixed. For more information see the
<code class="inline">$ERL_TOP/INSTALL.md</code> file.</li><li>Documentation of the <code class="inline">release</code> target of the top <code class="inline">Makefile</code>. For more
information see the <code class="inline">$ERL_TOP/INSTALL.md</code> file.</li><li><code class="inline">make install</code> now by default creates relative symbolic links instead of
absolute ones. For more information see the <code class="inline">$ERL_TOP/INSTALL.md</code> file.</li><li><code class="inline">$ERL_TOP/configure --help=recursive</code> now works and prints help for all
applications with <code class="inline">configure</code> scripts.</li><li>Doing <code class="inline">make install</code>, or <code class="inline">make release</code> directly after <code class="inline">make all</code> no longer
triggers miscellaneous rebuilds.</li><li>Existing bootstrap system is now used when doing <code class="inline">make install</code>, or
<code class="inline">make release</code> without a preceding <code class="inline">make all</code>.</li><li>The <code class="inline">crypto</code> and <code class="inline">ssl</code> applications use the same runtime library path when
dynamically linking against <code class="inline">libssl.so</code> and <code class="inline">libcrypto.so</code>. The runtime
library search path has also been extended.</li><li>The <code class="inline">configure</code> scripts of <code class="inline">erl_interface</code> and <code class="inline">odbc</code> now search for thread
libraries and thread library quirks the same way as <code class="inline">erts</code> do.</li><li>The <code class="inline">configure</code> script of the <code class="inline">odbc</code> application now also looks for odbc
libraries in <code class="inline">lib64</code> and <code class="inline">lib/64</code> directories when building on a 64-bit
system.</li><li>The <code class="inline">config.h.in</code> file in the <code class="inline">erl_interface</code> application is now
automatically generated in instead of statically updated which reduces the
risk of <code class="inline">configure</code> tests without any effect.</li></ul><p>(Thanks to Henrik Riomar for suggestions and testing)</p><p>(Thanks to Winston Smith for the AVR32-Linux cross configuration and testing)</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-8323</p></li><li><p>Change erroneous &quot;\\0&quot; in documentation files <code class="inline">erl_notes.xml</code> and
<code class="inline">erl_eterm.xml</code>.</p><p>Own Id: OTP-8326</p></li><li><p>Allow <code class="inline">erl_match()</code> to match <code class="inline">ERL_LONGLONG</code> and <code class="inline">ERL_U_LONGLONG</code> terms (Thanks
to Scott Lystig Fritchie).</p><p>Own Id: OTP-8400</p></li></ul><h2 id="erl_interface-3-6-4" class="section-heading"><a href="#erl_interface-3-6-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.6.4</span></h2><h3 id="improvements-and-new-features-36" class="section-heading"><a href="#improvements-and-new-features-36" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The documentation is now built with open source tools (xsltproc and fop) that
exists on most platforms. One visible change is that the frames are removed.</p><p>Own Id: OTP-8201</p></li></ul><h2 id="erl_interface-3-6-3" class="section-heading"><a href="#erl_interface-3-6-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.6.3</span></h2><h3 id="fixed-bugs-and-malfunctions-55" class="section-heading"><a href="#fixed-bugs-and-malfunctions-55" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>The manual states that erl_receive() return the reason in the <code class="inline">ErlMessage</code>
struct. This was not the case and the function is now corrected.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-4969</p></li><li><p>In <code class="inline">send_exit.c</code> an erroneous size of memory allocation could occur when
reallocating a buffer.</p><p>In <code class="inline">ei_decode_trace.c</code> the index could be updated when the decoding failed.</p><p>In <code class="inline">ei_printterm.c</code> the index could be updated when the decoding failed in
lists and tuples.</p><p>In <code class="inline">ei_decode_term.c</code> when decoding a double (ERL_FLOAT_EXT) no check was done
to ensure that the last of the 31 bytes was null terminated.</p><p>In <code class="inline">ei_decode_term.c</code> when decoding references, only the first 3 bytes are
read, but the index did not increment by the total size.</p><p>In <code class="inline">ei_decode_fun.c</code> no check of correct buffer allocation or data length was
done.</p><p>In <code class="inline">ei_decode_string.c</code> the integer list string case did not decode the NIL
tail correctly.</p><p>These errors has now been fixed. (Thanks to Romain Lenglet, Paul Mineiro and
Paul Guyot).</p><p>Own Id: OTP-6117</p></li><li><p><code class="inline">ei_decode_big</code> could be decoded with a garbage byte.</p><p><code class="inline">ei_encode_big</code> and <code class="inline">ei_x_encode_big</code> is now available.</p><p>Own Id: OTP-7554</p></li><li><p>The function <code class="inline">erl_init_resolve()</code> did not conform to C99 standard which caused
a build error on some platforms. This has now been fixed.</p><p>Own Id: OTP-8093</p></li><li><p><code class="inline">Makefile.in</code> has been updated to use the LDFLAGS environment variable (if
set). (Thanks to Davide Pesavento.)</p><p>Own Id: OTP-8157</p></li></ul><h3 id="improvements-and-new-features-37" class="section-heading"><a href="#improvements-and-new-features-37" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Added support for 64-bit integers in encoding/decoding.</p><p>Added support for better printouts of binaries.</p><p>Own Id: OTP-6091</p></li></ul><h2 id="erl_interface-3-6-2" class="section-heading"><a href="#erl_interface-3-6-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.6.2</span></h2><h3 id="fixed-bugs-and-malfunctions-56" class="section-heading"><a href="#fixed-bugs-and-malfunctions-56" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>A problem with <code class="inline">gethostbyname</code> in <code class="inline">erl_start.c</code> could cause a buffer overflow.
This has now been fixed.</p><p>Clean up of code and removed compiler warnings.</p><p>Own Id: OTP-7978</p></li></ul><h2 id="erl_interface-3-6-1" class="section-heading"><a href="#erl_interface-3-6-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.6.1</span></h2><h3 id="fixed-bugs-and-malfunctions-57" class="section-heading"><a href="#fixed-bugs-and-malfunctions-57" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>A faulty validation in <code class="inline">ei_reg_getpval</code> caused it to never return the
key-value. This has now been fixed. (Thanks to Matt Stancliff)</p><p>Own Id: OTP-7960</p></li></ul><h3 id="improvements-and-new-features-38" class="section-heading"><a href="#improvements-and-new-features-38" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Minor update to the <code class="inline">configure</code> script.</p><p>Own Id: OTP-7959</p></li></ul><h2 id="erl_interface-3-6-1-1" class="section-heading"><a href="#erl_interface-3-6-1-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.6.1</span></h2><h3 id="improvements-and-new-features-39" class="section-heading"><a href="#improvements-and-new-features-39" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Minor update to the <code class="inline">configure</code> script.</p><p>Own Id: OTP-7959</p></li></ul><h2 id="erl_interface-3-6" class="section-heading"><a href="#erl_interface-3-6" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.6</span></h2><h3 id="improvements-and-new-features-40" class="section-heading"><a href="#improvements-and-new-features-40" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Nodes belonging to different independent clusters can now co-exist on the same
host with the help of a new environment variable setting ERL_EPMD_PORT.</p><p>Own Id: OTP-7826</p></li></ul><h2 id="erl_interface-3-5-9" class="section-heading"><a href="#erl_interface-3-5-9" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.5.9</span></h2><h3 id="fixed-bugs-and-malfunctions-58" class="section-heading"><a href="#fixed-bugs-and-malfunctions-58" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>A type-casting bug in ei_skip_term and ei_printterm on 64bit platforms
rendering undefined results is now corrected.</p><p>Own Id: OTP-7577</p></li><li><p>A bug in the hostent copying code of erl_interface on MacOS X/Darwin is now
corrected.</p><p>Own Id: OTP-7593</p></li><li><p>A problem with building <code class="inline">erl_interface</code> on FreeBSD has been fixed (Thanks to
Akira Kitada).</p><p>Own Id: OTP-7611</p></li></ul><h2 id="erl_interface-3-5-8" class="section-heading"><a href="#erl_interface-3-5-8" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.5.8</span></h2><h3 id="fixed-bugs-and-malfunctions-59" class="section-heading"><a href="#fixed-bugs-and-malfunctions-59" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fixed bug in erl_interface when decoding broken data</p><p>Own Id: OTP-7448</p></li></ul><h2 id="erl_interface-3-5-7" class="section-heading"><a href="#erl_interface-3-5-7" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.5.7</span></h2><h3 id="fixed-bugs-and-malfunctions-60" class="section-heading"><a href="#fixed-bugs-and-malfunctions-60" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>An erroneous freeing of memory could occur when using <code class="inline">ei_x_format_wo_ver</code> in
erl_interface, resulting in a segmentation fault.</p><p>Own Id: OTP-6795</p></li><li><p>A faulty compare in <code class="inline">erl_marshal</code> has now been fixed. (Thanks to Simon Cornish
and Paul Mineiro)</p><p>Own Id: OTP-7368</p></li></ul><h2 id="erl_interface-3-5-6" class="section-heading"><a href="#erl_interface-3-5-6" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.5.6</span></h2><h3 id="fixed-bugs-and-malfunctions-61" class="section-heading"><a href="#fixed-bugs-and-malfunctions-61" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Minor documentation fixes.</p><p>Own Id: OTP-7183 Aux Id: OTP-7118</p></li></ul><h2 id="erl_interface-3-5-5-4" class="section-heading"><a href="#erl_interface-3-5-5-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.5.5.4</span></h2><h3 id="fixed-bugs-and-malfunctions-62" class="section-heading"><a href="#fixed-bugs-and-malfunctions-62" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>The symbol __erl_errno was undefined in the single thread version of the ei
library, but is now defined.</p><p>Own Id: OTP-6887</p></li><li><p>Corrected FreeBSD build error.</p><p>Own Id: OTP-7093</p></li></ul><h2 id="erl_interface-3-5-5-3" class="section-heading"><a href="#erl_interface-3-5-5-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.5.5.3</span></h2><h3 id="improvements-and-new-features-41" class="section-heading"><a href="#improvements-and-new-features-41" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Calls to alloca in erl_marshal.c have been removed. A static buffer is now
used instead to store node names temporarily.</p><p>Own Id: OTP-6331 Aux Id: seq10468</p></li><li><p>ei_print_term interprets a list of integers with values from 0 to 255 as a
string. If the original list contains the integer 0, this is considered
terminator of the string. This is incorrect. The function has now been
modified to not look for '\0' in a string, but always print all characters.</p><p>Own Id: OTP-6339 Aux Id: seq10492</p></li></ul><h2 id="erl_interface-3-5-5-2" class="section-heading"><a href="#erl_interface-3-5-5-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.5.5.2</span></h2><h3 id="fixed-bugs-and-malfunctions-63" class="section-heading"><a href="#fixed-bugs-and-malfunctions-63" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>The combination of xeon processors with 64bit x86 extensions and a 32bit linux
could cause ei_decode_long and ei_decode_longlong to fail for the value
LONG_MIN and LONGLONG_MIN. The conversion is now made more portable.</p><p>Own Id: OTP-6216</p></li></ul><h2 id="erl_interface-3-5-5-1" class="section-heading"><a href="#erl_interface-3-5-5-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.5.5.1</span></h2><h3 id="improvements-and-new-features-42" class="section-heading"><a href="#improvements-and-new-features-42" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Portability enhancements.</p><p>Own Id: OTP-6132</p></li></ul><h2 id="erl_interface-3-5-5" class="section-heading"><a href="#erl_interface-3-5-5" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_Interface 3.5.5</span></h2><h3 id="fixed-bugs-and-malfunctions-64" class="section-heading"><a href="#fixed-bugs-and-malfunctions-64" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Different (and old) <code class="inline">config.guess</code> files in the <code class="inline">erts</code> and <code class="inline">erl_interface</code>
applications would cause build problems on the new Intel-based iMacs. (Thanks
to Sebastion Strollo.)</p><p>Own Id: OTP-5967</p></li><li><p>pthread header and library mismatch on linux systems (at least some SuSE and
Debian) with both NPTL and Linuxthreads libraries installed.</p><p>Own Id: OTP-5981</p></li></ul><h3 id="improvements-and-new-features-43" class="section-heading"><a href="#improvements-and-new-features-43" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Support for a C node to connect to an Erlang node on a standalone host has
been added.</p><p>Own Id: OTP-5883 Aux Id: seq10170</p></li></ul><h2 id="erl_interface-3-5-2" class="section-heading"><a href="#erl_interface-3-5-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_interface 3.5.2</span></h2><h3 id="improvements-and-new-features-44" class="section-heading"><a href="#improvements-and-new-features-44" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>A configuration test error caused erl_interface to be built without support
for threads. This has been corrected.</p><p>Own Id: OTP-5456</p></li></ul><h2 id="erl_interface-3-5-1" class="section-heading"><a href="#erl_interface-3-5-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_interface 3.5.1</span></h2><h3 id="improvements-and-new-features-45" class="section-heading"><a href="#improvements-and-new-features-45" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Changes and improvements have been made to the build and test environment to
solve problems with failing erl_interface test cases.</p><p>Own Id: OTP-5295 Aux Id: OTP-5387</p></li></ul><h2 id="erl_interface-3-5" class="section-heading"><a href="#erl_interface-3-5" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_interface 3.5</span></h2><h3 id="improvements-and-new-features-46" class="section-heading"><a href="#improvements-and-new-features-46" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Process identifiers and port identifiers have been made more unique.
Previously 18 bits were used as id in the internal representation of process
and port identifiers. Now 28 bits are used.</p><p>The maximum limit on the number of concurrently existing processes due to the
representation of pids has been increased to 268435456 processes. The same is
true for ports. This limit will at least on a 32-bit architecture be
impossible to reach due to memory shortage.</p><p><em>NOTE:</em> By default, the <code class="inline">ERTS</code>, and the <code class="inline">erl_interface</code>, <code class="inline">ei</code>, and
<code class="inline">jinterface</code> libraries are now only guaranteed to be compatible with other
Erlang/OTP components from the same release. It is possible to set each
component in compatibility mode of an earlier release, though. See the
documentation for respective component on how to set it in compatibility mode.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-4968 Aux Id: OTP-4196</p></li></ul><h2 id="erl_interface-3-4-5" class="section-heading"><a href="#erl_interface-3-4-5" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_interface 3.4.5</span></h2><h3 id="fixed-bugs-and-malfunctions-65" class="section-heading"><a href="#fixed-bugs-and-malfunctions-65" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Corrections for mistakes done for patch erl_605/OTP-4874.</p><p>Own Id: OTP-4995 Aux Id: OTP-4874</p></li></ul><h2 id="erl_interface-3-4-4" class="section-heading"><a href="#erl_interface-3-4-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_interface 3.4.4</span></h2><h3 id="fixed-bugs-and-malfunctions-66" class="section-heading"><a href="#fixed-bugs-and-malfunctions-66" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>A small optimization in ei_rpc*() was added and a bug in ei_decode_longlong()
was corrected.</p><p>Own Id: OTP-4784</p></li></ul><h2 id="erl_interface-3-4-2" class="section-heading"><a href="#erl_interface-3-4-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_interface 3.4.2</span></h2><h3 id="fixed-bugs-and-malfunctions-67" class="section-heading"><a href="#fixed-bugs-and-malfunctions-67" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Strings longer than 65535 bytes were encoded wrong in ei/erl_interface.</p><p>Own Id: OTP-4865 Aux Id: EABln07451</p></li></ul><h2 id="erl_interface-3-4-1" class="section-heading"><a href="#erl_interface-3-4-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Erl_interface 3.4.1</span></h2><h3 id="fixed-bugs-and-malfunctions-68" class="section-heading"><a href="#fixed-bugs-and-malfunctions-68" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>erl_call -a parsed erlang terms incorrectly due to a bug in ei_format, which
is now corrected.</p><p>Own Id: OTP-4777 Aux Id: seq8099</p></li></ul>

</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

  </div>
  <div class="bottom-actions-item">

      <a href="ei_users_guide.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page â†’
        </span>
        <span class="title">
Erl_Interface User's Guide
        </span>
      </a>

  </div>
</div>
    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="erl_interface.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.1) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>
<p>Copyright Â© 1996-2025 <a href="https://www.ericsson.com">Ericsson AB</a></p>
    </footer>
  </div>
</main>
</div>
  <script defer src="https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.min.js"></script>
  <script>
  let initialized = false;

  window.addEventListener("exdoc:loaded", () => {
      if (!initialized) {
      mermaid.initialize({
          startOnLoad: false,
          theme: document.body.className.includes("dark") ? "dark" : "default"
      });
      initialized = true;
      }

      let id = 0;
      for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
          graphEl.innerHTML = svg;
          bindFunctions?.(graphEl);
          preEl.insertAdjacentElement("afterend", graphEl);
          preEl.remove();
      });
      }
  });
  </script>

  </body>
</html>
