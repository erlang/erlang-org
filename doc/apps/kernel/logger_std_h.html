<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.1">
    <meta name="project" content="kernel v10.4.2">


<meta name="major-vsn" content="28">
<meta name="exdoc:full-text-search-url" content="/doc/search.html?v=28&q=">
<link rel="canonical" href="https://www.erlang.org/doc/apps/kernel/logger_std_h.html" />
    <title>logger_std_h — kernel v10.4.2</title>

    <link rel="stylesheet" href="dist/html-erlang-ZK43ZOAC.css" />

    <script defer src="dist/sidebar_items-87F8FB49.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-DPJLHKSM.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="../../index.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="kernel" />
        </a>

      <div>
        <a href="../../index.html" class="sidebar-projectName" translate="no">
kernel
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v10.4.2
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-module" id="main" data-type="modules">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of kernel</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>
      <span translate="no">logger_std_h</span> 
      <small class="app-vsn" translate="no">(kernel v10.4.2)</small>

    </h1>

      <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/kernel/src/logger_std_h.erl#L22" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


    <section id="moduledoc">
<p>Standard handler for Logger.</p><p>This is the standard handler for Logger. Multiple instances of this handler can
be added to Logger, and each instance prints logs to
<a href="../../apps/stdlib/io.html#t:standard_io/0"><code class="inline">standard_io</code></a>,
<a href="../../apps/stdlib/io.html#t:standard_error/0"><code class="inline">standard_error</code></a>, or to file.</p><p>The handler has an overload protection mechanism that keeps the handler process
and the Kernel application alive during high loads of log events. How overload
protection works, and how to configure it, is described in the
<a href="logger_chapter.html#overload_protection"><code class="inline">User's Guide</code></a>.</p><p>To add a new instance of the standard handler, use
<a href="logger.html#add_handler/3"><code class="inline">logger:add_handler/3</code></a>. The handler configuration
argument is a map which can contain general configuration parameters, as
documented in the <a href="logger_chapter.html#handler-configuration"><code class="inline">User's Guide</code></a>,
and handler specific parameters. The specific data is stored in a sub map with
the key <code class="inline">config</code>, and can contain the following parameters:</p><ul><li><p><strong id="type"><code class="inline">type =</code> <a href="../../apps/stdlib/io.html#t:standard_io/0"><code class="inline">io:standard_io/0</code></a> <code class="inline">|</code> <a href="../../apps/stdlib/io.html#t:standard_error/0"><code class="inline">io:standard_error/0</code></a> <code class="inline">| file | {device,</code> <a href="../../apps/stdlib/io.html#t:device/0"><code class="inline">io:device/0</code></a> <code class="inline">}</code></strong> -
Specifies the log destination.</p><p>The value is set when the handler is added, and it cannot be changed in
runtime.</p><p>Defaults to <a href="../../apps/stdlib/io.html#t:standard_io/0"><code class="inline">standard_io</code></a>, unless parameter
<a href="logger_std_h.html#file"><code class="inline">file</code></a> is given, in which case it defaults to <code class="inline">file</code>.</p></li><li><p><strong id="file"><code class="inline">file =</code> <a href="file.html#t:filename/0"><code class="inline">file:filename/0</code></a></strong> - This specifies the name of the
log file when the handler is of type <code class="inline">file</code>.</p><p>The value is set when the handler is added, and it cannot be changed in
runtime.</p><p>Defaults to the same name as the handler identity, in the current directory.</p></li><li><p><strong id="modes"><code class="inline">modes = [</code> <a href="file.html#t:mode/0"><code class="inline">file:mode/0</code></a> <code class="inline">]</code></strong> - This specifies the file modes
to use when opening the log file, see <a href="file.html#open/2"><code class="inline">file:open/2</code></a>. If <code class="inline">modes</code> are not
specified, the default list used is <code class="inline">[raw,append,delayed_write]</code>. If <code class="inline">modes</code>
are specified, the list replaces the default modes list with the following
adjustments:</p><ul><li>If <code class="inline">raw</code> is not found in the list, it is added.</li><li>If none of <code class="inline">write</code>, <code class="inline">append</code> or <code class="inline">exclusive</code> is found in the list, <code class="inline">append</code>
is added.</li><li>If none of <code class="inline">delayed_write</code> or <code class="inline">{delayed_write,Size,Delay}</code> is found in the
list, <code class="inline">delayed_write</code> is added.</li></ul><p>Log files are always UTF-8 encoded. The encoding cannot be changed by setting
the mode <code class="inline">{encoding,Encoding}</code>.</p><p>The value is set when the handler is added, and it cannot be changed in
runtime.</p><p>Defaults to <code class="inline">[raw,append,delayed_write]</code>.</p></li><li><p><strong><code class="inline">max_no_bytes =</code> <a href="../../apps/erts/erlang.html#t:pos_integer/0"><code class="inline">pos_integer/0</code></a> <code class="inline" id="max_no_bytes">| infinity</code></strong> - This
parameter specifies if the log file should be rotated or not. The value
<code class="inline">infinity</code> means the log file will grow indefinitely, while an integer value
specifies at which file size (bytes) the file is rotated.</p><p>Defaults to <code class="inline">infinity</code>.</p></li><li><p><strong id="max_no_files"><code class="inline">max_no_files =</code> <a href="../../apps/erts/erlang.html#t:non_neg_integer/0"><code class="inline">non_neg_integer/0</code></a></strong> - This parameter
specifies the number of rotated log file archives to keep. This has meaning
only if <a href="logger_std_h.html#max_no_bytes"><code class="inline">max_no_bytes</code></a> is set to an integer
value.</p><p>The log archives are named <code class="inline">FileName.0</code>, <code class="inline">FileName.1</code>, ... <code class="inline">FileName.N</code>, where
<code class="inline">FileName</code> is the name of the current log file. <code class="inline">FileName.0</code> is the newest of
the archives. The maximum value for <code class="inline">N</code> is the value of <code class="inline">max_no_files</code>
minus 1.</p><p>Notice that setting this value to <code class="inline">0</code> does not turn off rotation. It only
specifies that no archives are kept.</p><p>Defaults to <code class="inline">0</code>.</p></li><li><p><strong id="compress_on_rotate"><code class="inline">compress_on_rotate =</code> <a href="../../apps/erts/erlang.html#t:boolean/0"><code class="inline">boolean/0</code></a></strong> - This parameter
specifies if the rotated log file archives shall be compressed or not. If set
to <code class="inline">true</code>, all archives are compressed with <code class="inline">gzip</code>, and renamed to
<code class="inline">FileName.N.gz</code></p><p><code class="inline">compress_on_rotate</code> has no meaning if
<a href="logger_std_h.html#max_no_bytes"><code class="inline">max_no_bytes</code></a> has the value <code class="inline">infinity</code>.</p><p>Defaults to <code class="inline">false</code>.</p></li><li><p><strong id="file_check"><code class="inline">file_check =</code> <a href="../../apps/erts/erlang.html#t:non_neg_integer/0"><code class="inline">non_neg_integer/0</code></a></strong> - When <code class="inline">logger_std_h</code>
logs to a file, it reads the file information of the log file prior to each
write operation. This is to make sure the file still exists and has the same
inode as when it was opened. This implies some performance loss, but ensures
that no log events are lost in the case when the file has been removed or
renamed by an external actor.</p><p>In order to allow minimizing the performance loss, the <code class="inline">file_check</code> parameter
can be set to a positive integer value, <code class="inline">N</code>. The handler will then skip
reading the file information prior to writing, as long as no more than <code class="inline">N</code>
milliseconds have passed since it was last read.</p><p>Notice that the risk of losing log events grows when the <code class="inline">file_check</code> value
grows.</p><p>Defaults to 0.</p></li><li><p><strong><code class="inline">filesync_repeat_interval =</code> <a href="../../apps/erts/erlang.html#t:pos_integer/0"><code class="inline">pos_integer/0</code></a> <code class="inline">| no_repeat</code></strong> - This value, in
milliseconds, specifies how often the handler does a file sync operation to
write buffered data to disk. The handler attempts the operation repeatedly,
but only performs a new sync if something has actually been logged.</p><p>If <code class="inline">no_repeat</code> is set as value, the repeated file sync operation is disabled,
and it is the operating system settings that determine how quickly or slowly
data is written to disk. The user can also call the <a href="#filesync/1"><code class="inline">filesync/1</code></a> function to
perform a file sync.</p><p>Defaults to <code class="inline">5000</code> milliseconds.</p></li></ul><p>Other configuration parameters exist, to be used for customizing the overload
protection behaviour. The same parameters are used both in the standard handler
and the disk_log handler, and are documented in the
<a href="logger_chapter.html#overload_protection"><code class="inline">User's Guide</code></a>.</p><p>Notice that if changing the configuration of the handler in runtime, the <code class="inline">type</code>,
<code class="inline">file</code>, or <code class="inline">modes</code> parameters must not be modified.</p><p>Example of adding a standard handler:</p><pre><code class="makeup erlang" translate="no"><span class="nc">logger</span><span class="p">:</span><span class="nf">add_handler</span><span class="p" data-group-id="0314182777-1">(</span><span class="ss">my_standard_h</span><span class="p">,</span><span class="w"> </span><span class="ss">logger_std_h</span><span class="p">,</span><span class="w">
                   </span><span class="p" data-group-id="0314182777-2">#{</span><span class="ss">config</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p" data-group-id="0314182777-3">#{</span><span class="ss">file</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;./system_info.log&quot;</span><span class="p">,</span><span class="w">
                                 </span><span class="ss">filesync_repeat_interval</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mi">1000</span><span class="p" data-group-id="0314182777-3">}</span><span class="p" data-group-id="0314182777-2">}</span><span class="p" data-group-id="0314182777-1">)</span><span class="p">.</span></code></pre><p>To set the default handler, that starts initially with the Kernel application,
to log to file instead of <a href="../../apps/stdlib/io.html#t:standard_io/0"><code class="inline">standard_io</code></a>, change the
Kernel default logger configuration. Example:</p><pre><code class="text">erl -kernel logger '[{handler,default,logger_std_h,
                      #{config =&gt; #{file =&gt; &quot;./log.log&quot;}}}]'</code></pre><p>An example of how to replace the standard handler with a disk_log handler at
startup is found in the <a href="logger_disk_log_h.html"><code class="inline">logger_disk_log_h</code></a> manual.</p><h2 id="module-see-also" class="section-heading"><a href="#module-see-also" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">See Also</span></h2><p><a href="logger.html"><code class="inline">logger</code></a>, <a href="logger_disk_log_h.html"><code class="inline">logger_disk_log_h</code></a></p>
    </section>

</div>

  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#filesync/1" data-no-tooltip="" translate="no">filesync(Name)</a>

      </div>

        <div class="summary-synopsis"><p>Write buffered data to disk.</p></div>

    </div>

</div>

  </section>


  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Functions</span>
    </h1>
    <div class="functions-list">
<section class="detail" id="filesync/1">

  <div class="detail-header">
    <a href="#filesync/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">filesync(Name)</h1>

        <span class="note">(since OTP 21.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/kernel/src/logger_std_h.erl#L208" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> filesync(Name) -> ok | {error, Reason}
                  when Name :: <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>(), Reason :: handler_busy | {badarg, <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}.</pre>

      </div>

<p>Write buffered data to disk.</p>
  </section>
</section>

    </div>
  </section>

    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="kernel.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.1) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>
<p>Copyright © 1996-2025 <a href="https://www.ericsson.com">Ericsson AB</a></p>
    </footer>
  </div>
</main>
</div>
  <script defer src="https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.min.js"></script>
  <script>
  let initialized = false;

  window.addEventListener("exdoc:loaded", () => {
      if (!initialized) {
      mermaid.initialize({
          startOnLoad: false,
          theme: document.body.className.includes("dark") ? "dark" : "default"
      });
      initialized = true;
      }

      let id = 0;
      for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
          graphEl.innerHTML = svg;
          bindFunctions?.(graphEl);
          preEl.insertAdjacentElement("afterend", graphEl);
          preEl.remove();
      });
      }
  });
  </script>

  </body>
</html>
