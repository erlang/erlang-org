<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.1">
    <meta name="project" content="kernel v10.4.2">


<meta name="major-vsn" content="28">
<meta name="exdoc:full-text-search-url" content="/doc/search.html?v=28&q=">
<link rel="canonical" href="https://www.erlang.org/doc/apps/kernel/logger_handler.html" />
    <title>logger_handler — kernel v10.4.2</title>

    <link rel="stylesheet" href="dist/html-erlang-ZK43ZOAC.css" />

    <script defer src="dist/sidebar_items-87F8FB49.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-DPJLHKSM.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="../../index.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="kernel" />
        </a>

      <div>
        <a href="../../index.html" class="sidebar-projectName" translate="no">
kernel
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v10.4.2
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-behaviour" id="main" data-type="modules">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of kernel</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>
      <span translate="no">logger_handler</span> <small>behaviour</small>
      <small class="app-vsn" translate="no">(kernel v10.4.2)</small>

    </h1>

      <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/kernel/src/logger_handler.erl#L22" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


    <section id="moduledoc">
<p>logger_handler behavior module.</p><p>The behaviour module for logger handlers. A logger handler is a callback module
that is called when a log event has passed all filters and is ready to be logged
somewhere. For more information see <a href="logger_chapter.html#handlers">Handlers</a> in
the Users Guide.</p><h2 id="module-see-also" class="section-heading"><a href="#module-see-also" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">See Also</span></h2><p><a href="logger_filters.html"><code class="inline">logger_filters</code></a>, <a href="logger_formatter.html"><code class="inline">logger_formatter</code></a>, <a href="logger.html"><code class="inline">logger</code></a></p>
    </section>

</div>

  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-types summary">
  <h2>
    <a href="#types">Types</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:config/0" data-no-tooltip="" translate="no">config()</a>

      </div>

        <div class="summary-synopsis"><p>Handler configuration data for Logger. The following default values apply</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:id/0" data-no-tooltip="" translate="no">id()</a>

      </div>

        <div class="summary-synopsis"><p>A unique identifier for a handler instance.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:olp_config/0" data-no-tooltip="" translate="no">olp_config()</a>

      </div>

        <div class="summary-synopsis"><p>Overload protection configuration.</p></div>

    </div>

</div>
<div class="summary-callbacks summary">
  <h2>
    <a href="#callbacks">Callbacks</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c:adding_handler/1" data-no-tooltip="" translate="no">adding_handler(Config1)</a>

      </div>

        <div class="summary-synopsis"><p>The function is called on a temporary process when a new handler is about to be
added. The purpose is to verify the configuration and initiate all resources
needed by the handler.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c:changing_config/3" data-no-tooltip="" translate="no">changing_config(SetOrUpdate, OldConfig, NewConfig)</a>

      </div>

        <div class="summary-synopsis"><p>The function is called on a temporary process when the configuration for a
handler is about to change. The purpose is to verify and act on the new
configuration.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c:filter_config/1" data-no-tooltip="" translate="no">filter_config(Config)</a>

      </div>

        <div class="summary-synopsis"><p>The function is called when one of the Logger API functions for fetching the
handler configuration is called, for example <a><code class="inline">logger:get_handler_config/1</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c:log/2" data-no-tooltip="" translate="no">log(LogEvent, Config)</a>

      </div>

        <div class="summary-synopsis"><p>The function is called when all primary filters and all handler filters for the
handler in question have passed for the given log event. It is called on the
client process, that is, the process that issued the log event.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c:removing_handler/1" data-no-tooltip="" translate="no">removing_handler(Config)</a>

      </div>

        <div class="summary-synopsis"><p>The function is called on a temporary process when a handler is about to be
removed. The purpose is to release all resources used by the handler.</p></div>

    </div>

</div>

  </section>


  <section id="types" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types</span>
    </h1>
    <div class="types-list">
<section class="detail" id="t:config/0">

  <div class="detail-header">
    <a href="#t:config/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">config()</h1>

        <span class="note">(since OTP 27.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/kernel/src/logger_handler.erl#L63" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> config() ::
          #{id => <a href="#t:id/0">id</a>(),
            config => <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
            level => <a href="logger.html#t:level/0">logger:level</a>() | all | none,
            module => <a href="../../apps/erts/erlang.html#t:module/0">module</a>(),
            filter_default => log | stop,
            filters => [{<a href="logger.html#t:filter_id/0">logger:filter_id</a>(), <a href="logger.html#t:filter/0">logger:filter</a>()}],
            formatter => {<a href="../../apps/erts/erlang.html#t:module/0">module</a>(), <a href="logger.html#t:formatter_config/0">logger:formatter_config</a>()}}.</pre>

      </div>

<p>Handler configuration data for Logger. The following default values apply:</p><ul><li><code class="inline">level =&gt; all</code></li><li><code class="inline">filter_default =&gt; log</code></li><li><code class="inline">filters =&gt; []</code></li><li><code class="inline">formatter =&gt; {logger_formatter, DefaultFormatterConfig</code>}</li></ul><p>In addition to these, the following fields are automatically inserted by Logger,
values taken from the two first parameters to <a href="logger.html#add_handler/3"><code class="inline">logger:add_handler/3</code></a>:</p><ul><li><code class="inline">id =&gt; HandlerId</code></li><li><code class="inline">module =&gt; Module</code></li></ul><p>These are read-only and cannot be changed in runtime.</p><p>Handler specific configuration data is inserted by the handler callback itself,
in a sub structure associated with the field named <code class="inline">config</code>. See the
<a href="logger_std_h.html"><code class="inline">logger_std_h</code></a> and <a href="logger_disk_log_h.html"><code class="inline">logger_disk_log_h</code></a> manual pages for information about
the specific configuration for these handlers.</p><p>See the <a href="logger_formatter.html#t:config/0"><code class="inline">logger_formatter</code></a> manual page for
information about the default configuration for this formatter.</p>
  </section>
</section>
<section class="detail" id="t:id/0">

  <div class="detail-header">
    <a href="#t:id/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">id()</h1>

        <span class="note">(since OTP 27.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/kernel/src/logger_handler.erl#L71" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> id() :: <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>().</pre>

      </div>

<p>A unique identifier for a handler instance.</p>
  </section>
</section>
<section class="detail" id="t:olp_config/0">

  <div class="detail-header">
    <a href="#t:olp_config/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">olp_config()</h1>

        <span class="note">(since OTP 27.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/kernel/src/logger_handler.erl#L78" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> olp_config() ::
          #{sync_mode_qlen => <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>(),
            drop_mode_qlen => <a href="../../apps/erts/erlang.html#t:pos_integer/0">pos_integer</a>(),
            flush_qlen => <a href="../../apps/erts/erlang.html#t:pos_integer/0">pos_integer</a>(),
            burst_limit_enable => <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>(),
            burst_limit_max_count => <a href="../../apps/erts/erlang.html#t:pos_integer/0">pos_integer</a>(),
            burst_limit_window_time => <a href="../../apps/erts/erlang.html#t:pos_integer/0">pos_integer</a>(),
            overload_kill_enable => <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>(),
            overload_kill_qlen => <a href="../../apps/erts/erlang.html#t:pos_integer/0">pos_integer</a>(),
            overload_kill_mem_size => <a href="../../apps/erts/erlang.html#t:pos_integer/0">pos_integer</a>(),
            overload_kill_restart_after => <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>() | infinity}.</pre>

      </div>

<p>Overload protection configuration.</p><p>See <a href="logger_chapter.html#protecting-the-handler-from-overload">Protecting the Handler from Overload</a>
for more details.</p>
  </section>
</section>

    </div>
  </section>

  <section id="callbacks" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#callbacks">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Callbacks</span>
    </h1>
    <div class="callbacks-list">
<section class="detail" id="c:adding_handler/1">

  <div class="detail-header">
    <a href="#c:adding_handler/1" class="detail-link" data-no-tooltip="" aria-label="Link to this callback">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">adding_handler(Config1)</h1>

        <span class="note">(since OTP 21.0)</span>

        <span class="note">(optional)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/kernel/src/logger_handler.erl#L109" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-callback</span> adding_handler(Config1) -> {ok, Config2} | {error, Reason}
                            when Config1 :: <a href="#t:config/0">config</a>(), Config2 :: <a href="#t:config/0">config</a>(), Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>The function is called on a temporary process when a new handler is about to be
added. The purpose is to verify the configuration and initiate all resources
needed by the handler.</p><p>The handler identity is associated with the <code class="inline">id</code> key in <code class="inline">Config1</code>.</p><p>If everything succeeds, the callback function can add possible default values or
internal state values to the configuration, and return the adjusted map in
<code class="inline">{ok,Config2}</code>.</p><p>If the configuration is faulty, or if the initiation fails, the callback
function must return <code class="inline">{error,Reason}</code>.</p>
  </section>
</section>
<section class="detail" id="c:changing_config/3">

  <div class="detail-header">
    <a href="#c:changing_config/3" class="detail-link" data-no-tooltip="" aria-label="Link to this callback">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">changing_config(SetOrUpdate, OldConfig, NewConfig)</h1>

        <span class="note">(since OTP 21.2)</span>

        <span class="note">(optional)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/kernel/src/logger_handler.erl#L141" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-callback</span> changing_config(SetOrUpdate, OldConfig, NewConfig) -> {ok, Config} | {error, Reason}
                             when
                                 SetOrUpdate :: set | update,
                                 OldConfig :: <a href="#t:config/0">config</a>(),
                                 NewConfig :: <a href="#t:config/0">config</a>(),
                                 Config :: <a href="#t:config/0">config</a>(),
                                 Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>The function is called on a temporary process when the configuration for a
handler is about to change. The purpose is to verify and act on the new
configuration.</p><p><code class="inline">OldConfig</code> is the existing configuration and <code class="inline">NewConfig</code> is the new
configuration.</p><p>The handler identity is associated with the <code class="inline">id</code> key in <code class="inline">OldConfig</code>.</p><p><code class="inline">SetOrUpdate</code> has the value <code class="inline">set</code> if the configuration change originates from a
call to <a href="logger.html#set_handler_config/2"><code class="inline">logger:set_handler_config/2,3</code></a>, and
<code class="inline">update</code> if it originates from
<a href="logger.html#update_handler_config/2"><code class="inline">logger:update_handler_config/2,3</code></a>. The
handler can use this parameter to decide how to update the value of the <code class="inline">config</code>
field, that is, the handler specific configuration data. Typically, if
<code class="inline">SetOrUpdate</code> equals <code class="inline">set</code>, values that are not specified must be given their
default values. If <code class="inline">SetOrUpdate</code> equals <code class="inline">update</code>, the values found in
<code class="inline">OldConfig</code> must be used instead.</p><p>If everything succeeds, the callback function must return a possibly adjusted
configuration in <code class="inline">{ok,Config}</code>.</p><p>If the configuration is faulty, the callback function must return
<code class="inline">{error,Reason}</code>.</p>
  </section>
</section>
<section class="detail" id="c:filter_config/1">

  <div class="detail-header">
    <a href="#c:filter_config/1" class="detail-link" data-no-tooltip="" aria-label="Link to this callback">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">filter_config(Config)</h1>

        <span class="note">(since OTP 21.2)</span>

        <span class="note">(optional)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/kernel/src/logger_handler.erl#L157" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-callback</span> filter_config(Config) -> FilteredConfig when Config :: <a href="#t:config/0">config</a>(), FilteredConfig :: <a href="#t:config/0">config</a>().</pre>

      </div>

<p>The function is called when one of the Logger API functions for fetching the
handler configuration is called, for example <a href="logger.html#get_handler_config/1"><code class="inline">logger:get_handler_config/1</code></a>.</p><p>It allows the handler to remove internal data fields from its configuration data
before it is returned to the caller.</p>
  </section>
</section>
<section class="detail" id="c:log/2">

  <div class="detail-header">
    <a href="#c:log/2" class="detail-link" data-no-tooltip="" aria-label="Link to this callback">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">log(LogEvent, Config)</h1>

        <span class="note">(since OTP 21.0)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/kernel/src/logger_handler.erl#L173" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-callback</span> log(LogEvent, Config) -> <a href="../../apps/erts/erlang.html#t:term/0">term</a>() when LogEvent :: <a href="logger.html#t:log_event/0">logger:log_event</a>(), Config :: <a href="#t:config/0">config</a>().</pre>

      </div>

<p>The function is called when all primary filters and all handler filters for the
handler in question have passed for the given log event. It is called on the
client process, that is, the process that issued the log event.</p><p>The handler identity is associated with the <code class="inline">id</code> key in <code class="inline">Config</code>.</p><p>The handler must log the event.</p><p>The return value from this function is ignored by Logger.</p>
  </section>
</section>
<section class="detail" id="c:removing_handler/1">

  <div class="detail-header">
    <a href="#c:removing_handler/1" class="detail-link" data-no-tooltip="" aria-label="Link to this callback">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">removing_handler(Config)</h1>

        <span class="note">(since OTP 21.0)</span>

        <span class="note">(optional)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/kernel/src/logger_handler.erl#L185" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-callback</span> removing_handler(Config) -> ok when Config :: <a href="#t:config/0">config</a>().</pre>

      </div>

<p>The function is called on a temporary process when a handler is about to be
removed. The purpose is to release all resources used by the handler.</p><p>The handler identity is associated with the <code class="inline">id</code> key in <code class="inline">Config</code>.</p><p>The return value is ignored by Logger.</p>
  </section>
</section>

    </div>
  </section>

    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="kernel.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.1) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>
<p>Copyright © 1996-2025 <a href="https://www.ericsson.com">Ericsson AB</a></p>
    </footer>
  </div>
</main>
</div>
  <script defer src="https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.min.js"></script>
  <script>
  let initialized = false;

  window.addEventListener("exdoc:loaded", () => {
      if (!initialized) {
      mermaid.initialize({
          startOnLoad: false,
          theme: document.body.className.includes("dark") ? "dark" : "default"
      });
      initialized = true;
      }

      let id = 0;
      for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
          graphEl.innerHTML = svg;
          bindFunctions?.(graphEl);
          preEl.insertAdjacentElement("afterend", graphEl);
          preEl.remove();
      });
      }
  });
  </script>

  </body>
</html>
