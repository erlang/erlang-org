<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.1">
    <meta name="project" content="tools v4.1.2">


<meta name="exdoc:full-text-search-url" content="/doc/search.html?v=28&q=">
<meta name="major-vsn" content="28">
<link rel="canonical" href="https://www.erlang.org/doc/apps/tools/notes.html" />
    <title>Tools Release Notes â€” tools v4.1.2</title>

    <link rel="stylesheet" href="dist/html-erlang-ZK43ZOAC.css" />

    <script defer src="dist/sidebar_items-FEEFEFAE.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-DPJLHKSM.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="../../index.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="tools" />
        </a>

      <div>
        <a href="../../index.html" class="sidebar-projectName" translate="no">
tools
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v4.1.2
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-extra" id="main" data-type="extras">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of tools</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>Tools Release Notes</h1>


      <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/tools/doc/notes.md#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


<p>This document describes the changes made to the Tools application.</p><h2 id="tools-4-1-2" class="section-heading"><a href="#tools-4-1-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 4.1.2</span></h2><h3 id="fixed-bugs-and-malfunctions" class="section-heading"><a href="#fixed-bugs-and-malfunctions" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>A crash has been eliminated in <a href="tprof.html#collect/0"><code class="inline">tprof:collect/0</code></a> when unloading a module while collecting traces.</p><p>Own Id: OTP-19135 Aux Id: <a href="https://github.com/erlang/otp/issues/8483" title="">GH-8483</a>, <a href="https://github.com/erlang/otp/pull/8547" title="">PR-8547</a></p></li><li><p>Improved the <code class="inline">indent-region</code> Emacs command, which could indent badly when inside multiline string.</p><p>Own Id: OTP-19396 Aux Id: <a href="https://github.com/erlang/otp/pull/9186" title="">PR-9186</a></p></li><li><p><a href="eprof.html#start_profiling/3"><code class="inline">eprof:start_profiling/3</code></a> can now return information about which process it failed to trace.</p><p>Own Id: OTP-19419 Aux Id: <a href="https://github.com/erlang/otp/pull/9219" title="">PR-9219</a></p></li><li><p>Fixed a race condition when processes cause the Cover server to be started at the same time.</p><p>Own Id: OTP-19517 Aux Id: <a href="https://github.com/erlang/otp/pull/9124" title="">PR-9124</a></p></li><li><p>Fix bug in <a href="tprof.html"><code class="inline">tprof</code></a> where the session name could not be set.</p><p>Own Id: OTP-19580 Aux Id: <a href="https://github.com/erlang/otp/pull/9648" title="">PR-9648</a></p></li><li><p>Add <a href="tprof.html"><code class="inline">tprof</code></a> to the <code class="inline">.app</code> file.</p><p>Own Id: OTP-19628 Aux Id: <a href="https://github.com/erlang/otp/pull/9787" title="">PR-9787</a></p></li></ul><h3 id="improvements-and-new-features" class="section-heading"><a href="#improvements-and-new-features" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The license and copyright header has changed format to include an <code class="inline">SPDX-License-Identifier</code>. At the same time, most files have been updated to follow a uniform standard for license headers.</p><p>Own Id: OTP-19575 Aux Id: <a href="https://github.com/erlang/otp/pull/9670" title="">PR-9670</a></p></li></ul><h2 id="tools-4-1-1" class="section-heading"><a href="#tools-4-1-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 4.1.1</span></h2><h3 id="fixed-bugs-and-malfunctions-1" class="section-heading"><a href="#fixed-bugs-and-malfunctions-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fixed some deprecated errors on emacs-29.</p><p>Own Id: OTP-19273 Aux Id: <a href="https://github.com/erlang/otp/pull/8879" title="">PR-8879</a></p></li><li><p>The <code class="inline">cover</code> tool could sometimes wrongly report lines as uncovered.</p><p>Own Id: OTP-19289 Aux Id: <a href="https://github.com/erlang/otp/issues/8867" title="">GH-8867</a>, <a href="https://github.com/erlang/otp/pull/8919" title="">PR-8919</a></p></li><li><p>Fixed <code class="inline">tprof:format(IoDevice, ...)</code> to not demand unicode encoding supported by <code class="inline">IoDevice</code>.</p><p>Own Id: OTP-19299 Aux Id: <a href="https://github.com/erlang/otp/pull/8949" title="">PR-8949</a></p></li></ul><h2 id="tools-4-1" class="section-heading"><a href="#tools-4-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 4.1</span></h2><h3 id="fixed-bugs-and-malfunctions-2" class="section-heading"><a href="#fixed-bugs-and-malfunctions-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p><a href="tprof.html"><code class="inline">tprof</code></a> no longer crashes when using pause/restart/continue when profiling all modules.</p><p>Own Id: OTP-19136 Aux Id: <a href="https://github.com/erlang/otp/issues/8472" title="">GH-8472</a>, <a href="https://github.com/erlang/otp/pull/8472" title="">PR-8472</a>, <a href="https://github.com/erlang/otp/pull/8541" title="">PR-8541</a></p></li><li><p>On systems supporting native coverage, calls to <a href="cover.html"><code class="inline">cover</code></a> could hang or crash if cover-compiled module had been reloaded from outside <code class="inline">cover</code>. This has been corrected so that <code class="inline">cover</code> now recovers from the error and and sends a report to the logger about the failure to retrieve coverage information.</p><p>Own Id: OTP-19203 Aux Id: <a href="https://github.com/erlang/otp/issues/8661" title="">GH-8661</a>, <a href="https://github.com/erlang/otp/pull/8742" title="">PR-8742</a></p></li></ul><h3 id="improvements-and-new-features-1" class="section-heading"><a href="#improvements-and-new-features-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Figures in the documentation have been improved.</p><p>Own Id: OTP-19130 Aux Id: <a href="https://github.com/erlang/otp/pull/7226" title="">PR-7226</a></p></li></ul><h2 id="tools-4-0" class="section-heading"><a href="#tools-4-0" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 4.0</span></h2><h3 id="fixed-bugs-and-malfunctions-3" class="section-heading"><a href="#fixed-bugs-and-malfunctions-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Dialyzer warnings due to type specs added in <a href="../../apps/runtime_tools/dbg.html"><code class="inline">dbg</code></a> have been eliminated.</p><p>Own Id: OTP-18860</p></li><li><p>In Erlang/OTP 26, doing a <a href="cover.html"><code class="inline">cover</code></a> analysis on the <code class="inline">line</code> level would return multiple entries for lines on which multiple functions were defined.</p><p>For example, consider this module:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">module</span><span class="p" data-group-id="8738389728-1">(</span><span class="ss">foo</span><span class="p" data-group-id="8738389728-1">)</span><span class="p">.</span><span class="w">
</span><span class="p">-</span><span class="na">export</span><span class="p" data-group-id="8738389728-2">(</span><span class="p" data-group-id="8738389728-3">[</span><span class="ss">bar</span><span class="p">/</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">baz</span><span class="p">/</span><span class="mi">0</span><span class="p" data-group-id="8738389728-3">]</span><span class="p" data-group-id="8738389728-2">)</span><span class="p">.</span><span class="w">

</span><span class="nf">bar</span><span class="p" data-group-id="8738389728-4">(</span><span class="p" data-group-id="8738389728-4">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="ss">ok</span><span class="p">.</span><span class="w"> </span><span class="nf">baz</span><span class="p" data-group-id="8738389728-5">(</span><span class="p" data-group-id="8738389728-5">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="ss">not_ok</span><span class="p">.</span></code></pre><p>In Erlang/OTP 26, analysing on the <code class="inline">line</code> level would return two entries
for line 4:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="nc">cover</span><span class="p">:</span><span class="nf">compile_module</span><span class="p" data-group-id="6725300451-1">(</span><span class="ss">foo</span><span class="p" data-group-id="6725300451-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="6725300451-2">{</span><span class="ss">ok</span><span class="p">,</span><span class="ss">foo</span><span class="p" data-group-id="6725300451-2">}</span><span class="gp unselectable">
2&gt; </span><span class="nc">foo</span><span class="p">:</span><span class="nf">bar</span><span class="p" data-group-id="6725300451-3">(</span><span class="p" data-group-id="6725300451-3">)</span><span class="p">.</span><span class="w">
</span><span class="ss">ok</span><span class="gp unselectable">
3&gt; </span><span class="nc">cover</span><span class="p">:</span><span class="nf">analyse</span><span class="p" data-group-id="6725300451-4">(</span><span class="ss">foo</span><span class="p">,</span><span class="w"> </span><span class="ss">coverage</span><span class="p">,</span><span class="w"> </span><span class="ss">line</span><span class="p" data-group-id="6725300451-4">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="6725300451-5">{</span><span class="ss">ok</span><span class="p">,</span><span class="p" data-group-id="6725300451-6">[</span><span class="p" data-group-id="6725300451-7">{</span><span class="p" data-group-id="6725300451-8">{</span><span class="ss">foo</span><span class="p">,</span><span class="mi">4</span><span class="p" data-group-id="6725300451-8">}</span><span class="p">,</span><span class="p" data-group-id="6725300451-9">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p" data-group-id="6725300451-9">}</span><span class="p" data-group-id="6725300451-7">}</span><span class="p">,</span><span class="p" data-group-id="6725300451-10">{</span><span class="p" data-group-id="6725300451-11">{</span><span class="ss">foo</span><span class="p">,</span><span class="mi">4</span><span class="p" data-group-id="6725300451-11">}</span><span class="p">,</span><span class="p" data-group-id="6725300451-12">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p" data-group-id="6725300451-12">}</span><span class="p" data-group-id="6725300451-10">}</span><span class="p" data-group-id="6725300451-6">]</span><span class="p" data-group-id="6725300451-5">}</span><span class="gp unselectable">
4&gt; </span><span class="nc">cover</span><span class="p">:</span><span class="nf">analyse</span><span class="p" data-group-id="6725300451-13">(</span><span class="ss">foo</span><span class="p">,</span><span class="w"> </span><span class="ss">calls</span><span class="p">,</span><span class="w"> </span><span class="ss">line</span><span class="p" data-group-id="6725300451-13">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="6725300451-14">{</span><span class="ss">ok</span><span class="p">,</span><span class="p" data-group-id="6725300451-15">[</span><span class="p" data-group-id="6725300451-16">{</span><span class="p" data-group-id="6725300451-17">{</span><span class="ss">foo</span><span class="p">,</span><span class="mi">4</span><span class="p" data-group-id="6725300451-17">}</span><span class="p">,</span><span class="mi">1</span><span class="p" data-group-id="6725300451-16">}</span><span class="p">,</span><span class="p" data-group-id="6725300451-18">{</span><span class="p" data-group-id="6725300451-19">{</span><span class="ss">foo</span><span class="p">,</span><span class="mi">4</span><span class="p" data-group-id="6725300451-19">}</span><span class="p">,</span><span class="mi">0</span><span class="p" data-group-id="6725300451-18">}</span><span class="p" data-group-id="6725300451-15">]</span><span class="p" data-group-id="6725300451-14">}</span></code></pre><p>In Erlang/OTP 27, there will only be a single entry for line 4:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="nc">cover</span><span class="p">:</span><span class="nf">compile_module</span><span class="p" data-group-id="7494506473-1">(</span><span class="ss">foo</span><span class="p" data-group-id="7494506473-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="7494506473-2">{</span><span class="ss">ok</span><span class="p">,</span><span class="ss">foo</span><span class="p" data-group-id="7494506473-2">}</span><span class="gp unselectable">
2&gt; </span><span class="nc">foo</span><span class="p">:</span><span class="nf">bar</span><span class="p" data-group-id="7494506473-3">(</span><span class="p" data-group-id="7494506473-3">)</span><span class="p">.</span><span class="w">
</span><span class="ss">ok</span><span class="gp unselectable">
3&gt; </span><span class="nc">cover</span><span class="p">:</span><span class="nf">analyse</span><span class="p" data-group-id="7494506473-4">(</span><span class="ss">foo</span><span class="p">,</span><span class="w"> </span><span class="ss">coverage</span><span class="p">,</span><span class="w"> </span><span class="ss">line</span><span class="p" data-group-id="7494506473-4">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="7494506473-5">{</span><span class="ss">ok</span><span class="p">,</span><span class="p" data-group-id="7494506473-6">[</span><span class="p" data-group-id="7494506473-7">{</span><span class="p" data-group-id="7494506473-8">{</span><span class="ss">foo</span><span class="p">,</span><span class="mi">4</span><span class="p" data-group-id="7494506473-8">}</span><span class="p">,</span><span class="p" data-group-id="7494506473-9">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p" data-group-id="7494506473-9">}</span><span class="p" data-group-id="7494506473-7">}</span><span class="p" data-group-id="7494506473-6">]</span><span class="p" data-group-id="7494506473-5">}</span><span class="gp unselectable">
4&gt; </span><span class="nc">cover</span><span class="p">:</span><span class="nf">analyse</span><span class="p" data-group-id="7494506473-10">(</span><span class="ss">foo</span><span class="p">,</span><span class="w"> </span><span class="ss">calls</span><span class="p">,</span><span class="w"> </span><span class="ss">line</span><span class="p" data-group-id="7494506473-10">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="7494506473-11">{</span><span class="ss">ok</span><span class="p">,</span><span class="p" data-group-id="7494506473-12">[</span><span class="p" data-group-id="7494506473-13">{</span><span class="p" data-group-id="7494506473-14">{</span><span class="ss">foo</span><span class="p">,</span><span class="mi">4</span><span class="p" data-group-id="7494506473-14">}</span><span class="p">,</span><span class="mi">1</span><span class="p" data-group-id="7494506473-13">}</span><span class="p" data-group-id="7494506473-12">]</span><span class="p" data-group-id="7494506473-11">}</span></code></pre><p>Own Id: OTP-18998 Aux Id: <a href="https://github.com/erlang/otp/issues/8159" title="">GH-8159</a>, <a href="https://github.com/erlang/otp/pull/8182" title="">PR-8182</a></p></li><li><p>Fixed align command in emacs mode.</p><p>Own Id: OTP-19026 Aux Id: <a href="https://github.com/erlang/otp/pull/8155" title="">PR-8155</a></p></li></ul><h3 id="improvements-and-new-features-2" class="section-heading"><a href="#improvements-and-new-features-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Triple-Quoted Strings has been implemented as per <a href="https://www.erlang.org/eeps/eep-0064">EEP 64</a>. See <a href="../../system/data_types.html#string">String</a> in the Reference Manual.</p><p>Example:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="s">&quot;&quot;</span><span class="s">&quot;
   a
   b
   c
   &quot;</span><span class="s">&quot;&quot;</span><span class="p">.</span><span class="w">
</span><span class="s">&quot;a\nb\nc&quot;</span></code></pre><p>Adjacent string literals without intervening white space is now a syntax error, to avoid possible confusion with triple-quoted strings. For example:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="s">&quot;abc&quot;</span><span class="s">&quot;xyz&quot;</span><span class="p">.</span><span class="w">
</span><span class="s">&quot;xyz&quot;</span><span class="p">.</span><span class="w">
</span><span class="gt">* 1:6: adjacent string literals without intervening white space</span></code></pre><p><strong><em> POTENTIAL INCOMPATIBILITY </em></strong></p><p>Own Id: OTP-18750 Aux Id: OTP-18746, <a href="https://github.com/erlang/otp/pull/7313" title="">PR-7313</a>, <a href="https://github.com/erlang/otp/pull/7451" title="">PR-7451</a></p></li><li><p>There is a new tool <a href="tprof.html"><code class="inline">tprof</code></a>, which combines the functionality of <a href="eprof.html"><code class="inline">eprof</code></a> and <a href="cprof.html"><code class="inline">cprof</code></a> under one interface and adds heap profiling. It also has functionality to help with profiling process hierarchies.</p><p><em>Example</em>:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="nc">tprof</span><span class="p">:</span><span class="nf">profile</span><span class="p" data-group-id="0193399693-1">(</span><span class="ss">lists</span><span class="p">,</span><span class="w"> </span><span class="ss">seq</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0193399693-2">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p" data-group-id="0193399693-2">]</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0193399693-3">#{</span><span class="ss">type</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ss">call_memory</span><span class="p" data-group-id="0193399693-3">}</span><span class="p" data-group-id="0193399693-1">)</span><span class="p">.</span><span class="w">

</span><span class="o">*</span><span class="o">*</span><span class="o">*</span><span class="o">*</span><span class="o">*</span><span class="o">*</span><span class="w"> </span><span class="n">Process</span><span class="w"> </span><span class="o">&lt;</span><span class="mf">0.92</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span><span class="w">  </span><span class="o">--</span><span class="w">  </span><span class="mf">100.00</span><span class="c1">% of total *** </span><span class="w">
</span><span class="n">FUNCTION</span><span class="w">          </span><span class="n">CALLS</span><span class="w">  </span><span class="n">WORDS</span><span class="w">  </span><span class="n">PER</span><span class="w"> </span><span class="n">CALL</span><span class="w">  </span><span class="p" data-group-id="0193399693-4">[</span><span class="w">     </span><span class="c1">%]</span><span class="w">
</span><span class="nc">lists</span><span class="p">:</span><span class="ss">seq_loop</span><span class="p">/</span><span class="mi">3</span><span class="w">      </span><span class="mi">5</span><span class="w">     </span><span class="mi">32</span><span class="w">      </span><span class="mf">6.40</span><span class="w">  </span><span class="p" data-group-id="0193399693-5">[</span><span class="mf">100.00</span><span class="p" data-group-id="0193399693-5">]</span><span class="w">
                            </span><span class="mi">32</span><span class="w">            </span><span class="p" data-group-id="0193399693-6">[</span><span class="w"> </span><span class="mf">100.0</span><span class="p" data-group-id="0193399693-6">]</span><span class="w">
</span><span class="ss">ok</span></code></pre><p>Own Id: OTP-18756 Aux Id: <a href="https://github.com/erlang/otp/pull/6639" title="">PR-6639</a></p></li><li><p>Native coverage support has been implemented in the JIT. It will  automatically be used by the <a href="cover.html"><code class="inline">cover</code></a> tool to reduce the execution overhead when running cover-compiled code.</p><p>There are also new APIs to support native coverage without using the <code class="inline">cover</code> tool.</p><p>To instrument code for native coverage it must be compiled with the <a href="../../apps/compiler/compile.html#line_coverage"><code class="inline">line_coverage</code></a> option.</p><p>To enable native coverage in the runtime system, start it like so:</p><pre><code class="text">$ erl +JPcover true</code></pre><p>There are also the following new functions for supporting native coverage:</p><ul><li><a href="../../apps/kernel/code.html#coverage_support/0"><code class="inline">code:coverage_support/0</code></a></li><li><a href="../../apps/kernel/code.html#get_coverage/2"><code class="inline">code:get_coverage/2</code></a></li><li><a href="../../apps/kernel/code.html#reset_coverage/1"><code class="inline">code:reset_coverage/1</code></a></li><li><a href="../../apps/kernel/code.html#get_coverage_mode/0"><code class="inline">code:get_coverage_mode/0</code></a></li><li><a href="../../apps/kernel/code.html#get_coverage_mode/1"><code class="inline">code:get_coverage_mode/1</code></a></li><li><a href="../../apps/kernel/code.html#set_coverage_mode/1"><code class="inline">code:set_coverage_mode/1</code></a></li></ul><p>Own Id: OTP-18856 Aux Id: <a href="https://github.com/erlang/otp/pull/7856" title="">PR-7856</a></p></li><li><p>The documentation has been migrated to use Markdown and ExDoc.</p><p>Own Id: OTP-18955 Aux Id: <a href="https://github.com/erlang/otp/pull/8026" title="">PR-8026</a></p></li><li><p>Improved the align command in emacs mode.</p><p>Own Id: OTP-19080 Aux Id: <a href="https://github.com/erlang/otp/pull/8288" title="">PR-8288</a></p></li></ul><h2 id="tools-3-6" class="section-heading"><a href="#tools-3-6" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 3.6</span></h2><h3 id="improvements-and-new-features-3" class="section-heading"><a href="#improvements-and-new-features-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Map comprehensions as suggested in EEP 58 has now been implemented.</p><p>Own Id: OTP-18413 Aux Id: EEP-58, PR-6727</p></li><li><p>The <code class="inline">instrument</code> module has been moved from <code class="inline">tools</code> to <code class="inline">runtime_tools</code>.</p><p>Own Id: OTP-18487 Aux Id: PR-6829</p></li></ul><h2 id="tools-3-5-3" class="section-heading"><a href="#tools-3-5-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 3.5.3</span></h2><h3 id="improvements-and-new-features-4" class="section-heading"><a href="#improvements-and-new-features-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Removed the previously undocumented and unsupported <code class="inline">emem</code> tool.</p><p>Own Id: OTP-17892 Aux Id: PR-5591</p></li></ul><h2 id="tools-3-5-2" class="section-heading"><a href="#tools-3-5-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 3.5.2</span></h2><h3 id="fixed-bugs-and-malfunctions-4" class="section-heading"><a href="#fixed-bugs-and-malfunctions-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Erlang-mode fixed for newer versions of xref using CL-Lib structures instead
of EIEIO classes.</p><p>Own Id: OTP-17746 Aux Id: GH-5314, PR-5324</p></li></ul><h2 id="tools-3-5-1" class="section-heading"><a href="#tools-3-5-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 3.5.1</span></h2><h3 id="fixed-bugs-and-malfunctions-5" class="section-heading"><a href="#fixed-bugs-and-malfunctions-5" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>The <code class="inline">cover</code> tool would not work on modules compiled with the <code class="inline">tuple_calls</code>
option.</p><p>Own Id: OTP-17440 Aux Id: GH-4796</p></li></ul><h2 id="tools-3-5" class="section-heading"><a href="#tools-3-5" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 3.5</span></h2><h3 id="fixed-bugs-and-malfunctions-6" class="section-heading"><a href="#fixed-bugs-and-malfunctions-6" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>For cover-compiled code, the error behaviour of list and binary comprehensions
that used <code class="inline">andalso</code>/<code class="inline">orelse</code> in guards could be changed so that a filter that
was supposed be evaluated in guard context was evaluated in body context. That
is, there was a possibility that comprehensions that did not raise exceptions
could raise exceptions when being run using <code class="inline">cover</code>.</p><p>Own Id: OTP-17221 Aux Id: PR-4547</p></li></ul><h3 id="improvements-and-new-features-5" class="section-heading"><a href="#improvements-and-new-features-5" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Support for handling abstract code created before OTP R15 has been dropped.</p><p>Own Id: OTP-16678 Aux Id: PR-2627</p></li><li><p>Add types and specifications for documentation.</p><p>Own Id: OTP-16957</p></li><li><p>The experimental HiPE application has been removed, together with all related
functionality in other applications.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-16963</p></li></ul><h2 id="tools-3-4-4" class="section-heading"><a href="#tools-3-4-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 3.4.4</span></h2><h3 id="fixed-bugs-and-malfunctions-7" class="section-heading"><a href="#fixed-bugs-and-malfunctions-7" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p><code class="inline">cover</code> would crash when compiling a module having an exported function named
<code class="inline">clauses</code>.</p><p>Own Id: OTP-17162 Aux Id: GH-4549, PR-2997, PR-4555, elixir-lang/elixir#10666</p></li><li><p>If <code class="inline">beam_lib</code> is asked to return abstract code for a BEAM file produced by
Elixir and Elixir is not installed on the computer, <code class="inline">beam_lib</code> will no longer
crash, but will return an error tuple. The <code class="inline">cover:compile_beam()</code> and
<code class="inline">cover:compile_beam_directory()</code> functions have been updated to also return an
error tuple in that situation.</p><p>Own Id: OTP-17194 Aux Id: GH-4353</p></li><li><p>Make emacs mode work on emacs-27.</p><p>Own Id: OTP-17225 Aux Id: PR-4542, GH-4451</p></li></ul><h2 id="tools-3-4-3" class="section-heading"><a href="#tools-3-4-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 3.4.3</span></h2><h3 id="fixed-bugs-and-malfunctions-8" class="section-heading"><a href="#fixed-bugs-and-malfunctions-8" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Correct the Xref analysis <code class="inline">undefined_functions</code> to not report internally
generated behaviour_info/1.</p><p>Own Id: OTP-17191 Aux Id: OTP-16922, ERL-1476, GH-4192</p></li></ul><h2 id="tools-3-4-2" class="section-heading"><a href="#tools-3-4-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 3.4.2</span></h2><h3 id="fixed-bugs-and-malfunctions-9" class="section-heading"><a href="#fixed-bugs-and-malfunctions-9" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Correct the Xref analysis <code class="inline">exports_not_used</code> to not report internally
generated <code class="inline">behaviour_info/1</code>.</p><p>Own Id: OTP-16922 Aux Id: PR-2752</p></li></ul><h2 id="tools-3-4-1" class="section-heading"><a href="#tools-3-4-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 3.4.1</span></h2><h3 id="fixed-bugs-and-malfunctions-10" class="section-heading"><a href="#fixed-bugs-and-malfunctions-10" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Correct the Xref analysis <code class="inline">locals_not_used</code> to find functions called
exclusively from <code class="inline">on_load</code> functions.</p><p>Own Id: OTP-16854 Aux Id: PR-2750</p></li></ul><h2 id="tools-3-4" class="section-heading"><a href="#tools-3-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 3.4</span></h2><h3 id="improvements-and-new-features-6" class="section-heading"><a href="#improvements-and-new-features-6" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Updates for new <code class="inline">erlang:term_to_iovec()</code> BIF.</p><p>Own Id: OTP-16128 Aux Id: OTP-15618</p></li><li><p>Improved the presentation of allocations and carriers in the <code class="inline">instrument</code>
module.</p><p>Own Id: OTP-16327</p></li><li><p>Minor updates due to the new spawn improvements made.</p><p>Own Id: OTP-16368 Aux Id: OTP-15251</p></li></ul><h2 id="tools-3-3-1-1" class="section-heading"><a href="#tools-3-3-1-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 3.3.1.1</span></h2><h3 id="fixed-bugs-and-malfunctions-11" class="section-heading"><a href="#fixed-bugs-and-malfunctions-11" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p><code class="inline">cover</code> would crash when compiling a module having an exported function named
<code class="inline">clauses</code>.</p><p>Own Id: OTP-17162 Aux Id: GH-4549, PR-2997, PR-4555, elixir-lang/elixir#10666</p></li></ul><h2 id="tools-3-3-1" class="section-heading"><a href="#tools-3-3-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 3.3.1</span></h2><h3 id="fixed-bugs-and-malfunctions-12" class="section-heading"><a href="#fixed-bugs-and-malfunctions-12" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>An Emacs warning due to lacking type in defcustom declaration has been fixed.</p><p>Own Id: OTP-16356</p></li><li><p>Improve emacs indentation.</p><p>Own Id: OTP-16472 Aux Id: ERL-1140</p></li><li><p>The cover tool could generate instrumented code for a module that would cause
warnings to be issued.</p><p>Own Id: OTP-16476 Aux Id: ERL-1147</p></li><li><p>Fixed generated <a href="fprof.html#analysis">fprof analysis format</a> to also handle
data in maps.</p><p>Own Id: OTP-16498 Aux Id: ERL-814</p></li></ul><h2 id="tools-3-3" class="section-heading"><a href="#tools-3-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 3.3</span></h2><h3 id="fixed-bugs-and-malfunctions-13" class="section-heading"><a href="#fixed-bugs-and-malfunctions-13" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Improve <code class="inline">-spec</code> indentation in emacs mode.</p><p>Own Id: OTP-16164</p></li></ul><h3 id="improvements-and-new-features-7" class="section-heading"><a href="#improvements-and-new-features-7" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The Emacs erlang-mode function that lets the user open the documentation for
an Erlang/OTP function in an Emacs buffer has been improved. Bugs in this
function has been fixed and and the user will now be asked if the man pages
should be downloaded automatically by Emacs when they can't be found on the
system. To test this functionality, put the cursor over the function name in a
call to an Erlang/OTP function (e.g., &quot;io:format(&quot;arg&quot;)&quot;) and type C-c C-d
(i.e., Ctrl-key and c-key and then Ctrl-key and d-key). There is also a new
menu item under the Erlang menu (labeled &quot;Man - Function Under Cursor&quot;).</p><p>Own Id: OTP-16174</p></li></ul><h2 id="tools-3-2-1" class="section-heading"><a href="#tools-3-2-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 3.2.1</span></h2><h3 id="fixed-bugs-and-malfunctions-14" class="section-heading"><a href="#fixed-bugs-and-malfunctions-14" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p><code class="inline">cover</code> would fail to start if two processes tried to start it at the exact
same time.</p><p>Own Id: OTP-15813 Aux Id: ERL-943</p></li></ul><h2 id="tools-3-2" class="section-heading"><a href="#tools-3-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 3.2</span></h2><h3 id="fixed-bugs-and-malfunctions-15" class="section-heading"><a href="#fixed-bugs-and-malfunctions-15" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Add <code class="inline">cprof</code> and <code class="inline">tags</code> modules to .app file so that they are included in
releases.</p><p>Own Id: OTP-15534 Aux Id: PR-2078</p></li><li><p>Improved documentation parsing in emacs erldoc functionality.</p><p>Own Id: OTP-15699 Aux Id: PR-2184</p></li></ul><h3 id="improvements-and-new-features-8" class="section-heading"><a href="#improvements-and-new-features-8" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The <code class="inline">cover</code> tool now uses the <code class="inline">counters</code> module instead of <code class="inline">ets</code> for updating
the counters for how many times a line has been executed. By default, Cover
will work with distributed nodes, but a new function <a href="cover.html#local_only/0"><code class="inline">cover:local_only/0</code></a>
allows running the Cover in a restricted but faster local-only mode.</p><p>The increase in speed will vary depending on the type of code being
cover-compiled, but as an example, the compiler test suite runs more than
twice as fast with the new Cover.</p><p>Own Id: OTP-15575</p></li></ul><h2 id="tools-3-1-0-1" class="section-heading"><a href="#tools-3-1-0-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 3.1.0.1</span></h2><h3 id="fixed-bugs-and-malfunctions-16" class="section-heading"><a href="#fixed-bugs-and-malfunctions-16" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p><code class="inline">cover</code> would fail to start if two processes tried to start it at the exact
same time.</p><p>Own Id: OTP-15813 Aux Id: ERL-943</p></li></ul><h2 id="tools-3-1" class="section-heading"><a href="#tools-3-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 3.1</span></h2><h3 id="fixed-bugs-and-malfunctions-17" class="section-heading"><a href="#fixed-bugs-and-malfunctions-17" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Minor fixes for <code class="inline">make clean</code>.</p><p>Own Id: OTP-15657</p></li></ul><h3 id="improvements-and-new-features-9" class="section-heading"><a href="#improvements-and-new-features-9" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>In the HTML file generated by <code class="inline">cover:analyse_to_file/1,2</code>, a link is now added
to the line number. This makes it easier to share pointers to specific lines.</p><p>Own Id: OTP-15541</p></li><li><p>Uncovered lines are now marked with a sad face, <code class="inline">:-(</code>, in the HTML output from
<code class="inline">cover:analyse_to_file/1,2</code>. This is to make these lines easier to find by
search.</p><p>Own Id: OTP-15542</p></li></ul><h2 id="tools-3-0-2" class="section-heading"><a href="#tools-3-0-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 3.0.2</span></h2><h3 id="improvements-and-new-features-10" class="section-heading"><a href="#improvements-and-new-features-10" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Remove emacs warnings and added more tests.</p><p>Own Id: OTP-15476</p></li></ul><h2 id="tools-3-0-1" class="section-heading"><a href="#tools-3-0-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 3.0.1</span></h2><h3 id="improvements-and-new-features-11" class="section-heading"><a href="#improvements-and-new-features-11" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The HTML pages generated by cover:analyse_to_file/1 and related functions is
improved for readability.</p><p>Own Id: OTP-15213 Aux Id: PR-1807</p></li><li><p>Add alignment functionality in emacs.</p><p>Own Id: OTP-15239 Aux Id: PR-1728</p></li></ul><h2 id="tools-3-0" class="section-heading"><a href="#tools-3-0" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 3.0</span></h2><h3 id="improvements-and-new-features-12" class="section-heading"><a href="#improvements-and-new-features-12" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Added <code class="inline">instrument:allocations</code> and <code class="inline">instrument:carriers</code> for retrieving
information about memory utilization and fragmentation.</p><p>The old <code class="inline">instrument</code> interface has been removed, as have the related options
<code class="inline">+Mim</code> and <code class="inline">+Mis</code>.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-14961</p></li></ul><h2 id="tools-2-11-2-2" class="section-heading"><a href="#tools-2-11-2-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.11.2.2</span></h2><h3 id="fixed-bugs-and-malfunctions-18" class="section-heading"><a href="#fixed-bugs-and-malfunctions-18" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p><code class="inline">cover</code> would fail to start if two processes tried to start it at the exact
same time.</p><p>Own Id: OTP-15813 Aux Id: ERL-943</p></li></ul><h2 id="tools-2-11-2-1" class="section-heading"><a href="#tools-2-11-2-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.11.2.1</span></h2><h3 id="fixed-bugs-and-malfunctions-19" class="section-heading"><a href="#fixed-bugs-and-malfunctions-19" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Minor fixes for <code class="inline">make clean</code>.</p><p>Own Id: OTP-15657</p></li></ul><h2 id="tools-2-11-2" class="section-heading"><a href="#tools-2-11-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.11.2</span></h2><h3 id="fixed-bugs-and-malfunctions-20" class="section-heading"><a href="#fixed-bugs-and-malfunctions-20" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>A counting bug is corrected in <code class="inline">Cover</code>. The bug was introduced in Erlang/OTP
18.0.</p><p>Own Id: OTP-14817 Aux Id: PR 1641</p></li><li><p>The <code class="inline">lcnt</code> server will no longer crash if <a href="lcnt.html#information/0"><code class="inline">lcnt:information/0</code></a> is called
before <a href="lcnt.html#collect/0"><code class="inline">lcnt:collect/0</code></a>.</p><p>Own Id: OTP-14912</p></li><li><p><code class="inline">lcnt:collect</code> will now implicitly start the <code class="inline">lcnt</code> server, as per the
documentation.</p><p>Own Id: OTP-14913</p></li></ul><h3 id="improvements-and-new-features-13" class="section-heading"><a href="#improvements-and-new-features-13" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Improved indentation in emacs and various other updates.</p><p>Own Id: OTP-14944</p></li></ul><h2 id="tools-2-11-1" class="section-heading"><a href="#tools-2-11-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.11.1</span></h2><h3 id="fixed-bugs-and-malfunctions-21" class="section-heading"><a href="#fixed-bugs-and-malfunctions-21" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Removed all old unused files in the documentation.</p><p>Own Id: OTP-14475 Aux Id: ERL-409, PR-1493</p></li></ul><h2 id="tools-2-11" class="section-heading"><a href="#tools-2-11" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.11</span></h2><h3 id="fixed-bugs-and-malfunctions-22" class="section-heading"><a href="#fixed-bugs-and-malfunctions-22" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>The predefined Xref analysis <code class="inline">locals_not_used</code> no longer reports unused
functions with the <code class="inline">-on_load()</code> attribute.</p><p>The new predefined Xref variable <code class="inline">OL</code> holds all functions with the
<code class="inline">-on_load()</code> attribute.</p><p>Own Id: OTP-14344</p></li><li><p>In fprof when sampling multiple processes and analyzing with totals set to
true, the output now sums together all caller and callee entries which
concerns the same function. Previous behaviour was to report each contributing
entry separately.</p><p>Own Id: OTP-14500</p></li></ul><h3 id="improvements-and-new-features-14" class="section-heading"><a href="#improvements-and-new-features-14" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Lock counting can now be fully toggled at runtime in the lock counting
emulator (<code class="inline">-emu_type lcnt</code>). Everything is enabled by default to match the old
behavior, but specific categories can be toggled at will with minimal runtime
overhead when disabled. Refer to the documentation on <a href="lcnt.html#rt_mask/1"><code class="inline">lcnt:rt_mask/1</code></a> for
details.</p><p>Own Id: OTP-13170</p></li><li><p><code class="inline">lcnt:collect</code> and <code class="inline">lcnt:clear</code> will no longer block all other threads in the
runtime system.</p><p>Own Id: OTP-14412</p></li><li><p>General Unicode improvements.</p><p>Own Id: OTP-14462</p></li><li><p>Tools are updated to show Unicode atoms correctly.</p><p>Own Id: OTP-14464</p></li><li><p>Add <a href="../../apps/erts/erlang.html#iolist_to_iovec/1"><code class="inline">erlang:iolist_to_iovec/1</code></a>, which converts an iolist() to an
erlang:iovec(), which suitable for use with <code class="inline">enif_inspect_iovec</code>.</p><p>Own Id: OTP-14520</p></li></ul><h2 id="tools-2-10-1" class="section-heading"><a href="#tools-2-10-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.10.1</span></h2><h3 id="fixed-bugs-and-malfunctions-23" class="section-heading"><a href="#fixed-bugs-and-malfunctions-23" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>In OTP-20.0, the behavior of c, make, and ct_make was changed so that in some
cases the beam files by default would be written to the directory where the
source files were found. This is now changed back to the old behavior so beam
files are by default written to current directory.</p><p>Own Id: OTP-14489 Aux Id: ERL-438</p></li></ul><h2 id="tools-2-10" class="section-heading"><a href="#tools-2-10" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.10</span></h2><h3 id="fixed-bugs-and-malfunctions-24" class="section-heading"><a href="#fixed-bugs-and-malfunctions-24" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>In some situations, <code class="inline">make:all()</code> and friends did not detect changes in include
files located in the current directory. This is now corrected.</p><p>Own Id: OTP-14339 Aux Id: ERL-395</p></li></ul><h3 id="improvements-and-new-features-15" class="section-heading"><a href="#improvements-and-new-features-15" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The <code class="inline">make</code> module now accepts the <code class="inline">{emake,Emake}</code> option.</p><p>Own Id: OTP-14253</p></li><li><p>Miscellaneous updates due to atoms containing arbitrary Unicode characters.</p><p>Own Id: OTP-14285</p></li></ul><h2 id="tools-2-9-1" class="section-heading"><a href="#tools-2-9-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.9.1</span></h2><h3 id="improvements-and-new-features-16" class="section-heading"><a href="#improvements-and-new-features-16" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Improved edoc support in emacs mode.</p><p>Own Id: OTP-14217 Aux Id: PR-1282</p></li></ul><h2 id="tools-2-9" class="section-heading"><a href="#tools-2-9" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.9</span></h2><h3 id="fixed-bugs-and-malfunctions-25" class="section-heading"><a href="#fixed-bugs-and-malfunctions-25" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix unhandled trace event send_to_non_existing_process in fprof.</p><p>Own Id: OTP-13998</p></li></ul><h3 id="improvements-and-new-features-17" class="section-heading"><a href="#improvements-and-new-features-17" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Improved edoc support in emacs erlang-mode.</p><p>Own Id: OTP-13945 Aux Id: PR-1157</p></li><li><p>Added erldoc to emacs mode which opens html documentation in browser from
emacs. For example <code class="inline">M-x erldoc-browse RET lists:foreach/2</code>.</p><p>Own Id: OTP-14018 Aux Id: PR-1197</p></li></ul><h2 id="tools-2-8-6" class="section-heading"><a href="#tools-2-8-6" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.8.6</span></h2><h3 id="fixed-bugs-and-malfunctions-26" class="section-heading"><a href="#fixed-bugs-and-malfunctions-26" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Errors in type specification and Emacs template generation for
<code class="inline">gen_statem:code_change/4</code> has been fixed from bugs.erlang.org's Jira cases
ERL-172 and ERL-187.</p><p>Own Id: OTP-13746 Aux Id: ERL-172, ERL-187</p></li><li><p>Fix gc_start/gc_end in fprof tags when parsing old trace logs.</p><p>Own Id: OTP-13778 Aux Id: PR-1136</p></li><li><p><code class="inline">make</code> (tools) and <code class="inline">ct_make</code> (common_test) would crash if an Erlang source
file contained a <code class="inline">-warning()</code> directive.</p><p>Own Id: OTP-13855</p></li></ul><h2 id="tools-2-8-5" class="section-heading"><a href="#tools-2-8-5" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.8.5</span></h2><h3 id="fixed-bugs-and-malfunctions-27" class="section-heading"><a href="#fixed-bugs-and-malfunctions-27" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Correct a bug when adding multiple modules to an Xref server. The bug was
introduced in OTP-19.0.</p><p>Own Id: OTP-13708 Aux Id: ERL-173</p></li></ul><h2 id="tools-2-8-4" class="section-heading"><a href="#tools-2-8-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.8.4</span></h2><h3 id="fixed-bugs-and-malfunctions-28" class="section-heading"><a href="#fixed-bugs-and-malfunctions-28" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Update fprof to use the new 'spawned' trace event to determine when a process
has been created.</p><p>Own Id: OTP-13499</p></li></ul><h3 id="improvements-and-new-features-18" class="section-heading"><a href="#improvements-and-new-features-18" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Optimize adding multiple modules to an Xref server.</p><p>Own Id: OTP-13593</p></li><li><p>Various emacs mode improvements, such as better tags support.</p><p>Own Id: OTP-13610</p></li></ul><h2 id="tools-2-8-3" class="section-heading"><a href="#tools-2-8-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.8.3</span></h2><h3 id="fixed-bugs-and-malfunctions-29" class="section-heading"><a href="#fixed-bugs-and-malfunctions-29" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p><a href="cover.html#compile_beam/1"><code class="inline">cover:compile_beam/1</code></a> and <code class="inline">cover:compile_beam_directory/1,2</code> crashed when
trying to compile a beam file without a <code class="inline">'file'</code> attribute. This has been
corrected and an error is returned instead.</p><p>Thanks to Louis-Philippe Gauthier for reporting this bug.</p><p>Own Id: OTP-13200</p></li><li><p>Fix a bit string comprehension bug in Cover.</p><p>Own Id: OTP-13277 Aux Id: PR 856</p></li></ul><h2 id="tools-2-8-2" class="section-heading"><a href="#tools-2-8-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.8.2</span></h2><h3 id="fixed-bugs-and-malfunctions-30" class="section-heading"><a href="#fixed-bugs-and-malfunctions-30" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>The emacs mode does not add a newline after the arrow on -callback lines
anymore.</p><p>Own Id: OTP-13042</p></li></ul><h2 id="tools-2-8-1" class="section-heading"><a href="#tools-2-8-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.8.1</span></h2><h3 id="fixed-bugs-and-malfunctions-31" class="section-heading"><a href="#fixed-bugs-and-malfunctions-31" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>If a module includes eunit.hrl, a parse transform adds the function test/0 on
line 0 in the module. A bug in OTP-18.0 caused cover:analyse_to_file/1 to fail
to insert cover data in the output file when line 0 existed in the cover data
table. This is now corrected.</p><p>Own Id: OTP-12981</p></li></ul><h2 id="tools-2-8" class="section-heading"><a href="#tools-2-8" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.8</span></h2><h3 id="fixed-bugs-and-malfunctions-32" class="section-heading"><a href="#fixed-bugs-and-malfunctions-32" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>In order to improve performance of the cover tool, new functions are added for
cover compilation and analysis on multiple files. This allows for more
parallelisation.</p><p>Some improvements of the data base access is also done in order to improve the
performance when analysing and resetting cover data.</p><p>Minor incompatibility: An error reason from analyse_to_file is changed from
no_source_code_found to {no_source_code_found,Module}.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-12330 Aux Id: seq12757</p></li><li><p>Attempting to do a <code class="inline">cover</code> analysis when neither source code nor beam file
could be found would hang the <code class="inline">cover</code> server. Corrected to return a proper
error.</p><p>Own Id: OTP-12806</p></li></ul><h3 id="improvements-and-new-features-19" class="section-heading"><a href="#improvements-and-new-features-19" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Allow maps for supervisor flags and child specs</p><p>Earlier, supervisor flags and child specs were given as tuples. While this is
kept for backwards compatibility, it is now also allowed to give these
parameters as maps, see <a href="../../apps/stdlib/supervisor.html#sup_flags">sup_flags</a> and
<a href="../../apps/stdlib/supervisor.html#child_spec">child_spec</a>.</p><p>Own Id: OTP-11043</p></li><li><p>Remove Mnemosyne rules support.</p><p>Own Id: OTP-12511</p></li><li><p>Add printout of total number of calls and time in eprof</p><p>Own Id: OTP-12681</p></li></ul><h2 id="tools-2-7-2" class="section-heading"><a href="#tools-2-7-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.7.2</span></h2><h3 id="fixed-bugs-and-malfunctions-33" class="section-heading"><a href="#fixed-bugs-and-malfunctions-33" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix lcnt sorting and printout of histograms.</p><p>Own Id: OTP-12364</p></li><li><p>Fix a Unicode bug in the <code class="inline">tags</code> module.</p><p>Own Id: OTP-12567</p></li><li><p>Fix tags completion in erlang.el for GNU Emacs 23+</p><p>Own Id: OTP-12583</p></li></ul><h2 id="tools-2-7-1" class="section-heading"><a href="#tools-2-7-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.7.1</span></h2><h3 id="fixed-bugs-and-malfunctions-34" class="section-heading"><a href="#fixed-bugs-and-malfunctions-34" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fixed a typo in erlang-mode comment.</p><p>Own Id: OTP-12214</p></li><li><p>Add a skeleton for -spec in Erlang mode for Emacs</p><p>Own Id: OTP-12283</p></li></ul><h3 id="improvements-and-new-features-20" class="section-heading"><a href="#improvements-and-new-features-20" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Cover no longer crashes when compiling <code class="inline">receive</code> and the like with just an
<code class="inline">after</code> clause. Thanks to JosÃ© Valim for providing a fix.</p><p>Own Id: OTP-12328</p></li></ul><h2 id="tools-2-7" class="section-heading"><a href="#tools-2-7" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.7</span></h2><h3 id="improvements-and-new-features-21" class="section-heading"><a href="#improvements-and-new-features-21" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Add log2 histogram to lcnt for lock wait time</p><p>Own Id: OTP-12059</p></li></ul><h2 id="tools-2-6-15" class="section-heading"><a href="#tools-2-6-15" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.6.15</span></h2><h3 id="fixed-bugs-and-malfunctions-35" class="section-heading"><a href="#fixed-bugs-and-malfunctions-35" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Removed <code class="inline">erlang:bitstr_to_list/1</code> and <code class="inline">erlang:list_to_bitstr/1</code>. They were
added by mistake, and have always raised an <code class="inline">undefined</code> exception when called.</p><p>Own Id: OTP-11942</p></li></ul><h2 id="tools-2-6-14" class="section-heading"><a href="#tools-2-6-14" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.6.14</span></h2><h3 id="fixed-bugs-and-malfunctions-36" class="section-heading"><a href="#fixed-bugs-and-malfunctions-36" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Removed the support for the query keyword from emacs mode (Thanks to Paul
Oliver)</p><p>Own Id: OTP-11568</p></li><li><p>Emacs mode improvements (Thanks to Steve Vinoski)</p><p>Own Id: OTP-11601</p></li><li><p>Application upgrade (appup) files are corrected for the following
applications:</p><p><code class="inline">asn1, common_test, compiler, crypto, debugger, dialyzer, edoc, eldap, erl_docgen, et, eunit, gs, hipe, inets, observer, odbc, os_mon, otp_mibs, parsetools, percept, public_key, reltool, runtime_tools, ssh, syntax_tools, test_server, tools, typer, webtool, wx, xmerl</code></p><p>A new test utility for testing appup files is added to test_server. This is
now used by most applications in OTP.</p><p>(Thanks to Tobias Schlager)</p><p>Own Id: OTP-11744</p></li><li><p>The emacs erlang mode now match erlang keywords more carefully (Thanks to
Steve Vinoski)</p><p>Own Id: OTP-11786</p></li><li><p>The emacs erlang-mode now auto loads for more file types (Thanks to Phil
Hagelberg)</p><p>Own Id: OTP-11788</p></li></ul><h3 id="improvements-and-new-features-22" class="section-heading"><a href="#improvements-and-new-features-22" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p><code class="inline">cover</code> can run on itself. Also, support for reading BEAM files produced by
ancient OTP versions before R9C has been removed.</p><p>Own Id: OTP-11692</p></li><li><p>Support maps in cover</p><p>Own Id: OTP-11764</p></li></ul><h2 id="tools-2-6-13" class="section-heading"><a href="#tools-2-6-13" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.6.13</span></h2><h3 id="fixed-bugs-and-malfunctions-37" class="section-heading"><a href="#fixed-bugs-and-malfunctions-37" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Erlang-specific compilation error regexp is added in erlang-eunit.el. This
defvar was earlier in erlang.el, but was erroneously removed in R15B02, while
still used by erlang-eunit.el.</p><p>Own Id: OTP-11417 Aux Id: seq12447</p></li><li><p>Take compiler options from beam in cover:compile_beam. Thanks to PÃ©ter GÃ¶mÃ¶ri.</p><p>Own Id: OTP-11439</p></li><li><p>Silence warnings (Thanks to Anthony Ramine)</p><p>Own Id: OTP-11517</p></li></ul><h3 id="improvements-and-new-features-23" class="section-heading"><a href="#improvements-and-new-features-23" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Add iodata, nonempty_string to built-in type highlighting for emacs. Thanks to
Paul Oliver.</p><p>Own Id: OTP-11394</p></li></ul><h2 id="tools-2-6-12" class="section-heading"><a href="#tools-2-6-12" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.6.12</span></h2><h3 id="improvements-and-new-features-24" class="section-heading"><a href="#improvements-and-new-features-24" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Remove trailing spaces in Emacs templates. Thanks to Roberto Aloi.</p><p>Own Id: OTP-11198</p></li><li><p>Fixed the Emacs erlang-mode to accommodate the coding style where lists
written across several lines have each line starting with a comma. Thanks to
Magnus Henoch.</p><p>Own Id: OTP-11242</p></li><li><p>Make the Emacs Erlang mode TRAMP-aware when compiling. Thanks to Tomas
Abrahamsson.</p><p>Own Id: OTP-11270</p></li></ul><h2 id="tools-2-6-11" class="section-heading"><a href="#tools-2-6-11" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.6.11</span></h2><h3 id="fixed-bugs-and-malfunctions-38" class="section-heading"><a href="#fixed-bugs-and-malfunctions-38" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>When cover:stop(Node) was called on a non-existing node, a process waiting for
cover data from the node would hang forever. This has been corrected.</p><p>Own Id: OTP-10979</p></li></ul><h3 id="improvements-and-new-features-25" class="section-heading"><a href="#improvements-and-new-features-25" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Make cover smarter about finding source from beam.</p><p>In particular, search using the source path in module_info if the current
heuristic fails.</p><p>Own Id: OTP-10902</p></li><li><p>Remove Flymake dependency in erlang-pkg.el. Thanks to Magnus Henoch.</p><p>Own Id: OTP-10930</p></li><li><p>Erlang-mode: Add autoload cookies for file extension associations. Thanks to
Magnus Henoch.</p><p>Own Id: OTP-10999</p></li><li><p>Postscript files no longer needed for the generation of PDF files have been
removed.</p><p>Own Id: OTP-11016</p></li><li><p>Fix a race condition when there're several applications in apps directory.
Thanks to Manuel Rubio.</p><p>Own Id: OTP-11028</p></li><li><p>New option for eprof, 'set_on_spawn'. This option was previously always on and
is also the default.</p><p>Own Id: OTP-11144</p></li></ul><h2 id="tools-2-6-10" class="section-heading"><a href="#tools-2-6-10" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.6.10</span></h2><h3 id="improvements-and-new-features-26" class="section-heading"><a href="#improvements-and-new-features-26" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Fix a bug in cover when used with no_auto_import. Thanks to JosÃ© Valim.</p><p>Own Id: OTP-10778</p></li></ul><h2 id="tools-2-6-9" class="section-heading"><a href="#tools-2-6-9" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.6.9</span></h2><h3 id="fixed-bugs-and-malfunctions-39" class="section-heading"><a href="#fixed-bugs-and-malfunctions-39" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Add missing modules in app-file</p><p>Own Id: OTP-10439</p></li><li><p>Make erlang-mode more compatible with package.el (Thanks to Gleb Peregud)</p><p>Own Id: OTP-10465</p></li><li><p>Fix various typos (thanks to Tuncer Ayaz)</p><p>Own Id: OTP-10611</p></li><li><p>Add separate face for exported functions (Thanks to Thomas JÃ¤rvstrand)</p><p>Own Id: OTP-10637</p></li><li><p>The BIF highlighting in the emacs mode has been updated to correspond with the
correct BIFs.</p><p>Own Id: OTP-10774</p></li></ul><h3 id="improvements-and-new-features-27" class="section-heading"><a href="#improvements-and-new-features-27" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Support for Unicode has been implemented.</p><p>Own Id: OTP-10302</p></li><li><p>A new function, cover:flush(Nodes), is added which will fetch data from remote
nodes without stopping cover on those nodes. This is used by test_server and
common_test when it is safe to assume that the node will be terminated after
the test anyway. The purpose is to avoid processes crashing when re-loading
the original beam if the processes is still running old code.</p><p>Remote nodes will now continue to count code coverage if the connection to the
main node is broken. Earlier, a broken connection would cause the cover_server
on the remote node to die and thus any still cover compiled modules would
cause process crash when trying to insert cover data in ets tables that used
to exist on the cover_server. The new functionality also involves
synchronization with the main node if the nodes are reconnected.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-10523 Aux Id: OTP-10427</p></li><li><p>Where necessary a comment stating encoding has been added to Erlang files. The
comment is meant to be removed in Erlang/OTP R17B when UTF-8 becomes the
default encoding.</p><p>Own Id: OTP-10630</p></li><li><p>Fix syntax highlighting of $\' in Emacs mode. Thanks to Magnus Henoch.</p><p>Own Id: OTP-10766</p></li></ul><h2 id="tools-2-6-8" class="section-heading"><a href="#tools-2-6-8" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.6.8</span></h2><h3 id="fixed-bugs-and-malfunctions-40" class="section-heading"><a href="#fixed-bugs-and-malfunctions-40" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>The last tuple fun call has been removed from fprof.</p><p>Own Id: OTP-10091 Aux Id: seq12067</p></li><li><p>Fix indentation of record fields in Emacs (Thanks to Tomas Abrahamsson)</p><p>Own Id: OTP-10120</p></li><li><p>Documentation fixes (Thanks to Ricardo Catalinas JimÃ©nez )</p><p>Own Id: OTP-10121</p></li><li><p>Remove Erlang-specific compilation error regexp in erlang.el</p><p>Own Id: OTP-10168</p></li><li><p>Fix highlighting of atoms ending with a dollar sign</p><p>Like this: 'atom$'. In that example, the last single quote should be
recognised as ending the atom. This needs a font-lock workaround similar to
the one for strings. Thanks to Magnus Henoch</p><p>Own Id: OTP-10178</p></li><li><p>Xref now accepts filenames with character codes greater than 126. (Thanks to
Emile Joubert for reporting the issue.)</p><p>Own Id: OTP-10192</p></li><li><p>Add test_indentation target to lib/tools/emacs/Makefile</p><p>Automatically indent test.erl.orig, save to test.erl, and compare to
test.erl.intended. Thanks to Magnus Henoch.</p><p>Own Id: OTP-10226</p></li></ul><h2 id="tools-2-6-7" class="section-heading"><a href="#tools-2-6-7" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.6.7</span></h2><h3 id="fixed-bugs-and-malfunctions-41" class="section-heading"><a href="#fixed-bugs-and-malfunctions-41" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Makefiles in erts, hipe and tools have been corrected to enable parallel make,
i.e MAKEFLAGS=-jX where X is the parallelity number. As a result of this
dependencies were corrected since that is what is needed for parallel make to
work.</p><p>Own Id: OTP-9857 Aux Id: OTP-9451</p></li><li><p>Minor suppressions and fixes of compilation warnings</p><p>Own Id: OTP-10016</p></li></ul><h2 id="tools-2-6-6-6" class="section-heading"><a href="#tools-2-6-6-6" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.6.6.6</span></h2><h3 id="fixed-bugs-and-malfunctions-42" class="section-heading"><a href="#fixed-bugs-and-malfunctions-42" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Update system profiling principles to reflect eprof performance improvements.</p><p>Own Id: OTP-9656</p></li><li><p>[cover] fix leftover {'DOWN', ..} msg in callers queue</p><p>After stopping cover with cover:stop() there could still be a {'DOWN',...}
leftover message in the calling process's message queue. This unexpected
leftover could be eliminated if erlang:demonitor/2 with option flush would be
used in certain points</p><p>Own Id: OTP-9694</p></li><li><p>Add deps as erlang-flymake include directory.</p><p>Update erlang-flymake to recognize the &quot;deps&quot; folder as an include directory.
This makes erlang-flymake compatible with the rebar dependency management
tool's default folder structure, which puts included dependencies in
&quot;deps&quot;.(Thanks to Kevin Albrecht)</p><p>Own Id: OTP-9791</p></li></ul><h3 id="improvements-and-new-features-28" class="section-heading"><a href="#improvements-and-new-features-28" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Variables are now now allowed in '<code class="inline">fun M:F/A</code>' as suggested by Richard O'Keefe
in EEP-23.</p><p>The representation of '<code class="inline">fun M:F/A</code>' in the abstract format has been changed in
an incompatible way. Tools that directly read or manipulate the abstract
format (such as parse transforms) may need to be updated. The compiler can
handle both the new and the old format (i.e. extracting the abstract format
from a pre-R15 BEAM file and compiling it using compile:forms/1,2 will work).
The <code class="inline">syntax_tools</code> application can also handle both formats.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-9643</p></li><li><p>Tuple funs (a two-element tuple with a module name and a function) are now
officially deprecated and will be removed in R16. Use '<code class="inline">fun M:F/A</code>' instead.
To make you aware that your system uses tuple funs, the very first time a
tuple fun is applied, a warning will be sent to the error logger.</p><p>Own Id: OTP-9649</p></li><li><p>Eliminate use of deprecated regexp module</p><p>Own Id: OTP-9810</p></li></ul><h2 id="tools-2-6-6-5" class="section-heading"><a href="#tools-2-6-6-5" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.6.6.5</span></h2><h3 id="fixed-bugs-and-malfunctions-43" class="section-heading"><a href="#fixed-bugs-and-malfunctions-43" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Teach the emacs mode to compile yecc and leex files</p><p>If visiting a .yrl or .xrl file in emacs with erlang-mode, then the
`erlang-compile' function (normally bound to C-c C-k), now knows how to
compile yecc and leex files, and then, if that compilation succeeds, also
compiles the resulting .erl files.</p><p>Also introduce a `erlang-compile-command-function-alist' to make it possible
to hook in other functions for computing compilation commands/expressions,
depending on file name. (Thanks to Tomas Abrahamsson )</p><p>Own Id: OTP-9503</p></li></ul><h3 id="improvements-and-new-features-29" class="section-heading"><a href="#improvements-and-new-features-29" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Bugs in xref(3) have been fixed. (Thanks to Matthias Lang.)</p><p>Own Id: OTP-9416</p></li></ul><h2 id="tools-2-6-6-4" class="section-heading"><a href="#tools-2-6-6-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.6.6.4</span></h2><h3 id="fixed-bugs-and-malfunctions-44" class="section-heading"><a href="#fixed-bugs-and-malfunctions-44" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Change make:files to behave more like erlc</p><p>This change removes the unnecessary checks on the files when make:files is
called and allows the error checking to be done in compile:file, where the
error messages are produced. It does not affect the return value.</p><p>(Thanks to Sam bobroff)</p><p>Own Id: OTP-9179</p></li><li><p>add user specified compiler options on form reloading</p><p>In order to be able to test non-exported functions from another (test) module
it is necessary to compile the specific module (at least during the test
phase) with the export<em>all compiler option. This allows complete separation of
testing and productive code. At the moment it is not possible to combine this
with a test code coverage using the cover module. The problem is that when
cover compiling a module using cover:compile</em>* the code is reloaded into the
emulator omitting/filtering the passed user options. In my example above the
export_all option would be removed and the non-exported functions cannot be
called any more. (Thanks to Tobias Schlager)</p><p>Own Id: OTP-9204</p></li><li><p>Inhibit electric newline after &quot;-&gt;&quot; when inside a type spec</p><p>The Erlang mode for Emacs inserts a newline after every &quot;-&gt;&quot;, which saves you
one keystroke when writing a function, but that is inappropriate when writing
a type spec, as you'd normally keep the spec on one line. This change inhibits
the automatic insertion when the current line starts with &quot;-spec&quot; or
&quot;-type&quot;.(Thanks to Magnus Henoch)</p><p>Own Id: OTP-9255</p></li><li><p>Add a check logic to prevent file descriptor leak</p><p>cover module handle files as raw in export and import. Assert counts of ports
are the same at the beginning and at the end of the test case.(Thanks to
Shunichi Shinohara)</p><p>Own Id: OTP-9300</p></li></ul><h2 id="tools-2-6-6-3" class="section-heading"><a href="#tools-2-6-6-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.6.6.3</span></h2><h3 id="fixed-bugs-and-malfunctions-45" class="section-heading"><a href="#fixed-bugs-and-malfunctions-45" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Declare indentation options as &quot;safe&quot; in erlang-mode for Emacs</p><p>Emacs has a facility for setting options on a per-file basis based on comments
in the source file. By default, all options are considered &quot;unsafe&quot;, and the
user is queried before the variable is set. This patch declares the variables
erlang-indent-level, erlang-indent-guard and erlang-argument-indent to be
safe, if the value specified in the source file is valid.</p><p>Such declarations usually look like this:</p><p>%% -<em>- erlang-indent-level: 2 -</em>-</p><p>and appear on the first line of the file. (thanks to Magnus Henoch)</p><p>Own Id: OTP-9122</p></li></ul><h3 id="improvements-and-new-features-30" class="section-heading"><a href="#improvements-and-new-features-30" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Cover has been improved to take less memory and allow parallel analysis of
cover data. Data collection from nodes is now done in parallel and it is now
possible to issue multiple analyse and analyse_to_file requests at the same
time. A new function call async_analyse_to_file has also been introduced, see
the documentation for more details.</p><p>Own Id: OTP-9043 Aux Id: seq11771</p></li></ul><h2 id="tools-2-6-6-2" class="section-heading"><a href="#tools-2-6-6-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.6.6.2</span></h2><h3 id="fixed-bugs-and-malfunctions-46" class="section-heading"><a href="#fixed-bugs-and-malfunctions-46" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>eprof: API sort mismatch has now been fixed.</p><p>Own Id: OTP-8853</p></li><li><p>eprof: fix division by zero in statistics</p><p>Own Id: OTP-8963</p></li></ul><h2 id="tools-2-6-6-1" class="section-heading"><a href="#tools-2-6-6-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.6.6.1</span></h2><h3 id="fixed-bugs-and-malfunctions-47" class="section-heading"><a href="#fixed-bugs-and-malfunctions-47" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p><code class="inline">cover</code> will now show ampersand characters in the source code correctly.
(Thanks to Tom Moertel.)</p><p>Own Id: OTP-8776</p></li></ul><h2 id="tools-2-6-6" class="section-heading"><a href="#tools-2-6-6" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.6.6</span></h2><h3 id="fixed-bugs-and-malfunctions-48" class="section-heading"><a href="#fixed-bugs-and-malfunctions-48" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>A race condition affecting Cover has been removed.</p><p>Own Id: OTP-8469</p></li><li><p>Emacs improvements:</p><p>Fixed emacs-mode installation problems.</p><p>Fixed a couple of -spec and -type indentation and font-lock problems.</p><p>Fixed error messages on emacs-21.</p><p>Magnus Henoch fixed several issues.</p><p>Ralf Doering, Klas Johansson and Chris Bernard contributed various emacs-eunit
improvements.</p><p>Klas Johansson and Dave Peticolas added emacs-flymake support.</p><p>Own Id: OTP-8530</p></li></ul><h3 id="improvements-and-new-features-31" class="section-heading"><a href="#improvements-and-new-features-31" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Xref has been updated to use the <code class="inline">re</code> module instead of the deprecated
<code class="inline">regexp</code> module.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-8472</p></li><li><p>When given the option <code class="inline">{builtins,true}</code> Xref now adds calls to operators.</p><p>Own Id: OTP-8647</p></li><li><p><code class="inline">eprof</code> has been reimplemented with support in the Erlang virtual machine and
is now both faster (i.e. slows down the code being measured less) and scales
much better. In measurements we saw speed-ups compared to the old eprof
ranging from 6 times (for sequential code that only uses one scheduler/core)
up to 84 times (for parallel code that uses 8 cores).</p><p>Note: The API for the <code class="inline">eprof</code> has been cleaned up and extended. See the
documentation.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-8706</p></li></ul><h2 id="tools-2-6-5-1" class="section-heading"><a href="#tools-2-6-5-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.6.5.1</span></h2><h3 id="fixed-bugs-and-malfunctions-49" class="section-heading"><a href="#fixed-bugs-and-malfunctions-49" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>A bug concerning bit comprehensions has been fixed in Cover. The bug was
introduced in R13B03. (Thanks to Matthew Sackman.)</p><p>Own Id: OTP-8340</p></li></ul><h3 id="improvements-and-new-features-32" class="section-heading"><a href="#improvements-and-new-features-32" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Add lock profiling tool.</p><p>The Lock profiling tool, lcnt, can make use of the internal lock statistics
when the runtime system is built with this feature enabled.</p><p>This provides a mechanism to examine potential lock bottlenecks within the
runtime itself.</p><p>- Add erts_debug:lock_counters({copy_save, bool()}). This option enables or
disables statistics saving for destroyed processes and ets-tables. Enabling
this might consume a lot of memory.</p><p>- Add id-numbering for lock classes which is otherwise undefined.</p><p>Own Id: OTP-8424</p></li><li><p>emacs: Moved code skeletons to a separate file and and added a configurable
variable to choose skeleton. Thanks Dave Peticolas.</p><p>Own Id: OTP-8446</p></li></ul><h2 id="tools-2-6-5" class="section-heading"><a href="#tools-2-6-5" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.6.5</span></h2><h3 id="fixed-bugs-and-malfunctions-50" class="section-heading"><a href="#fixed-bugs-and-malfunctions-50" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>The coverage analysis tool <code class="inline">cover</code> has been improved when it comes to handling
list and bit string comprehensions (a counter for each qualifier), bit syntax
expressions (the Value and Size expressions), and try expressions (the body
called <code class="inline">Exprs</code> in the Reference Manual). A few (not all) situations where
several expressions are put on the same line are also handled better than
before.</p><p>Own Id: OTP-8188 Aux Id: seq11397</p></li><li><p>When loading Cover compiled code on remote nodes running code in the loaded
module, a <code class="inline">badarg</code> failure was sometimes the result. This bug has been fixed.</p><p>Own Id: OTP-8270 Aux Id: seq11423</p></li><li><p>The short-circuit operators <code class="inline">andalso</code> and <code class="inline">orelse</code> are now handled correctly
by the coverage analysis tool <code class="inline">cover</code> (it is no longer checked that the second
argument returns a Boolean value.)</p><p>Own Id: OTP-8273</p></li></ul><h2 id="tools-2-6-4" class="section-heading"><a href="#tools-2-6-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.6.4</span></h2><h3 id="fixed-bugs-and-malfunctions-51" class="section-heading"><a href="#fixed-bugs-and-malfunctions-51" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p><code class="inline">cover</code> now properly escapes greater-than and less-than characters in comments
in HTML reports. (Thanks to Magnus Henoch.)</p><p>Own Id: OTP-7939</p></li></ul><h2 id="tools-2-6-3" class="section-heading"><a href="#tools-2-6-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.6.3</span></h2><h3 id="improvements-and-new-features-33" class="section-heading"><a href="#improvements-and-new-features-33" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>xref:start/1 does now allow anonymous XREF processes to be started</p><p>Own Id: OTP-7831</p></li></ul><h2 id="tools-2-6-2" class="section-heading"><a href="#tools-2-6-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.6.2</span></h2><h3 id="fixed-bugs-and-malfunctions-52" class="section-heading"><a href="#fixed-bugs-and-malfunctions-52" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>A bug in the Xref scanner has been fixed.</p><p>Own Id: OTP-7423</p></li><li><p>A bug in Fprof where the function 'undefined' appeared to call 'undefined' has
been corrected.</p><p>Own Id: OTP-7509</p></li></ul><h2 id="tools-2-6-1" class="section-heading"><a href="#tools-2-6-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.6.1</span></h2><h3 id="improvements-and-new-features-34" class="section-heading"><a href="#improvements-and-new-features-34" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The documentation has been updated so as to reflect the last updates of the
Erlang shell as well as the minor modifications of the control sequence <code class="inline">p</code> of
the <code class="inline">io_lib</code> module.</p><p>Superfluous empty lines have been removed from code examples and from Erlang
shell examples.</p><p>Own Id: OTP-6944 Aux Id: OTP-6554, OTP-6911</p></li><li><p><a href="../../apps/erts/erlang.html#tuple_size/1"><code class="inline">tuple_size/1</code></a> and <a href="../../apps/erts/erlang.html#byte_size/1"><code class="inline">byte_size/1</code></a> have been
substituted for <a href="../../apps/erts/erlang.html#size/1"><code class="inline">size/1</code></a>.</p><p>Own Id: OTP-7009</p></li><li><p>The coverage analysis tool <code class="inline">cover</code> now handles the short-circuit Boolean
expressions <code class="inline">andalso/2</code> and <code class="inline">orelse/2</code> properly.</p><p>Own Id: OTP-7095</p></li></ul><h2 id="tools-2-6" class="section-heading"><a href="#tools-2-6" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.6</span></h2><h3 id="fixed-bugs-and-malfunctions-53" class="section-heading"><a href="#fixed-bugs-and-malfunctions-53" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>The <code class="inline">cover</code> tool could use huge amounts of memory when used in a distributed
system.</p><p>Own Id: OTP-6758</p></li></ul><h2 id="tools-2-5-5" class="section-heading"><a href="#tools-2-5-5" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.5.5</span></h2><h3 id="fixed-bugs-and-malfunctions-54" class="section-heading"><a href="#fixed-bugs-and-malfunctions-54" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Missing buffer-local declaration in erlang.el has been added. Before this fix
there could arise problems in other emacs modes after visiting a buffer using
the erlang mode.</p><p>Own Id: OTP-6721</p></li><li><p>Key-map for 'backward-delete-char-untabif updated to work properly with
Xemacs.</p><p>Own Id: OTP-6723</p></li></ul><h3 id="improvements-and-new-features-35" class="section-heading"><a href="#improvements-and-new-features-35" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Minor updates of Xref.</p><p>Own Id: OTP-6586</p></li><li><p>Minor Makefile changes.</p><p>Own Id: OTP-6689 Aux Id: OTP-6742</p></li><li><p>&quot;C-u C-c C-k&quot; now does a compile with both &quot;debug_info&quot; and &quot;export_all&quot;.</p><p>Own Id: OTP-6741</p></li></ul><h2 id="tools-2-5-4-1" class="section-heading"><a href="#tools-2-5-4-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.5.4.1</span></h2><h3 id="improvements-and-new-features-36" class="section-heading"><a href="#improvements-and-new-features-36" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Changes due to internal interface changes in the erts application which are
needed at compile-time. No functionality has been changed.</p><p>Own Id: OTP-6611 Aux Id: OTP-6580</p></li></ul><h2 id="tools-2-5-4" class="section-heading"><a href="#tools-2-5-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.5.4</span></h2><h3 id="fixed-bugs-and-malfunctions-55" class="section-heading"><a href="#fixed-bugs-and-malfunctions-55" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Made change to support the function erlang-find-tag for xemacs and emacs-21.</p><p>Own Id: OTP-6512</p></li></ul><h3 id="improvements-and-new-features-37" class="section-heading"><a href="#improvements-and-new-features-37" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Minor updates of xref for future compatibility.</p><p>Own Id: OTP-6513</p></li></ul><h2 id="tools-2-5-3" class="section-heading"><a href="#tools-2-5-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.5.3</span></h2><h3 id="fixed-bugs-and-malfunctions-56" class="section-heading"><a href="#fixed-bugs-and-malfunctions-56" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p><code class="inline">eprof</code> did not work reliably in the SMP emulator, because the trace receiver
process could not process the trace messages fast enough. Therefore, <code class="inline">eprof</code>
now blocks the other schedulers while profiling.</p><p>Own Id: OTP-6373</p></li></ul><h2 id="tools-2-5-2" class="section-heading"><a href="#tools-2-5-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.5.2</span></h2><h3 id="fixed-bugs-and-malfunctions-57" class="section-heading"><a href="#fixed-bugs-and-malfunctions-57" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fprof traces could become truncated for the SMP emulator. This bug has now
been corrected.</p><p>Own Id: OTP-6246</p></li></ul><h2 id="tools-2-5-1" class="section-heading"><a href="#tools-2-5-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.5.1</span></h2><h3 id="fixed-bugs-and-malfunctions-58" class="section-heading"><a href="#fixed-bugs-and-malfunctions-58" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>eprof now works somewhat better in the SMP emulator.</p><p>Own Id: OTP-6152</p></li></ul><h2 id="tools-2-5" class="section-heading"><a href="#tools-2-5" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.5</span></h2><h3 id="fixed-bugs-and-malfunctions-59" class="section-heading"><a href="#fixed-bugs-and-malfunctions-59" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fixed some bugs in <code class="inline">make</code>:</p><p><code class="inline">make:files/1,2</code> can now handle a file in another directory as argument,
similar to <code class="inline">make:all/0,1</code>.</p><p>When specifying a file name including the <code class="inline">.erl</code> extension in <code class="inline">Emakefile</code>,
<code class="inline">make:all/0,1</code> looked for the object code in the wrong place.</p><p>When specifying a file name including the <code class="inline">.erl</code> extension in <code class="inline">Emakefile</code> and
some compile options for the file, <code class="inline">make:files/0,1</code> did not use the options as
it should do.</p><p>Own Id: OTP-6057 Aux Id: seq10299</p></li><li><p><code class="inline">cover</code>: When <code class="inline">cover:stop()</code> was called, the cover compiled code was not
unloaded (as stated in the documentation) but simply marked as 'old'. This
meant that processes lingering in (or with funs referencing to) the cover
compiled code would survive even when the cover server and its ETS tables was
terminated.</p><p>Now the cover compiled code is unloaded, meaning that processes lingering
in/with references to it will be killed when <code class="inline">cover:stop</code> is called, instead
of later crashing with <code class="inline">badarg</code> when trying to bump counters in ETS tables no
longer existing.</p></li></ul><h3 id="improvements-and-new-features-38" class="section-heading"><a href="#improvements-and-new-features-38" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Replaced call to deprecated function <code class="inline">file:file_info/1</code> with call to
<a href="../../apps/stdlib/filelib.html#is_dir/1"><code class="inline">filelib:is_dir/1</code></a> and <a href="../../apps/stdlib/filelib.html#is_regular/1"><code class="inline">filelib:is_regular/1</code></a> in <code class="inline">tags.erl</code>.</p><p>Own Id: OTP-6079</p></li></ul><h2 id="tools-2-4-7" class="section-heading"><a href="#tools-2-4-7" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.4.7</span></h2><h3 id="fixed-bugs-and-malfunctions-60" class="section-heading"><a href="#fixed-bugs-and-malfunctions-60" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>A bug in <code class="inline">fprof</code> profiling causing erroneous inconsistent trace failure has
been corrected.</p><p>Own Id: OTP-5922 Aux Id: seq10203</p></li></ul><h2 id="tools-2-4-6" class="section-heading"><a href="#tools-2-4-6" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.4.6</span></h2><h3 id="fixed-bugs-and-malfunctions-61" class="section-heading"><a href="#fixed-bugs-and-malfunctions-61" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Emacs: <code class="inline">erlang-man-function</code> and <code class="inline">erlang-man-module</code> used a pattern matching
to find the requested module that sometimes yielded unexpected results. For
example, <code class="inline">erlang-man-module file</code> would display the man page for
<code class="inline">CosFileTransfer_File</code>.</p><p>Own Id: OTP-5746 Aux Id: seq10096</p></li><li><p>Some compiler warnings and Dialyzer warnings were eliminated in the Tools
application.</p><p>When tracing to a port (which <code class="inline">fprof</code> does), there could be fake schedule
out/schedule in messages sent for a process that had exited.</p><p>Own Id: OTP-5757</p></li></ul><h2 id="tools-2-4-5" class="section-heading"><a href="#tools-2-4-5" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.4.5</span></h2><h3 id="fixed-bugs-and-malfunctions-62" class="section-heading"><a href="#fixed-bugs-and-malfunctions-62" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>The cross reference tool <code class="inline">xref</code> did not handle the new <code class="inline">fun M:F/A</code> construct
properly. This problem has been fixed.</p><p>Own Id: OTP-5653</p></li></ul><h2 id="tools-2-4-4" class="section-heading"><a href="#tools-2-4-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.4.4</span></h2><h3 id="fixed-bugs-and-malfunctions-63" class="section-heading"><a href="#fixed-bugs-and-malfunctions-63" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>The <code class="inline">cover</code> tool did not escape '&lt;' and '&gt;' not being part of HTML tags in
HTML log files.</p><p>Own Id: OTP-5588</p></li></ul><h2 id="tools-2-4-3" class="section-heading"><a href="#tools-2-4-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.4.3</span></h2><h3 id="improvements-and-new-features-39" class="section-heading"><a href="#improvements-and-new-features-39" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>It is now possible to encrypt the debug information in beam files, to help
keep the source code secret. See <a href="../../apps/compiler/compile.html"><code class="inline">compile</code></a> for how to provide the key for
encrypting, and <a href="../../apps/stdlib/beam_lib.html"><code class="inline">beam_lib</code></a> for how to provide the key for decryption so that
tools such as Debugger, <code class="inline">xref</code>, or <code class="inline">cover</code> can be used.</p><p>The <a href="../../apps/stdlib/beam_lib.html#chunks/2"><code class="inline">beam_lib:chunks/2</code></a> functions now accepts an additional chunk type
'<code class="inline">compile_info</code>' to retrieve the compilation information directly as a term.
(Thanks to Tobias Lindahl.)</p><p>Own Id: OTP-5460 Aux Id: seq9787</p></li></ul><h2 id="tools-2-4-2" class="section-heading"><a href="#tools-2-4-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.4.2</span></h2><h3 id="fixed-bugs-and-malfunctions-64" class="section-heading"><a href="#fixed-bugs-and-malfunctions-64" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>The <code class="inline">cover</code> tool could not analyze empty modules on module level.</p><p>Own Id: OTP-5418</p></li></ul><h2 id="tools-2-4-1" class="section-heading"><a href="#tools-2-4-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Tools 2.4.1</span></h2><h3 id="fixed-bugs-and-malfunctions-65" class="section-heading"><a href="#fixed-bugs-and-malfunctions-65" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>The <code class="inline">xref</code> analysis <code class="inline">locals_not_used</code> could return too many functions. This
problem has been fixed.</p><p>Own Id: OTP-5071</p></li><li><p>The <code class="inline">cover</code> tool could not always compile parse transformed modules. This
problem has been fixed.</p><p>Own Id: OTP-5305</p></li></ul>

</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

  </div>
  <div class="bottom-actions-item">

      <a href="cover_chapter.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page â†’
        </span>
        <span class="title">
cover - The Coverage Analysis Tool
        </span>
      </a>

  </div>
</div>
    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="tools.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.1) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>
<p>Copyright Â© 1996-2025 <a href="https://www.ericsson.com">Ericsson AB</a></p>
    </footer>
  </div>
</main>
</div>
  <script defer src="https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.min.js"></script>
  <script>
  let initialized = false;

  window.addEventListener("exdoc:loaded", () => {
      if (!initialized) {
      mermaid.initialize({
          startOnLoad: false,
          theme: document.body.className.includes("dark") ? "dark" : "default"
      });
      initialized = true;
      }

      let id = 0;
      for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
          graphEl.innerHTML = svg;
          bindFunctions?.(graphEl);
          preEl.insertAdjacentElement("afterend", graphEl);
          preEl.remove();
      });
      }
  });
  </script>

  </body>
</html>
