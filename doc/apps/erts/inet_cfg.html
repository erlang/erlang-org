<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:erl="http://erlang.org" xmlns:fn="http://www.w3.org/2005/02/xpath-functions">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="utf-8">
<link rel="stylesheet" href="../../otp_doc.css" type="text/css">
<title>Erlang -- Inet Configuration</title>
</head>
<body>
<div id="container">
<script id="js" type="text/javascript" language="JavaScript" src="../../js/flipmenu/flipmenu.js"></script><script id="js2" type="text/javascript" src="../../js/erlresolvelinks.js"></script><script id="js3" type="text/javascript" src="../../../doc/js/topbar.js"></script><script language="JavaScript" type="text/javascript">
            <!--
              function setscrollpos() {
                var objf = document.getElementById('loadscrollpos');
                if (objf) {
                  document.getElementById("leftnav").firstChild.scrollTop = objf.offsetTop - 10;
                }
              }

              function addEvent(obj, evType, fn){
                if (obj.addEventListener){
                obj.addEventListener(evType, fn, true);
                return true;
              } else if (obj.attachEvent){
                var r = obj.attachEvent("on"+evType, fn);
                return r;
              } else {
                return false;
              }
             }

             addEvent(window, 'load', setscrollpos);

             //-->
</script><div class="topbar">
<div class="topbar-expand "><button onclick="toggleDisplay();"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="Capa_1" viewBox="0 0 54 54" width="24" height="24"><g><path style="fill:#000000;" d="M27,54c-0.552,0-1-0.448-1-1V8c0-0.552,0.448-1,1-1s1,0.448,1,1v45C28,53.552,27.552,54,27,54z"></path><path style="fill:#000000;" d="M11,25c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414l16-16                                      c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414l-16,16C11.512,24.902,11.256,25,11,25z"></path><path style="fill:#000000;" d="M43,25c-0.256,0-0.512-0.098-0.707-0.293l-16-16c-0.391-0.391-0.391-1.023,0-1.414                                      s1.023-0.391,1.414,0l16,16c0.391,0.391,0.391,1.023,0,1.414C43.512,24.902,43.256,25,43,25z"></path><path style="fill:#000000;" d="M43,2H11c-0.552,0-1-0.448-1-1s0.448-1,1-1h32c0.552,0,1,0.448,1,1S43.552,2,43,2z"></path></g></svg></button></div>
<div class="topbar-title"><h1 id="Inet Configuration">11 
                Inet Configuration</h1></div>
<div class="search-expand ">        <button id="docsearch-mobile">
            <svg fill="#000000" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 50 50" width="24" height="24"><path d="M 21 3 C 11.621094 3 4 10.621094 4 20 C 4 29.378906 11.621094 37 21 37 C 24.710938 37 28.140625 35.804688 30.9375 33.78125 L 44.09375 46.90625 L 46.90625 44.09375 L 33.90625 31.0625 C 36.460938 28.085938 38 24.222656 38 20 C 38 10.621094 30.378906 3 21 3 Z M 21 5 C 29.296875 5 36 11.703125 36 20 C 36 28.296875 29.296875 35 21 35 C 12.703125 35 6 28.296875 6 20 C 6 11.703125 12.703125 5 21 5 Z"/></svg>
        </button>
</div>
</div>
<aside class="hide-mobile" id="leftnav"><nav class="leftnav-tube"><div class="erlang-logo-wrapper"><a href="../../index.html"><img alt="Erlang Logo" src="../../erlang-logo.png" class="erlang-logo"></a></div>
<p class="section-title">Erlang Run-Time System Application (ERTS)</p>
<p class="section-subtitle">User's Guide</p>
<p class="section-version">Version 12.1.2</p>
<ul class="panel-sections">
<li><a href="users_guide.html">User's Guide</a></li>
<li><a href="index.html">Reference Manual</a></li>
<li><a href="internal_docs.html">Internal Documentation</a></li>
<li><a href="notes.html">Release Notes</a></li>
<li><a href="erts.pdf">PDF</a></li>
<li><a href="../../index.html">Top</a></li>
</ul>
<div id="docsearch"></div>
<ul class="expand-collapse-items">
<li><a href="javascript:openAllFlips()">Expand All</a></li>
<li><a href="javascript:closeAllFlips()">Contract All</a></li>
</ul>
<h3 id="chapters">Chapters</h3>
<ul class="flipMenu" imagePath="../../js/flipmenu">
<li id="no" title="Introduction" expanded="false">Introduction<ul>
<li><a href="introduction.html">
              Top of chapter
            </a></li>
<li title="Scope"><a href="introduction.html#scope">Scope</a></li>
<li title="Prerequisites"><a href="introduction.html#prerequisites">Prerequisites</a></li>
</ul>
</li>
<li id="no" title="Communication in Erlang" expanded="false">Communication in Erlang<ul>
<li><a href="communication.html">
              Top of chapter
            </a></li>
<li title="Passing of Signals"><a href="communication.html#passing-of-signals">Passing of Signals</a></li>
<li title="Synchronous Communication"><a href="communication.html#synchronous-communication">Synchronous Communication</a></li>
<li title="Implementation"><a href="communication.html#implementation">Implementation</a></li>
</ul>
</li>
<li id="no" title="Time and Time Correction in Erlang" expanded="false">Time and Time Correction in Erlang<ul>
<li><a href="time_correction.html">
              Top of chapter
            </a></li>
<li title="New Extended Time Functionality"><a href="time_correction.html#new-extended-time-functionality">New Extended Time Functionality</a></li>
<li title="Terminology"><a href="time_correction.html#terminology">Terminology</a></li>
<li title="Introduction"><a href="time_correction.html#introduction">Introduction</a></li>
<li title="Time Correction"><a href="time_correction.html#time-correction">Time Correction</a></li>
<li title="Time Warp Safe Code"><a href="time_correction.html#time-warp-safe-code">Time Warp Safe Code</a></li>
<li title="Time Warp Modes"><a href="time_correction.html#time-warp-modes">Time Warp Modes</a></li>
<li title="New Time API"><a href="time_correction.html#new-time-api">New Time API</a></li>
<li title="Support of Both New and Old OTP Releases"><a href="time_correction.html#support-of-both-new-and-old-otp-releases">Support of Both New and Old OTP Releases</a></li>
</ul>
</li>
<li id="no" title="Match Specifications in Erlang" expanded="false">Match Specifications in Erlang<ul>
<li><a href="match_spec.html">
              Top of chapter
            </a></li>
<li title="Grammar"><a href="match_spec.html#grammar">Grammar</a></li>
<li title="Function Descriptions"><a href="match_spec.html#function-descriptions">Function Descriptions</a></li>
<li title="Match target"><a href="match_spec.html#match-target">Match target</a></li>
<li title="Variables and Literals"><a href="match_spec.html#variables-and-literals">Variables and Literals</a></li>
<li title="Execution of the Match"><a href="match_spec.html#execution-of-the-match">Execution of the Match</a></li>
<li title="Differences between Match Specifications in ETS and Tracing"><a href="match_spec.html#differences-between-match-specifications-in-ets-and-tracing">Differences between Match Specifications in ETS and Tracing</a></li>
<li title="Tracing Examples"><a href="match_spec.html#tracing-examples">Tracing Examples</a></li>
<li title="ETS Examples"><a href="match_spec.html#ets-examples">ETS Examples</a></li>
</ul>
</li>
<li id="no" title="How to Interpret the Erlang Crash Dumps" expanded="false">How to Interpret the Erlang Crash Dumps<ul>
<li><a href="crash_dump.html">
              Top of chapter
            </a></li>
<li title="General Information"><a href="crash_dump.html#general-information">General Information</a></li>
<li title="Scheduler Information"><a href="crash_dump.html#scheduler-information">Scheduler Information</a></li>
<li title="Memory Information"><a href="crash_dump.html#memory-information">Memory Information</a></li>
<li title="Internal Table Information"><a href="crash_dump.html#internal-table-information">Internal Table Information</a></li>
<li title="Allocated Areas"><a href="crash_dump.html#allocated-areas">Allocated Areas</a></li>
<li title="Allocator"><a href="crash_dump.html#allocator">Allocator</a></li>
<li title="Process Information"><a href="crash_dump.html#process-information">Process Information</a></li>
<li title="Port Information"><a href="crash_dump.html#port-information">Port Information</a></li>
<li title="ETS Tables"><a href="crash_dump.html#ets-tables">ETS Tables</a></li>
<li title="Timers"><a href="crash_dump.html#timers">Timers</a></li>
<li title="Distribution Information"><a href="crash_dump.html#distribution-information">Distribution Information</a></li>
<li title="Loaded Module Information"><a href="crash_dump.html#loaded-module-information">Loaded Module Information</a></li>
<li title="Fun Information"><a href="crash_dump.html#fun-information">Fun Information</a></li>
<li title="Process Data"><a href="crash_dump.html#process-data">Process Data</a></li>
<li title="Atoms"><a href="crash_dump.html#atoms">Atoms</a></li>
<li title="Disclaimer"><a href="crash_dump.html#disclaimer">Disclaimer</a></li>
</ul>
</li>
<li id="no" title="How to Implement an Alternative Carrier for the Erlang Distribution
    " expanded="false">How to Implement an Alternative Carrier for the Erlang Distribution
    <ul>
<li><a href="alt_dist.html">
              Top of chapter
            </a></li>
<li title="Introduction"><a href="alt_dist.html#introduction">Introduction</a></li>
<li title="Distribution Module"><a href="alt_dist.html#distribution-module">Distribution Module</a></li>
<li title="The Driver"><a href="alt_dist.html#the-driver">The Driver</a></li>
<li title="Putting It All Together"><a href="alt_dist.html#putting-it-all-together">Putting It All Together</a></li>
</ul>
</li>
<li id="no" title="How to Implement an Alternative Node Discovery for Erlang Distribution
    " expanded="false">How to Implement an Alternative Node Discovery for Erlang Distribution
    <ul>
<li><a href="alt_disco.html">
              Top of chapter
            </a></li>
<li title="Introduction"><a href="alt_disco.html#introduction">Introduction</a></li>
<li title="Discovery module"><a href="alt_disco.html#discovery-module">Discovery module</a></li>
</ul>
</li>
<li id="no" title="The Abstract Format" expanded="false">The Abstract Format<ul>
<li><a href="absform.html">
              Top of chapter
            </a></li>
<li title="Module Declarations and Forms"><a href="absform.html#module-declarations-and-forms">Module Declarations and Forms</a></li>
<li title="Atomic Literals"><a href="absform.html#atomic-literals">Atomic Literals</a></li>
<li title="Patterns"><a href="absform.html#patterns">Patterns</a></li>
<li title="Expressions"><a href="absform.html#expressions">Expressions</a></li>
<li title="Clauses"><a href="absform.html#clauses">Clauses</a></li>
<li title="Guards"><a href="absform.html#guards">Guards</a></li>
<li title="Types"><a href="absform.html#types">Types</a></li>
<li title="The Abstract Format after Preprocessing"><a href="absform.html#the-abstract-format-after-preprocessing">The Abstract Format after Preprocessing</a></li>
</ul>
</li>
<li id="no" title="tty - A Command-Line Interface" expanded="false">tty - A Command-Line Interface<ul>
<li><a href="tty.html">
              Top of chapter
            </a></li>
<li title="Normal Mode"><a href="tty.html#normal-mode">Normal Mode</a></li>
<li title="Shell Break Mode"><a href="tty.html#shell-break-mode">Shell Break Mode</a></li>
</ul>
</li>
<li id="no" title="How to Implement a Driver" expanded="false">How to Implement a Driver<ul>
<li><a href="driver.html">
              Top of chapter
            </a></li>
<li title="Introduction"><a href="driver.html#introduction">Introduction</a></li>
<li title="Sample Driver"><a href="driver.html#sample-driver">Sample Driver</a></li>
<li title="Compiling and Linking the Sample Driver"><a href="driver.html#compiling-and-linking-the-sample-driver">Compiling and Linking the Sample Driver</a></li>
<li title="Calling a Driver as a Port in Erlang"><a href="driver.html#calling-a-driver-as-a-port-in-erlang">Calling a Driver as a Port in Erlang</a></li>
<li title="Sample Asynchronous Driver"><a href="driver.html#sample-asynchronous-driver">Sample Asynchronous Driver</a></li>
<li title="An Asynchronous Driver Using driver_async"><a href="driver.html#an-asynchronous-driver-using-driver_async">An Asynchronous Driver Using driver_async</a></li>
</ul>
</li>
<li id="loadscrollpos" title="Inet Configuration" expanded="true">Inet Configuration<ul>
<li><a href="inet_cfg.html">
              Top of chapter
            </a></li>
<li title="Introduction"><a href="inet_cfg.html#introduction">Introduction</a></li>
<li title="Configuration Data"><a href="inet_cfg.html#configuration-data">Configuration Data</a></li>
<li title="User Configuration Example"><a href="inet_cfg.html#user-configuration-example">User Configuration Example</a></li>
</ul>
</li>
<li id="no" title="External Term Format" expanded="false">External Term Format<ul>
<li><a href="erl_ext_dist.html">
              Top of chapter
            </a></li>
<li title="Introduction"><a href="erl_ext_dist.html#introduction">Introduction</a></li>
<li title="Distribution Header"><a href="erl_ext_dist.html#distribution-header">Distribution Header</a></li>
<li title="ATOM_CACHE_REF"><a href="erl_ext_dist.html#atom_cache_ref">ATOM_CACHE_REF</a></li>
<li title="SMALL_INTEGER_EXT"><a href="erl_ext_dist.html#small_integer_ext">SMALL_INTEGER_EXT</a></li>
<li title="INTEGER_EXT"><a href="erl_ext_dist.html#integer_ext">INTEGER_EXT</a></li>
<li title="FLOAT_EXT"><a href="erl_ext_dist.html#float_ext">FLOAT_EXT</a></li>
<li title="PORT_EXT"><a href="erl_ext_dist.html#port_ext">PORT_EXT</a></li>
<li title="NEW_PORT_EXT"><a href="erl_ext_dist.html#new_port_ext">NEW_PORT_EXT</a></li>
<li title="V4_PORT_EXT"><a href="erl_ext_dist.html#v4_port_ext">V4_PORT_EXT</a></li>
<li title="PID_EXT"><a href="erl_ext_dist.html#pid_ext">PID_EXT</a></li>
<li title="NEW_PID_EXT"><a href="erl_ext_dist.html#new_pid_ext">NEW_PID_EXT</a></li>
<li title="SMALL_TUPLE_EXT"><a href="erl_ext_dist.html#small_tuple_ext">SMALL_TUPLE_EXT</a></li>
<li title="LARGE_TUPLE_EXT"><a href="erl_ext_dist.html#large_tuple_ext">LARGE_TUPLE_EXT</a></li>
<li title="MAP_EXT"><a href="erl_ext_dist.html#map_ext">MAP_EXT</a></li>
<li title="NIL_EXT"><a href="erl_ext_dist.html#nil_ext">NIL_EXT</a></li>
<li title="STRING_EXT"><a href="erl_ext_dist.html#string_ext">STRING_EXT</a></li>
<li title="LIST_EXT"><a href="erl_ext_dist.html#list_ext">LIST_EXT</a></li>
<li title="BINARY_EXT"><a href="erl_ext_dist.html#binary_ext">BINARY_EXT</a></li>
<li title="SMALL_BIG_EXT"><a href="erl_ext_dist.html#small_big_ext">SMALL_BIG_EXT</a></li>
<li title="LARGE_BIG_EXT"><a href="erl_ext_dist.html#large_big_ext">LARGE_BIG_EXT</a></li>
<li title="REFERENCE_EXT (deprecated)"><a href="erl_ext_dist.html#reference_ext--deprecated-">REFERENCE_EXT (deprecated)</a></li>
<li title="NEW_REFERENCE_EXT"><a href="erl_ext_dist.html#new_reference_ext">NEW_REFERENCE_EXT</a></li>
<li title="NEWER_REFERENCE_EXT"><a href="erl_ext_dist.html#newer_reference_ext">NEWER_REFERENCE_EXT</a></li>
<li title="FUN_EXT"><a href="erl_ext_dist.html#fun_ext">FUN_EXT</a></li>
<li title="NEW_FUN_EXT"><a href="erl_ext_dist.html#new_fun_ext">NEW_FUN_EXT</a></li>
<li title="EXPORT_EXT"><a href="erl_ext_dist.html#export_ext">EXPORT_EXT</a></li>
<li title="BIT_BINARY_EXT"><a href="erl_ext_dist.html#bit_binary_ext">BIT_BINARY_EXT</a></li>
<li title="NEW_FLOAT_EXT"><a href="erl_ext_dist.html#new_float_ext">NEW_FLOAT_EXT</a></li>
<li title="ATOM_UTF8_EXT"><a href="erl_ext_dist.html#atom_utf8_ext">ATOM_UTF8_EXT</a></li>
<li title="SMALL_ATOM_UTF8_EXT"><a href="erl_ext_dist.html#small_atom_utf8_ext">SMALL_ATOM_UTF8_EXT</a></li>
<li title="ATOM_EXT (deprecated)"><a href="erl_ext_dist.html#atom_ext--deprecated-">ATOM_EXT (deprecated)</a></li>
<li title="SMALL_ATOM_EXT (deprecated)"><a href="erl_ext_dist.html#small_atom_ext--deprecated-">SMALL_ATOM_EXT (deprecated)</a></li>
</ul>
</li>
<li id="no" title="Distribution Protocol" expanded="false">Distribution Protocol<ul>
<li><a href="erl_dist_protocol.html">
              Top of chapter
            </a></li>
<li title="EPMD Protocol"><a href="erl_dist_protocol.html#epmd-protocol">EPMD Protocol</a></li>
<li title="Distribution Handshake"><a href="erl_dist_protocol.html#distribution-handshake">Distribution Handshake</a></li>
<li title="Protocol between Connected Nodes"><a href="erl_dist_protocol.html#protocol-between-connected-nodes">Protocol between Connected Nodes</a></li>
</ul>
</li>
</ul></nav></aside><div id="content">
<div class="innertube">
<h1 id="Inet Configuration">11 Inet Configuration</h1>
  

  <h3 id="introduction" class="title-link" onMouseOver="document.getElementById('ghlink-introduction-idm4175').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-introduction-idm4175').style.visibility = 'hidden';">
<div class="title-name">11.1 
        Introduction</div>
<div class="title-anchors"><span id="ghlink-introduction-idm4175" class="ghlink-after"><a href="#introduction" title="Link to this place!"><span class="paperclip-after"></span></a><a href="https://github.com/erlang/otp/edit/maint/erts/doc/src/inet_cfg.xml#L33" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-after"></span></a></span></div>
</h3>
    
    <p>This section describes how the Erlang runtime system is configured
      for IP communication. It also explains how you can configure it
      for your needs by a configuration file.
      The information is primarily intended for users with special
      configuration needs or problems. There is normally no need
      for specific settings for Erlang to function properly on a correctly
      IP-configured platform.</p>

    <p>When Erlang starts up it reads the Kernel variable
      <span class="code">inetrc</span>, which, if defined, is to specify the location
      and name of a user configuration file. Example:</p>

    <div class="example example-none"><pre>% erl -kernel inetrc '"./cfg_files/erl_inetrc"'</pre></div>

    <p>Notice that the use of an <span class="code">.inetrc</span> file, which was
      supported in earlier Erlang/OTP versions, is now obsolete.</p>

    <p>A second way to specify the configuration file is to set
      environment variable <span class="code">ERL_INETRC</span> to the full name of
      the file. Example (bash):</p>

    <div class="example example-none"><pre>% export ERL_INETRC=./cfg_files/erl_inetrc</pre></div>

    <p>Notice that the Kernel variable <span class="code">inetrc</span>
      overrides this environment variable.</p>

    <p>If no user configuration file is specified and Erlang is started
      in non-distributed or short name distributed mode, Erlang uses
      default configuration settings and a native lookup method that
      works correctly under most circumstances. Erlang reads no
      information from system <span class="code">inet</span> configuration files (such as 
      <span class="code">/etc/host.conf</span> and <span class="code">/etc/nsswitch.conf</span>) in these modes,
      except for <span class="code">/etc/resolv.conf</span> and <span class="code">/etc/hosts</span> that is read and
      monitored for changes on Unix platforms for the internal DNS client
      <span class="bold_code bc-18"><a href="../../man/inet_res.html"><span class="code">inet_res(3)</span></a></span>.</p>

    <p>If Erlang is started in long name distributed mode, it needs to
      get the domain name from somewhere and reads system <span class="code">inet</span>
      configuration files for this information. Any hosts and resolver
      information found is also recorded, but not
      used as long as Erlang is configured for native lookups. The
      information becomes useful if the lookup method is changed to 
      <span class="code">'file'</span> or <span class="code">'dns'</span>, see below.</p>

    <p>Native lookup (system calls) is always the default resolver method.
      This is true for all platforms, except VxWorks and OSE Delta where
      <span class="code">'file'</span> or <span class="code">'dns'</span> is used (in that
      priority order).</p>

    <p>On Windows platforms, Erlang searches the system registry rather than
      looks for configuration files when started in long name distributed
      mode.</p>
  

  <h3 id="configuration-data" class="title-link" onMouseOver="document.getElementById('ghlink-configuration-data-idm4204').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-configuration-data-idm4204').style.visibility = 'hidden';">
<div class="title-name">11.2 
        Configuration Data</div>
<div class="title-anchors"><span id="ghlink-configuration-data-idm4204" class="ghlink-after"><a href="#configuration-data" title="Link to this place!"><span class="paperclip-after"></span></a><a href="https://github.com/erlang/otp/edit/maint/erts/doc/src/inet_cfg.xml#L91" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-after"></span></a></span></div>
</h3>
    
    <p>Erlang records the following data in a local database if found in system 
      <span class="code">inet</span> configuration files (or system registry):</p>

   <ul>
      <li>Hostnames and host addresses</li>
      <li>Domain name</li>
      <li>Nameservers</li>
      <li>Search domains</li>
      <li>Lookup method</li>
    </ul>

    <p>This data can also be specified explicitly in the user
      configuration file. This file is to contain lines
      of configuration parameters (each terminated with a full stop).
      Some parameters add data to the configuration (such as host
      and nameserver), others overwrite any previous settings
      (such as domain and lookup). The user configuration file is always
      examined last in the configuration process, making it possible
      for the user to override any default values or previously made
      settings. Call <span class="code">inet:get_rc()</span> to view the state of the
      <span class="code">inet</span> configuration database.</p>

    <p>The valid configuration parameters are as follows:</p>

    <dl>
      <dt><strong><span class="code">{file, Format, File}.</span></strong></dt>
      <dd>
        <p><span class="code">Format = atom()</span></p>
        <p><span class="code">File = string()</span></p>
        <p>Specify a system file that Erlang is to read configuration data from.
          <span class="code">Format</span> tells the parser how the file is to be
          interpreted:</p>
        <ul>
          <li>
<span class="code">resolv</span> (Unix resolv.conf)</li>
          <li>
<span class="code">host_conf_freebsd</span> (FreeBSD host.conf)</li>
          <li>
<span class="code">host_conf_bsdos</span> (BSDOS host.conf)</li>
          <li>
<span class="code">host_conf_linux</span> (Linux host.conf)</li>
          <li>
<span class="code">nsswitch_conf</span> (Unix nsswitch.conf)</li>
          <li>
<span class="code">hosts</span> (Unix hosts)</li>
        </ul>
        <p><span class="code">File</span> is to specify the filename with full
          path.</p>
      </dd>
      <dt><strong><span class="code">{resolv_conf, File}.</span></strong></dt>
      <dd>
        <p><span class="code">File = string()</span></p>
        <p>Specify a system file that Erlang is to read resolver
          configuration from for the internal DNS client
          <span class="bold_code bc-18"><a href="../../man/inet_res.html"><span class="code">inet_res(3)</span></a></span>,
          and monitor for changes, even if it does not exist.
          The path must be absolute.</p>
        <p>This can override the configuration parameters
          <span class="code">nameserver</span> and
          <span class="code">search</span> depending on the contents
          of the specified file. They can also change any time in the future
          reflecting the file contents.</p>
        <p>If the file is specified as an empty string <span class="code">""</span>,
          no file is read or monitored in the future. This emulates
          the old behavior of not configuring the DNS client when
          the node is started in short name distributed mode.</p>
        <p>If this parameter is not specified, it defaults to
          <span class="code">/etc/resolv.conf</span> unless environment variable
          <span class="code">ERL_INET_ETC_DIR</span> is set, which defines
          the directory for this file to some maybe other than
          <span class="code">/etc</span>.</p>
      </dd>
      <dt><strong><span class="code">{hosts_file, File}.</span></strong></dt>
      <dd>
        <p><span class="code">File = string()</span></p>
        <p>Specify a system file that Erlang is to read resolver
          configuration from for the internal hosts file resolver,
          and monitor for changes, even if it does not exist.
          The path must be absolute.</p>
        <p>These host entries are searched after all added with
          <span class="code">{file, hosts, File}</span> above or
          <span class="code">{host, IP, Aliases}</span> below when lookup option
          <span class="code">file</span> is used.</p>
        <p>If the file is specified as an empty string <span class="code">""</span>,
          no file is read or monitored in the future. This emulates
          the old behavior of not configuring the DNS client when
          the node is started in short name distributed mode.</p>
        <p>If this parameter is not specified, it defaults to
          <span class="code">/etc/hosts</span> unless environment variable
          <span class="code">ERL_INET_ETC_DIR</span> is set, which defines
          the directory for this file to some maybe other than
          <span class="code">/etc</span>.</p>
      </dd>
      <dt><strong><span class="code">{registry, Type}.</span></strong></dt>
      <dd>
        <p><span class="code">Type = atom()</span></p>
        <p>Specify a system registry that Erlang is to read configuration
          data from. <span class="code">win32</span> is the only valid option.</p>
      </dd>
      <dt><strong><span class="code">{host, IP, Aliases}.</span></strong></dt>
      <dd>
        <p><span class="code">IP = tuple()</span></p>
        <p><span class="code">Aliases = [string()]</span></p>
        <p>Add host entry to the hosts table.</p>
      </dd>
      <dt><strong><span class="code">{domain, Domain}.</span></strong></dt>
      <dd>
        <p><span class="code">Domain = string()</span></p>
        <p>Set domain name.</p>
      </dd>
      <dt><strong><span class="code">{nameserver, IP [,Port]}.</span></strong></dt>
      <dd>
        <p><span class="code">IP = tuple()</span></p>
        <p><span class="code">Port = integer()</span></p>
        <p>Add address (and port, if other than default) of the primary
          nameserver to use for
          <span class="bold_code bc-18"><a href="../../man/inet_res.html"><span class="code">inet_res(3)</span></a></span>.
        </p>
      </dd>
      <dt><strong><span class="code">{alt_nameserver, IP [,Port]}.</span></strong></dt>
      <dd>
        <p><span class="code">IP = tuple()</span></p>
        <p><span class="code">Port = integer()</span></p>
        <p>Add address (and port, if other than default) of the secondary
          nameserver for
          <span class="bold_code bc-18"><a href="../../man/inet_res.html"><span class="code">inet_res(3)</span></a></span>.
        </p>
      </dd>
      <dt><strong><span class="code">{search, Domains}.</span></strong></dt>
      <dd>
        <p><span class="code">Domains = [string()]</span></p>
        <p>Add search domains for
          <span class="bold_code bc-18"><a href="../../man/inet_res.html"><span class="code">inet_res(3)</span></a></span>.
        </p>
      </dd>
      <dt><strong><span class="code">{lookup, Methods}.</span></strong></dt>
      <dd>
        <p><span class="code">Methods = [atom()]</span></p>
        <p>Specify lookup methods and in which order to try them.
          The valid methods are as follows:</p>
        <ul>
          <li>
<span class="code">native</span> (use system calls)</li>
          <li>
<span class="code">file</span> (use host data retrieved from system
            configuration files and/or the user configuration file)</li>
          <li>
<span class="code">dns</span> (use the Erlang DNS client
            <span class="bold_code bc-18"><a href="../../man/inet_res.html"><span class="code">inet_res(3)</span></a></span>
            for nameserver queries)</li>
        </ul>
	<p>The lookup method <span class="code">string</span> tries to
	  parse the hostname as an IPv4 or IPv6 string and return
	  the resulting IP address. It is automatically tried
	  first when <span class="code">native</span> is <strong>not</strong>
	  in the <span class="code">Methods</span> list. To skip it in this case,
	  the pseudo lookup method <span class="code">nostring</span> can be
	  inserted anywhere in the <span class="code">Methods</span> list.</p>
      </dd>
      <dt><strong><span class="code">{cache_size, Size}.</span></strong></dt>
      <dd>
        <p><span class="code">Size = integer()</span></p>
	<p>Set the resolver cache size for <span class="code">dns</span> lookups.
	  <span class="code">native</span> lookups are not cached. Defaults to 100 DNS records.
	</p>
      </dd>
      <dt><strong><span class="code">{cache_refresh, Time}.</span></strong></dt>
        <dd>
        <p><span class="code">Time = integer()</span></p>
        <p>Set how often (in milliseconds) the resolver cache for
          <span class="bold_code bc-18"><a href="../../man/inet_res.html"><span class="code">inet_res(3)</span></a></span>
          is refreshed (that is, expired DNS records are deleted).
          Defaults to 1 hour.</p>
      </dd>
      <dt><strong><span class="code">{timeout, Time}.</span></strong></dt>
      <dd>
        <p><span class="code">Time = integer()</span></p>
        <p>Set the time to wait until retry (in milliseconds) for DNS queries
          made by
          <span class="bold_code bc-18"><a href="../../man/inet_res.html"><span class="code">inet_res(3)</span></a></span>.
          Defaults to 2 seconds.</p>
      </dd>
      <dt><strong><span class="code">{retry, N}.</span></strong></dt>
      <dd>
        <p><span class="code">N = integer()</span></p>
        <p>Set the number of DNS queries
          <span class="bold_code bc-18"><a href="../../man/inet_res.html"><span class="code">inet_res(3)</span></a></span>
          will try before giving up. Defaults to 3.</p>
      </dd>

      <dt><strong><span class="code">{servfail_retry_timeout, Time}.</span></strong></dt>
      <dd>
        <p><span class="code">Time = non_neg_integer()</span></p>
	<p>After all name servers have been tried, there is a timeout
	before the name servers are tried again. This is to prevent
	the server from answering the query with what's in the servfail cache,
	<span class="bold_code bc-13"><a href="../../man/inet_res.html#servfail_retry_timeout"><span class="code">inet_res(3)</span></a></span>.
	Defaults to 1500 milli seconds .</p>
      </dd>

      <dt><strong><span class="code">{inet6, Bool}.</span></strong></dt>
      <dd>
        <p><span class="code">Bool = true | false</span></p>
        <p>Tells the DNS client
          <span class="bold_code bc-18"><a href="../../man/inet_res.html"><span class="code">inet_res(3)</span></a></span>
          to look up IPv6 addresses. Defaults to <span class="code">false</span>.</p>
      </dd>
      <dt><strong><span class="code">{usevc, Bool}.</span></strong></dt>
      <dd>
        <p><span class="code">Bool = true | false</span></p>
        <p>Tells the DNS client
          <span class="bold_code bc-18"><a href="../../man/inet_res.html"><span class="code">inet_res(3)</span></a></span>
          to use TCP (Virtual Circuit) instead of UDP. Defaults to
          <span class="code">false</span>.</p>
      </dd>
      <dt><strong><span class="code">{edns, Version}.</span></strong></dt>
      <dd>
        <p><span class="code">Version = false | 0</span></p>
        <p>Sets the EDNS version that
          <span class="bold_code bc-18"><a href="../../man/inet_res.html"><span class="code">inet_res(3)</span></a></span>
          will use. The only allowed version is zero. Defaults to <span class="code">false</span>,
          which means not to use EDNS.</p>
      </dd>
      <dt><strong><span class="code">{udp_payload_size, Size}.</span></strong></dt>
      <dd>
        <p><span class="code">N = integer()</span></p>
        <p>Sets the allowed UDP payload size
          <span class="bold_code bc-18"><a href="../../man/inet_res.html"><span class="code">inet_res(3)</span></a></span>
          will advertise in EDNS queries. Also sets the limit
          when the DNS query will be deemed too large for UDP
          forcing a TCP query instead; this  is not entirely
          correct, as the advertised UDP payload size of the
          individual nameserver is what is to be used,
          but this simple strategy will do until a more intelligent
          (probing, caching) algorithm needs to be implemented.
          Default to 1280, which stems from the standard Ethernet MTU size.</p>
      </dd>
      <dt><strong><span class="code">{udp, Module}.</span></strong></dt>
      <dd>
        <p><span class="code">Module = atom()</span></p>
        <p>Tell Erlang to use another primitive UDP module than
          <span class="code">inet_udp</span>.</p>
      </dd>
      <dt><strong><span class="code">{tcp, Module}.</span></strong></dt>
      <dd>
        <p><span class="code">Module = atom()</span></p>
        <p>Tell Erlang to use another primitive TCP module than
          <span class="code">inet_tcp</span>.</p>
      </dd>
      <dt><strong><span class="code">clear_hosts.</span></strong></dt>
      <dd>
        <p>Clear the hosts table.</p>
      </dd>
      <dt><strong><span class="code">clear_ns.</span></strong></dt>
      <dd>
        <p>Clear the list of recorded nameservers (primary and secondary).</p>
      </dd>
      <dt><strong><span class="code">clear_search.</span></strong></dt>
      <dd>
        <p>Clear the list of search domains.</p>
      </dd>
    </dl>
  

  <h3 id="user-configuration-example" class="title-link" onMouseOver="document.getElementById('ghlink-user-configuration-example-idm4448').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-user-configuration-example-idm4448').style.visibility = 'hidden';">
<div class="title-name">11.3 
        User Configuration Example</div>
<div class="title-anchors"><span id="ghlink-user-configuration-example-idm4448" class="ghlink-after"><a href="#user-configuration-example" title="Link to this place!"><span class="paperclip-after"></span></a><a href="https://github.com/erlang/otp/edit/maint/erts/doc/src/inet_cfg.xml#L348" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-after"></span></a></span></div>
</h3>
    
    <p>Assume that a user does not want Erlang to use the native lookup method,
      but wants Erlang to read all information necessary from start and use
      that for resolving names and addresses. If lookup fails, Erlang
      is to request the data from a nameserver (using the Erlang
      DNS client, set to use EDNS allowing larger responses).
      The resolver configuration is updated when
      its configuration file changes. Also, DNS records
      are never to be cached. The user configuration file
      (in this example named <span class="code">erl_inetrc</span>, stored
      in directory <span class="code">./cfg_files</span>) can then look as follows
      (Unix):</p>

    <div class="example"><pre>
%% -- ERLANG INET CONFIGURATION FILE --
%% read the hosts file
{file, hosts, "/etc/hosts"}.
%% add a particular host
{host, {134,138,177,105}, ["finwe"]}.
%% do not monitor the hosts file
{hosts_file, ""}.
%% read and monitor nameserver config from here
{resolv_conf, "/usr/local/etc/resolv.conf"}.
%% enable EDNS
{edns,0}.
%% disable caching
{cache_size, 0}.
%% specify lookup method
{lookup, [file, dns]}.</pre></div>

    <p>And Erlang can, for example, be started as follows:</p>

    <div class="example example-none"><pre>% erl -sname my_node -kernel inetrc '"./cfg_files/erl_inetrc"'</pre></div>
  
</div>
<div class="footer">
<hr>
<p>Copyright © 1997-2021 Ericsson AB. All Rights Reserved.</p>
</div>
</div>
</div>
<script type="text/javascript">window.__otpTopDocDir = '../../js/';</script><script type="text/javascript" src="../../js/highlight.js"></script>
<script src="/assets/js/doc-search.bundle.js"></script>
</body>
</html>
