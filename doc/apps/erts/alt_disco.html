<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.1">
    <meta name="project" content="erts v16.1.2">


<meta name="major-vsn" content="28">
<meta name="exdoc:full-text-search-url" content="/doc/search.html?v=28&q=">
<link rel="canonical" href="https://www.erlang.org/doc/apps/erts/alt_disco.html" />
    <title>How to Implement an Alternative Node Discovery for Erlang Distribution — erts v16.1.2</title>

    <link rel="stylesheet" href="dist/html-erlang-ZK43ZOAC.css" />

    <script defer src="dist/sidebar_items-E03DE236.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-DPJLHKSM.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="../../index.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="erts" />
        </a>

      <div>
        <a href="../../index.html" class="sidebar-projectName" translate="no">
erts
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v16.1.2
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-extra" id="main" data-type="extras">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of erts</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>How to Implement an Alternative Node Discovery for Erlang Distribution</h1>


      <a href="https://github.com/erlang/otp/blob/OTP-28.2/erts/doc/guides/alt_disco.md#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


<p>This section describes how to implement an alternative node discovery mechanism
for Erlang distribution. Node discovery is normally done using DNS and the
Erlang Port Mapper Daemon (EPMD) for port registration and lookup.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>Support for alternative node discovery mechanisms was added in Erlang/OTP 21.</p></section><h2 id="introduction" class="section-heading"><a href="#introduction" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Introduction</span></h2><p>To implement your own node discovery module you have to write your own EPMD
module. The <a href="../../apps/kernel/erl_epmd.html">EPMD module</a> is responsible for providing the
location of another node. The distribution modules
(<code class="inline">inet_tcp_dist</code>/<code class="inline">inet_tls_dist</code>) call the EPMD module to get the IP address and
port of the other node. The EPMD module that is part of Erlang/OTP will resolve
the hostname using DNS and uses the EPMD unix process to get the port of another
node. The EPMD unix process does this by connecting to the other node on a
well-known port, port 4369.</p><h2 id="discovery-module" class="section-heading"><a href="#discovery-module" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Discovery module</span></h2><p>The discovery module needs to implement the same API as the regular
<a href="../../apps/kernel/erl_epmd.html">EPMD module</a>. However, instead of communicating with EPMD you can
connect to any service to find out connection details of other nodes. A
discovery module is enabled by setting <a href="erl_cmd.html">-epmd_module</a> when starting
erlang. The discovery module must implement the following callbacks:</p><ul><li><p><strong><a href="../../apps/kernel/erl_epmd.html#start_link/0">start_link/0</a></strong> - Start any processes needed by
the discovery module.</p></li><li><p><strong><a href="../../apps/kernel/erl_epmd.html#names/1">names/1</a></strong> - Return node names held by the registrar
for the given host.</p></li><li><p><strong><a href="../../apps/kernel/erl_epmd.html#register_node/2">register_node/2</a></strong> - Register the given node
name with the registrar.</p></li><li><p><strong><a href="../../apps/kernel/erl_epmd.html#port_please/3">port_please/3</a></strong> - Return the distribution port
used by the given node.</p></li></ul><p>The discovery module may implement the following callback:</p><ul><li><p><strong><a href="../../apps/kernel/erl_epmd.html#address_please/3">address_please/3</a></strong> - Return the address of
the given node. If not implemented, <a href="../../apps/kernel/erl_epmd.html#address_please/3"><code class="inline">erl_epmd:address_please/3</code></a> will be used
instead.</p><p>This callback may also return the port of the given node. In that case
<a href="../../apps/kernel/erl_epmd.html#port_please/3">port_please/3</a> may be omitted.</p></li><li><p><strong><a href="../../apps/kernel/erl_epmd.html#listen_port_please/2">listen_port_please/2</a></strong> - Return the port
the local node should listen to. If not implemented,
<a href="../../apps/kernel/erl_epmd.html#listen_port_please/2"><code class="inline">erl_epmd:listen_port_please/2</code></a> will be used instead.</p></li></ul>

</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

      <a href="alt_dist.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
How to Implement an Alternative Carrier for the Erlang Distribution
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="absform.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
The Abstract Format
        </span>
      </a>

  </div>
</div>
    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.1) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>
<p>Copyright © 1996-2025 <a href="https://www.ericsson.com">Ericsson AB</a></p>
    </footer>
  </div>
</main>
</div>
  <script defer src="https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.min.js"></script>
  <script>
  let initialized = false;

  window.addEventListener("exdoc:loaded", () => {
      if (!initialized) {
      mermaid.initialize({
          startOnLoad: false,
          theme: document.body.className.includes("dark") ? "dark" : "default"
      });
      initialized = true;
      }

      let id = 0;
      for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
          graphEl.innerHTML = svg;
          bindFunctions?.(graphEl);
          preEl.insertAdjacentElement("afterend", graphEl);
          preEl.remove();
      });
      }
  });
  </script>

  </body>
</html>
