<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.37.3">
    <meta name="project" content="xmerl v2.1.3.2">


<meta name="major-vsn" content="27">
<meta name="exdoc:full-text-search-url" content="/doc/search.html?v=27&q=">
<link rel="canonical" href="https://www.erlang.org/doc/apps/xmerl/xmerl_xsd.html" />
    <title>xmerl_xsd — xmerl v2.1.3.2</title>

    <link rel="stylesheet" href="dist/html-erlang-FDBURIED.css" />

    <script defer src="dist/sidebar_items-892E95BB.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-ALU6OERS.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="../../index.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="xmerl" />
        </a>

      <div>
        <a href="../../index.html" class="sidebar-projectName" translate="no">
xmerl
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v2.1.3.2
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-module" id="main" data-type="modules">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of xmerl</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>
      <span translate="no">xmerl_xsd</span> 
      <small class="app-vsn" translate="no">(xmerl v2.1.3.2)</small>

    </h1>

      <a href="https://github.com/erlang/otp/blob/OTP-27.3.4.6/lib/xmerl/src/xmerl_xsd.erl#L21" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


    <section id="moduledoc">
<p>Interface module for XML Schema validation.</p><p>It handles the W3.org <a href="http://www.w3.org/XML/Schema#dev">specifications</a> of
XML Schema second edition 28 october 2004.  For an introduction to
XML Schema please study <a href="http://www.w3.org/TR/xmlschema-0/">part 0</a>.</p><p>An XML structure is validated by <a href="#validate/2"><code class="inline">xmerl_xsd:validate/[2,3]</code></a>.</p>
    </section>

</div>

  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-types summary">
  <h2>
    <a href="#types">Types</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:filename/0" data-no-tooltip="" translate="no">filename()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:global_state/0" data-no-tooltip="" translate="no">global_state()</a>

      </div>

        <div class="summary-synopsis"><p>The global state of the validator.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:option_list/0" data-no-tooltip="" translate="no">option_list()</a>

      </div>

        <div class="summary-synopsis"><p>Options that allow to customize the behaviour of the validation.</p></div>

    </div>

</div>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#file2state/1" data-no-tooltip="" translate="no">file2state(FileName)</a>

      </div>

        <div class="summary-synopsis"><p>Read the schema processing state from a file.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#format_error/1" data-no-tooltip="" translate="no">format_error(Reasons)</a>

      </div>

        <div class="summary-synopsis"><p>Format error descriptions to human readable strings.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#process_schema/1" data-no-tooltip="" translate="no">process_schema(Schema)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a href="#process_schema/2"><code class="inline">process_schema(Schema, [])</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#process_schema/2" data-no-tooltip="" translate="no">process_schema(Schema, Options)</a>

      </div>

        <div class="summary-synopsis"><p>Read an XML schema and check that it is valid.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#process_schemas/1" data-no-tooltip="" translate="no">process_schemas(Schemas)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a href="#process_schemas/2"><code class="inline">process_schemas(Schemas, [])</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#process_schemas/2" data-no-tooltip="" translate="no">process_schemas(Schemas, Options)</a>

      </div>

        <div class="summary-synopsis"><p>Read XML schemas and check that they are valid.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#process_validate/2" data-no-tooltip="" translate="no">process_validate(Schema, Element)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a href="#process_validate/3"><code class="inline">process_validate(Schema, Element, [])</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#process_validate/3" data-no-tooltip="" translate="no">process_validate(Schema, Element, Options)</a>

      </div>

        <div class="summary-synopsis"><p>Validate a parsed well-formed XML element towards an XML schema.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#state2file/1" data-no-tooltip="" translate="no">state2file(State)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a href="#state2file/2"><code class="inline">state2file(State, SchemaName)</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#state2file/2" data-no-tooltip="" translate="no">state2file(S, FileName)</a>

      </div>

        <div class="summary-synopsis"><p>Save the schema processing state to a file.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#validate/2" data-no-tooltip="" translate="no">validate(Element, State)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a href="#validate/3"><code class="inline">validate(Element, State, [])</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#validate/3" data-no-tooltip="" translate="no">validate(Xml, State, Opts)</a>

      </div>

        <div class="summary-synopsis"><p>Validate a parsed well-formed XML element (<code class="inline">Element</code>).</p></div>

    </div>

</div>

  </section>


  <section id="types" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types</span>
    </h1>
    <div class="types-list">
<section class="detail" id="t:filename/0">

  <div class="detail-header">
    <a href="#t:filename/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">filename()</h1>

        <span class="note">(not exported)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-27.3.4.6/lib/xmerl/src/xmerl_xsd.erl#L103" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> filename() :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:global_state/0">

  <div class="detail-header">
    <a href="#t:global_state/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">global_state()</h1>

        <span class="note">(not exported)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-27.3.4.6/lib/xmerl/src/xmerl_xsd.erl#L76" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> global_state() :: xsd_state().</pre>

      </div>

<p>The global state of the validator.</p><p>It is represented by the <code class="inline">#xsd_state{}</code> record.</p>
  </section>
</section>
<section class="detail" id="t:option_list/0">

  <div class="detail-header">
    <a href="#t:option_list/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">option_list()</h1>

        <span class="note">(not exported)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-27.3.4.6/lib/xmerl/src/xmerl_xsd.erl#L100" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> option_list() :: [{xsdbase, <a href="#t:filename/0">filename</a>()} | {<a href="../../apps/erts/erlang.html#t:atom/0">atom</a>(), <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}].</pre>

      </div>

<p>Options that allow to customize the behaviour of the validation.</p><p>Possible options are :</p><dl>  <dt><code>{tab2file,boolean()}</code></dt>
     <dd>Enables saving of abstract structure on file for debugging
        purpose.</dd>
  <dt><code>{xsdbase,filename()}</code></dt>
     <dd>XSD Base directory.</dd>
  <dt><code>{fetch_fun,FetchFun}</code></dt>
     <dd>Call back function to fetch an external resource.</dd>
  <dt><code>{fetch_path,PathList}</code></dt>
     <dd>PathList is a list of directories to search when fetching files.
         If the file in question is not in the fetch_path, the URI will
         be used as a file name.</dd>
  <dt><code>{state,State}</code></dt>
     <dd>It is possible by this option to provide a state with process
         information from an earlier validation.</dd></dl>
  </section>
</section>

    </div>
  </section>

  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Functions</span>
    </h1>
    <div class="functions-list">
<section class="detail" id="file2state/1">

  <div class="detail-header">
    <a href="#file2state/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">file2state(FileName)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-27.3.4.6/lib/xmerl/src/xmerl_xsd.erl#L194" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> file2state(FileName :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>()) -> {ok, State} | {error, Reason}
                    when State :: <a href="#t:global_state/0">global_state</a>(), Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Read the schema processing state from a file.</p><p>Reads the schema state with all information of the processed schema from
a file created with <code class="inline">state2file/[1,2]</code>. The format of this file is internal.
The state can then be used validating an XML document.</p>
  </section>
</section>
<section class="detail" id="format_error/1">

  <div class="detail-header">
    <a href="#format_error/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">format_error(Reasons)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-27.3.4.6/lib/xmerl/src/xmerl_xsd.erl#L5554" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> format_error(Reasons) -> <a href="../../apps/stdlib/io_lib.html#t:chars/0">io_lib:chars</a>() when Reasons :: [Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()] | (Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()).</pre>

      </div>

<p>Format error descriptions to human readable strings.</p>
  </section>
</section>
<section class="detail" id="process_schema/1">

  <div class="detail-header">
    <a href="#process_schema/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">process_schema(Schema)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-27.3.4.6/lib/xmerl/src/xmerl_xsd.erl#L334" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> process_schema(Schema :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>()) -> _.</pre>

      </div>

<p>Equivalent to <a href="#process_schema/2"><code class="inline">process_schema(Schema, [])</code></a>.</p>
  </section>
</section>
<section class="detail" id="process_schema/2">

  <div class="detail-header">
    <a href="#process_schema/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">process_schema(Schema, Options)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-27.3.4.6/lib/xmerl/src/xmerl_xsd.erl#L349" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> process_schema(Schema :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>(), Options :: <a href="#t:option_list/0">option_list</a>()) -> {ok, State} | {error, Reasons}
                        when State :: <a href="#t:global_state/0">global_state</a>(), Reasons :: [Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()] | (Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()).</pre>

      </div>

<p>Read an XML schema and check that it is valid.</p><p>Reads the referenced XML schema and checks that it is valid. Returns the
<a href="#t:global_state/0"><code class="inline">global_state/0</code></a> with schema info or an error reason. The error reason
may be a list of several errors or a single error encountered
during the processing.</p>
  </section>
</section>
<section class="detail" id="process_schemas/1">

  <div class="detail-header">
    <a href="#process_schemas/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">process_schemas(Schemas)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-27.3.4.6/lib/xmerl/src/xmerl_xsd.erl#L381" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> process_schemas(Schemas :: <a href="../../apps/erts/erlang.html#t:list/0">list</a>()) -> _.</pre>

      </div>

<p>Equivalent to <a href="#process_schemas/2"><code class="inline">process_schemas(Schemas, [])</code></a>.</p>
  </section>
</section>
<section class="detail" id="process_schemas/2">

  <div class="detail-header">
    <a href="#process_schemas/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">process_schemas(Schemas, Options)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-27.3.4.6/lib/xmerl/src/xmerl_xsd.erl#L399" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> process_schemas(Schemas, Options) -> {ok, State} | {error, Reasons}
                         when
                             Schemas :: [{NameSpace, Schema}, ...],
                             Options :: <a href="#t:option_list/0">option_list</a>(),
                             NameSpace :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                             Schema :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>(),
                             State :: <a href="#t:global_state/0">global_state</a>(),
                             Reasons :: [Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()] | (Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()).</pre>

      </div>

<p>Read XML schemas and check that they are valid.</p><p>Reads the referenced XML schemas and controls they are valid. Returns the
<a href="#t:global_state/0"><code class="inline">global_state/0</code></a> with schema info or an error reason. The error reason may be
a list of several errors or a single error encountered during the processing.</p>
  </section>
</section>
<section class="detail" id="process_validate/2">

  <div class="detail-header">
    <a href="#process_validate/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">process_validate(Schema, Element)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-27.3.4.6/lib/xmerl/src/xmerl_xsd.erl#L243" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> process_validate(Schema :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>(), Element :: <a href="xmerl.html#t:element/0">xmerl:element</a>()) -> _.</pre>

      </div>

<p>Equivalent to <a href="#process_validate/3"><code class="inline">process_validate(Schema, Element, [])</code></a>.</p>
  </section>
</section>
<section class="detail" id="process_validate/3">

  <div class="detail-header">
    <a href="#process_validate/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">process_validate(Schema, Element, Options)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-27.3.4.6/lib/xmerl/src/xmerl_xsd.erl#L268" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> process_validate(Schema, Element, Options) -> Result
                          when
                              Schema :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>(),
                              Element :: <a href="xmerl.html#t:element/0">xmerl:element</a>(),
                              Options :: <a href="#t:option_list/0">option_list</a>(),
                              Result :: {ValidElement, <a href="#t:global_state/0">global_state</a>()} | {error, Reasons},
                              ValidElement :: <a href="xmerl.html#t:element/0">xmerl:element</a>(),
                              Reasons :: [Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()] | (Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()).</pre>

      </div>

<p>Validate a parsed well-formed XML element towards an XML schema.</p><p>Validates in two steps. First it processes the schema, saves the type and
structure info in an ETS table and then validates the element towards the
schema.</p><p>Usage example:</p><p><code class="inline">1&gt;{E,_} = xmerl_scan:file(&quot;my_XML_document.xml&quot;).</code>
<code class="inline">2&gt;{E2,_} = xmerl_xsd:process_validate(&quot;my_XML_Schema.xsd&quot;,E).</code></p><p>Observe that E2 may differ from E if for instance there are default values
defined in <code class="inline">my_XML_Schema.xsd</code>.</p>
  </section>
</section>
<section class="detail" id="state2file/1">

  <div class="detail-header">
    <a href="#state2file/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">state2file(State)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-27.3.4.6/lib/xmerl/src/xmerl_xsd.erl#L160" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> state2file(State :: <a href="#t:global_state/0">global_state</a>()) -> ok | {error, Reason} when Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Equivalent to <a href="#state2file/2"><code class="inline">state2file(State, SchemaName)</code></a>.</p><p><code class="inline">SchemaName</code> is the name of the schema in <code class="inline">State</code>.</p>
  </section>
</section>
<section class="detail" id="state2file/2">

  <div class="detail-header">
    <a href="#state2file/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">state2file(S, FileName)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-27.3.4.6/lib/xmerl/src/xmerl_xsd.erl#L173" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> state2file(<a href="#t:global_state/0">global_state</a>(), FileName :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>()) -> ok | {error, Reason} when Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Save the schema processing state to a file.</p><p>Saves the schema state with all information of the processed schema in a file.
You can provide the file name for the saved state. FileName is saved with the
<code class="inline">.xss</code> extension added.</p>
  </section>
</section>
<section class="detail" id="validate/2">

  <div class="detail-header">
    <a href="#validate/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">validate(Element, State)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-27.3.4.6/lib/xmerl/src/xmerl_xsd.erl#L112" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> validate(Element :: <a href="xmerl.html#t:element/0">xmerl:element</a>(), State :: <a href="#t:global_state/0">global_state</a>()) -> _.</pre>

      </div>

<p>Equivalent to <a href="#validate/3"><code class="inline">validate(Element, State, [])</code></a>.</p>
  </section>
</section>
<section class="detail" id="validate/3">

  <div class="detail-header">
    <a href="#validate/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">validate(Xml, State, Opts)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-27.3.4.6/lib/xmerl/src/xmerl_xsd.erl#L147" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> validate(Element, <a href="#t:global_state/0">global_state</a>(), Options) -> Result
                  when
                      Element :: <a href="xmerl.html#t:xmlElement/0">xmerl:xmlElement</a>(),
                      Options :: <a href="#t:option_list/0">option_list</a>(),
                      Result :: {ValidElement, <a href="#t:global_state/0">global_state</a>()} | {error, Reasons},
                      ValidElement :: <a href="xmerl.html#t:xmlElement/0">xmerl:xmlElement</a>(),
                      Reasons :: [ErrorReason] | ErrorReason,
                      ErrorReason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Validate a parsed well-formed XML element (<code class="inline">Element</code>).</p><p>A call to <a href="#validate/2"><code class="inline">validate/2</code></a> or <a href="#validate/3"><code class="inline">validate/3</code></a> must provide a well formed
parsed XML <a href="xmerl.html#t:xmlElement/0"><code class="inline">Element :: #xmlElement{}</code></a>
and a State, <a href="#t:global_state/0"><code class="inline">global_state/0</code></a>, which holds necessary information
from an already processed schema.  Thus validate enables reuse
of the schema information and therefore if one shall validate
several times towards the same schema it reduces time consumption.</p><p>The result, <code class="inline">ValidElement</code>, is the valid element that conforms to the
post-schema-validation infoset. When the validator finds an error it tries to
continue and reports a list of all errors found. In those cases an unexpected
error is found it may cause a single error reason.</p><p>Usage example:</p><pre><code class="makeup erlang" translate="no"><span class="mi">1</span><span class="o">&gt;</span><span class="p" data-group-id="9768076497-1">{</span><span class="n">E</span><span class="p">,</span><span class="p">_</span><span class="p" data-group-id="9768076497-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">xmerl_scan</span><span class="p">:</span><span class="nf">file</span><span class="p" data-group-id="9768076497-2">(</span><span class="s">&quot;my_XML_document.xml&quot;</span><span class="p" data-group-id="9768076497-2">)</span><span class="p">.</span><span class="w">
</span><span class="mi">2</span><span class="o">&gt;</span><span class="p" data-group-id="9768076497-3">{</span><span class="ss">ok</span><span class="p">,</span><span class="n">S</span><span class="p" data-group-id="9768076497-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">xmerl_xsd</span><span class="p">:</span><span class="nf">process_schema</span><span class="p" data-group-id="9768076497-4">(</span><span class="s">&quot;my_XML_Schema.xsd&quot;</span><span class="p" data-group-id="9768076497-4">)</span><span class="p">.</span><span class="w">
</span><span class="mi">3</span><span class="o">&gt;</span><span class="p" data-group-id="9768076497-5">{</span><span class="n">E2</span><span class="p">,</span><span class="p">_</span><span class="p" data-group-id="9768076497-5">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">xmerl_xsd</span><span class="p">:</span><span class="nf">validate</span><span class="p" data-group-id="9768076497-6">(</span><span class="n">E</span><span class="p">,</span><span class="n">S</span><span class="p" data-group-id="9768076497-6">)</span><span class="p">.</span></code></pre><p>Observe that E2 may differ from E if for instance there are default values
defined in <code class="inline">my_XML_Schema.xsd</code>.</p>
  </section>
</section>

    </div>
  </section>

    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.37.3) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>
<p>Copyright © 1996-2025 <a href="https://www.ericsson.com">Ericsson AB</a></p>
    </footer>
  </div>
</main>
</div>
  <script defer src="https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.min.js"></script>
  <script>
  let initialized = false;

  window.addEventListener("exdoc:loaded", () => {
      if (!initialized) {
      mermaid.initialize({
          startOnLoad: false,
          theme: document.body.className.includes("dark") ? "dark" : "default"
      });
      initialized = true;
      }

      let id = 0;
      for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
          graphEl.innerHTML = svg;
          bindFunctions?.(graphEl);
          preEl.insertAdjacentElement("afterend", graphEl);
          preEl.remove();
      });
      }
  });
  </script>

  </body>
</html>
