<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.37.3">
    <meta name="project" content="inets v9.3.2">


<meta name="exdoc:full-text-search-url" content="/doc/search.html?v=27&q=">
<meta name="major-vsn" content="27">
<link rel="canonical" href="https://www.erlang.org/docs/27/apps/inets/httpd.html" />
    <title>httpd â€” inets v9.3.2</title>

    <link rel="stylesheet" href="dist/html-erlang-FDBURIED.css" />

    <script defer src="dist/sidebar_items-2623356F.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-ALU6OERS.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="../../index.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="inets" />
        </a>

      <div>
        <a href="../../index.html" class="sidebar-projectName" translate="no">
inets
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v9.3.2
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-behaviour" id="main" data-type="modules">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of inets</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>
      <span translate="no">httpd</span> <small>behaviour</small>
      <small class="app-vsn" translate="no">(inets v9.3.2)</small>

    </h1>

      <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/inets/src/http_server/httpd.erl#L22" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


    <section id="moduledoc">
<p>HTTP server API</p><p>An implementation of an HTTP 1.1 compliant web server, as defined in
<a href="http://www.ietf.org/rfc/rfc2616.txt">RFC 2616</a>. Provides web server start
options, administrative functions, and an Erlang callback API.</p><h2 id="module-data-types" class="section-heading">
  <a href="#module-data-types" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Data types</span>
</h2>
<p>Type definitions that are used more than once in this module:</p><p><code class="inline">boolean() = true | false</code></p><p><a href="../../apps/erts/erlang.html#t:string/0"><code class="inline">string/0</code></a> = list of ASCII characters</p><p><code class="inline">path() = string()</code> representing a file or a directory path</p><p><code class="inline">ip_address() = {N1,N2,N3,N4} % IPv4 | {K1,K2,K3,K4,K5,K6,K7,K8} % IPv6</code></p><p><code class="inline">hostname() = string()</code> representing a host, for example, &quot;foo.bar.com&quot;</p><p><code class="inline">property() = atom()</code></p><h2 id="module-http-server-service-start-stop" class="section-heading">
  <a href="#module-http-server-service-start-stop" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">HTTP server service start &amp; stop</span>
</h2>
<p>A web server can be configured to start when starting the <code class="inline">Inets</code> application,
or dynamically in runtime by calling the <code class="inline">Inets</code> application API
<code class="inline">inets:start(httpd, ServiceConfig)</code> or <code class="inline">inets:start(httpd, ServiceConfig, How)</code>,
see <a href="inets.html"><code class="inline">inets</code></a>. The configuration options, also called properties, are as
follows:</p><p><a href="" id="props_file"></a></p><h3 id="module-file-properties" class="section-heading">
  <a href="#module-file-properties" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">File Properties</span>
</h3>
<p>When the web server is started at application start time, the properties are to
be fetched from a configuration file that can consist of a regular Erlang
property list, that is, <code class="inline">[{Option, Value}]</code>, where <code class="inline">Option = property()</code>and
<code class="inline">Value = term()</code>, followed by a full stop. If the web server is started
dynamically at runtime, a file can still be specified but also the complete
property list.</p><ul><li><a href="" id="prop_proplist_file"></a> <strong><code class="inline">{proplist_file, path()}</code></strong><br/>If this property is defined, <code class="inline">Inets</code> expects to find all other properties
defined in this file. The file must include all properties listed under
mandatory properties.</li></ul><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>Note support for legacy configuration file with Apache syntax is dropped in
OTP-23.</p></section><p><a href="" id="props_mand"></a></p><h3 id="module-mandatory-properties" class="section-heading">
  <a href="#module-mandatory-properties" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Mandatory Properties</span>
</h3>
<ul><li><p><a href="" id="prop_port"></a> <strong><code class="inline">{port, integer()}</code></strong><br/>The port that the HTTP server listen to. If zero is specified as port, an
arbitrary available port is picked and function <a href="#info/2"><code class="inline">httpd:info/2</code></a> can be used to
determine which port was picked.</p></li><li><p><a href="" id="prop_server_root"></a> <strong><code class="inline">{server_root, path()}</code></strong><br/>Defines the home directory of the server, where log files, and so on, can be
stored. Relative paths specified in other properties refer to this directory.</p></li><li><p><a href="" id="prop_doc_root"></a> <strong><code class="inline">{document_root, path()}</code></strong><br/>Defines the top directory for the documents that are available on the HTTP
server.</p></li></ul><p><a href="" id="props_comm"></a></p><h3 id="module-communication-properties" class="section-heading">
  <a href="#module-communication-properties" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Communication Properties</span>
</h3>
<ul><li><p><a href="" id="prop_bind_address"></a> <strong><code class="inline">{bind_address, ip_address() | hostname() | any}</code></strong><br/>Default is <code class="inline">any</code></p></li><li><p><a href="" id="prop_server_name"></a> <strong><code class="inline">{server_name, string()}</code></strong><br/>The name of your server, normally a fully qualified domain name.</p><p>If not given, this defaults to <code class="inline">net_adm:localhost()</code>.</p></li><li><p><a href="" id="profile"></a> <strong><code class="inline">{profile, atom()}</code></strong><br/>Used together with <a href="httpd.html#prop_bind_address"><code class="inline">bind_address</code></a> and
<a href="httpd.html#prop_port"><code class="inline">port</code></a> to uniquely identify a HTTP server. This can be
useful in a virtualized environment, where there can be more that one server
that has the same bind_address and port. If this property is not explicitly
set, it is assumed that the <a href="httpd.html#prop_bind_address"><code class="inline">bind_address</code></a> and
<a href="httpd.html#prop_port"><code class="inline">port</code></a> uniquely identifies the HTTP server.</p></li><li><p><a href="" id="prop_socket_type"></a> <strong><code class="inline">{socket_type, ip_comm | {ip_comm, Config::proplist()} | {ssl, Config::proplist()}}</code></strong><br/>For <code class="inline">ip_comm</code> configuration options, see <a href="../../apps/kernel/gen_tcp.html#listen/2"><code class="inline">gen_tcp:listen/2</code></a>, some options that
are used internally by httpd cannot be set.</p><p>For <code class="inline">SSL</code> configuration options, see <a href="../../apps/ssl/ssl.html#listen/2"><code class="inline">ssl:listen/2</code></a>.</p><p>Default is <code class="inline">ip_comm</code>.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>OTP-25 deprecates the communication properties
<code class="inline">{socket_type, ip_comm | {ip_comm, Config::proplist()} | {essl, Config::proplist()}}</code>
replacing it by
<code class="inline">{socket_type, ip_comm | {ip_comm, Config::proplist()} | {ssl, Config::proplist()}}</code>.</p></section></li><li><p><a href="" id="prop_ipfamily"></a> <strong><code class="inline">{ipfamily, inet | inet6}</code></strong><br/>Default is <code class="inline">inet</code>, legacy option <code class="inline">inet6fb4</code> no longer makes sense and will be
translated to inet.</p></li><li><p><a href="" id="prop_minimum_bytes_per_second"></a> <strong><code class="inline">{minimum_bytes_per_second, integer()}</code></strong><br/>If given, sets a minimum of bytes per second value for connections.</p><p>If the value is unreached, the socket closes for that connection.</p><p>The option is good for reducing the risk of &quot;slow DoS&quot; attacks.</p></li></ul><p><a href="" id="props_api_modules"></a></p><h3 id="module-erlang-web-server-api-modules" class="section-heading">
  <a href="#module-erlang-web-server-api-modules" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Erlang Web Server API Modules</span>
</h3>
<ul><li><a href="" id="prop_modules"></a> <strong><code class="inline">{modules, [atom()]}</code></strong><br/>Defines which modules the HTTP server uses when handling requests. Default is
<code class="inline">[mod_alias, mod_auth, mod_esi, mod_actions, mod_cgi, mod_dir, mod_get, mod_head, mod_log, mod_disk_log]</code>.
Notice that some <code class="inline">mod</code>-modules are dependent on others, so the order cannot
be entirely arbitrary. See the <a href="http_server.html">Inets Web Server Modules</a> in
the User's Guide for details.</li></ul><p><a href="" id="props_limit"></a></p><h3 id="module-limit-properties" class="section-heading">
  <a href="#module-limit-properties" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Limit properties</span>
</h3>
<ul><li><p><a href="" id="prop_customize"></a> <strong><code class="inline">{customize, atom()}</code></strong><br/>A callback module to customize the inets HTTP servers behaviour see
<a href="httpd_custom_api.html"><code class="inline">httpd_custom_api</code></a></p></li><li><p><a href="" id="prop_disable_chunked_encoding"></a>
<strong><code class="inline">{disable_chunked_transfer_encoding_send, boolean()}</code></strong><br/>Allows you to disable chunked transfer-encoding when sending a response to an
HTTP/1.1 client. Default is <code class="inline">false</code>.</p></li><li><p><a href="" id="prop_keep_alive"></a> <strong><code class="inline">{keep_alive, boolean()}</code></strong><br/>Instructs the server whether to use persistent connections when the client
claims to be HTTP/1.1 compliant. Default is <code class="inline">true</code>.</p></li><li><p><a href="" id="prop_keep_alive_timeout"></a> <strong><code class="inline">{keep_alive_timeout, integer()}</code></strong><br/>The number of seconds the server waits for a subsequent request from the
client before closing the connection. Default is <code class="inline">150</code>.</p></li><li><p><a href="" id="prop_max_body_size"></a> <strong><code class="inline">{max_body_size, integer()}</code></strong><br/>Limits the size of the message body of an HTTP request. Default is no limit.</p></li><li><p><a href="" id="prop_max_clients"></a> <strong><code class="inline">{max_clients, integer()}</code></strong><br/>Limits the number of simultaneous requests that can be supported. Default is
<code class="inline">150</code>.</p></li><li><p><a href="" id="prop_max_header_size"></a> <strong><code class="inline">{max_header_size, integer()}</code></strong><br/>Limits the size of the message header of an HTTP request. Default is <code class="inline">10240</code>.</p></li><li><p><a href="" id="prop_max_content_length"></a> <strong><code class="inline">{max_content_length, integer()}</code></strong><br/>Maximum content-length in an incoming request, in bytes. Requests with content
larger than this are answered with status 413. Default is <code class="inline">100000000</code> (100
MB).</p></li><li><p><a href="" id="prop_max_uri"></a> <strong><code class="inline">{max_uri_size, integer()}</code></strong><br/>Limits the size of the HTTP request URI. Default is no limit.</p></li><li><p><a href="" id="prop_max_keep_alive_req"></a> <strong><code class="inline">{max_keep_alive_request, integer()}</code></strong><br/>The number of requests that a client can do on one connection. When the server
has responded to the number of requests defined by <code class="inline">max_keep_alive_requests</code>,
the server closes the connection. The server closes it even if there are
queued request. Default is no limit.</p></li><li><p><a href="" id="max_client_body_chunk"></a> <strong><code class="inline">{max_client_body_chunk, integer()}</code></strong><br/>Enforces chunking of a HTTP PUT or POST body data to be delivered to the
mod_esi callback. Note this is not supported for mod_cgi. Default is no limit
e.i the whole body is delivered as one entity, which could be very memory
consuming. <a href="mod_esi.html"><code class="inline">mod_esi</code></a>.</p></li></ul><p><a href="" id="props_admin"></a></p><h3 id="module-administrative-properties" class="section-heading">
  <a href="#module-administrative-properties" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Administrative Properties</span>
</h3>
<ul><li><p><a href="" id="prop_mime_types"></a> <strong><code class="inline">{mime_types, [{MimeType, Extension}] | path()}</code></strong><br/><code class="inline">MimeType = string()</code> and <code class="inline">Extension = string()</code>. Files delivered to the
client are MIME typed according to RFC 1590. File suffixes are mapped to MIME
types before file delivery. The mapping between file suffixes and MIME types
can be specified in the property list.</p><p>Mime types can also be read from a file. The file should contain lines in the
form <code class="inline">MediaType [Extensions...]</code>, such as <code class="inline">text/html html htm</code>. To configure
this, specify the path to it, such as <code class="inline">{mime_types, &quot;/etc/mime.types&quot;}</code>.</p><p>If unset, <code class="inline">conf/mime.types</code> under <code class="inline">server_root</code> will be used if it exists,
otherwise, the default is <code class="inline">[{&quot;html&quot;,&quot;text/html&quot;},{&quot;htm&quot;,&quot;text/html&quot;}]</code>.</p></li><li><p><a href="" id="prop_mime_type"></a> <strong><code class="inline">{mime_type, string()}</code></strong><br/>When the server is asked to provide a document type that cannot be determined
by the MIME Type Settings, the server uses this default type.</p></li><li><p><a href="" id="prop_server_admin"></a> <strong><code class="inline">{server_admin, string()}</code></strong><br/>Defines the email-address of the server administrator to be included in any
error messages returned by the server.</p></li><li><p><a href="" id="prop_server_tokens"></a> <strong><code class="inline">{server_tokens, none|prod|major|minor|minimal|os|full|{private, string()}}</code></strong><br/>Defines the look of the value of the server header.</p><p>Example: Assuming the version of <code class="inline">Inets</code> is 5.8.1, the server header string
can look as follows for the different values of server-tokens:</p><ul><li><p><strong><code class="inline">none</code></strong> - &quot;&quot; % A Server: header will not be generated</p></li><li><p><strong><code class="inline">prod</code></strong> - &quot;inets&quot;</p></li><li><p><strong><code class="inline">major</code></strong> - &quot;inets/5&quot;</p></li><li><p><strong><code class="inline">minor</code></strong> - &quot;inets/5.8&quot;</p></li><li><p><strong><code class="inline">minimal</code></strong> - &quot;inets/5.8.1&quot;</p></li><li><p><strong><code class="inline">os</code></strong> - &quot;inets/5.8.1 (unix)&quot;</p></li><li><p><strong><code class="inline">full</code></strong> - &quot;inets/5.8.1 (unix/linux) OTP/R15B&quot;</p></li><li><p><strong><code class="inline">{private, &quot;foo/bar&quot;}</code></strong> - &quot;foo/bar&quot;</p></li></ul><p>By default, the value is as before, that is, <code class="inline">minimal</code>.</p></li><li><p><a href="" id="prop_logger"></a> <strong><code class="inline">{logger, Options::list()}</code></strong><br/>Currently only one option is supported:</p><ul><li><p><strong><code class="inline">{error, ServerID::atom()}</code></strong> - Produces
<a href="../../apps/kernel/logger.html#t:log_event/0">logger events</a> on logger
<a href="../../apps/kernel/logger.html#t:level/0">level error</a> under the hierarchical logger
<a href="../../apps/kernel/logger.html#t:log_event/0">domain:</a> <code class="inline">[otp, inets, httpd, ServerID, error]</code> The
built in logger formatting function produces log entries from the error
reports:</p><pre><code class="makeup c" translate="no"><span class="err">#</span><span class="p" data-group-id="8952487814-1">{</span><span class="n">server_name</span><span class="w"> </span><span class="o">=</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">string</span><span class="p" data-group-id="8952487814-2">(</span><span class="p" data-group-id="8952487814-2">)</span><span class="w">
  </span><span class="n">protocol</span><span class="w"> </span><span class="o">=</span><span class="o">&gt;</span><span class="w"> </span><span class="n">internal</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">&#39;</span><span class="no">TCP</span><span class="err">&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">&#39;</span><span class="no">TLS</span><span class="err">&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">&#39;</span><span class="no">HTTP</span><span class="err">&#39;</span><span class="p">,</span><span class="w">
  </span><span class="n">transport</span><span class="w"> </span><span class="o">=</span><span class="o">&gt;</span><span class="w"> </span><span class="s">&quot;TCP&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&quot;TLS&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">%</span><span class="o">%</span><span class="w"> </span><span class="no">Present</span><span class="w"> </span><span class="n">when</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">&#39;</span><span class="no">HTTP</span><span class="err">&#39;</span><span class="w">
  </span><span class="n">uri</span><span class="w"> </span><span class="o">=</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">string</span><span class="p" data-group-id="8952487814-3">(</span><span class="p" data-group-id="8952487814-3">)</span><span class="p">,</span><span class="w"> </span><span class="o">%</span><span class="o">%</span><span class="w"> </span><span class="no">Present</span><span class="w"> </span><span class="n">when</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">&#39;</span><span class="no">HTTP</span><span class="err">&#39;</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="no">URI</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">valid</span><span class="w">
  </span><span class="n">peer</span><span class="w"> </span><span class="o">=</span><span class="o">&gt;</span><span class="w"> </span><span class="n">inet</span><span class="o">:</span><span class="nf">peername</span><span class="p" data-group-id="8952487814-4">(</span><span class="p" data-group-id="8952487814-4">)</span><span class="p">,</span><span class="w">
  </span><span class="n">host</span><span class="w"> </span><span class="o">=</span><span class="o">&gt;</span><span class="w"> </span><span class="n">inet</span><span class="o">:</span><span class="nf">hostname</span><span class="p" data-group-id="8952487814-5">(</span><span class="p" data-group-id="8952487814-5">)</span><span class="p">,</span><span class="w">
  </span><span class="n">reason</span><span class="w"> </span><span class="o">=</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">term</span><span class="p" data-group-id="8952487814-6">(</span><span class="p" data-group-id="8952487814-6">)</span><span class="w">
</span><span class="p" data-group-id="8952487814-1">}</span></code></pre><p>An example of a log entry with only default settings of logger</p><pre><code class="text">=ERROR REPORT==== 9-Oct-2019::09:33:27.350235 ===
   Server: My Server
 Protocol: HTTP
Transport: TLS
      URI: /not_there
     Host: 127.0.1.1:80
     Peer: 127.0.0.1:45253
   Reason: [{statuscode,404},{description,&quot;Object Not Found&quot;}]</code></pre><p>Using this option makes mod_log and mod_disk_log error logs redundant.</p><p>Add the filter</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="5617009443-1">{</span><span class="k">fun</span><span class="w"> </span><span class="nc">logger_filters</span><span class="p">:</span><span class="ss">domain</span><span class="p">/</span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="p" data-group-id="5617009443-2">{</span><span class="ss">log</span><span class="p">,</span><span class="ss">equal</span><span class="p">,</span><span class="p" data-group-id="5617009443-3">[</span><span class="ss">otp</span><span class="p">,</span><span class="ss">inets</span><span class="p">,</span><span class="w"> </span><span class="ss">httpd</span><span class="p">,</span><span class="w"> </span><span class="n">ServerID</span><span class="p">,</span><span class="w"> </span><span class="ss">error</span><span class="p" data-group-id="5617009443-3">]</span><span class="p" data-group-id="5617009443-2">}</span></code></pre><p>to appropriate logger handler to handle the events. For example to write the
error log from an httpd server with a <code class="inline">ServerID</code> of <code class="inline">my_server</code> to a file
you can use the following sys.config:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="5340469680-1">[</span><span class="p" data-group-id="5340469680-2">{</span><span class="ss">kernel</span><span class="p">,</span><span class="w">
 </span><span class="p" data-group-id="5340469680-3">[</span><span class="p" data-group-id="5340469680-4">{</span><span class="ss">logger</span><span class="p">,</span><span class="w">
  </span><span class="p" data-group-id="5340469680-5">[</span><span class="p" data-group-id="5340469680-6">{</span><span class="ss">handler</span><span class="p">,</span><span class="w"> </span><span class="ss">http_error_test</span><span class="p">,</span><span class="w"> </span><span class="ss">logger_std_h</span><span class="p">,</span><span class="w">
    </span><span class="p" data-group-id="5340469680-7">#{</span><span class="ss">config</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p" data-group-id="5340469680-8">#{</span><span class="w"> </span><span class="ss">file</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;log/http_error.log&quot;</span><span class="w"> </span><span class="p" data-group-id="5340469680-8">}</span><span class="p">,</span><span class="w">
      </span><span class="ss">filters</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p" data-group-id="5340469680-9">[</span><span class="p" data-group-id="5340469680-10">{</span><span class="ss">inets_httpd</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5340469680-11">{</span><span class="k">fun</span><span class="w"> </span><span class="nc">logger_filters</span><span class="p">:</span><span class="ss">domain</span><span class="p">/</span><span class="mi">2</span><span class="p">,</span><span class="w">
                                 </span><span class="p" data-group-id="5340469680-12">{</span><span class="ss">log</span><span class="p">,</span><span class="w"> </span><span class="ss">equal</span><span class="p">,</span><span class="w">
                                  </span><span class="p" data-group-id="5340469680-13">[</span><span class="ss">otp</span><span class="p">,</span><span class="w"> </span><span class="ss">inets</span><span class="p">,</span><span class="w"> </span><span class="ss">httpd</span><span class="p">,</span><span class="w"> </span><span class="ss">my_server</span><span class="p">,</span><span class="w"> </span><span class="ss">error</span><span class="p" data-group-id="5340469680-13">]</span><span class="w">
                                 </span><span class="p" data-group-id="5340469680-12">}</span><span class="p" data-group-id="5340469680-11">}</span><span class="p" data-group-id="5340469680-10">}</span><span class="p" data-group-id="5340469680-9">]</span><span class="p">,</span><span class="w">
      </span><span class="ss">filter_default</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ss">stop</span><span class="w"> </span><span class="p" data-group-id="5340469680-7">}</span><span class="p" data-group-id="5340469680-6">}</span><span class="p" data-group-id="5340469680-5">]</span><span class="p" data-group-id="5340469680-4">}</span><span class="p" data-group-id="5340469680-3">]</span><span class="p" data-group-id="5340469680-2">}</span><span class="p" data-group-id="5340469680-1">]</span><span class="p">.</span></code></pre><p>or if you want to add it to the default logger via an API:</p><pre><code class="makeup erlang" translate="no"><span class="nc">logger</span><span class="p">:</span><span class="nf">add_handler_filter</span><span class="p" data-group-id="1271977806-1">(</span><span class="ss">default</span><span class="p">,</span><span class="w">
                          </span><span class="ss">inets_httpd</span><span class="p">,</span><span class="w">
                          </span><span class="p" data-group-id="1271977806-2">{</span><span class="k">fun</span><span class="w"> </span><span class="nc">logger_filters</span><span class="p">:</span><span class="ss">domain</span><span class="p">/</span><span class="mi">2</span><span class="p">,</span><span class="w">
                           </span><span class="p" data-group-id="1271977806-3">{</span><span class="ss">log</span><span class="p">,</span><span class="w"> </span><span class="ss">equal</span><span class="p">,</span><span class="w">
                            </span><span class="p" data-group-id="1271977806-4">[</span><span class="ss">otp</span><span class="p">,</span><span class="w"> </span><span class="ss">inets</span><span class="p">,</span><span class="w"> </span><span class="ss">httpd</span><span class="p">,</span><span class="w"> </span><span class="ss">my_server</span><span class="p">,</span><span class="w"> </span><span class="ss">error</span><span class="p" data-group-id="1271977806-4">]</span><span class="p" data-group-id="1271977806-3">}</span><span class="p" data-group-id="1271977806-2">}</span><span class="p" data-group-id="1271977806-1">)</span><span class="p">.</span></code></pre></li></ul></li><li><p><a href="" id="prop_log_format"></a> <strong><code class="inline">{log_format, common | combined}</code></strong><br/>Defines if access logs are to be written according to the <code class="inline">common</code> log format
or the extended common log format. The <code class="inline">common</code> format is one line looking
like this: <code class="inline">remotehost rfc931 authuser [date] &quot;request&quot; status bytes</code>.</p><p>Here:</p><ul><li><p><strong><code class="inline">remotehost</code></strong> - Remote.</p></li><li><p><strong><code class="inline">rfc931</code></strong> - The remote username of the client
(<a href="http://www.ietf.org/rfc/rfc931.txt">RFC 931</a>).</p></li><li><p><strong><code class="inline">authuser</code></strong> - The username used for authentication.</p></li><li><p><strong><code class="inline">[date]</code></strong> - Date and time of the request
(<a href="http://www.ietf.org/rfc/rfc1123.txt">RFC 1123</a>).</p></li><li><p><strong><code class="inline">&quot;request&quot;</code></strong> - The request line as it came from the client
(<a href="http://www.ietf.org/rfc/rfc1945.txt">RFC 1945</a>).</p></li><li><p><strong><code class="inline">status</code></strong> - The HTTP status code returned to the client
(<a href="http://www.ietf.org/rfc/rfc1945.txt">RFC 1945</a>).</p></li><li><p><strong><code class="inline">bytes</code></strong> - The content-length of the document transferred.</p></li></ul><p>The <code class="inline">combined</code> format is one line looking like this:
<code class="inline">remotehost rfc931 authuser [date] &quot;request&quot; status bytes &quot;referer&quot; &quot;user_agent&quot;</code></p><p>In addition to the earlier:</p><ul><li><p><strong><code class="inline">&quot;referer&quot;</code></strong> - The URL the client was on before requesting the URL (if it
could not be determined, a minus sign is placed in this field).</p></li><li><p><strong><code class="inline">&quot;user_agent&quot;</code></strong> - The software the client claims to be using (if it could
not be determined, a minus sign is placed in this field).</p></li></ul><p>This affects the access logs written by <code class="inline">mod_log</code> and <code class="inline">mod_disk_log</code>.</p></li><li><p><a href="" id="prop_elog_format"></a> <strong><code class="inline">{error_log_format, pretty | compact}</code></strong><br/>Default is <code class="inline">pretty</code>. If the error log is meant to be read directly by a human,
<code class="inline">pretty</code> is the best option.</p><p><code class="inline">pretty</code> has a format corresponding to:</p><pre><code class="makeup erlang" translate="no"><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="3603999758-1">(</span><span class="s">&quot;[</span><span class="si">~s</span><span class="s">] </span><span class="si">~s</span><span class="s">, reason: </span><span class="si">~n</span><span class="s"> </span><span class="si">~p</span><span class="s"> </span><span class="si">~n</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3603999758-2">[</span><span class="n">Date</span><span class="p">,</span><span class="w"> </span><span class="n">Msg</span><span class="p">,</span><span class="w"> </span><span class="n">Reason</span><span class="p" data-group-id="3603999758-2">]</span><span class="p" data-group-id="3603999758-1">)</span><span class="p">.</span></code></pre><p><code class="inline">compact</code> has a format corresponding to:</p><pre><code class="makeup erlang" translate="no"><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="8019074378-1">(</span><span class="s">&quot;[</span><span class="si">~s</span><span class="s">] </span><span class="si">~s</span><span class="s">, reason: </span><span class="si">~w</span><span class="s"> </span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8019074378-2">[</span><span class="n">Date</span><span class="p">,</span><span class="w"> </span><span class="n">Msg</span><span class="p">,</span><span class="w"> </span><span class="n">Reason</span><span class="p" data-group-id="8019074378-2">]</span><span class="p" data-group-id="8019074378-1">)</span><span class="p">.</span></code></pre><p>This affects the error logs written by <code class="inline">mod_log</code> and <code class="inline">mod_disk_log</code>.</p></li></ul><p><a href="" id="props_alias"></a></p><h3 id="module-url-aliasing-properties-requires-mod_alias" class="section-heading">
  <a href="#module-url-aliasing-properties-requires-mod_alias" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">URL Aliasing Properties - Requires mod_alias</span>
</h3>
<ul><li><p><a href="" id="prop_alias"></a> <strong><code class="inline">{alias, {Alias, RealName}}</code></strong><br/><code class="inline">Alias = string()</code> and <code class="inline">RealName = string()</code>. <code class="inline">alias</code> allows documents to be
stored in the local file system instead of the <code class="inline">document_root</code> location. URLs
with a path beginning with url-path is mapped to local files beginning with
directory-filename, for example:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="3577056976-1">{</span><span class="ss">alias</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3577056976-2">{</span><span class="s">&quot;/image&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/ftp/pub/image&quot;</span><span class="p" data-group-id="3577056976-2">}</span><span class="p" data-group-id="3577056976-1">}</span></code></pre><p>Access to <a href="http://your.server.org/image/foo.gif">http://your.server.org/image/foo.gif</a> would refer to the file
/ftp/pub/image/foo.gif.</p></li><li><p><a href="" id="prop_re_write"></a> <strong><code class="inline">{re_write, {Re, Replacement}}</code></strong><br/><code class="inline">Re = string()</code> and <code class="inline">Replacement = string()</code>. <code class="inline">re_write</code> allows documents to
be stored in the local file system instead of the <code class="inline">document_root</code> location.
URLs are rewritten by <a href="../../apps/stdlib/re.html#replace/3"><code class="inline">re:replace/3</code></a> to produce a path in the local
file-system, for example:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="5831409328-1">{</span><span class="ss">re_write</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5831409328-2">{</span><span class="s">&quot;^/[~]([^/]+)(.*)$&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/home/\\1/public\\2&quot;</span><span class="p" data-group-id="5831409328-2">}</span><span class="p" data-group-id="5831409328-1">}</span></code></pre><p>Access to <a href="http://your.server.org/~bob/foo.gif">http://your.server.org/~bob/foo.gif</a> would refer to the file
/home/bob/public/foo.gif.</p></li><li><p><a href="" id="prop_dir_idx"></a> <strong><code class="inline">{directory_index, [string()]}</code></strong><br/><code class="inline">directory_index</code> specifies a list of resources to look for if a client
requests a directory using a <code class="inline">/</code> at the end of the directory name. <code class="inline">file</code>
depicts the name of a file in the directory. Several files can be given, in
which case the server returns the first it finds, for example:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="0645826337-1">{</span><span class="ss">directory_index</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0645826337-2">[</span><span class="s">&quot;index.html&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;welcome.html&quot;</span><span class="p" data-group-id="0645826337-2">]</span><span class="p" data-group-id="0645826337-1">}</span></code></pre><p>Access to <a href="http://your.server.org/docs/">http://your.server.org/docs/</a> would return
<a href="http://your.server.org/docs/index.html">http://your.server.org/docs/index.html</a> or
<a href="http://your.server.org/docs/welcome.html">http://your.server.org/docs/welcome.html</a> if index.html does not exist.</p></li></ul><p><a href="" id="props_cgi"></a></p><h3 id="module-cgi-properties-requires-mod_cgi" class="section-heading">
  <a href="#module-cgi-properties-requires-mod_cgi" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">CGI Properties - Requires mod_cgi</span>
</h3>
<ul><li><p><a href="" id="prop_script_alias"></a> <strong><code class="inline">{script_alias, {Alias, RealName}}</code></strong><br/><code class="inline">Alias = string()</code> and <code class="inline">RealName = string()</code>. Have the same behavior as
property <code class="inline">alias</code>, except that they also mark the target directory as
containing CGI scripts. URLs with a path beginning with url-path are mapped to
scripts beginning with directory-filename, for example:</p><pre><code class="text">{script_alias, {&quot;/cgi-bin/&quot;, &quot;/web/cgi-bin/&quot;}}</code></pre><p>Access to <a href="http://your.server.org/cgi-bin/foo">http://your.server.org/cgi-bin/foo</a> would cause the server to run the
script /web/cgi-bin/foo.</p></li><li><p><a href="" id="prop_script_re_write"></a> <strong><code class="inline">{script_re_write, {Re, Replacement}}</code></strong><br/><code class="inline">Re = string()</code> and <code class="inline">Replacement = string()</code>. Have the same behavior as
property <code class="inline">re_write</code>, except that they also mark the target directory as
containing CGI scripts. URLs with a path beginning with url-path are mapped to
scripts beginning with directory-filename, for example:</p><pre><code class="text">{script_re_write, {&quot;^/cgi-bin/(\\d+)/&quot;, &quot;/web/\\1/cgi-bin/&quot;}}</code></pre><p>Access to <a href="http://your.server.org/cgi-bin/17/foo">http://your.server.org/cgi-bin/17/foo</a> would cause the server to run
the script /web/17/cgi-bin/foo.</p></li><li><p><a href="" id="prop_script_nocache"></a> <strong><code class="inline">{script_nocache, boolean()}</code></strong><br/>If <code class="inline">script_nocache</code> is set to <code class="inline">true</code>, the HTTP server by default adds the
header fields necessary to prevent proxies from caching the page. Generally
this is preferred. Default to <code class="inline">false</code>.</p></li><li><p><a href="" id="prop_script_timeout"></a> <strong><code class="inline">{script_timeout, integer()}</code></strong><br/>The time in seconds the web server waits between each chunk of data from the
script. If the CGI script does not deliver any data before the timeout, the
connection to the client is closed. Default is <code class="inline">15</code>.</p></li><li><p><a href="" id="prop_action"></a> <strong><code class="inline">{action, {MimeType, CgiScript}}</code></strong> - requires <code class="inline">mod_actions</code><br/><code class="inline">MimeType = string()</code> and <code class="inline">CgiScript = string()</code>. <code class="inline">action</code> adds an action
activating a CGI script whenever a file of a certain MIME type is requested.
It propagates the URL and file path of the requested document using the
standard CGI PATH_INFO and PATH_TRANSLATED environment variables.</p><p>Example:</p><pre><code class="text">{action, {&quot;text/plain&quot;, &quot;/cgi-bin/log_and_deliver_text&quot;}}</code></pre></li><li><p><a href="" id="prop_script"></a> <strong><code class="inline">{script, {Method, CgiScript}}</code></strong> - requires <code class="inline">mod_actions</code><br/><code class="inline">Method = string()</code> and <code class="inline">CgiScript = string()</code>. <code class="inline">script</code> adds an action
activating a CGI script whenever a file is requested using a certain HTTP
method. The method is either GET or POST, as defined in
<a href="http://www.ietf.org/rfc/rfc1945.txt">RFC 1945</a>. It propagates the URL and
file path of the requested document using the standard CGI PATH_INFO and
PATH_TRANSLATED environment variables.</p><p>Example:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="8791350768-1">{</span><span class="ss">script</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8791350768-2">{</span><span class="s">&quot;PUT&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/cgi-bin/put&quot;</span><span class="p" data-group-id="8791350768-2">}</span><span class="p" data-group-id="8791350768-1">}</span></code></pre></li></ul><p><a href="" id="props_esi"></a></p><h3 id="module-esi-properties-requires-mod_esi" class="section-heading">
  <a href="#module-esi-properties-requires-mod_esi" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">ESI Properties - Requires mod_esi</span>
</h3>
<ul><li><p><a href="" id="prop_esi_alias"></a> <strong><code class="inline">{erl_script_alias, {URLPath, [AllowedModule]}}</code></strong><br/><code class="inline">URLPath = string()</code> and <code class="inline">AllowedModule = atom()</code>. <code class="inline">erl_script_alias</code> marks
all URLs matching url-path as erl scheme scripts. A matching URL is mapped
into a specific module and function, for example:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="3548283529-1">{</span><span class="ss">erl_script_alias</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3548283529-2">{</span><span class="s">&quot;/cgi-bin/example&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3548283529-3">[</span><span class="ss">httpd_example</span><span class="p" data-group-id="3548283529-3">]</span><span class="p" data-group-id="3548283529-2">}</span><span class="p" data-group-id="3548283529-1">}</span></code></pre><p>A request to <a href="http://your.server.org/cgi-bin/example/httpd_example:yahoo">http://your.server.org/cgi-bin/example/httpd_example:yahoo</a> would
refer to httpd_example:yahoo/3 or, if that does not exist,
httpd_example:yahoo/2 and <a href="http://your.server.org/cgi-bin/example/other:yahoo">http://your.server.org/cgi-bin/example/other:yahoo</a>
would not be allowed to execute.</p></li><li><p><a href="" id="prop_esi_nocache"></a> <strong><code class="inline">{erl_script_nocache, boolean()}</code></strong><br/>If <code class="inline">erl_script_nocache</code> is set to <code class="inline">true</code>, the server adds HTTP header fields
preventing proxies from caching the page. This is generally a good idea for
dynamic content, as the content often varies between each request. Default is
<code class="inline">false</code>.</p></li><li><p><a href="" id="prop_esi_timeout"></a> <strong><code class="inline">{erl_script_timeout, integer()}</code></strong><br/>If <code class="inline">erl_script_timeout</code> sets the time in seconds the server waits between each
chunk of data to be delivered through <a href="mod_esi.html#deliver/2"><code class="inline">mod_esi:deliver/2</code></a>. Default is <code class="inline">15</code>.
This is only relevant for scripts that use the erl scheme.</p></li></ul><p><a href="" id="props_log"></a></p><h3 id="module-log-properties-requires-mod_log" class="section-heading">
  <a href="#module-log-properties-requires-mod_log" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Log Properties - Requires mod_log</span>
</h3>
<ul><li><p><a href="" id="prop_elog"></a> <strong><code class="inline">{error_log, path()}</code></strong><br/>Defines the filename of the error log file to be used to log server errors. If
the filename does not begin with a slash (/), it is assumed to be relative to
the <code class="inline">server_root</code>.</p></li><li><p><a href="" id="prop_slog"></a> <strong><code class="inline">{security_log, path()}</code></strong><br/>Defines the filename of the access log file to be used to log security events.
If the filename does not begin with a slash (/), it is assumed to be relative
to the <code class="inline">server_root</code>.</p></li><li><p><a href="" id="prop_tlog"></a> <strong><code class="inline">{transfer_log, path()}</code></strong><br/>Defines the filename of the access log file to be used to log incoming
requests. If the filename does not begin with a slash (/), it is assumed to be
relative to the <code class="inline">server_root</code>.</p></li></ul><p><a href="" id="props_dlog"></a></p><h3 id="module-disk-log-properties-requires-mod_disk_log" class="section-heading">
  <a href="#module-disk-log-properties-requires-mod_disk_log" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Disk Log Properties - Requires mod_disk_log</span>
</h3>
<ul><li><p><a href="" id="prop_dlog_format"></a> <strong><code class="inline">{disk_log_format, internal | external}</code></strong><br/>Defines the file format of the log files. See <code class="inline">disk_log</code> for details. If the
internal file format is used, the log file is repaired after a crash. When a
log file is repaired, data can disappear. When the external file format is
used, <code class="inline">httpd</code> does not start if the log file is broken. Default is <code class="inline">external</code>.</p></li><li><p><a href="" id="prop_edlog"></a> <strong><code class="inline">{error_disk_log, path()}</code></strong><br/>Defines the filename of the (<a href="../../apps/kernel/disk_log.html"><code class="inline">disk_log</code></a>) error log file to be used to log
server errors. If the filename does not begin with a slash (/), it is assumed
to be relative to the <code class="inline">server_root</code>.</p></li><li><p><a href="" id="prop_edlog_size"></a> <strong><code class="inline">{error_disk_log_size, {MaxBytes, MaxFiles}}</code></strong><br/><code class="inline">MaxBytes = integer()</code> and <code class="inline">MaxFiles = integer()</code>. Defines the properties of
the (<a href="../../apps/kernel/disk_log.html"><code class="inline">disk_log</code></a>) error log file. This file is of type wrap log and max bytes
is written to each file and max files is used before the first file is
truncated and reused.</p></li><li><p><a href="" id="prop_sdlog"></a> <strong><code class="inline">{security_disk_log, path()}</code></strong><br/>Defines the filename of the (<a href="../../apps/kernel/disk_log.html"><code class="inline">disk_log</code></a>) access log file logging incoming
security events, that is, authenticated requests. If the filename does not
begin with a slash (/), it is assumed to be relative to the <code class="inline">server_root</code>.</p></li><li><p><a href="" id="prop_sdlog_size"></a> <strong><code class="inline">{security_disk_log_size, {MaxBytes, MaxFiles}}</code></strong><br/><code class="inline">MaxBytes = integer()</code> and <code class="inline">MaxFiles = integer()</code>. Defines the properties of
the <a href="../../apps/kernel/disk_log.html"><code class="inline">disk_log</code></a> access log file. This file is of type wrap log and max bytes
is written to each file and max files is used before the first file is
truncated and reused.</p></li><li><p><a href="" id="prop_tdlog"></a> <strong><code class="inline">{transfer_disk_log, path()}</code></strong><br/>Defines the filename of the (<a href="../../apps/kernel/disk_log.html"><code class="inline">disk_log</code></a>) access log file logging incoming
requests. If the filename does not begin with a slash (/), it is assumed to be
relative to the <code class="inline">server_root</code>.</p></li><li><p><a href="" id="prop_tdlog_size"></a> <strong><code class="inline">{transfer_disk_log_size, {MaxBytes, MaxFiles}}</code></strong><br/><code class="inline">MaxBytes = integer()</code> and <code class="inline">MaxFiles = integer()</code>. Defines the properties of
the <a href="../../apps/kernel/disk_log.html"><code class="inline">disk_log</code></a> access log file. This file is of type wrap log and max bytes
is written to each file and max files is used before the first file is
truncated and reused.</p></li></ul><p><a href="" id="props_auth"></a></p><h3 id="module-authentication-properties-requires-mod_auth" class="section-heading">
  <a href="#module-authentication-properties-requires-mod_auth" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Authentication Properties - Requires mod_auth</span>
</h3>
<p><a href="" id="prop_dri"></a></p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="3885727164-1">{</span><span class="ss">directory</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3885727164-2">{</span><span class="nf">path</span><span class="p" data-group-id="3885727164-3">(</span><span class="p" data-group-id="3885727164-3">)</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3885727164-4">[</span><span class="p" data-group-id="3885727164-5">{</span><span class="nf">property</span><span class="p" data-group-id="3885727164-6">(</span><span class="p" data-group-id="3885727164-6">)</span><span class="p">,</span><span class="w"> </span><span class="nf">term</span><span class="p" data-group-id="3885727164-7">(</span><span class="p" data-group-id="3885727164-7">)</span><span class="p" data-group-id="3885727164-5">}</span><span class="p" data-group-id="3885727164-4">]</span><span class="p" data-group-id="3885727164-2">}</span><span class="p" data-group-id="3885727164-1">}</span></code></pre><p><a href="" id="props_dir"></a></p><p>The properties for directories are as follows:</p><ul><li><p><a href="" id="prop_allow_from"></a> <strong><code class="inline">{allow_from, all | [RegxpHostString]}</code></strong><br/>Defines a set of hosts to be granted access to a given directory, for example:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="2936127768-1">{</span><span class="ss">allow_from</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2936127768-2">[</span><span class="s">&quot;123.34.56.11&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;150.100.23&quot;</span><span class="p" data-group-id="2936127768-2">]</span><span class="p" data-group-id="2936127768-1">}</span></code></pre><p>The host <code class="inline">123.34.56.11</code> and all machines on the <code class="inline">150.100.23</code> subnet are
allowed access.</p></li><li><p><a href="" id="prop_deny_from"></a> <strong><code class="inline">{deny_from, all | [RegxpHostString]}</code></strong><br/>Defines a set of hosts to be denied access to a given directory, for example:</p><pre><code class="text">{deny_from, [&quot;123.34.56.11&quot;, &quot;150.100.23&quot;]}</code></pre><p>The host <code class="inline">123.34.56.11</code> and all machines on the <code class="inline">150.100.23</code> subnet are not
allowed access.</p></li><li><p><a href="" id="prop_auth_type"></a> <strong><code class="inline">{auth_type, plain | dets | mnesia}</code></strong><br/>Sets the type of authentication database that is used for the directory. The
key difference between the different methods is that dynamic data can be saved
when Mnesia and Dets are used.</p></li><li><p><a href="" id="prop_auth_user_file"></a> <strong><code class="inline">{auth_user_file, path()}</code></strong><br/>Sets the name of a file containing the list of users and passwords for user
authentication. The filename can be either absolute or relative to the
<code class="inline">server_root</code>. If using the plain storage method, this file is a plain text
file where each line contains a username followed by a colon, followed by the
non-encrypted password. If usernames are duplicated, the behavior is
undefined.</p><p>Example:</p><pre><code class="text">ragnar:s7Xxv7
edward:wwjau8</code></pre><p>If the Dets storage method is used, the user database is maintained by Dets
and must not be edited by hand. Use the API functions in module <code class="inline">mod_auth</code> to
create/edit the user database. This directive is ignored if the Mnesia storage
method is used. For security reasons, ensure that <code class="inline">auth_user_file</code> is stored
outside the document tree of the web server. If it is placed in the directory
that it protects, clients can download it.</p></li><li><p><a href="" id="prop_auth_group_file"></a> <strong><code class="inline">{auth_group_file, path()}</code></strong><br/>Sets the name of a file containing the list of user groups for user
authentication. The filename can be either absolute or relative to the
<code class="inline">server_root</code>. If the plain storage method is used, the group file is a plain
text file, where each line contains a group name followed by a colon, followed
by the members usernames separated by spaces.</p><p>Example:</p><pre><code class="text">group1: bob joe ante</code></pre><p>If the Dets storage method is used, the group database is maintained by Dets
and must not be edited by hand. Use the API for module <code class="inline">mod_auth</code> to
create/edit the group database. This directive is ignored if the Mnesia
storage method is used. For security reasons, ensure that the
<code class="inline">auth_group_file</code> is stored outside the document tree of the web server. If it
is placed in the directory that it protects, clients can download it.</p></li><li><p><a href="" id="prop_auth_name"></a> <strong><code class="inline">{auth_name, string()}</code></strong><br/>Sets the name of the authorization realm (auth-domain) for a directory. This
string informs the client about which username and password to use.</p></li><li><p><a href="" id="prop_auth_access_passwd"></a> <strong><code class="inline">{auth_access_password, string()}</code></strong><br/>If set to other than <code class="inline">&quot;NoPassword&quot;</code>, the password is required for all API calls.
If the password is set to <code class="inline">&quot;DummyPassword&quot;</code>, the password must be changed before
any other API calls. To secure the authenticating data, the password must be
changed after the web server is started. Otherwise it is written in clear text
in the configuration file.</p></li><li><p><a href="" id="prop_req_user"></a> <strong><code class="inline">{require_user, [string()]}</code></strong><br/>Defines users to grant access to a given directory using a secret password.</p></li><li><p><a href="" id="prop_req_grp"></a> <strong><code class="inline">{require_group, [string()]}</code></strong><br/>Defines users to grant access to a given directory using a secret password.</p></li></ul><p><a href="" id="props_sec"></a></p><h3 id="module-security-properties-requires-mod_security" class="section-heading">
  <a href="#module-security-properties-requires-mod_security" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Security Properties - Requires mod_security</span>
</h3>
<p><a href="" id="prop_sec_dir"></a></p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="3683949466-1">{</span><span class="ss">security_directory</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3683949466-2">{</span><span class="nf">path</span><span class="p" data-group-id="3683949466-3">(</span><span class="p" data-group-id="3683949466-3">)</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3683949466-4">[</span><span class="p" data-group-id="3683949466-5">{</span><span class="nf">property</span><span class="p" data-group-id="3683949466-6">(</span><span class="p" data-group-id="3683949466-6">)</span><span class="p">,</span><span class="w"> </span><span class="nf">term</span><span class="p" data-group-id="3683949466-7">(</span><span class="p" data-group-id="3683949466-7">)</span><span class="p" data-group-id="3683949466-5">}</span><span class="p" data-group-id="3683949466-4">]</span><span class="p" data-group-id="3683949466-2">}</span><span class="p" data-group-id="3683949466-1">}</span></code></pre><p><a href="" id="props_sdir"></a></p><p>The properties for the security directories are as follows:</p><ul><li><p><a href="" id="prop_data_file"></a> <strong><code class="inline">{data_file, path()}</code></strong><br/>Name of the security data file. The filename can either be absolute or
relative to the <code class="inline">server_root</code>. This file is used to store persistent data for
module <code class="inline">mod_security</code>.</p></li><li><p><a href="" id="prop_max_retries"></a> <strong><code class="inline">{max_retries, integer()}</code></strong><br/>Specifies the maximum number of attempts to authenticate a user before the
user is blocked out. If a user successfully authenticates while blocked, the
user receives a 403 (Forbidden) response from the server. If the user makes a
failed attempt while blocked, the server returns 401 (Unauthorized), for
security reasons. Default is <code class="inline">3</code>. Can be set to infinity.</p></li><li><p><a href="" id="prop_block_time"></a> <strong><code class="inline">{block_time, integer()}</code></strong><br/>Specifies the number of minutes a user is blocked. After this time has passed,
the user automatically regains access. Default is <code class="inline">60</code>.</p></li><li><p><a href="" id="prop_fail_exp_time"></a> <strong><code class="inline">{fail_expire_time, integer()}</code></strong><br/>Specifies the number of minutes a failed user authentication is remembered. If
a user authenticates after this time has passed, the previous failed
authentications are forgotten. Default is <code class="inline">30</code>.</p></li><li><p><a href="" id="prop_auth_timeout"></a> <strong><code class="inline">{auth_timeout, integer()}</code></strong><br/>Specifies the number of seconds a successful user authentication is
remembered. After this time has passed, the authentication is no longer
reported. Default is <code class="inline">30</code>.</p></li></ul><h2 id="module-web-server-api-data-types" class="section-heading">
  <a href="#module-web-server-api-data-types" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Web server API data types</span>
</h2>
<p>The Erlang web server API data types are as follows:</p><pre><code class="makeup erlang" translate="no"><span class="n">ModData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="ss">mod</span><span class="p" data-group-id="1390436753-1">{</span><span class="p" data-group-id="1390436753-1">}</span><span class="w">
</span><span class="w">
</span><span class="p">-</span><span class="na">record</span><span class="p" data-group-id="1390436753-2">(</span><span class="ss">mod</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1390436753-3">{</span><span class="w">
    </span><span class="ss">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="1390436753-4">[</span><span class="p" data-group-id="1390436753-4">]</span><span class="p">,</span><span class="w">
    </span><span class="ss">socket_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">ip_comm</span><span class="p">,</span><span class="w">
    </span><span class="ss">socket</span><span class="p">,</span><span class="w">
    </span><span class="ss">config_db</span><span class="p">,</span><span class="w">
    </span><span class="ss">method</span><span class="p">,</span><span class="w">
    </span><span class="ss">absolute_uri</span><span class="p">,</span><span class="w">
    </span><span class="ss">request_uri</span><span class="p">,</span><span class="w">
    </span><span class="ss">http_version</span><span class="p">,</span><span class="w">
    </span><span class="ss">request_line</span><span class="p">,</span><span class="w">
    </span><span class="ss">parsed_header</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="1390436753-5">[</span><span class="p" data-group-id="1390436753-5">]</span><span class="p">,</span><span class="w">
    </span><span class="ss">entity_body</span><span class="p">,</span><span class="w">
    </span><span class="ss">connection</span><span class="w">
</span><span class="p" data-group-id="1390436753-3">}</span><span class="p" data-group-id="1390436753-2">)</span><span class="p">.</span></code></pre><p>To access the record in your callback-module use:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">include_lib</span><span class="p" data-group-id="0540752111-1">(</span><span class="s">&quot;inets/include/httpd.hrl&quot;</span><span class="p" data-group-id="0540752111-1">)</span><span class="p">.</span></code></pre><p>The fields of record <code class="inline">mod</code> have the following meaning:</p><ul><li><p><strong><code class="inline">data</code></strong> - Type <code class="inline">[{InteractionKey,InteractionValue}]</code> is used to propagate
data between modules. Depicted <code class="inline">interaction_data()</code> in function type
declarations.</p></li><li><p><strong><code class="inline">socket_type</code></strong> - <code class="inline">socket_type()</code> indicates whether it is an IP socket or an
<code class="inline">ssl</code> socket.</p></li><li><p><strong><code class="inline">socket</code></strong> - The socket, in format <code class="inline">ip_comm</code> or <code class="inline">ssl</code>, depending on
<code class="inline">socket_type</code>.</p></li><li><p><strong><code class="inline">config_db</code></strong> - The config file directives stored as key-value tuples in an
ETS table. Depicted <code class="inline">config_db()</code> in function type declarations.</p></li><li><p><strong><code class="inline">method</code></strong> - Type <code class="inline">&quot;GET&quot; | &quot;POST&quot; | &quot;HEAD&quot; | &quot;TRACE&quot;</code>, that is, the HTTP
method.</p></li><li><p><strong><code class="inline">absolute_uri</code></strong> - If the request is an HTTP/1.1 request, the URI can be in
the absolute URI format. In that case, <code class="inline">httpd</code> saves the absolute URI in this
field. An Example of an absolute URI is
<code class="inline">&quot;http://ServerName:Part/cgi-bin/find.pl?person=jocke&quot;</code></p></li><li><p><strong><code class="inline">request_uri</code></strong> - The <code class="inline">Request-URI</code> as defined in
<a href="http://www.ietf.org/rfc/rfc1945.txt">RFC 1945</a>, for example,
<code class="inline">&quot;/cgi-bin/find.pl?person=jocke&quot;</code>.</p></li><li><p><strong><code class="inline">http_version</code></strong> - The <code class="inline">HTTP</code> version of the request, that is, &quot;HTTP/1.0&quot;,
or &quot;HTTP/1.1&quot;.</p></li><li><p><strong><code class="inline">request_line</code></strong> - The <code class="inline">Request-Line</code> as defined
in<a href="http://www.ietf.org/rfc/rfc1945.txt">RFC 1945</a>, for example,
<code class="inline">&quot;GET /cgi-bin/find.pl?person=jocke HTTP/1.0&quot;</code>.</p></li><li><p><strong><code class="inline">parsed_header</code></strong> - Type <code class="inline">[{HeaderKey,HeaderValue}]</code>. <code class="inline">parsed_header</code>
contains all HTTP header fields from the HTTP request stored in a list as
key-value tuples. See <a href="http://www.ietf.org/rfc/rfc2616.txt">RFC 2616</a> for a
listing of all header fields. For example, the date field is stored as
<code class="inline">{&quot;date&quot;,&quot;Wed, 15 Oct 1997 14:35:17 GMT&quot;}</code>. RFC 2616 defines that HTTP is a
case-insensitive protocol and the header fields can be in lower case or upper
case. <code class="inline">httpd</code> ensures that all header field names are in lower case.</p></li><li><p><strong><code class="inline">entity_body</code></strong> - The <code class="inline">entity-Body</code> as defined in
<a href="http://www.ietf.org/rfc/rfc2616.txt">RFC 2616</a>, for example, data sent from a
CGI script using the POST method.</p></li><li><p><strong><code class="inline">connection</code></strong> - <code class="inline">true | false</code>. If set to <code class="inline">true</code>, the connection to the
client is a persistent connection and is not closed when the request is
served.</p></li></ul><h3 id="module-see-also" class="section-heading">
  <a href="#module-see-also" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">See also</span>
</h3>
<p><a href="http://www.ietf.org/rfc/rfc2616.txt">RFC 2616</a>, <a href="inets.html"><code class="inline">inets</code></a>, <a href="../../apps/ssl/ssl.html"><code class="inline">ssl</code></a></p>
    </section>

</div>

  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-types summary">
  <h2>
    <a href="#types">Types</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:property/0" data-no-tooltip="" translate="no">property()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:socket_type/0" data-no-tooltip="" translate="no">socket_type()</a>

      </div>

    </div>

</div>
<div class="summary-callbacks summary">
  <h2>
    <a href="#callbacks">Callbacks</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c:do/1" data-no-tooltip="" translate="no">do(ModData)</a>

      </div>

        <div class="summary-synopsis"><p>When a valid request reaches <code class="inline">httpd</code>, it calls <a href="#c:do/1"><code class="inline">do/1</code></a> in each
module, defined by the configuration option of <code class="inline">Module</code>. The function can
generate data for other modules or a response that can be sent back to the
client.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c:remove/1" data-no-tooltip="" translate="no">remove(ConfigDB)</a>

      </div>

        <div class="summary-synopsis"><p>When <code class="inline">httpd</code> is shut down, it tries to execute <a href="#c:remove/1"><code class="inline">remove/1</code></a> in
each Erlang web server callback module. The programmer can use this function to
clean up resources created in the store function.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c:store/2" data-no-tooltip="" translate="no">store/2</a>

      </div>

        <div class="summary-synopsis"><p>Checks the validity of the configuration options before saving them in the
internal database. This function can also have a side effect, that is, setup of
necessary extra resources implied by the configuration option. It can also
resolve possible dependencies among configuration options by changing the value
of the option. This function only needs clauses for the options implemented by
this particular callback module.</p></div>

    </div>

</div>
<div class="summary-web-server-api-help-functions summary">
  <h2>
    <a href="#web-server-api-help-functions">Web server API help functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#parse_query/1" data-no-tooltip="" translate="no">parse_query(QueryString)</a>

          <span class="deprecated" title="httpd:parse_query/1 is deprecated; use uri_string:dissect_query/1 instead">deprecated</span>

      </div>

        <div class="summary-synopsis"><p><a href="#parse_query/1"><code class="inline">parse_query/1</code></a> parses incoming data to <code class="inline">erl</code> and <code class="inline">eval</code>
scripts (see <a href="mod_esi.html"><code class="inline">mod_esi</code></a>) as defined in the standard URL format, that is, '+'
becomes 'space' and decoding of hexadecimal characters (<code class="inline">%xx</code>).</p></div>

    </div>

</div>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#info/1" data-no-tooltip="" translate="no">info(Pid)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a href="#info/2"><code class="inline">info/2</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#info/2" data-no-tooltip="" translate="no">info/2</a>

      </div>

        <div class="summary-synopsis"><p>Fetches information about the HTTP server. When called with only the pid, all
properties are fetched. When called with a list of specific properties, they are
fetched. The available properties are the same as the start options of the
server.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#info/3" data-no-tooltip="" translate="no">info/3</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a href="#info/4"><code class="inline">info/4</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#info/4" data-no-tooltip="" translate="no">info(Address, Port, Profile, Properties)</a>

      </div>

        <div class="summary-synopsis"><p>Fetches information about the HTTP server. When called with only <code class="inline">Address</code> and
<code class="inline">Port</code>, all properties are fetched. When called with a list of specific
properties, they are fetched. The available properties are the same as the start
options of the server.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#reload_config/2" data-no-tooltip="" translate="no">reload_config(Config, Mode)</a>

      </div>

        <div class="summary-synopsis"><p>Reloads the HTTP server configuration without restarting the server. Incoming
requests are answered with a temporary down message during the reload time.</p></div>

    </div>

</div>

  </section>


  <section id="types" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types</span>
    </h1>
    <div class="types-list">
<section class="detail" id="t:property/0">

  <div class="detail-header">
    <a href="#t:property/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">property()</h1>

        <span class="note">(not exported)</span>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/inets/src/http_server/httpd.erl#L836" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> property() :: <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:socket_type/0">

  <div class="detail-header">
    <a href="#t:socket_type/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">socket_type()</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/inets/src/http_server/httpd.erl#L837" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> socket_type() :: ip_comm | ssl.</pre>

      </div>


  </section>
</section>

    </div>
  </section>

  <section id="callbacks" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#callbacks">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Callbacks</span>
    </h1>
    <div class="callbacks-list">
<section class="detail" id="c:do/1">

  <div class="detail-header">
    <a href="#c:do/1" class="detail-link" data-no-tooltip="" aria-label="Link to this callback">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">do(ModData)</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/inets/src/http_server/httpd.erl#L870" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-callback</span> do(ModData) -> {proceed, OldData} | {proceed, NewData} | {break, NewData} | done
                when
                    ModData :: [{data, NewData} | {'Body', Body} | {'Head', Head}],
                    OldData :: <a href="../../apps/erts/erlang.html#t:list/0">list</a>(),
                    NewData :: [{response, {StatusCode, Body}}],
                    StatusCode :: <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>(),
                    Body :: <a href="../../apps/erts/erlang.html#t:iolist/0">iolist</a>() | nobody | {Fun, FunArg},
                    Head :: [HeaderOption],
                    HeaderOption :: {Option, Value} | {code, StatusCode},
                    Option :: accept_ranges | allow,
                    Value :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>(),
                    FunArg :: [<a href="../../apps/erts/erlang.html#t:term/0">term</a>()],
                    Fun :: fun((FunArg) -> sent | close | Body).</pre>

      </div>

<p>When a valid request reaches <code class="inline">httpd</code>, it calls <a href="#c:do/1"><code class="inline">do/1</code></a> in each
module, defined by the configuration option of <code class="inline">Module</code>. The function can
generate data for other modules or a response that can be sent back to the
client.</p><p>The field <code class="inline">data</code> in <code class="inline">ModData</code> is a list. This list is the list returned from the
last call to <a href="#c:do/1"><code class="inline">do/1</code></a>.</p><p><code class="inline">Body</code> is the body of the HTTP response that is sent back to the client. An
appropriate header is appended to the message. <code class="inline">StatusCode</code> is the status code
of the response, see <a href="http://www.ietf.org/rfc/rfc2616.txt">RFC 2616</a> for the
appropriate values.</p><p><code class="inline">Head</code> is a key value list of HTTP header fields. The server constructs an HTTP
header from this data. See <a href="http://www.ietf.org/rfc/rfc2616.txt">RFC 2616</a> for
the appropriate value for each header field. If the client is an HTTP/1.0
client, the server filters the list so that only HTTP/1.0 header fields are sent
back to the client.</p><p>If <code class="inline">Body</code> is returned and equal to <code class="inline">{Fun,Arg}</code>, the web server tries
<a href="../../apps/erts/erlang.html#apply/2"><code class="inline">apply/2</code></a> on <code class="inline">Fun</code> with <code class="inline">Arg</code> as argument. The web server expects
that the fun either returns a list <code class="inline">(Body)</code> that is an HTTP response, or the
atom <code class="inline">sent</code> if the HTTP response is sent back to the client. If <code class="inline">close</code> is
returned from the fun, something has gone wrong and the server signals this to
the client by closing the connection.</p>
  </section>
</section>
<section class="detail" id="c:remove/1">

  <div class="detail-header">
    <a href="#c:remove/1" class="detail-link" data-no-tooltip="" aria-label="Link to this callback">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">remove(ConfigDB)</h1>

        <span class="note">(optional)</span>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/inets/src/http_server/httpd.erl#L889" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-callback</span> remove(ConfigDB) -> ok | {error, Reason} when ConfigDB :: <a href="../../apps/stdlib/ets.html#t:tid/0">ets:tid</a>(), Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>When <code class="inline">httpd</code> is shut down, it tries to execute <a href="#c:remove/1"><code class="inline">remove/1</code></a> in
each Erlang web server callback module. The programmer can use this function to
clean up resources created in the store function.</p>
  </section>
</section>
<section class="detail" id="c:store/2">

  <div class="detail-header">
    <a href="#c:store/2" class="detail-link" data-no-tooltip="" aria-label="Link to this callback">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">store/2</h1>

        <span class="note">(optional)</span>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/inets/src/http_server/httpd.erl#L901" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-callback</span> store({Option, Value}, Config) -> {ok, {Option, NewValue}} | {error, Reason}
                   when
                       Option :: <a href="#t:property/0">property</a>(),
                       Config :: [{Option, Value}],
                       Value :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                       NewValue :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                       Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Checks the validity of the configuration options before saving them in the
internal database. This function can also have a side effect, that is, setup of
necessary extra resources implied by the configuration option. It can also
resolve possible dependencies among configuration options by changing the value
of the option. This function only needs clauses for the options implemented by
this particular callback module.</p>
  </section>
</section>

    </div>
  </section>

  <section id="web-server-api-help-functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#web-server-api-help-functions">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Web server API help functions</span>
    </h1>
    <div class="web-server-api-help-functions-list">
<section class="detail" id="parse_query/1">

  <div class="detail-header">
    <a href="#parse_query/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">parse_query(QueryString)</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/inets/src/http_server/httpd.erl#L924" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. httpd:parse_query/1 is deprecated; use uri_string:dissect_query/1 instead.
    </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> parse_query(QueryString) -> QueryList | <a href="../../apps/stdlib/uri_string.html#t:error/0">uri_string:error</a>()
                     when
                         QueryString :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>(),
                         QueryList :: [{<a href="../../apps/stdlib/unicode.html#t:chardata/0">unicode:chardata</a>(), <a href="../../apps/stdlib/unicode.html#t:chardata/0">unicode:chardata</a>() | true}].</pre>

      </div>

<p><a href="#parse_query/1"><code class="inline">parse_query/1</code></a> parses incoming data to <code class="inline">erl</code> and <code class="inline">eval</code>
scripts (see <a href="mod_esi.html"><code class="inline">mod_esi</code></a>) as defined in the standard URL format, that is, '+'
becomes 'space' and decoding of hexadecimal characters (<code class="inline">%xx</code>).</p>
  </section>
</section>

    </div>
  </section>

  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Functions</span>
    </h1>
    <div class="functions-list">
<section class="detail" id="info/1">

  <div class="detail-header">
    <a href="#info/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">info(Pid)</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/inets/src/http_server/httpd.erl#L997" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> info(Pid) -> HttpInformation
              when
                  Pid :: <a href="../../apps/erts/erlang.html#t:pid/0">pid</a>(),
                  Path :: <a href="../../apps/kernel/file.html#t:name_all/0">file:name_all</a>(),
                  HttpInformation ::
                      [CommonOption] |
                      [CommunicationOption] |
                      [ModOption] |
                      [LimitOption] |
                      [AdminOption],
                  CommonOption ::
                      {port, <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()} |
                      {server_name, <a href="../../apps/erts/erlang.html#t:string/0">string</a>()} |
                      {server_root, Path} |
                      {document_root, Path},
                  CommunicationOption ::
                      {bind_address, <a href="../../apps/kernel/inet.html#t:ip_address/0">inet:ip_address</a>() | <a href="../../apps/kernel/inet.html#t:hostname/0">inet:hostname</a>() | any} |
                      {profile, <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>()} |
                      {socket_type,
                       ip_comm |
                       {ip_comm, <a href="../../apps/ssl/ssl.html#t:tls_option/0">ssl:tls_option</a>() | <a href="../../apps/kernel/gen_tcp.html#t:option/0">gen_tcp:option</a>()} |
                       {ssl, <a href="../../apps/ssl/ssl.html#t:tls_option/0">ssl:tls_option</a>() | <a href="../../apps/kernel/gen_tcp.html#t:option/0">gen_tcp:option</a>()}} |
                      {ipfamily, inet | inet6} |
                      {minimum_bytes_per_second, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()},
                  ModOption :: {modules, <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>()},
                  LimitOption ::
                      {customize, <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>()} |
                      {disable_chunked_transfer_encoding_send, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
                      {keep_alive, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
                      {keep_alive_timeout, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_body_size, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_clients, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_header_size, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_content_length, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_uri_size, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_keep_alive_request, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_client_body_chunk, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()},
                  AdminOption ::
                      {mime_types, [{MimeType :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>(), Extension :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>()}] | Path} |
                      {mime_type, <a href="../../apps/erts/erlang.html#t:string/0">string</a>()} |
                      {server_admin, <a href="../../apps/erts/erlang.html#t:string/0">string</a>()} |
                      {server_tokens,
                       none | prod | major | minor | minimal | os | full | {private, <a href="../../apps/erts/erlang.html#t:string/0">string</a>()}} |
                      {logger, Options :: <a href="../../apps/erts/erlang.html#t:list/0">list</a>()} |
                      {log_format, common | combined} |
                      {error_log_format, pretty | compact}.</pre>

      </div>

<p>Equivalent to <a href="#info/2"><code class="inline">info/2</code></a>.</p>
  </section>
</section>
<section class="detail" id="info/2">

  <div class="detail-header">
    <a href="#info/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">info/2</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/inets/src/http_server/httpd.erl#L1087" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> info(Pid, Properties) -> HttpInformation
              when
                  Pid :: <a href="../../apps/erts/erlang.html#t:pid/0">pid</a>(),
                  Properties :: [<a href="../../apps/erts/erlang.html#t:atom/0">atom</a>()],
                  HttpInformation ::
                      [CommonOption] |
                      [CommunicationOption] |
                      [ModOption] |
                      [LimitOption] |
                      [AdminOption],
                  CommonOption ::
                      {port, <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()} |
                      {server_name, <a href="../../apps/erts/erlang.html#t:string/0">string</a>()} |
                      {server_root, Path} |
                      {document_root, Path},
                  CommunicationOption ::
                      {bind_address, <a href="../../apps/kernel/inet.html#t:ip_address/0">inet:ip_address</a>() | <a href="../../apps/kernel/inet.html#t:hostname/0">inet:hostname</a>() | any} |
                      {profile, <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>()} |
                      {socket_type,
                       ip_comm |
                       {ip_comm, <a href="../../apps/ssl/ssl.html#t:tls_option/0">ssl:tls_option</a>() | <a href="../../apps/kernel/gen_tcp.html#t:option/0">gen_tcp:option</a>()} |
                       {ssl, <a href="../../apps/ssl/ssl.html#t:tls_option/0">ssl:tls_option</a>() | <a href="../../apps/kernel/gen_tcp.html#t:option/0">gen_tcp:option</a>()}} |
                      {ipfamily, inet | inet6} |
                      {minimum_bytes_per_second, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()},
                  ModOption :: {modules, <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>()},
                  LimitOption ::
                      {customize, <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>()} |
                      {disable_chunked_transfer_encoding_send, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
                      {keep_alive, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
                      {keep_alive_timeout, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_body_size, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_clients, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_header_size, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_content_length, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_uri_size, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_keep_alive_request, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_client_body_chunk, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()},
                  AdminOption ::
                      {mime_types, [{MimeType :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>(), Extension :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>()}] | Path} |
                      {mime_type, <a href="../../apps/erts/erlang.html#t:string/0">string</a>()} |
                      {server_admin, <a href="../../apps/erts/erlang.html#t:string/0">string</a>()} |
                      {server_tokens,
                       none | prod | major | minor | minimal | os | full | {private, <a href="../../apps/erts/erlang.html#t:string/0">string</a>()}} |
                      {logger, Options :: <a href="../../apps/erts/erlang.html#t:list/0">list</a>()} |
                      {log_format, common | combined} |
                      {error_log_format, pretty | compact};
          (Address, Port) -> HttpInformation
              when
                  Address :: <a href="../../apps/kernel/inet.html#t:ip_address/0">inet:ip_address</a>(),
                  Port :: <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>(),
                  Path :: <a href="../../apps/kernel/file.html#t:name_all/0">file:name_all</a>(),
                  HttpInformation ::
                      [CommonOption] |
                      [CommunicationOption] |
                      [ModOption] |
                      [LimitOption] |
                      [AdminOption],
                  CommonOption ::
                      {port, <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()} |
                      {server_name, <a href="../../apps/erts/erlang.html#t:string/0">string</a>()} |
                      {server_root, Path} |
                      {document_root, Path},
                  CommunicationOption ::
                      {bind_address, <a href="../../apps/kernel/inet.html#t:ip_address/0">inet:ip_address</a>() | <a href="../../apps/kernel/inet.html#t:hostname/0">inet:hostname</a>() | any} |
                      {profile, <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>()} |
                      {socket_type,
                       ip_comm |
                       {ip_comm, <a href="../../apps/ssl/ssl.html#t:tls_option/0">ssl:tls_option</a>() | <a href="../../apps/kernel/gen_tcp.html#t:option/0">gen_tcp:option</a>()} |
                       {ssl, <a href="../../apps/ssl/ssl.html#t:tls_option/0">ssl:tls_option</a>() | <a href="../../apps/kernel/gen_tcp.html#t:option/0">gen_tcp:option</a>()}} |
                      {ipfamily, inet | inet6} |
                      {minimum_bytes_per_second, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()},
                  ModOption :: {modules, <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>()},
                  LimitOption ::
                      {customize, <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>()} |
                      {disable_chunked_transfer_encoding_send, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
                      {keep_alive, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
                      {keep_alive_timeout, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_body_size, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_clients, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_header_size, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_content_length, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_uri_size, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_keep_alive_request, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_client_body_chunk, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()},
                  AdminOption ::
                      {mime_types, [{MimeType :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>(), Extension :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>()}] | Path} |
                      {mime_type, <a href="../../apps/erts/erlang.html#t:string/0">string</a>()} |
                      {server_admin, <a href="../../apps/erts/erlang.html#t:string/0">string</a>()} |
                      {server_tokens,
                       none | prod | major | minor | minimal | os | full | {private, <a href="../../apps/erts/erlang.html#t:string/0">string</a>()}} |
                      {logger, Options :: <a href="../../apps/erts/erlang.html#t:list/0">list</a>()} |
                      {log_format, common | combined} |
                      {error_log_format, pretty | compact}.</pre>

      </div>

<p>Fetches information about the HTTP server. When called with only the pid, all
properties are fetched. When called with a list of specific properties, they are
fetched. The available properties are the same as the start options of the
server.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>Pid is the pid returned from <code class="inline">inets:start/[2,3]</code>. Can also be retrieved form
<a href="inets.html#services/0"><code class="inline">inets:services/0</code></a> and <a href="inets.html#services_info/0"><code class="inline">inets:services_info/0</code></a>, see <a href="inets.html"><code class="inline">inets</code></a>.</p></section>
  </section>
</section>
<section class="detail" id="info/3">

  <div class="detail-header">
    <a href="#info/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">info/3</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/inets/src/http_server/httpd.erl#L1181" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> info(Address, Port, Profile) -> HttpInformation
              when
                  Address :: <a href="../../apps/kernel/inet.html#t:ip_address/0">inet:ip_address</a>() | any,
                  Port :: <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>(),
                  Profile :: <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>(),
                  Path :: <a href="../../apps/kernel/file.html#t:name_all/0">file:name_all</a>(),
                  HttpInformation ::
                      [CommonOption] |
                      [CommunicationOption] |
                      [ModOption] |
                      [LimitOption] |
                      [AdminOption],
                  CommonOption ::
                      {port, <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()} |
                      {server_name, <a href="../../apps/erts/erlang.html#t:string/0">string</a>()} |
                      {server_root, Path} |
                      {document_root, Path},
                  CommunicationOption ::
                      {bind_address, <a href="../../apps/kernel/inet.html#t:ip_address/0">inet:ip_address</a>() | <a href="../../apps/kernel/inet.html#t:hostname/0">inet:hostname</a>() | any} |
                      {profile, <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>()} |
                      {socket_type,
                       ip_comm |
                       {ip_comm, <a href="../../apps/ssl/ssl.html#t:tls_option/0">ssl:tls_option</a>() | <a href="../../apps/kernel/gen_tcp.html#t:option/0">gen_tcp:option</a>()} |
                       {ssl, <a href="../../apps/ssl/ssl.html#t:tls_option/0">ssl:tls_option</a>() | <a href="../../apps/kernel/gen_tcp.html#t:option/0">gen_tcp:option</a>()}} |
                      {ipfamily, inet | inet6} |
                      {minimum_bytes_per_second, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()},
                  ModOption :: {modules, <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>()},
                  LimitOption ::
                      {customize, <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>()} |
                      {disable_chunked_transfer_encoding_send, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
                      {keep_alive, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
                      {keep_alive_timeout, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_body_size, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_clients, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_header_size, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_content_length, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_uri_size, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_keep_alive_request, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_client_body_chunk, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()},
                  AdminOption ::
                      {mime_types, [{MimeType :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>(), Extension :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>()}] | Path} |
                      {mime_type, <a href="../../apps/erts/erlang.html#t:string/0">string</a>()} |
                      {server_admin, <a href="../../apps/erts/erlang.html#t:string/0">string</a>()} |
                      {server_tokens,
                       none | prod | major | minor | minimal | os | full | {private, <a href="../../apps/erts/erlang.html#t:string/0">string</a>()}} |
                      {logger, Options :: <a href="../../apps/erts/erlang.html#t:list/0">list</a>()} |
                      {log_format, common | combined} |
                      {error_log_format, pretty | compact};
          (Address, Port, Properties) -> HttpInformation
              when
                  Address :: <a href="../../apps/kernel/inet.html#t:ip_address/0">inet:ip_address</a>() | any,
                  Port :: <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>(),
                  Properties :: [<a href="../../apps/erts/erlang.html#t:atom/0">atom</a>()],
                  Path :: <a href="../../apps/kernel/file.html#t:name_all/0">file:name_all</a>(),
                  HttpInformation ::
                      [CommonOption] |
                      [CommunicationOption] |
                      [ModOption] |
                      [LimitOption] |
                      [AdminOption],
                  CommonOption ::
                      {port, <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()} |
                      {server_name, <a href="../../apps/erts/erlang.html#t:string/0">string</a>()} |
                      {server_root, Path} |
                      {document_root, Path},
                  CommunicationOption ::
                      {bind_address, <a href="../../apps/kernel/inet.html#t:ip_address/0">inet:ip_address</a>() | <a href="../../apps/kernel/inet.html#t:hostname/0">inet:hostname</a>() | any} |
                      {profile, <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>()} |
                      {socket_type,
                       ip_comm |
                       {ip_comm, <a href="../../apps/ssl/ssl.html#t:tls_option/0">ssl:tls_option</a>() | <a href="../../apps/kernel/gen_tcp.html#t:option/0">gen_tcp:option</a>()} |
                       {ssl, <a href="../../apps/ssl/ssl.html#t:tls_option/0">ssl:tls_option</a>() | <a href="../../apps/kernel/gen_tcp.html#t:option/0">gen_tcp:option</a>()}} |
                      {ipfamily, inet | inet6} |
                      {minimum_bytes_per_second, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()},
                  ModOption :: {modules, <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>()},
                  LimitOption ::
                      {customize, <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>()} |
                      {disable_chunked_transfer_encoding_send, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
                      {keep_alive, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
                      {keep_alive_timeout, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_body_size, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_clients, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_header_size, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_content_length, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_uri_size, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_keep_alive_request, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_client_body_chunk, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()},
                  AdminOption ::
                      {mime_types, [{MimeType :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>(), Extension :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>()}] | Path} |
                      {mime_type, <a href="../../apps/erts/erlang.html#t:string/0">string</a>()} |
                      {server_admin, <a href="../../apps/erts/erlang.html#t:string/0">string</a>()} |
                      {server_tokens,
                       none | prod | major | minor | minimal | os | full | {private, <a href="../../apps/erts/erlang.html#t:string/0">string</a>()}} |
                      {logger, Options :: <a href="../../apps/erts/erlang.html#t:list/0">list</a>()} |
                      {log_format, common | combined} |
                      {error_log_format, pretty | compact}.</pre>

      </div>

<p>Equivalent to <a href="#info/4"><code class="inline">info/4</code></a>.</p>
  </section>
</section>
<section class="detail" id="info/4">

  <div class="detail-header">
    <a href="#info/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">info(Address, Port, Profile, Properties)</h1>

        <span class="note">(since OTP 18.0)</span>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/inets/src/http_server/httpd.erl#L1239" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> info(Address, Port, Profile, Properties) -> HttpInformation
              when
                  Address :: <a href="../../apps/kernel/inet.html#t:ip_address/0">inet:ip_address</a>() | any,
                  Port :: <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>(),
                  Profile :: <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>(),
                  Properties :: [<a href="../../apps/erts/erlang.html#t:atom/0">atom</a>()],
                  Path :: <a href="../../apps/kernel/file.html#t:name_all/0">file:name_all</a>(),
                  HttpInformation ::
                      [CommonOption] |
                      [CommunicationOption] |
                      [ModOption] |
                      [LimitOption] |
                      [AdminOption],
                  CommonOption ::
                      {port, <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()} |
                      {server_name, <a href="../../apps/erts/erlang.html#t:string/0">string</a>()} |
                      {server_root, Path} |
                      {document_root, Path},
                  CommunicationOption ::
                      {bind_address, <a href="../../apps/kernel/inet.html#t:ip_address/0">inet:ip_address</a>() | <a href="../../apps/kernel/inet.html#t:hostname/0">inet:hostname</a>() | any} |
                      {profile, <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>()} |
                      {socket_type,
                       ip_comm |
                       {ip_comm, <a href="../../apps/ssl/ssl.html#t:tls_option/0">ssl:tls_option</a>() | <a href="../../apps/kernel/gen_tcp.html#t:option/0">gen_tcp:option</a>()} |
                       {ssl, <a href="../../apps/ssl/ssl.html#t:tls_option/0">ssl:tls_option</a>() | <a href="../../apps/kernel/gen_tcp.html#t:option/0">gen_tcp:option</a>()}} |
                      {ipfamily, inet | inet6} |
                      {minimum_bytes_per_second, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()},
                  ModOption :: {modules, <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>()},
                  LimitOption ::
                      {customize, <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>()} |
                      {disable_chunked_transfer_encoding_send, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
                      {keep_alive, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
                      {keep_alive_timeout, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_body_size, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_clients, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_header_size, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_content_length, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_uri_size, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_keep_alive_request, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()} |
                      {max_client_body_chunk, <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>()},
                  AdminOption ::
                      {mime_types, [{MimeType :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>(), Extension :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>()}] | Path} |
                      {mime_type, <a href="../../apps/erts/erlang.html#t:string/0">string</a>()} |
                      {server_admin, <a href="../../apps/erts/erlang.html#t:string/0">string</a>()} |
                      {server_tokens,
                       none | prod | major | minor | minimal | os | full | {private, <a href="../../apps/erts/erlang.html#t:string/0">string</a>()}} |
                      {logger, Options :: <a href="../../apps/erts/erlang.html#t:list/0">list</a>()} |
                      {log_format, common | combined} |
                      {error_log_format, pretty | compact}.</pre>

      </div>

<p>Fetches information about the HTTP server. When called with only <code class="inline">Address</code> and
<code class="inline">Port</code>, all properties are fetched. When called with a list of specific
properties, they are fetched. The available properties are the same as the start
options of the server.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>The <code class="inline">Address</code> must be the IP address and cannot be the hostname.</p></section>
  </section>
</section>
<section class="detail" id="reload_config/2">

  <div class="detail-header">
    <a href="#reload_config/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">reload_config(Config, Mode)</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/inets/src/http_server/httpd.erl#L947" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> reload_config(Config, Mode) -> ok | {error, Reason} | <a href="../../apps/erts/erlang.html#t:no_return/0">no_return</a>()
                       when
                           Config :: <a href="../../apps/kernel/file.html#t:name_all/0">file:name_all</a>() | [{Option, Value}],
                           Mode :: non_disturbing | disturbing | blocked,
                           Option :: <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>(),
                           Value :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                           Reason :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Reloads the HTTP server configuration without restarting the server. Incoming
requests are answered with a temporary down message during the reload time.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>Available properties are the same as the start options of the server, but the
properties <code class="inline">bind_address</code> and <code class="inline">port</code> cannot be changed.</p></section><p>If mode is disturbing, the server is blocked forcefully, all ongoing requests
terminates, and the reload starts immediately. If mode is non-disturbing, no new
connections are accepted, but ongoing requests are allowed to complete before
the reload is done.</p>
  </section>
</section>

    </div>
  </section>

    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="inets.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.37.3) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>
<p>Copyright Â© 1996-2025 <a href="https://www.ericsson.com">Ericsson AB</a></p>
    </footer>
  </div>
</main>
</div>
  <script defer src="https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.min.js"></script>
  <script>
  let initialized = false;

  window.addEventListener("exdoc:loaded", () => {
      if (!initialized) {
      mermaid.initialize({
          startOnLoad: false,
          theme: document.body.className.includes("dark") ? "dark" : "default"
      });
      initialized = true;
      }

      let id = 0;
      for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
          graphEl.innerHTML = svg;
          bindFunctions?.(graphEl);
          preEl.insertAdjacentElement("afterend", graphEl);
          preEl.remove();
      });
      }
  });
  </script>

  </body>
</html>
