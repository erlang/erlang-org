<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.37.3">
    <meta name="project" content="megaco v4.7.2">


<meta name="exdoc:full-text-search-url" content="/doc/search.html?v=27&q=">
<meta name="major-vsn" content="27">
<link rel="canonical" href="https://www.erlang.org/docs/27/apps/megaco/megaco_encoder.html" />
    <title>megaco_encoder â€” megaco v4.7.2</title>

    <link rel="stylesheet" href="dist/html-erlang-FDBURIED.css" />

    <script defer src="dist/sidebar_items-0FDD3384.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-ALU6OERS.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="../../index.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="megaco" />
        </a>

      <div>
        <a href="../../index.html" class="sidebar-projectName" translate="no">
megaco
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v4.7.2
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-behaviour" id="main" data-type="modules">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of megaco</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>
      <span translate="no">megaco_encoder</span> <small>behaviour</small>
      <small class="app-vsn" translate="no">(megaco v4.7.2)</small>

    </h1>

      <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/megaco/src/engine/megaco_encoder.erl#L26" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


    <section id="moduledoc">
<p>Megaco encoder behaviour.</p><p>The following functions should be exported from a <code class="inline">megaco_encoder</code> callback
module:</p><h2 id="module-data-types" class="section-heading">
  <a href="#module-data-types" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">DATA TYPES</span>
</h2>
<section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>Note that the actual definition of (some of) these records depend on the
megaco protocol version used. For instance, the <code class="inline">'TransactionReply'</code> record
has two more fields in version 3, so a simple erlang type definition cannot be
made here.</p></section><pre><code class="text">protocol_version() = integer()
segment_no()       = integer()
megaco_message() = #'MegacoMessage{}'
transaction() = {transactionRequest,     transaction_request()}      |
                {transactionPending,     transaction_reply()}        |
                {transactionReply,       transaction_pending()}      |
                {transactionResponseAck, transaction_response_ack()} |
                {segmentReply,           segment_reply()}
transaction_request() = #'TransactionRequest'{}
transaction_pending() = #'TransactionPending'{}
transaction_reply() = #'TransactionReply'{}
transaction_response_ack() = [transaction_ack()]
transaction_ack() = #'TransactionAck'{}
segment_reply() = #'SegmentReply'{}
action_request() = #'ActionRequest'{}
action_reply() = #'ActionReply'{}
command_request() = #'CommandRequest'{}
error_desc()   = #'ErrorDescriptor'{}</code></pre>
    </section>

</div>

  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-types summary">
  <h2>
    <a href="#types">Types</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:action_reply/0" data-no-tooltip="" translate="no">action_reply()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:action_request/0" data-no-tooltip="" translate="no">action_request()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:alpha/0" data-no-tooltip="" translate="no">alpha()</a>

      </div>

        <div class="summary-synopsis"><p>Alpha Numeric characters: <code class="inline">A..Z | a..z</code></p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:command_request/0" data-no-tooltip="" translate="no">command_request()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:deviceName/0" data-no-tooltip="" translate="no">deviceName()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:digit/0" data-no-tooltip="" translate="no">digit()</a>

      </div>

        <div class="summary-synopsis"><p>Decimal digits: <code class="inline">0..9</code></p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:domainName/0" data-no-tooltip="" translate="no">domainName()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:error_desc/0" data-no-tooltip="" translate="no">error_desc()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:ip4Address/0" data-no-tooltip="" translate="no">ip4Address()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:ip6Address/0" data-no-tooltip="" translate="no">ip6Address()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:megaco_message/0" data-no-tooltip="" translate="no">megaco_message()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:mtpAddress/0" data-no-tooltip="" translate="no">mtpAddress()</a>

      </div>

        <div class="summary-synopsis"><p>There is no way to properly express this type in the Erlang type system, so this
is the best we can do.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:octet/0" data-no-tooltip="" translate="no">octet()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:octet_string/0" data-no-tooltip="" translate="no">octet_string()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:pathName/0" data-no-tooltip="" translate="no">pathName()</a>

      </div>

        <div class="summary-synopsis"><p>There is no way to properly express this type in the Erlang type system, so this
is the best we can do. The minimum length is 1 and the maximum length is 64.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:protocol_version/0" data-no-tooltip="" translate="no">protocol_version()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:segment_no/0" data-no-tooltip="" translate="no">segment_no()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:segment_reply/0" data-no-tooltip="" translate="no">segment_reply()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:transaction/0" data-no-tooltip="" translate="no">transaction()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:transaction_ack/0" data-no-tooltip="" translate="no">transaction_ack()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:transaction_pending/0" data-no-tooltip="" translate="no">transaction_pending()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:transaction_reply/0" data-no-tooltip="" translate="no">transaction_reply()</a>

      </div>

        <div class="summary-synopsis"><p>The problem with TransactionReply is that its definition depend on which version
of the protocol we are using. As of version 3, it has two more fields.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:transaction_request/0" data-no-tooltip="" translate="no">transaction_request()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:transaction_response_ack/0" data-no-tooltip="" translate="no">transaction_response_ack()</a>

      </div>

    </div>

</div>
<div class="summary-callbacks summary">
  <h2>
    <a href="#callbacks">Callbacks</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c:decode_message/3" data-no-tooltip="" translate="no">decode_message(EncodingConfig, Version, Bin)</a>

      </div>

        <div class="summary-synopsis"><p>Decode a megaco message.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c:decode_mini_message/3" data-no-tooltip="" translate="no">decode_mini_message(EncodingConfig, Version, Bin)</a>

      </div>

        <div class="summary-synopsis"><p>Perform a minimal decode of a megaco message.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c:encode_action_reply/3" data-no-tooltip="" translate="no">encode_action_reply(EncodingConfig, Version, AR)</a>

      </div>

        <div class="summary-synopsis"><p>Encode a megaco action reply. If this, for whatever reason, is not supported,
the function should return the error reason <code class="inline">not_implemented</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c:encode_action_requests/3" data-no-tooltip="" translate="no">encode_action_requests(EncodingConfig, Version, ARs)</a>

      </div>

        <div class="summary-synopsis"><p>Encode megaco action requests. This function is called when the user calls the
function <a href="megaco.html#encode_actions/3">encode_actions/3</a>. If that function is
never used or if the codec cannot support this (the encoding of individual
actions), then return with error reason <code class="inline">not_implemented</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c:encode_message/3" data-no-tooltip="" translate="no">encode_message(EncodingConfig, Version, Message)</a>

      </div>

        <div class="summary-synopsis"><p>Encode a megaco message.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#c:encode_transaction/3" data-no-tooltip="" translate="no">encode_transaction(EncodingConfig, Version, Transaction)</a>

      </div>

        <div class="summary-synopsis"><p>Encode a megaco transaction. If this, for whatever reason, is not supported, the
function should return the error reason <code class="inline">not_implemented</code>.</p></div>

    </div>

</div>

  </section>


  <section id="types" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types</span>
    </h1>
    <div class="types-list">
<section class="detail" id="t:action_reply/0">

  <div class="detail-header">
    <a href="#t:action_reply/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">action_reply()</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/megaco/src/engine/megaco_encoder.erl#L176" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> action_reply() :: {'ActionReply', _, _, _, _}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:action_request/0">

  <div class="detail-header">
    <a href="#t:action_request/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">action_request()</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/megaco/src/engine/megaco_encoder.erl#L174" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> action_request() :: {'ActionRequest', _, _, _, _}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:alpha/0">

  <div class="detail-header">
    <a href="#t:alpha/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">alpha()</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/megaco/src/engine/megaco_encoder.erl#L105" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> alpha() :: 65..90 | 97..122.</pre>

      </div>

<p>Alpha Numeric characters: <code class="inline">A..Z | a..z</code></p>
  </section>
</section>
<section class="detail" id="t:command_request/0">

  <div class="detail-header">
    <a href="#t:command_request/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">command_request()</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/megaco/src/engine/megaco_encoder.erl#L178" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> command_request() :: {'CommandRequest', _, _, _}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:deviceName/0">

  <div class="detail-header">
    <a href="#t:deviceName/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">deviceName()</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/megaco/src/engine/megaco_encoder.erl#L112" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> deviceName() :: <a href="#t:pathName/0">pathName</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:digit/0">

  <div class="detail-header">
    <a href="#t:digit/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">digit()</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/megaco/src/engine/megaco_encoder.erl#L107" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> digit() :: 48..57.</pre>

      </div>

<p>Decimal digits: <code class="inline">0..9</code></p>
  </section>
</section>
<section class="detail" id="t:domainName/0">

  <div class="detail-header">
    <a href="#t:domainName/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">domainName()</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/megaco/src/engine/megaco_encoder.erl#L111" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> domainName() :: #'DomainName'{name :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), portNumber :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:error_desc/0">

  <div class="detail-header">
    <a href="#t:error_desc/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">error_desc()</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/megaco/src/engine/megaco_encoder.erl#L179" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> error_desc() :: #'ErrorDescriptor'{errorCode :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), errorText :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:ip4Address/0">

  <div class="detail-header">
    <a href="#t:ip4Address/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">ip4Address()</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/megaco/src/engine/megaco_encoder.erl#L109" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> ip4Address() :: #'IP4Address'{address :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), portNumber :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:ip6Address/0">

  <div class="detail-header">
    <a href="#t:ip6Address/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">ip6Address()</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/megaco/src/engine/megaco_encoder.erl#L110" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> ip6Address() :: #'IP6Address'{address :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), portNumber :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:megaco_message/0">

  <div class="detail-header">
    <a href="#t:megaco_message/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">megaco_message()</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/megaco/src/engine/megaco_encoder.erl#L152" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> megaco_message() :: #'MegacoMessage'{authHeader :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), mess :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:mtpAddress/0">

  <div class="detail-header">
    <a href="#t:mtpAddress/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">mtpAddress()</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/megaco/src/engine/megaco_encoder.erl#L147" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> mtpAddress() :: <a href="#t:octet_string/0">octet_string</a>().</pre>

      </div>

<p>There is no way to properly express this type in the Erlang type system, so this
is the best we can do.</p><p>A proper definition would be: <code class="inline">-type mtpAddress() :: octet_string(2..4).</code></p>
  </section>
</section>
<section class="detail" id="t:octet/0">

  <div class="detail-header">
    <a href="#t:octet/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">octet()</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/megaco/src/engine/megaco_encoder.erl#L102" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> octet() :: 0..255.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:octet_string/0">

  <div class="detail-header">
    <a href="#t:octet_string/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">octet_string()</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/megaco/src/engine/megaco_encoder.erl#L103" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> octet_string() :: [<a href="#t:octet/0">octet</a>()].</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:pathName/0">

  <div class="detail-header">
    <a href="#t:pathName/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">pathName()</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/megaco/src/engine/megaco_encoder.erl#L140" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> pathName() :: [$* | <a href="#t:alpha/0">alpha</a>() | <a href="#t:digit/0">digit</a>() | $_ | $/ | $$ | $@ | $- | $.].</pre>

      </div>

<p>There is no way to properly express this type in the Erlang type system, so this
is the best we can do. The minimum length is 1 and the maximum length is 64.</p><p>Here is the ABNF (copied from the megaco standard) to fill in the blanks:</p><p><code class="inline"># Total length of pathNAME must not exceed 64 chars.</code></p><p><code class="inline">pathNAME = [&quot;*&quot;] NAME *(&quot;/&quot; / &quot;*&quot;/ ALPHA / DIGIT /&quot;_&quot; / &quot;$&quot; ) [&quot;@&quot; pathDomainName ]</code></p><p><code class="inline"># ABNF allows two or more consecutive &quot;.&quot; although it is meaningless in a path domain name.</code></p><p><code class="inline">pathDomainName = (ALPHA / DIGIT / &quot;*&quot; ) *63(ALPHA / DIGIT / &quot;-&quot; / &quot;*&quot; / &quot;.&quot;)</code></p><p><code class="inline">NAME = ALPHA *63(ALPHA / DIGIT / &quot;_&quot; )</code></p>
  </section>
</section>
<section class="detail" id="t:protocol_version/0">

  <div class="detail-header">
    <a href="#t:protocol_version/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">protocol_version()</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/megaco/src/engine/megaco_encoder.erl#L149" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> protocol_version() :: <a href="../../apps/erts/erlang.html#t:pos_integer/0">pos_integer</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:segment_no/0">

  <div class="detail-header">
    <a href="#t:segment_no/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">segment_no()</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/megaco/src/engine/megaco_encoder.erl#L150" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> segment_no() :: 0..65535.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:segment_reply/0">

  <div class="detail-header">
    <a href="#t:segment_reply/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">segment_reply()</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/megaco/src/engine/megaco_encoder.erl#L172" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> segment_reply() ::
          #'SegmentReply'{transactionId :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                          segmentNumber :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(),
                          segmentationComplete :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:transaction/0">

  <div class="detail-header">
    <a href="#t:transaction/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">transaction()</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/megaco/src/engine/megaco_encoder.erl#L153" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> transaction() ::
          {transactionRequest, <a href="#t:transaction_request/0">transaction_request</a>()} |
          {transactionPending, <a href="#t:transaction_reply/0">transaction_reply</a>()} |
          {transactionReply, <a href="#t:transaction_pending/0">transaction_pending</a>()} |
          {transactionResponseAck, <a href="#t:transaction_response_ack/0">transaction_response_ack</a>()} |
          {segmentReply, <a href="#t:segment_reply/0">segment_reply</a>()}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:transaction_ack/0">

  <div class="detail-header">
    <a href="#t:transaction_ack/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">transaction_ack()</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/megaco/src/engine/megaco_encoder.erl#L171" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> transaction_ack() :: #'TransactionAck'{firstAck :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), lastAck :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:transaction_pending/0">

  <div class="detail-header">
    <a href="#t:transaction_pending/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">transaction_pending()</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/megaco/src/engine/megaco_encoder.erl#L159" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> transaction_pending() :: #'TransactionPending'{transactionId :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:transaction_reply/0">

  <div class="detail-header">
    <a href="#t:transaction_reply/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">transaction_reply()</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/megaco/src/engine/megaco_encoder.erl#L168" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> transaction_reply() :: {'TransactionReply', _, _} | {'TransactionReply', _, _, _, _}.</pre>

      </div>

<p>The problem with TransactionReply is that its definition depend on which version
of the protocol we are using. As of version 3, it has two more fields.</p>
  </section>
</section>
<section class="detail" id="t:transaction_request/0">

  <div class="detail-header">
    <a href="#t:transaction_request/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">transaction_request()</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/megaco/src/engine/megaco_encoder.erl#L158" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> transaction_request() :: #'TransactionRequest'{transactionId :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>(), actions :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:transaction_response_ack/0">

  <div class="detail-header">
    <a href="#t:transaction_response_ack/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">transaction_response_ack()</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/megaco/src/engine/megaco_encoder.erl#L170" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> transaction_response_ack() :: [<a href="#t:transaction_ack/0">transaction_ack</a>()].</pre>

      </div>


  </section>
</section>

    </div>
  </section>

  <section id="callbacks" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#callbacks">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Callbacks</span>
    </h1>
    <div class="callbacks-list">
<section class="detail" id="c:decode_message/3">

  <div class="detail-header">
    <a href="#c:decode_message/3" class="detail-link" data-no-tooltip="" aria-label="Link to this callback">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">decode_message(EncodingConfig, Version, Bin)</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/megaco/src/engine/megaco_encoder.erl#L205" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-callback</span> decode_message(EncodingConfig, Version, Bin) -> {ok, Message} | Error
                            when
                                EncodingConfig :: <a href="../../apps/erts/erlang.html#t:list/0">list</a>(),
                                Version :: <a href="#t:protocol_version/0">protocol_version</a>() | dynamic,
                                Bin :: <a href="../../apps/erts/erlang.html#t:binary/0">binary</a>(),
                                Message :: <a href="#t:megaco_message/0">megaco_message</a>(),
                                Error :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Decode a megaco message.</p><p>Note that if the Version argument is <code class="inline">dynamic</code>, the decoder should try to figure
out the actual version from the message itself and then use the proper decoder,
e.g. version 1.<br/>If on the other hand the Version argument is an integer, it means that this is
the expected version of the message and the decoder for that version should be
used.</p>
  </section>
</section>
<section class="detail" id="c:decode_mini_message/3">

  <div class="detail-header">
    <a href="#c:decode_mini_message/3" class="detail-link" data-no-tooltip="" aria-label="Link to this callback">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">decode_mini_message(EncodingConfig, Version, Bin)</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/megaco/src/engine/megaco_encoder.erl#L226" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-callback</span> decode_mini_message(EncodingConfig, Version, Bin) -> {ok, Message} | Error
                                 when
                                     EncodingConfig :: <a href="../../apps/erts/erlang.html#t:list/0">list</a>(),
                                     Version :: <a href="#t:protocol_version/0">protocol_version</a>() | dynamic,
                                     Bin :: <a href="../../apps/erts/erlang.html#t:binary/0">binary</a>(),
                                     Message :: <a href="#t:megaco_message/0">megaco_message</a>(),
                                     Error :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Perform a minimal decode of a megaco message.</p><p>The purpose of this function is to do a minimal decode of Megaco message. A
successfull result is a <code class="inline">'MegacoMessage'</code> in which only version and mid has been
initiated. This function is used by the megaco_messenger module when the
<a href="#c:decode_message/3"><code class="inline">decode_message/3</code></a> function fails to figure out the mid
(the actual sender) of the message.</p><p>Note again that a successfull decode only returns a partially initiated message.</p>
  </section>
</section>
<section class="detail" id="c:encode_action_reply/3">

  <div class="detail-header">
    <a href="#c:encode_action_reply/3" class="detail-link" data-no-tooltip="" aria-label="Link to this callback">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">encode_action_reply(EncodingConfig, Version, AR)</h1>

        <span class="note">(optional)</span>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/megaco/src/engine/megaco_encoder.erl#L276" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-callback</span> encode_action_reply(EncodingConfig, Version, AR) -> {ok, Bin} | {error, Reason}
                                 when
                                     EncodingConfig :: <a href="../../apps/erts/erlang.html#t:list/0">list</a>(),
                                     Version :: <a href="#t:protocol_version/0">protocol_version</a>(),
                                     AR :: <a href="#t:action_reply/0">action_reply</a>(),
                                     Bin :: <a href="../../apps/erts/erlang.html#t:binary/0">binary</a>(),
                                     Reason :: not_implemented | <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Encode a megaco action reply. If this, for whatever reason, is not supported,
the function should return the error reason <code class="inline">not_implemented</code>.</p><p>This function is used when segmentation has been configured. So, for this to
work, this function <em>must</em> be fully supported!</p>
  </section>
</section>
<section class="detail" id="c:encode_action_requests/3">

  <div class="detail-header">
    <a href="#c:encode_action_requests/3" class="detail-link" data-no-tooltip="" aria-label="Link to this callback">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">encode_action_requests(EncodingConfig, Version, ARs)</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/megaco/src/engine/megaco_encoder.erl#L260" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-callback</span> encode_action_requests(EncodingConfig, Version, ARs) -> {ok, Bin} | {error, Reason}
                                    when
                                        EncodingConfig :: <a href="../../apps/erts/erlang.html#t:list/0">list</a>(),
                                        Version :: <a href="#t:protocol_version/0">protocol_version</a>(),
                                        ARs :: [<a href="#t:action_request/0">action_request</a>()],
                                        Bin :: <a href="../../apps/erts/erlang.html#t:binary/0">binary</a>(),
                                        Reason :: not_implemented | <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Encode megaco action requests. This function is called when the user calls the
function <a href="megaco.html#encode_actions/3">encode_actions/3</a>. If that function is
never used or if the codec cannot support this (the encoding of individual
actions), then return with error reason <code class="inline">not_implemented</code>.</p>
  </section>
</section>
<section class="detail" id="c:encode_message/3">

  <div class="detail-header">
    <a href="#c:encode_message/3" class="detail-link" data-no-tooltip="" aria-label="Link to this callback">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">encode_message(EncodingConfig, Version, Message)</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/megaco/src/engine/megaco_encoder.erl#L185" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-callback</span> encode_message(EncodingConfig, Version, Message) -> {ok, Bin} | Error
                            when
                                EncodingConfig :: <a href="../../apps/erts/erlang.html#t:list/0">list</a>(),
                                Version :: <a href="#t:protocol_version/0">protocol_version</a>(),
                                Message :: <a href="#t:megaco_message/0">megaco_message</a>(),
                                Bin :: <a href="../../apps/erts/erlang.html#t:binary/0">binary</a>(),
                                Error :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Encode a megaco message.</p>
  </section>
</section>
<section class="detail" id="c:encode_transaction/3">

  <div class="detail-header">
    <a href="#c:encode_transaction/3" class="detail-link" data-no-tooltip="" aria-label="Link to this callback">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">encode_transaction(EncodingConfig, Version, Transaction)</h1>


        <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/lib/megaco/src/engine/megaco_encoder.erl#L244" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-callback</span> encode_transaction(EncodingConfig, Version, Transaction) -> {ok, Bin} | {error, Reason}
                                when
                                    EncodingConfig :: <a href="../../apps/erts/erlang.html#t:list/0">list</a>(),
                                    Version :: <a href="#t:protocol_version/0">protocol_version</a>(),
                                    Transaction :: <a href="#t:transaction/0">transaction</a>(),
                                    Bin :: <a href="../../apps/erts/erlang.html#t:binary/0">binary</a>(),
                                    Reason :: not_implemented | <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Encode a megaco transaction. If this, for whatever reason, is not supported, the
function should return the error reason <code class="inline">not_implemented</code>.</p><p>This functionality is used both when the transaction sender is used and for
segmentation. So, for either of those to work, this function <em>must</em> be fully
supported!</p>
  </section>
</section>

    </div>
  </section>

    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="megaco.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.37.3) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>
<p>Copyright Â© 1996-2025 <a href="https://www.ericsson.com">Ericsson AB</a></p>
    </footer>
  </div>
</main>
</div>
  <script defer src="https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.min.js"></script>
  <script>
  let initialized = false;

  window.addEventListener("exdoc:loaded", () => {
      if (!initialized) {
      mermaid.initialize({
          startOnLoad: false,
          theme: document.body.className.includes("dark") ? "dark" : "default"
      });
      initialized = true;
      }

      let id = 0;
      for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
          graphEl.innerHTML = svg;
          bindFunctions?.(graphEl);
          preEl.insertAdjacentElement("afterend", graphEl);
          preEl.remove();
      });
      }
  });
  </script>

  </body>
</html>
