<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.37.3">
    <meta name="project" content="Erlang System Documentation v27.3.4.1">


<meta name="exdoc:full-text-search-url" content="/doc/search.html?v=27&q=">
<meta name="major-vsn" content="27">
<link rel="canonical" href="https://www.erlang.org/docs/27/system/typespec.html" />
<meta name="exdoc:autocomplete" content="off">
    <title>Types and Function Specifications — Erlang System Documentation v27.3.4.1</title>

    <link rel="stylesheet" href="dist/html-erlang-FDBURIED.css" />

    <script defer src="dist/sidebar_items-4A143270.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-ALU6OERS.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="../index.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="Erlang System Documentation" />
        </a>

      <div>
        <a href="../index.html" class="sidebar-projectName" translate="no">
Erlang System Documentation
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v27.3.4.1
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-extra" id="main" data-type="extras">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of Erlang System Documentation</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>Types and Function Specifications</h1>


      <a href="https://github.com/garazdawi/otp/blob/OTP-27.3.4.1/system/doc/reference_manual/typespec.md#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>

<h2 id="the-erlang-type-language" class="section-heading">
  <a href="#the-erlang-type-language" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">The Erlang Type Language</span>
</h2>
<p>Erlang is a dynamically typed language. Still, it comes with a notation for
declaring sets of Erlang terms to form a particular type. This effectively forms
specific subtypes of the set of all Erlang terms.</p><p>Subsequently, these types can be used to specify types of record fields and also
the argument and return types of functions.</p><p>Type information can be used for the following:</p><ul><li>To document function interfaces</li><li>To provide more information for bug detection tools, such as Dialyzer</li><li>To be leveraged by documentation tools, such as
<a href="https://hexdocs.pm/ex_doc/">ExDoc</a> or <a href="../apps/edoc/edoc.html">EDoc</a>, for generating
documentation</li></ul><p>It is expected that the type language described in this section
supersedes and replaces the purely comment-based <code class="inline">@type</code> and <code class="inline">@spec</code>
declarations used by EDoc.</p><p><a href="" id="syntax"></a></p><h2 id="types-and-their-syntax" class="section-heading">
  <a href="#types-and-their-syntax" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Types and their Syntax</span>
</h2>
<p>Types describe sets of Erlang terms. Types consist of, and are built from, a set
of predefined types, for example, <a href="../apps/erts/erlang.html#t:integer/0"><code class="inline">integer/0</code></a>, <a href="../apps/erts/erlang.html#t:atom/0"><code class="inline">atom/0</code></a>, and <a href="../apps/erts/erlang.html#t:pid/0"><code class="inline">pid/0</code></a>.
Predefined types represent a typically infinite set of Erlang terms that belong
to this type. For example, the type <a href="../apps/erts/erlang.html#t:atom/0"><code class="inline">atom/0</code></a> denotes the set of all Erlang
atoms.</p><p>For integers and atoms, it is allowed for singleton types; for example, the
integers <code class="inline">-1</code> and <code class="inline">42</code>, or the atoms <code class="inline">'foo'</code> and <code class="inline">'bar'</code>. All other types are
built using unions of either predefined types or singleton types. In a type
union between a type and one of its subtypes, the subtype is absorbed by the
supertype. Thus, the union is then treated as if the subtype was not a
constituent of the union. For example, the type union:</p><pre><code class="text">atom() | 'bar' | integer() | 42</code></pre><p>describes the same set of terms as the type union:</p><pre><code class="text">atom() | integer()</code></pre><p>Because of subtype relations that exist between types, all types, except
<a href="../apps/erts/erlang.html#t:dynamic/0"><code class="inline">dynamic/0</code></a>, form a lattice where the top-most element, <a href="../apps/erts/erlang.html#t:any/0"><code class="inline">any/0</code></a>, denotes the
set of all Erlang terms and the bottom-most element, <a href="../apps/erts/erlang.html#t:none/0"><code class="inline">none/0</code></a>, denotes the
empty set of terms.</p><p><a href="" id="dynamic"></a></p><p>To facilitate <a href="https://en.wikipedia.org/wiki/Gradual_typing">gradual typing</a> of
Erlang, the type <a href="../apps/erts/erlang.html#t:dynamic/0"><code class="inline">dynamic/0</code></a> is provided. The type <a href="../apps/erts/erlang.html#t:dynamic/0"><code class="inline">dynamic/0</code></a>
represents a statically unknown type. It is similar to
<a href="https://docs.python.org/3/library/typing.html#the-any-type">Any</a> in Python,
<a href="https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#any">any</a> in
TypeScript and <a href="https://docs.hhvm.com/hack/built-in-types/dynamic">dynamic</a> in
Hack. <a href="../apps/erts/erlang.html#t:any/0"><code class="inline">any/0</code></a> and <a href="../apps/erts/erlang.html#t:dynamic/0"><code class="inline">dynamic/0</code></a> interact with
<a href="https://learnyousomeerlang.com/dialyzer#success-typing">success typing</a> the
same way, so Dialyzer doesn't distinguish between them.</p><p id="predefined">The set of predefined types and the syntax for types follows:</p><pre><code class="text">Type :: any()                 %% The top type, the set of all Erlang terms
      | none()                %% The bottom type, contains no terms
      | dynamic()
      | pid()
      | port()
      | reference()
      | []                    %% nil
      | Atom
      | Bitstring
      | float()
      | Fun
      | Integer
      | List
      | Map
      | Tuple
      | Union
      | UserDefined           %% described in Type Declarations of User-Defined Types

Atom :: atom()
      | Erlang_Atom           %% 'foo', 'bar', ...

Bitstring :: &lt;&lt;&gt;&gt;
           | &lt;&lt;_:M&gt;&gt;          %% M is an Integer_Value that evaluates to a positive integer
           | &lt;&lt;_:_*N&gt;&gt;        %% N is an Integer_Value that evaluates to a positive integer
           | &lt;&lt;_:M, _:_*N&gt;&gt;

Fun :: fun()                  %% any function
     | fun((...) -&gt; Type)     %% any arity, returning Type
     | fun(() -&gt; Type)
     | fun((TList) -&gt; Type)

Integer :: integer()
         | Integer_Value
         | Integer_Value..Integer_Value      %% specifies an integer range

Integer_Value :: Erlang_Integer              %% ..., -1, 0, 1, ... 42 ...
               | Erlang_Character            %% $a, $b ...
               | Integer_Value BinaryOp Integer_Value
               | UnaryOp Integer_Value

BinaryOp :: '*' | 'div' | 'rem' | 'band' | '+' | '-' | 'bor' | 'bxor' | 'bsl' | 'bsr'

UnaryOp :: '+' | '-' | 'bnot'

List :: list(Type)                           %% Proper list ([]-terminated)
      | maybe_improper_list(Type1, Type2)    %% Type1=contents, Type2=termination
      | nonempty_improper_list(Type1, Type2) %% Type1 and Type2 as above
      | nonempty_list(Type)                  %% Proper non-empty list

Map :: #{}                                   %% denotes the empty map
     | #{AssociationList}

Tuple :: tuple()                             %% denotes a tuple of any size
       | {}
       | {TList}

AssociationList :: Association
                 | Association, AssociationList

Association :: Type := Type                  %% denotes a mandatory association
             | Type =&gt; Type                  %% denotes an optional association

TList :: Type
       | Type, TList

Union :: Type1 | Type2</code></pre><p>Integer values are either integer or character literals or expressions
consisting of possibly nested unary or binary operations that evaluate to an
integer. Such expressions can also be used in bit strings and ranges.</p><p>The general form of bit strings is <code class="inline">&lt;&lt;_:M, _:_*N&gt;&gt;</code>, where <code class="inline">M</code> and <code class="inline">N</code> must
evaluate to positive integers. It denotes a bit string that is <code class="inline">M + (k*N)</code> bits
long (that is, a bit string that starts with <code class="inline">M</code> bits and continues with <code class="inline">k</code>
segments of <code class="inline">N</code> bits each, where <code class="inline">k</code> is also a positive integer). The notations
<code class="inline">&lt;&lt;_:_*N&gt;&gt;</code>, <code class="inline">&lt;&lt;_:M&gt;&gt;</code>, and <code class="inline">&lt;&lt;&gt;&gt;</code> are convenient shorthands for the cases that
<code class="inline">M</code> or <code class="inline">N</code>, or both, are zero.</p><p>Because lists are commonly used, they have shorthand type notations. The types
<a href="../apps/erts/erlang.html#t:list/1"><code class="inline">list(T)</code></a> and <a href="../apps/erts/erlang.html#t:nonempty_list/1"><code class="inline">nonempty_list(T)</code></a> have the
shorthands <code class="inline">[T]</code> and <code class="inline">[T,...]</code>, respectively. The only difference between the
two shorthands is that <code class="inline">[T]</code> can be an empty list but <code class="inline">[T,...]</code> cannot.</p><p>Notice that the shorthand for <a href="../apps/erts/erlang.html#t:list/0"><code class="inline">list/0</code></a>, that is, the list of elements of
unknown type, is <code class="inline">[_]</code> (or <code class="inline">[any()]</code>), not <code class="inline">[]</code>. The notation <code class="inline">[]</code> specifies the
singleton type for the empty list.</p><p>The general form of map types is <code class="inline">#{AssociationList}</code>. The key types in
<code class="inline">AssociationList</code> are allowed to overlap, and if they do, the leftmost
association takes precedence. A map association has a key in <code class="inline">AssociationList</code>
if it belongs to this type. <code class="inline">AssociationList</code> can contain both mandatory <code class="inline">(:=)</code>
and optional <code class="inline">(=&gt;)</code> association types. If an association type is mandatory, an
association with that type needs to be present. In the case of an optional
association type it is not required for the key type to be present.</p><p>The notation <code class="inline">#{}</code> specifies the singleton type for the empty map. Note that
this notation is not a shorthand for the <a href="../apps/erts/erlang.html#t:map/0"><code class="inline">map/0</code></a> type.</p><p>For convenience, the following types are also built-in. They can be thought as
predefined aliases for the type unions also shown in the table.</p><p><a href="" id="builtin_types"></a></p><table><thead><tr><th style="text-align: left;"><em>Built-in type</em></th><th style="text-align: left;"><em>Defined as</em></th></tr></thead><tbody><tr><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:term/0"><code class="inline">term/0</code></a></td><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:any/0"><code class="inline">any/0</code></a></td></tr><tr><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:binary/0"><code class="inline">binary/0</code></a></td><td style="text-align: left;"><code class="inline">&lt;&lt;_:_*8&gt;&gt;</code></td></tr><tr><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:nonempty_binary/0"><code class="inline">nonempty_binary/0</code></a></td><td style="text-align: left;"><code class="inline">&lt;&lt;_:8, _:_*8&gt;&gt;</code></td></tr><tr><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:bitstring/0"><code class="inline">bitstring/0</code></a></td><td style="text-align: left;"><code class="inline">&lt;&lt;_:_*1&gt;&gt;</code></td></tr><tr><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:nonempty_bitstring/0"><code class="inline">nonempty_bitstring/0</code></a></td><td style="text-align: left;"><code class="inline">&lt;&lt;_:1, _:_*1&gt;&gt;</code></td></tr><tr><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:boolean/0"><code class="inline">boolean/0</code></a></td><td style="text-align: left;"><code class="inline">'false'</code> | <code class="inline">'true'</code></td></tr><tr><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:byte/0"><code class="inline">byte/0</code></a></td><td style="text-align: left;"><code class="inline">0..255</code></td></tr><tr><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:char/0"><code class="inline">char/0</code></a></td><td style="text-align: left;"><code class="inline">0..16#10ffff</code></td></tr><tr><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:nil/0"><code class="inline">nil/0</code></a></td><td style="text-align: left;"><code class="inline">[]</code></td></tr><tr><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:number/0"><code class="inline">number/0</code></a></td><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:integer/0"><code class="inline">integer/0</code></a> | <a href="../apps/erts/erlang.html#t:float/0"><code class="inline">float/0</code></a></td></tr><tr><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:list/0"><code class="inline">list/0</code></a></td><td style="text-align: left;"><code class="inline">[any()]</code></td></tr><tr><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:maybe_improper_list/0"><code class="inline">maybe_improper_list/0</code></a></td><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:maybe_improper_list/2"><code class="inline">maybe_improper_list(any(), any())</code></a></td></tr><tr><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:nonempty_list/0"><code class="inline">nonempty_list/0</code></a></td><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:nonempty_list/1"><code class="inline">nonempty_list(any())</code></a></td></tr><tr><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:string/0"><code class="inline">string/0</code></a></td><td style="text-align: left;"><code class="inline">[char()]</code></td></tr><tr><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:nonempty_string/0"><code class="inline">nonempty_string/0</code></a></td><td style="text-align: left;"><code class="inline">[char(),...]</code></td></tr><tr><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:iodata/0"><code class="inline">iodata/0</code></a></td><td style="text-align: left;"><code class="inline">iolist()</code> | <code class="inline">binary()</code></td></tr><tr><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:iolist/0"><code class="inline">iolist/0</code></a></td><td style="text-align: left;"><code class="inline">maybe_improper_list(byte()</code> | <code class="inline">binary()</code> | <code class="inline">iolist(), binary()</code> | <code class="inline">[])</code></td></tr><tr><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:map/0"><code class="inline">map/0</code></a></td><td style="text-align: left;"><code class="inline">#{any() =&gt; any()}</code></td></tr><tr><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:function/0"><code class="inline">function/0</code></a></td><td style="text-align: left;"><code class="inline">fun()</code></td></tr><tr><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:module/0"><code class="inline">module/0</code></a></td><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:atom/0"><code class="inline">atom/0</code></a></td></tr><tr><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:mfa/0"><code class="inline">mfa/0</code></a></td><td style="text-align: left;"><code class="inline">{module(),atom(),arity()}</code></td></tr><tr><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:arity/0"><code class="inline">arity/0</code></a></td><td style="text-align: left;"><code class="inline">0..255</code></td></tr><tr><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:identifier/0"><code class="inline">identifier/0</code></a></td><td style="text-align: left;"><code class="inline">pid()</code> | <code class="inline">port()</code> | <code class="inline">reference()</code></td></tr><tr><td style="text-align: left;"><a href="../apps/erts/erlang.html#node/0"><code class="inline">node/0</code></a></td><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:atom/0"><code class="inline">atom/0</code></a></td></tr><tr><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:timeout/0"><code class="inline">timeout/0</code></a></td><td style="text-align: left;"><code class="inline">'infinity'</code> | <code class="inline">non_neg_integer()</code></td></tr><tr><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:no_return/0"><code class="inline">no_return/0</code></a></td><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:none/0"><code class="inline">none/0</code></a></td></tr></tbody></table><p><em>Table: Built-in types, predefined aliases</em></p><p>In addition, the following three built-in types exist and can be thought as
defined below, though strictly their &quot;type definition&quot; is not valid syntax
according to the type language defined above.</p><table><thead><tr><th style="text-align: left;"><em>Built-in type</em></th><th style="text-align: left;"><em>Can be thought defined by the syntax</em></th></tr></thead><tbody><tr><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:non_neg_integer/0"><code class="inline">non_neg_integer/0</code></a></td><td style="text-align: left;"><code class="inline">0..</code></td></tr><tr><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:pos_integer/0"><code class="inline">pos_integer/0</code></a></td><td style="text-align: left;"><code class="inline">1..</code></td></tr><tr><td style="text-align: left;"><a href="../apps/erts/erlang.html#t:neg_integer/0"><code class="inline">neg_integer/0</code></a></td><td style="text-align: left;"><code class="inline">..-1</code></td></tr></tbody></table><p><em>Table: Additional built-in types</em></p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>The following built-in list types also exist, but they are expected to be
rarely used. Hence, they have long names:</p></section><pre><code class="makeup erlang" translate="no"><span class="nf">nonempty_maybe_improper_list</span><span class="p" data-group-id="2513907311-1">(</span><span class="p" data-group-id="2513907311-1">)</span><span class="w"> </span><span class="p">:</span><span class="p">:</span><span class="w"> </span><span class="nf">nonempty_maybe_improper_list</span><span class="p" data-group-id="2513907311-2">(</span><span class="nf">any</span><span class="p" data-group-id="2513907311-3">(</span><span class="p" data-group-id="2513907311-3">)</span><span class="p">,</span><span class="w"> </span><span class="nf">any</span><span class="p" data-group-id="2513907311-4">(</span><span class="p" data-group-id="2513907311-4">)</span><span class="p" data-group-id="2513907311-2">)</span><span class="w">
</span><span class="nf">nonempty_improper_list</span><span class="p" data-group-id="2513907311-5">(</span><span class="n">Type1</span><span class="p">,</span><span class="w"> </span><span class="n">Type2</span><span class="p" data-group-id="2513907311-5">)</span><span class="w">
</span><span class="nf">nonempty_maybe_improper_list</span><span class="p" data-group-id="2513907311-6">(</span><span class="n">Type1</span><span class="p">,</span><span class="w"> </span><span class="n">Type2</span><span class="p" data-group-id="2513907311-6">)</span></code></pre><p>where the last two types define the set of Erlang terms one would expect.</p><p>Also for convenience, record notation is allowed to be used. Records are
shorthands for the corresponding tuples:</p><pre><code class="makeup erlang" translate="no"><span class="n">Record</span><span class="w"> </span><span class="p">:</span><span class="p">:</span><span class="w"> </span><span class="p">#</span><span class="n">Erlang_Atom</span><span class="p" data-group-id="7054023595-1">{</span><span class="p" data-group-id="7054023595-1">}</span><span class="w">
        </span><span class="p">|</span><span class="w"> </span><span class="p">#</span><span class="n">Erlang_Atom</span><span class="p" data-group-id="7054023595-2">{</span><span class="n">Fields</span><span class="p" data-group-id="7054023595-2">}</span></code></pre><p>Records are extended to possibly contain type information. This is described in
<a href="typespec.html#typeinrecords">Type Information in Record Declarations</a>.</p><h3 id="redefining-built-in-types" class="section-heading">
  <a href="#redefining-built-in-types" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Redefining built-in types</span>
</h3>
<section role="note" class="admonition info"><h4 class="admonition-title info">Change</h4><p>Starting from Erlang/OTP 26, it is permitted to define a type having the same
name as a built-in type.</p></section><p>It is recommended to avoid deliberately reusing built-in names because it can be
confusing. However, when an Erlang/OTP release introduces a new type, code that
happened to define its own type having the same name will continue to work.</p><p>As an example, imagine that the Erlang/OTP 42 release introduces a new type
<code class="inline">gadget()</code> defined like this:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">type</span><span class="w"> </span><span class="nf">gadget</span><span class="p" data-group-id="3815871704-1">(</span><span class="p" data-group-id="3815871704-1">)</span><span class="w"> </span><span class="p">:</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="3815871704-2">{</span><span class="ss">&#39;gadget&#39;</span><span class="p">,</span><span class="w"> </span><span class="nf">reference</span><span class="p" data-group-id="3815871704-3">(</span><span class="p" data-group-id="3815871704-3">)</span><span class="p" data-group-id="3815871704-2">}</span><span class="p">.</span></code></pre><p>Further imagine that some code has its own (different) definition of <code class="inline">gadget()</code>,
for example:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">type</span><span class="w"> </span><span class="nf">gadget</span><span class="p" data-group-id="6416039399-1">(</span><span class="p" data-group-id="6416039399-1">)</span><span class="w"> </span><span class="p">:</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="6416039399-2">#{</span><span class="p" data-group-id="6416039399-2">}</span><span class="p">.</span></code></pre><p>Since redefinitions are allowed, the code will still compile (but with a
warning), and Dialyzer will not emit any additional warnings.</p><h2 id="type-declarations-of-user-defined-types" class="section-heading">
  <a href="#type-declarations-of-user-defined-types" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Type Declarations of User-Defined Types</span>
</h2>
<p>As seen, the basic syntax of a type is an atom followed by closed parentheses.
New types are declared using <code class="inline">-type</code> and <code class="inline">-opaque</code> attributes as in the
following:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">type</span><span class="w"> </span><span class="nf">my_struct_type</span><span class="p" data-group-id="9747847798-1">(</span><span class="p" data-group-id="9747847798-1">)</span><span class="w"> </span><span class="p">:</span><span class="p">:</span><span class="w"> </span><span class="n">Type</span><span class="p">.</span><span class="w">
</span><span class="p">-</span><span class="na">opaque</span><span class="w"> </span><span class="nf">my_opaq_type</span><span class="p" data-group-id="9747847798-2">(</span><span class="p" data-group-id="9747847798-2">)</span><span class="w"> </span><span class="p">:</span><span class="p">:</span><span class="w"> </span><span class="n">Type</span><span class="p">.</span></code></pre><p>The type name is the atom <code class="inline">my_struct_type</code>, followed by parentheses. <code class="inline">Type</code> is a
type as defined in the previous section. A current restriction is that <code class="inline">Type</code>
can contain only predefined types, or user-defined types which are either of the
following:</p><ul><li>Module-local type, that is, with a definition that is present in the code of
the module</li><li>Remote type, that is, type defined in, and exported by, other modules; more
about this soon.</li></ul><p>For module-local types, the restriction that their definition exists in the
module is enforced by the compiler and results in a compilation error. (A
similar restriction currently exists for records.)</p><p>Type declarations can also be parameterized by including type variables between
the parentheses. The syntax of type variables is the same as Erlang variables,
that is, starts with an upper-case letter. These variables is to
appear on the RHS of the definition. A concrete example follows:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">type</span><span class="w"> </span><span class="nf">orddict</span><span class="p" data-group-id="8107829304-1">(</span><span class="n">Key</span><span class="p">,</span><span class="w"> </span><span class="n">Val</span><span class="p" data-group-id="8107829304-1">)</span><span class="w"> </span><span class="p">:</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="8107829304-2">[</span><span class="p" data-group-id="8107829304-3">{</span><span class="n">Key</span><span class="p">,</span><span class="w"> </span><span class="n">Val</span><span class="p" data-group-id="8107829304-3">}</span><span class="p" data-group-id="8107829304-2">]</span><span class="p">.</span></code></pre><p>A module can export some types to declare that other modules are allowed to
refer to them as <em>remote types</em>. This declaration has the following form:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">export_type</span><span class="p" data-group-id="7710326266-1">(</span><span class="p" data-group-id="7710326266-2">[</span><span class="n">T1</span><span class="o">/</span><span class="n">A1</span><span class="p">,</span><span class="w"> </span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="p">,</span><span class="w"> </span><span class="n">Tk</span><span class="o">/</span><span class="n">Ak</span><span class="p" data-group-id="7710326266-2">]</span><span class="p" data-group-id="7710326266-1">)</span><span class="p">.</span></code></pre><p>Here the <code class="inline">Ti</code>s are atoms (the name of the type) and the <code class="inline">Ai</code>s are their arguments.</p><p><em>Example:</em></p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">export_type</span><span class="p" data-group-id="0978000708-1">(</span><span class="p" data-group-id="0978000708-2">[</span><span class="ss">my_struct_type</span><span class="p">/</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">orddict</span><span class="p">/</span><span class="mi">2</span><span class="p" data-group-id="0978000708-2">]</span><span class="p" data-group-id="0978000708-1">)</span><span class="p">.</span></code></pre><p>Assuming that these types are exported from module <code class="inline">'mod'</code>, you can refer to
them from other modules using remote type expressions like the following:</p><pre><code class="makeup erlang" translate="no"><span class="nc">mod</span><span class="p">:</span><span class="nf">my_struct_type</span><span class="p" data-group-id="6512734217-1">(</span><span class="p" data-group-id="6512734217-1">)</span><span class="w">
</span><span class="nc">mod</span><span class="p">:</span><span class="nf">orddict</span><span class="p" data-group-id="6512734217-2">(</span><span class="nf">atom</span><span class="p" data-group-id="6512734217-3">(</span><span class="p" data-group-id="6512734217-3">)</span><span class="p">,</span><span class="w"> </span><span class="nf">term</span><span class="p" data-group-id="6512734217-4">(</span><span class="p" data-group-id="6512734217-4">)</span><span class="p" data-group-id="6512734217-2">)</span></code></pre><p>It is not allowed to refer to types that are not declared as exported.</p><p>Types declared as <code class="inline">opaque</code> represent sets of terms whose structure is not
supposed to be visible from outside of their defining module. That is, only the
module defining them is allowed to depend on their term structure. Consequently,
such types do not make much sense as module local - module local types are not
accessible by other modules anyway - and is always to be exported.</p><p>Read more on <a href="opaques.html">Opaques</a></p><p><a href="" id="typeinrecords"></a></p><h2 id="type-information-in-record-declarations" class="section-heading">
  <a href="#type-information-in-record-declarations" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Type Information in Record Declarations</span>
</h2>
<p>The types of record fields can be specified in the declaration of the record.
The syntax for this is as follows:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">record</span><span class="p" data-group-id="7430687708-1">(</span><span class="ss">rec</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7430687708-2">{</span><span class="ss">field1</span><span class="w"> </span><span class="p">:</span><span class="p">:</span><span class="w"> </span><span class="n">Type1</span><span class="p">,</span><span class="w"> </span><span class="ss">field2</span><span class="p">,</span><span class="w"> </span><span class="ss">field3</span><span class="w"> </span><span class="p">:</span><span class="p">:</span><span class="w"> </span><span class="n">Type3</span><span class="p" data-group-id="7430687708-2">}</span><span class="p" data-group-id="7430687708-1">)</span><span class="p">.</span></code></pre><p>For fields without type annotations, their type defaults to <code class="inline">any()</code>. That is, the
previous example is a shorthand for the following:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">record</span><span class="p" data-group-id="6634210638-1">(</span><span class="ss">rec</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6634210638-2">{</span><span class="ss">field1</span><span class="w"> </span><span class="p">:</span><span class="p">:</span><span class="w"> </span><span class="n">Type1</span><span class="p">,</span><span class="w"> </span><span class="ss">field2</span><span class="w"> </span><span class="p">:</span><span class="p">:</span><span class="w"> </span><span class="nf">any</span><span class="p" data-group-id="6634210638-3">(</span><span class="p" data-group-id="6634210638-3">)</span><span class="p">,</span><span class="w"> </span><span class="ss">field3</span><span class="w"> </span><span class="p">:</span><span class="p">:</span><span class="w"> </span><span class="n">Type3</span><span class="p" data-group-id="6634210638-2">}</span><span class="p" data-group-id="6634210638-1">)</span><span class="p">.</span></code></pre><p>In the presence of initial values for fields, the type must be declared after
the initialization, as follows:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">record</span><span class="p" data-group-id="9363019601-1">(</span><span class="ss">rec</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9363019601-2">{</span><span class="ss">field1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="9363019601-3">[</span><span class="p" data-group-id="9363019601-3">]</span><span class="w"> </span><span class="p">:</span><span class="p">:</span><span class="w"> </span><span class="n">Type1</span><span class="p">,</span><span class="w"> </span><span class="ss">field2</span><span class="p">,</span><span class="w"> </span><span class="ss">field3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">42</span><span class="w"> </span><span class="p">:</span><span class="p">:</span><span class="w"> </span><span class="n">Type3</span><span class="p" data-group-id="9363019601-2">}</span><span class="p" data-group-id="9363019601-1">)</span><span class="p">.</span></code></pre><p>The initial values for fields are to be compatible with (that is, a member of)
the corresponding types. This is checked by the compiler and results in a
compilation error if a violation is detected.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Change</h4><p>Before Erlang/OTP 19, for fields without initial values, the singleton type
<code class="inline">'undefined'</code> was added to all declared types. In other words, the following
two record declarations had identical effects:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">record</span><span class="p" data-group-id="3443133614-1">(</span><span class="ss">rec</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3443133614-2">{</span><span class="ss">f1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">42</span><span class="w"> </span><span class="p">:</span><span class="p">:</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="3443133614-3">(</span><span class="p" data-group-id="3443133614-3">)</span><span class="p">,</span><span class="w">
             </span><span class="ss">f2</span><span class="w">      </span><span class="p">:</span><span class="p">:</span><span class="w"> </span><span class="nf">float</span><span class="p" data-group-id="3443133614-4">(</span><span class="p" data-group-id="3443133614-4">)</span><span class="p">,</span><span class="w">
             </span><span class="ss">f3</span><span class="w">      </span><span class="p">:</span><span class="p">:</span><span class="w"> </span><span class="ss">&#39;a&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="ss">&#39;b&#39;</span><span class="p" data-group-id="3443133614-2">}</span><span class="p" data-group-id="3443133614-1">)</span><span class="p">.</span><span class="w">
</span><span class="w">
</span><span class="p">-</span><span class="na">record</span><span class="p" data-group-id="3443133614-5">(</span><span class="ss">rec</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3443133614-6">{</span><span class="ss">f1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">42</span><span class="w"> </span><span class="p">:</span><span class="p">:</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="3443133614-7">(</span><span class="p" data-group-id="3443133614-7">)</span><span class="p">,</span><span class="w">
              </span><span class="ss">f2</span><span class="w">      </span><span class="p">:</span><span class="p">:</span><span class="w"> </span><span class="ss">&#39;undefined&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">float</span><span class="p" data-group-id="3443133614-8">(</span><span class="p" data-group-id="3443133614-8">)</span><span class="p">,</span><span class="w">
              </span><span class="ss">f3</span><span class="w">      </span><span class="p">:</span><span class="p">:</span><span class="w"> </span><span class="ss">&#39;undefined&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="ss">&#39;a&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="ss">&#39;b&#39;</span><span class="p" data-group-id="3443133614-6">}</span><span class="p" data-group-id="3443133614-5">)</span><span class="p">.</span></code></pre><p>This is no longer the case. If you require <code class="inline">'undefined'</code> in your record field
type, you must explicitly add it to the typespec, as in the 2nd example.</p></section><p>Any record, containing type information or not, once defined, can be used as a
type using the following syntax:</p><pre><code class="text">#rec{}</code></pre><p>In addition, the record fields can be further specified when using a record type
by adding type information about the field as follows:</p><pre><code class="text">#rec{some_field :: Type}</code></pre><p>Any unspecified fields are assumed to have the type in the original record
declaration.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>When records are used to create patterns for ETS and Mnesia match functions,
Dialyzer may need some help not to emit bad warnings. For example:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">type</span><span class="w"> </span><span class="nf">height</span><span class="p" data-group-id="1310401013-1">(</span><span class="p" data-group-id="1310401013-1">)</span><span class="w"> </span><span class="p">:</span><span class="p">:</span><span class="w"> </span><span class="nf">pos_integer</span><span class="p" data-group-id="1310401013-2">(</span><span class="p" data-group-id="1310401013-2">)</span><span class="p">.</span><span class="w">
</span><span class="p">-</span><span class="na">record</span><span class="p" data-group-id="1310401013-3">(</span><span class="ss">person</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1310401013-4">{</span><span class="ss">name</span><span class="w"> </span><span class="p">:</span><span class="p">:</span><span class="w"> </span><span class="nf">string</span><span class="p" data-group-id="1310401013-5">(</span><span class="p" data-group-id="1310401013-5">)</span><span class="p">,</span><span class="w"> </span><span class="ss">height</span><span class="w"> </span><span class="p">:</span><span class="p">:</span><span class="w"> </span><span class="nf">height</span><span class="p" data-group-id="1310401013-6">(</span><span class="p" data-group-id="1310401013-6">)</span><span class="p" data-group-id="1310401013-4">}</span><span class="p" data-group-id="1310401013-3">)</span><span class="p">.</span><span class="w">

</span><span class="nf">lookup</span><span class="p" data-group-id="1310401013-7">(</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="n">Tab</span><span class="p" data-group-id="1310401013-7">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nc">ets</span><span class="p">:</span><span class="nf">match_object</span><span class="p" data-group-id="1310401013-8">(</span><span class="n">Tab</span><span class="p">,</span><span class="w"> </span><span class="o">#</span><span class="ss">person</span><span class="p" data-group-id="1310401013-9">{</span><span class="ss">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="p">_</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&#39;_&#39;</span><span class="p" data-group-id="1310401013-9">}</span><span class="p" data-group-id="1310401013-8">)</span><span class="p">.</span></code></pre><p>Dialyzer will emit a warning since <code class="inline">'_'</code> is not in the type of record field
<code class="inline">height</code>.</p><p>The recommended way of dealing with this is to declare the smallest record
field types to accommodate all your needs, and then create refinements as
needed. The modified example:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">record</span><span class="p" data-group-id="8107178594-1">(</span><span class="ss">person</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8107178594-2">{</span><span class="ss">name</span><span class="w"> </span><span class="p">:</span><span class="p">:</span><span class="w"> </span><span class="nf">string</span><span class="p" data-group-id="8107178594-3">(</span><span class="p" data-group-id="8107178594-3">)</span><span class="p">,</span><span class="w"> </span><span class="ss">height</span><span class="w"> </span><span class="p">:</span><span class="p">:</span><span class="w"> </span><span class="nf">height</span><span class="p" data-group-id="8107178594-4">(</span><span class="p" data-group-id="8107178594-4">)</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="ss">&#39;_&#39;</span><span class="p" data-group-id="8107178594-2">}</span><span class="p" data-group-id="8107178594-1">)</span><span class="p">.</span><span class="w">
</span><span class="w">
</span><span class="p">-</span><span class="na">type</span><span class="w"> </span><span class="nf">person</span><span class="p" data-group-id="8107178594-5">(</span><span class="p" data-group-id="8107178594-5">)</span><span class="w"> </span><span class="p">:</span><span class="p">:</span><span class="w"> </span><span class="o">#</span><span class="ss">person</span><span class="p" data-group-id="8107178594-6">{</span><span class="ss">height</span><span class="w"> </span><span class="p">:</span><span class="p">:</span><span class="w"> </span><span class="nf">height</span><span class="p" data-group-id="8107178594-7">(</span><span class="p" data-group-id="8107178594-7">)</span><span class="p" data-group-id="8107178594-6">}</span><span class="p">.</span></code></pre><p>In specifications and type declarations the type <code class="inline">person()</code> is to be preferred
before <code class="inline">#person{}</code>.</p></section><h2 id="specifications-for-functions" class="section-heading">
  <a href="#specifications-for-functions" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Specifications for Functions</span>
</h2>
<p>A specification (or contract) for a function is given using the <code class="inline">-spec</code>
attribute. The general format is as follows:</p><pre><code class="text">-spec Function(ArgType1, ..., ArgTypeN) -&gt; ReturnType.</code></pre><p>An implementation of the function with the same name <code class="inline">Function</code> must exist in
the current module, and the arity of the function must match the number of
arguments, otherwise the compilation fails.</p><p>The following longer format with module name is also valid as long as <code class="inline">Module</code>
is the name of the current module. This can be useful for documentation
purposes.</p><pre><code class="text">-spec Module:Function(ArgType1, ..., ArgTypeN) -&gt; ReturnType.</code></pre><p>Also, for documentation purposes, argument names can be given:</p><pre><code class="text">-spec Function(ArgName1 :: Type1, ..., ArgNameN :: TypeN) -&gt; RT.</code></pre><p>A function specification can be overloaded. That is, it can have several types,
separated by a semicolon (<code class="inline">;</code>). For example:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">spec</span><span class="w"> </span><span class="nf">foo</span><span class="p" data-group-id="2055631923-1">(</span><span class="n">T1</span><span class="p">,</span><span class="w"> </span><span class="n">T2</span><span class="p" data-group-id="2055631923-1">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">T3</span><span class="p">;</span><span class="w">
         </span><span class="p" data-group-id="2055631923-2">(</span><span class="n">T4</span><span class="p">,</span><span class="w"> </span><span class="n">T5</span><span class="p" data-group-id="2055631923-2">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">T6</span><span class="p">.</span></code></pre><p>A current restriction, which currently results in a warning by Dialyzer, is that
the domains of the argument types cannot overlap. For example, the following
specification results in a warning:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">spec</span><span class="w"> </span><span class="nf">foo</span><span class="p" data-group-id="8664232351-1">(</span><span class="nf">pos_integer</span><span class="p" data-group-id="8664232351-2">(</span><span class="p" data-group-id="8664232351-2">)</span><span class="p" data-group-id="8664232351-1">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nf">pos_integer</span><span class="p" data-group-id="8664232351-3">(</span><span class="p" data-group-id="8664232351-3">)</span><span class="p">;</span><span class="w">
         </span><span class="p" data-group-id="8664232351-4">(</span><span class="nf">integer</span><span class="p" data-group-id="8664232351-5">(</span><span class="p" data-group-id="8664232351-5">)</span><span class="p" data-group-id="8664232351-4">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="8664232351-6">(</span><span class="p" data-group-id="8664232351-6">)</span><span class="p">.</span></code></pre><p>Type variables can be used in specifications to specify relations for the input
and output arguments of a function. For example, the following specification
defines the type of a polymorphic identity function:</p><pre><code class="text">-spec id(X) -&gt; X.</code></pre><p>Notice that the above specification does not restrict the input and output type
in any way. These types can be constrained by guard-like subtype constraints and
provide bounded quantification:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">spec</span><span class="w"> </span><span class="nf">id</span><span class="p" data-group-id="8421316667-1">(</span><span class="n">X</span><span class="p" data-group-id="8421316667-1">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">X</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="n">X</span><span class="w"> </span><span class="p">:</span><span class="p">:</span><span class="w"> </span><span class="nf">tuple</span><span class="p" data-group-id="8421316667-2">(</span><span class="p" data-group-id="8421316667-2">)</span><span class="p">.</span></code></pre><p>Currently, the <code class="inline">::</code> constraint (read as &quot;is a subtype of&quot;) is the only guard
constraint that can be used in the <code class="inline">when</code> part of a <code class="inline">-spec</code> attribute.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>The above function specification uses multiple occurrences of the same type
variable. That provides more type information than the following function
specification, where the type variables are missing:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">spec</span><span class="w"> </span><span class="nf">id</span><span class="p" data-group-id="8171481264-1">(</span><span class="nf">tuple</span><span class="p" data-group-id="8171481264-2">(</span><span class="p" data-group-id="8171481264-2">)</span><span class="p" data-group-id="8171481264-1">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nf">tuple</span><span class="p" data-group-id="8171481264-3">(</span><span class="p" data-group-id="8171481264-3">)</span><span class="p">.</span></code></pre><p>The latter specification says that the function takes some tuple and returns
some tuple. The specification with the <code class="inline">X</code> type variable specifies that the
function takes a tuple and returns <em>the same</em> tuple.</p><p>However, it is up to the tools that process the specifications to choose
whether to take this extra information into account or not.</p></section><p>The scope of a <code class="inline">::</code> constraint is the <code class="inline">(...) -&gt; RetType</code> specification after
which it appears. To avoid confusion, it is suggested that different variables
are used in different constituents of an overloaded contract, as shown in the
following example:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">spec</span><span class="w"> </span><span class="nf">foo</span><span class="p" data-group-id="0529091748-1">(</span><span class="p" data-group-id="0529091748-2">{</span><span class="n">X</span><span class="p">,</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="0529091748-3">(</span><span class="p" data-group-id="0529091748-3">)</span><span class="p" data-group-id="0529091748-2">}</span><span class="p" data-group-id="0529091748-1">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">X</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="n">X</span><span class="w"> </span><span class="p">:</span><span class="p">:</span><span class="w"> </span><span class="nf">atom</span><span class="p" data-group-id="0529091748-4">(</span><span class="p" data-group-id="0529091748-4">)</span><span class="p">;</span><span class="w">
         </span><span class="p" data-group-id="0529091748-5">(</span><span class="p" data-group-id="0529091748-6">[</span><span class="n">Y</span><span class="p" data-group-id="0529091748-6">]</span><span class="p" data-group-id="0529091748-5">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">Y</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="n">Y</span><span class="w"> </span><span class="p">:</span><span class="p">:</span><span class="w"> </span><span class="nf">number</span><span class="p" data-group-id="0529091748-7">(</span><span class="p" data-group-id="0529091748-7">)</span><span class="p">.</span></code></pre><p>Some functions in Erlang are not meant to return; either because they define
servers or because they are used to throw exceptions, as in the following
function:</p><pre><code class="makeup erlang" translate="no"><span class="nf">my_error</span><span class="p" data-group-id="4165519856-1">(</span><span class="n">Err</span><span class="p" data-group-id="4165519856-1">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nf">throw</span><span class="p" data-group-id="4165519856-2">(</span><span class="p" data-group-id="4165519856-3">{</span><span class="ss">error</span><span class="p">,</span><span class="w"> </span><span class="n">Err</span><span class="p" data-group-id="4165519856-3">}</span><span class="p" data-group-id="4165519856-2">)</span><span class="p">.</span></code></pre><p>For such functions, it is recommended to use the special <a href="../apps/erts/erlang.html#t:no_return/0"><code class="inline">no_return/0</code></a> type
for their &quot;return&quot;, through a contract of the following form:</p><pre><code class="text">-spec my_error(term()) -&gt; no_return().</code></pre><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>Erlang uses the shorthand version <code class="inline">_</code> as an anonymous type variable equivalent
to <a href="../apps/erts/erlang.html#t:term/0"><code class="inline">term/0</code></a> or <a href="../apps/erts/erlang.html#t:any/0"><code class="inline">any/0</code></a>. For example, the following function</p><pre><code class="text">-spec Function(string(), _) -&gt; string().</code></pre><p>is equivalent to:</p><pre><code class="text">-spec Function(string(), any()) -&gt; string().</code></pre></section>
</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

      <a href="ref_man_functions.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
Functions
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="opaques.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
Opaques
        </span>
      </a>

  </div>
</div>
    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="Erlang System Documentation.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.37.3) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>
<p>Copyright © 1996-2025 <a href="https://www.ericsson.com">Ericsson AB</a></p>
    </footer>
  </div>
</main>
</div>
  <script defer src="https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.min.js"></script>
  <script>
  let initialized = false;

  window.addEventListener("exdoc:loaded", () => {
      if (!initialized) {
      mermaid.initialize({
          startOnLoad: false,
          theme: document.body.className.includes("dark") ? "dark" : "default"
      });
      initialized = true;
      }

      let id = 0;
      for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
          graphEl.innerHTML = svg;
          bindFunctions?.(graphEl);
          preEl.insertAdjacentElement("afterend", graphEl);
          preEl.remove();
      });
      }
  });
  </script>

  </body>
</html>
