---
layout: patch
name: 21.2
release: 21
html_url: https://github.com/erlang/otp/releases/tag/OTP-21.2
published_at: 2018-12-11T11:38:54Z
tag_name: OTP-21.2
src: https://github.com/erlang/otp/releases/download/OTP-21.2/otp_src_21.2.tar.gz
erlang_download_readme: https://erlang.org/download/otp_src_21.2.readme
readme: https://github.com/erlang/otp/releases/download/OTP-21.2/OTP-21.2.README
html: https://github.com/erlang/otp/releases/download/OTP-21.2/otp_doc_html_21.2.tar.gz
man: https://github.com/erlang/otp/releases/download/OTP-21.2/otp_doc_man_21.2.tar.gz
win32_exe: https://github.com/erlang/otp/releases/download/OTP-21.2/otp_win32_21.2.exe
win32_zip: https://github.com/erlang/otp/releases/download/OTP-21.2/otp_win32_21.2.zip
win64_exe: https://github.com/erlang/otp/releases/download/OTP-21.2/otp_win64_21.2.exe
win64_zip: https://github.com/erlang/otp/releases/download/OTP-21.2/otp_win64_21.2.zip
Applications:
  HIGHLIGHTS:
    pre: ""
    post: ""
    mode: "txt"
    tickets:
      OTP-13468:
        release_note: "New counters and atomics modules supplies access to highly efficient operations on mutable fixed word sized variables.\n\n"
        Applications: "erts, sasl"
      OTP-14669:
        release_note: "There is a new module persistent_term that implements a term storage suitable for terms that are frequently used but never or infrequently updated. Lookups are done in constant time without copying the terms.\n\n"
        Applications: "erts"
        RelatedIds: "PR-1989"
      OTP-15094:
        release_note: "Added public key methods ssh-ed25519 and ssh-ed448.\n\nRequires OpenSSL 1.1.1 or higher as cryptolib under the OTP application crypto.\n\n"
        Applications: "ssh"
        RelatedIds: "OTP-15419"
      OTP-15449:
        release_note: "*** POTENTIAL INCOMPATIBILITY ***\n\nssl now uses active n internally to boost performance. Old active once behavior can be restored by setting application variable see manual page for ssl application (man 6).\n\n"
        Applications: "ssl"
      OTP-15475:
        release_note: "Add a new pollset that is made to handle sockets that use {active, true} or {active, N}. The new pollset will not be polled by a pollthread, but instead polled by a normal scheduler.\n\nThis change was made because of the overhead associated with constantly having to re-apply the ONESHOT mechanism on fds that all input events were interesting.\n\nThe new pollset is only active on platforms that support concurrent kernel poll updates, i.e. Linux and BSD.\n\n"
        Applications: "erts"
        RelatedIds: "ERIERL-229"
  POTENTIALINCOMPATIBILITIES:
    pre: ""
    post: ""
    mode: "txt"
    tickets:
      OTP-15364:
        release_note: "A new function, logger:update_handler_config/3 is added, and the handler callback changing_config now has a new argument, SetOrUpdate, which indicates if the configuration change comes from set_handler_config/2,3 or update_handler_config/2,3.\n\nThis allows the handler to consistently merge the new configuration with the old (if the change comes from update_handler_config/2,3) or with the default (if the change comes from set_handler_config/2,3).\n\nThe built-in handlers logger_std_h and logger_disk_log_h are updated accordingly. A bug which could cause inconsistency between the handlers' internal state and the stored configuration is also corrected.\n\n"
        Applications: "kernel"
      OTP-15449:
        release_note: "*** HIGHLIGHT ***\n\nssl now uses active n internally to boost performance. Old active once behavior can be restored by setting application variable see manual page for ssl application (man 6).\n\n"
        Applications: "ssl"
  asn1-5.0.8:
    pre: "The asn1-5.0.8 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of asn1-5.0.8: erts-7.0, kernel-3.0,\n stdlib-2.0"
    mode: "txt"
    tickets:
      OTP-15470:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Handle erroneous length during decode (BER only) without crashing.\n\n"
        Applications: "asn1"
        RelatedIds: "ERIERL-278"
  compiler-7.3:
    pre: "The compiler-7.3 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of compiler-7.3: crypto-3.6, erts-9.0,\n hipe-3.12, kernel-4.0, stdlib-2.5"
    mode: "txt"
    tickets:
      OTP-15400:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fixed a rare internal consistency failure caused by a bug in the beam_jump pass. (Thanks to Simon Cornish for reporting this bug.)\n\n"
        Applications: "compiler"
        RelatedIds: "ERL-759"
      OTP-15435:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "The compiler could fail with an internal consistency check failure when compiling code that used the is_function/2 BIF.\n\n"
        Applications: "compiler"
        RelatedIds: "ERL-778"
      OTP-15437:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "When an external fun was used, warnings for unused variables could be suppressed.\n\n"
        Applications: "compiler, stdlib"
        RelatedIds: "ERL-762"
      OTP-15481:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "The compiler would crash when compiling an after block that called erlang:raise/3 like this: erlang:raise(Class, Stacktrace, Stacktrace)\n\n"
        Applications: "compiler"
      OTP-15245:
        type: " --- Improvements and New Features ---"
        release_note: "When specified, the +{source,Name} option will now override the actual file name in stack traces, instead of only affecting the return value of Mod:module_info().\n\nThe +deterministic flag will also affect stack traces now, omitting all path information except the file name, fixing a long-standing issue where deterministic builds required deterministic paths.\n\n"
        Applications: "compiler, stdlib"
        RelatedIds: "ERL-706"
  crypto-4.4:
    pre: "The crypto-4.4 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of crypto-4.4: erts-9.0, kernel-5.3,\n stdlib-3.4"
    mode: "txt"
    tickets:
      OTP-15302:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Updated the RSA options part in the crypto application's C-code, documentation and tests.\n\n"
        Applications: "crypto"
      OTP-15419:
        type: " --- Improvements and New Features ---"
        release_note: "Added ed25519 and ed448 sign/verify.\n\nRequires OpenSSL 1.1.1 or higher as cryptolib under the OTP application crypto.\n\n"
        Applications: "crypto, public_key"
        RelatedIds: "OTP-15094"
      OTP-15467:
        type: " --- Improvements and New Features ---"
        release_note: "Fixed valgrind warnings.\n\n"
        Applications: "crypto"
  erts-10.2:
    pre: "Note! The erts-10.2 application can *not* be applied independently of\n       other applications on an arbitrary OTP 21 installation.\n\n       On a full OTP 21 installation, also the following runtime\n       dependencies have to be satisfied:\n       -- kernel-6.1 (first satisfied in OTP 21.1)\n       -- sasl-3.3 (first satisfied in OTP 21.2)"
    post: "Full runtime dependencies of erts-10.2: kernel-6.1, sasl-3.3,\n stdlib-3.5"
    mode: "txt"
    tickets:
      OTP-12242:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "When a process was waiting for a TCP socket send operation to complete, and another process closed the socket during that send, the sending process could hang. This bug has now been corrected.\n\n"
        Applications: "erts"
        RelatedIds: "ERL-561"
      OTP-15343:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Document bit_size in match specifications and allow it in ets:fun2ms.\n\n"
        Applications: "erts, stdlib"
        RelatedIds: "PR-1962"
      OTP-15346:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fixed bug in ets:select_replace when called with a fully bound key could cause a following call to ets:next or ets:prev to crash the emulator or return invalid result.\n\n"
        Applications: "erts"
      OTP-15360:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "When a module has been purged from memory, any literals belonging to that module will be copied to all processes that hold references to them. The max heap size limit would be ignored in the garbage collection initiated when copying literals to a process. If the max heap size was exceeded, the process would typically be terminated in the following garbage collection. Corrected to terminate the process directly if copying a literal would exceed the max heap size.\n\n"
        Applications: "erts"
      OTP-15389:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix compilation of run_erl on Solaris 11.4 and later.\n\n"
        Applications: "erts"
      OTP-15436:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fixed a bug where lists:reverse/1-2 could use far too many reductions. This bug was introduced in OTP 21.1.\n\n"
        Applications: "erts"
      OTP-15446:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fixed a bug where a dirty scheduler could stay awake forever if a distribution entry was removed as part of a dirty GC.\n\n"
        Applications: "erts"
        RelatedIds: "PR-2024"
      OTP-15450:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix microstate accounting handing in various places. Most importantly the GC states when the GC is run on a dirty scheduler are now managed correctly.\n\n"
        Applications: "erts"
        RelatedIds: "ERIERL-229"
      OTP-15461:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fixed bug in file:sendfile when the send operation failed. For sockets in active modes it could cause emulator crash or a hanging call. For sockets with {active,false} an unexpected {inet_reply, _, _} message could be sent to the calling process. The bug exists since OTP-21.0.\n\n"
        Applications: "erts"
        RelatedIds: "ERL-784"
      OTP-15465:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "The erts configure script has been updated to reject any CFLAGS that does not have -O. This in order to prevent the common mistake of forgetting to add -O2 to custom CFLAGS.\n\n"
        Applications: "erts"
      OTP-15474:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix reduction count in lists:member/2\n\n"
        Applications: "erts, stdlib"
        RelatedIds: "ERIERL-229"
      OTP-13468:
        type: " --- Improvements and New Features ---"
        release_note: "*** HIGHLIGHT ***\n\nNew counters and atomics modules supplies access to highly efficient operations on mutable fixed word sized variables.\n\n"
        Applications: "erts, sasl"
      OTP-14669:
        type: " --- Improvements and New Features ---"
        release_note: "*** HIGHLIGHT ***\n\nThere is a new module persistent_term that implements a term storage suitable for terms that are frequently used but never or infrequently updated. Lookups are done in constant time without copying the terms.\n\n"
        Applications: "erts"
        RelatedIds: "PR-1989"
      OTP-15121:
        type: " --- Improvements and New Features ---"
        release_note: "A function inet:getifaddrs/1 that takes a list with a namespace option has been added, for platforms that support that feature, for example Linux (only?).\n\n"
        Applications: "erts, kernel"
        RelatedIds: "ERIERL-189, PR-1974"
      OTP-15357:
        type: " --- Improvements and New Features ---"
        release_note: "Added the nopush option for TCP sockets, which corresponds to TCP_NOPUSH on *BSD and TCP_CORK on Linux.\n\nThis is also used internally in file:sendfile to reduce latency on subsequent send operations.\n\n"
        Applications: "erts, kernel"
        RelatedIds: "ERL-698"
      OTP-15371:
        type: " --- Improvements and New Features ---"
        release_note: "List subtraction (The -- operator) will now yield properly on large inputs.\n\n"
        Applications: "erts, stdlib"
      OTP-15471:
        type: " --- Improvements and New Features ---"
        release_note: "Optimize handling of send_delay for tcp sockes to better work with the new pollthread implementation introduced in OTP-21.\n\n"
        Applications: "erts, kernel"
        RelatedIds: "ERIERL-229"
      OTP-15472:
        type: " --- Improvements and New Features ---"
        release_note: "Optimize driver_set_timer with a zero timeout to short-circuit and not create any timer structure, but instead schedule the timer immediately.\n\n"
        Applications: "erts"
        RelatedIds: "ERIERL-229"
      OTP-15473:
        type: " --- Improvements and New Features ---"
        release_note: "Add erl_xcomp_code_model_small as a cross configure variable in order to let the emulator be build with the assumption that a small code model will be used on the target machine.\n\n"
        Applications: "erts"
        RelatedIds: "ERIERL-229"
      OTP-15475:
        type: " --- Improvements and New Features ---"
        release_note: "*** HIGHLIGHT ***\n\nAdd a new pollset that is made to handle sockets that use {active, true} or {active, N}. The new pollset will not be polled by a pollthread, but instead polled by a normal scheduler.\n\nThis change was made because of the overhead associated with constantly having to re-apply the ONESHOT mechanism on fds that all input events were interesting.\n\nThe new pollset is only active on platforms that support concurrent kernel poll updates, i.e. Linux and BSD.\n\n"
        Applications: "erts"
        RelatedIds: "ERIERL-229"
      OTP-15478:
        type: " --- Improvements and New Features ---"
        release_note: "Fix bug where emulator would segfault if a literal message was sent when sequence tracing was enabled.\n\n"
        Applications: "erts"
        RelatedIds: "ERL-741"
  et-1.6.4:
    pre: "The et-1.6.4 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of et-1.6.4: erts-9.0, kernel-5.3,\n runtime_tools-1.10, stdlib-3.4, wx-1.2"
    mode: "txt"
    tickets:
      OTP-15463:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "The scroll bar of the et_viewer window could not be dragged all the way to the top of the window. It would always stop at the second event. This is now corrected.\n\n"
        Applications: "et"
        RelatedIds: "ERL-780"
  hipe-3.18.2:
    pre: "The hipe-3.18.2 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of hipe-3.18.2: compiler-5.0, erts-9.3,\n kernel-5.3, stdlib-3.4, syntax_tools-1.6.14"
    mode: "txt"
    tickets:
      OTP-15482:
        type: " --- Improvements and New Features ---"
        release_note: "The code was updated to avoid causing a dialyzer warning because of a tightened spec for beam_lib:info/1.\n\n"
        Applications: "hipe"
  inets-7.0.3:
    pre: "The inets-7.0.3 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of inets-7.0.3: erts-6.0, kernel-3.0,\n mnesia-4.12, runtime_tools-1.8.14, ssl-5.3.4, stdlib-3.5"
    mode: "txt"
    tickets:
      OTP-15338:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fixed http client to not send 'content-length' header in chunked encoded requests.\n\n"
        Applications: "inets"
        RelatedIds: "ERL-733"
      OTP-15339:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fixed http client to not drop explicit 'Content-Type' header in requests without a body such as requests with the 'Content-Type' of application/x-www-form-urlencoded.\n\n"
        Applications: "inets"
        RelatedIds: "ERL-736"
  kernel-6.2:
    pre: "Note! The kernel-6.2 application can *not* be applied independently\n       of other applications on an arbitrary OTP 21 installation.\n\n       On a full OTP 21 installation, also the following runtime\n       dependency has to be satisfied:\n       -- erts-10.1 (first satisfied in OTP 21.1)"
    post: "Full runtime dependencies of kernel-6.2: erts-10.1, sasl-3.0,\n stdlib-3.5"
    mode: "txt"
    tickets:
      OTP-15364:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "*** POTENTIAL INCOMPATIBILITY ***\n\nA new function, logger:update_handler_config/3 is added, and the handler callback changing_config now has a new argument, SetOrUpdate, which indicates if the configuration change comes from set_handler_config/2,3 or update_handler_config/2,3.\n\nThis allows the handler to consistently merge the new configuration with the old (if the change comes from update_handler_config/2,3) or with the default (if the change comes from set_handler_config/2,3).\n\nThe built-in handlers logger_std_h and logger_disk_log_h are updated accordingly. A bug which could cause inconsistency between the handlers' internal state and the stored configuration is also corrected.\n\n"
        Applications: "kernel"
      OTP-15388:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix fallback when custom erl_epmd client does not implement address_please.\n\n"
        Applications: "kernel"
        RelatedIds: "PR-1983"
      OTP-15453:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "The logger ets table did not have the read_concurrency option. This is now added.\n\n"
        Applications: "kernel"
        RelatedIds: "ERL-782"
      OTP-15466:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "During system start, logger has a simple handler which prints to stdout. After the kernel supervision is started, this handler is removed and replaced by the default handler. Due to a bug, logger earlier issued a debug printout saying it received an unexpected message, which was the EXIT message from the simple handler's process. This is now corrected. The simple handler's process now unlinks from the logger process before terminating.\n\n"
        Applications: "kernel"
        RelatedIds: "ERL-788"
      OTP-15469:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "The logger handler logger_std_h would not re-create it's log file if it was removed. Due to this it could not be used with tools like 'logrotate'. This is now corrected.\n\n"
        Applications: "kernel"
      OTP-15121:
        type: " --- Improvements and New Features ---"
        release_note: "A function inet:getifaddrs/1 that takes a list with a namespace option has been added, for platforms that support that feature, for example Linux (only?).\n\n"
        Applications: "erts, kernel"
        RelatedIds: "ERIERL-189, PR-1974"
      OTP-15357:
        type: " --- Improvements and New Features ---"
        release_note: "Added the nopush option for TCP sockets, which corresponds to TCP_NOPUSH on *BSD and TCP_CORK on Linux.\n\nThis is also used internally in file:sendfile to reduce latency on subsequent send operations.\n\n"
        Applications: "erts, kernel"
        RelatedIds: "ERL-698"
      OTP-15471:
        type: " --- Improvements and New Features ---"
        release_note: "Optimize handling of send_delay for tcp sockes to better work with the new pollthread implementation introduced in OTP-21.\n\n"
        Applications: "erts, kernel"
        RelatedIds: "ERIERL-229"
  observer-2.8.2:
    pre: "The observer-2.8.2 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of observer-2.8.2: erts-7.0, et-1.5,\n kernel-3.0, runtime_tools-1.8.14, stdlib-3.5, wx-1.2"
    mode: "txt"
    tickets:
      OTP-15365:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Literals such as #{\"one\"=>1} dumped to a crash dump would cause crashdump_viewer to crash.\n\n"
        Applications: "observer"
        RelatedIds: "ERL-722"
      OTP-15377:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "crashdump_viewer would sometimes crash when processing a dump which was truncated in the literals area. This is now corrected.\n\n"
        Applications: "observer"
      OTP-15391:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Since OTP-20.2, crashdump_viewer was very slow when opening a crash dump with many processes. An ets:select per process could be removed, which improved the performance a lot.\n\nA bug when parsing heap data in a crashdump caused crashdump_viewer to crash when multiple Yc lines referenced the same reference counted binary. This is now corrected.\n\n"
        Applications: "observer"
  os_mon-2.4.7:
    pre: "The os_mon-2.4.7 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of os_mon-2.4.7: erts-6.0, kernel-3.0,\n mnesia-4.12, otp_mibs-1.0.9, sasl-2.4, snmp-4.25.1, stdlib-2.0"
    mode: "txt"
    tickets:
      OTP-15387:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Due to /proc restrictions in newer Android releases enforced by SELinux, cpu_sup is fixed so that it gets some basic CPU stats using the sysinfo syscall rather than reading /proc/loadavg.\n\n"
        Applications: "os_mon"
        RelatedIds: "PR-1966"
  public_key-1.6.4:
    pre: "The public_key-1.6.4 application can be applied independently of\n other applications on a full OTP 21 installation."
    post: "Full runtime dependencies of public_key-1.6.4: asn1-3.0, crypto-3.8,\n erts-6.0, kernel-3.0, stdlib-3.5"
    mode: "txt"
    tickets:
      OTP-15419:
        type: " --- Improvements and New Features ---"
        release_note: "Added ed25519 and ed448 sign/verify.\n\nRequires OpenSSL 1.1.1 or higher as cryptolib under the OTP application crypto.\n\n"
        Applications: "crypto, public_key"
        RelatedIds: "OTP-15094"
  reltool-0.7.8:
    pre: "The reltool-0.7.8 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of reltool-0.7.8: erts-7.0, kernel-3.0,\n sasl-2.4, stdlib-3.4, tools-2.6.14, wx-1.2"
    mode: "txt"
    tickets:
      OTP-15454:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Reltool would earlier erroneously split paths like \"c:\\foo\" into [\"c\",\"\\foo\"] when reading the $ERL_LIBS variable on windows. This is now corrected.\n\n"
        Applications: "reltool"
  sasl-3.3:
    pre: "Note! The sasl-3.3 application can *not* be applied independently of\n       other applications on an arbitrary OTP 21 installation.\n\n       On a full OTP 21 installation, also the following runtime\n       dependency has to be satisfied:\n       -- erts-10.2 (first satisfied in OTP 21.2)"
    post: "Full runtime dependencies of sasl-3.3: erts-10.2, kernel-5.3,\n stdlib-3.4, tools-2.6.14"
    mode: "txt"
    tickets:
      OTP-13468:
        type: " --- Improvements and New Features ---"
        release_note: "*** HIGHLIGHT ***\n\nNew counters and atomics modules supplies access to highly efficient operations on mutable fixed word sized variables.\n\n"
        Applications: "erts, sasl"
  ssh-4.7.2:
    pre: "The ssh-4.7.2 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of ssh-4.7.2: crypto-4.2, erts-6.0,\n kernel-3.0, public_key-1.5.2, stdlib-3.3"
    mode: "txt"
    tickets:
      OTP-15413:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Incompatibility with newer OpenSSH fixed. Previously versions 7.8 and later could cause Erlang SSH to exit.\n\n"
        Applications: "ssh"
      OTP-15416:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "The 'exec' option for ssh daemons had wrong format in the documentation.\n\n"
        Applications: "ssh"
      OTP-15094:
        type: " --- Improvements and New Features ---"
        release_note: "*** HIGHLIGHT ***\n\nAdded public key methods ssh-ed25519 and ssh-ed448.\n\nRequires OpenSSL 1.1.1 or higher as cryptolib under the OTP application crypto.\n\n"
        Applications: "ssh"
        RelatedIds: "OTP-15419"
      OTP-15312:
        type: " --- Improvements and New Features ---"
        release_note: "The SSH property tests are now adapted to the PropEr testing tool.\n\n"
        Applications: "ssh"
      OTP-15314:
        type: " --- Improvements and New Features ---"
        release_note: "The term \"user\" was not documented in the SSH app. A new chapter with terminology is added to the User's Manual where the term \"user\" is defined.\n\nA reference manual page about the module ssh_file is also added. This is the default callback module for user's keys, host keys etc.\n\n"
        Applications: "ssh"
      OTP-15424:
        type: " --- Improvements and New Features ---"
        release_note: "Host and user key checking is made more robust.\n\n"
        Applications: "ssh"
  ssl-9.1:
    pre: "The ssl-9.1 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of ssl-9.1: crypto-4.2, erts-10.0,\n inets-5.10.7, kernel-6.0, public_key-1.5, stdlib-3.5"
    mode: "txt"
    tickets:
      OTP-15368:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "PEM cache was not evicting expired entries due to due to timezone confusion.\n\n"
        Applications: "ssl"
      OTP-15384:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Make sure an error is returned if a \"transport_accept socket\" is used in some other call than ssl:handshake* or ssl:controlling_process\n\n"
        Applications: "ssl"
        RelatedIds: "ERL-756"
      OTP-15402:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix timestamp handling in the PEM-cache could cause entries to not be invalidated at the correct time.\n\n"
        Applications: "ssl"
      OTP-15412:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Extend check for undelivered data at closing, could under some circumstances fail to deliver all data that was actually received.\n\n"
        Applications: "ssl"
        RelatedIds: "ERL-731"
      OTP-15415:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Correct signature check for TLS-1.2 that allows different algorithms for signature of peer cert and peer cert key. Not all allowed combinations where accepted.\n\n"
        Applications: "ssl"
        RelatedIds: "ERL-763"
      OTP-15418:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Correct gen_statem return value, could cause renegotiation to fail.\n\n"
        Applications: "ssl"
        RelatedIds: "ERL-770"
      OTP-15420:
        type: " --- Improvements and New Features ---"
        release_note: "Add engine support for RSA key exchange\n\n"
        Applications: "ssl"
        RelatedIds: "ERIERL-268"
      OTP-15449:
        type: " --- Improvements and New Features ---"
        release_note: "*** HIGHLIGHT ***\n\n*** POTENTIAL INCOMPATIBILITY ***\n\nssl now uses active n internally to boost performance. Old active once behavior can be restored by setting application variable see manual page for ssl application (man 6).\n\n"
        Applications: "ssl"
  stdlib-3.7:
    pre: "The stdlib-3.7 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of stdlib-3.7: compiler-5.0, crypto-3.3,\n erts-10.0, kernel-6.0, sasl-3.0"
    mode: "txt"
    tickets:
      OTP-15343:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Document bit_size in match specifications and allow it in ets:fun2ms.\n\n"
        Applications: "erts, stdlib"
        RelatedIds: "PR-1962"
      OTP-15378:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "The beam() type in beam_lib is defined as module() | file:filename() | binary(). The module() is misleading. Giving the module name as an atom will only work if the BEAM file is in a current directory.\n\nTo avoid confusion, module() has been removed from the type. That means that there will be a Dialyzer warning for code that call beam_lib with an atom as filename, but the calls will still work.\n\n"
        Applications: "stdlib"
        RelatedIds: "ERL-696"
      OTP-15428:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "unicode_util crashed on certain emoji grapheme clusters in binary strings.\n\n"
        Applications: "stdlib"
        RelatedIds: "ERL-777"
      OTP-15437:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "When an external fun was used, warnings for unused variables could be suppressed.\n\n"
        Applications: "compiler, stdlib"
        RelatedIds: "ERL-762"
      OTP-15474:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix reduction count in lists:member/2\n\n"
        Applications: "erts, stdlib"
        RelatedIds: "ERIERL-229"
      OTP-15245:
        type: " --- Improvements and New Features ---"
        release_note: "When specified, the +{source,Name} option will now override the actual file name in stack traces, instead of only affecting the return value of Mod:module_info().\n\nThe +deterministic flag will also affect stack traces now, omitting all path information except the file name, fixing a long-standing issue where deterministic builds required deterministic paths.\n\n"
        Applications: "compiler, stdlib"
        RelatedIds: "ERL-706"
      OTP-15371:
        type: " --- Improvements and New Features ---"
        release_note: "List subtraction (The -- operator) will now yield properly on large inputs.\n\n"
        Applications: "erts, stdlib"
      OTP-15464:
        type: " --- Improvements and New Features ---"
        release_note: "calendar:system_time_to_rfc3339/1,2 no longer remove trailing zeros from fractions.\n\n"
        Applications: "stdlib"
  tools-3.0.2:
    pre: "The tools-3.0.2 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of tools-3.0.2: compiler-5.0, erts-9.1,\n kernel-5.4, runtime_tools-1.8.14, stdlib-3.4"
    mode: "txt"
    tickets:
      OTP-15476:
        type: " --- Improvements and New Features ---"
        release_note: "Remove emacs warnings and added more tests.\n\n"
        Applications: "tools"
  wx-1.8.6:
    pre: "The wx-1.8.6 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of wx-1.8.6: erts-6.0, kernel-3.0,\n stdlib-2.0"
    mode: "txt"
    tickets:
      OTP-15426:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fixed delayed delete bug which caused wx applications to crash on Mojave.\n\n"
        Applications: "wx"
        RelatedIds: "ERL-755"
Application:
  - asn1-5.0.8
  - compiler-7.3
  - crypto-4.4
  - erts-10.2
  - et-1.6.4
  - hipe-3.18.2
  - inets-7.0.3
  - kernel-6.2
  - observer-2.8.2
  - os_mon-2.4.7
  - public_key-1.6.4
  - reltool-0.7.8
  - sasl-3.3
  - ssh-4.7.2
  - ssl-9.1
  - stdlib-3.7
  - tools-3.0.2
  - wx-1.8.6
Date: 2018-12-11
GitTag: OTP-21.2
PatchPackage: OTP 21.2
Predecessor: OTP 21.1.4
Release: 21
Seqnum:
  - ERIERL-189
  - ERIERL-229
  - ERIERL-268
  - ERIERL-278
  - ERL-561
  - ERL-696
  - ERL-698
  - ERL-706
  - ERL-722
  - ERL-731
  - ERL-733
  - ERL-736
  - ERL-741
  - ERL-755
  - ERL-756
  - ERL-759
  - ERL-762
  - ERL-763
  - ERL-770
  - ERL-777
  - ERL-778
  - ERL-780
  - ERL-782
  - ERL-784
  - ERL-788
System: OTP
TroubleReportId:
  - OTP-12242
  - OTP-13468
  - OTP-14669
  - OTP-15094
  - OTP-15121
  - OTP-15245
  - OTP-15302
  - OTP-15312
  - OTP-15314
  - OTP-15338
  - OTP-15339
  - OTP-15343
  - OTP-15346
  - OTP-15357
  - OTP-15360
  - OTP-15364
  - OTP-15365
  - OTP-15368
  - OTP-15371
  - OTP-15377
  - OTP-15378
  - OTP-15384
  - OTP-15387
  - OTP-15388
  - OTP-15389
  - OTP-15391
  - OTP-15400
  - OTP-15402
  - OTP-15412
  - OTP-15413
  - OTP-15415
  - OTP-15416
  - OTP-15418
  - OTP-15419
  - OTP-15420
  - OTP-15424
  - OTP-15426
  - OTP-15428
  - OTP-15435
  - OTP-15436
  - OTP-15437
  - OTP-15446
  - OTP-15449
  - OTP-15450
  - OTP-15453
  - OTP-15454
  - OTP-15461
  - OTP-15463
  - OTP-15464
  - OTP-15465
  - OTP-15466
  - OTP-15467
  - OTP-15469
  - OTP-15470
  - OTP-15471
  - OTP-15472
  - OTP-15473
  - OTP-15474
  - OTP-15475
  - OTP-15476
  - OTP-15478
  - OTP-15481
  - OTP-15482
---
## OTP-21.2
