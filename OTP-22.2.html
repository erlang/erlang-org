---
layout: patch
name: 22.2
release: 22
html_url: https://github.com/erlang/otp/releases/tag/OTP-22.2
published_at: 2019-12-10T09:59:55Z
tag_name: OTP-22.2
src: https://github.com/erlang/otp/releases/download/OTP-22.2/otp_src_22.2.tar.gz
erlang_download_readme: https://erlang.org/download/otp_src_22.2.readme
readme: https://github.com/erlang/otp/releases/download/OTP-22.2/OTP-22.2.README
html: https://github.com/erlang/otp/releases/download/OTP-22.2/otp_doc_html_22.2.tar.gz
man: https://github.com/erlang/otp/releases/download/OTP-22.2/otp_doc_man_22.2.tar.gz
win32_exe: https://github.com/erlang/otp/releases/download/OTP-22.2/otp_win32_22.2.exe
win32_zip: https://github.com/erlang/otp/releases/download/OTP-22.2/otp_win32_22.2.zip
win64_exe: https://github.com/erlang/otp/releases/download/OTP-22.2/otp_win64_22.2.exe
win64_zip: https://github.com/erlang/otp/releases/download/OTP-22.2/otp_win64_22.2.zip
Applications:
  HIGHLIGHTS:
    pre: ""
    post: ""
    mode: "txt"
    tickets:
      OTP-16208:
        release_note: "The Kernel application's User's Guide now contain a Logger Cookbook with with common usage patterns.\n\n"
        Applications: "erts"
  OTP-22.2:
    pre: ""
    post: ""
    mode: "txt"
    tickets:
      OTP-16298:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix the top level Makefile target noboot to work when PGO (Profile Guided Optimizations) is enabled.\n\n"
        Applications: "otp"
        RelatedIds: "ERL-1088"
  common_test-1.18.1:
    pre: "The common_test-1.18.1 application can be applied independently of\n other applications on a full OTP 22 installation."
    post: "Full runtime dependencies of common_test-1.18.1: compiler-6.0,\n crypto-3.6, debugger-4.1, erts-7.0, ftp-1.0.0, inets-6.0, kernel-4.0,\n observer-2.1, runtime_tools-1.8.16, sasl-2.4.2, snmp-5.1.2, ssh-4.0,\n stdlib-3.5, syntax_tools-1.7, tools-2.8, xmerl-1.3.8"
    mode: "txt"
    tickets:
      OTP-16287:
        type: " --- Improvements and New Features ---"
        release_note: "The ct_property_test logging is improved.\n\n"
        Applications: "common_test"
  compiler-7.5:
    pre: "The compiler-7.5 application can be applied independently of other\n applications on a full OTP 22 installation."
    post: "Full runtime dependencies of compiler-7.5: crypto-3.6, erts-9.0,\n hipe-3.12, kernel-4.0, stdlib-2.5"
    mode: "txt"
    tickets:
      OTP-16053:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fixed a bug in the linter where list and binary comprehensions could suppress unsafe variable errors.\n\n"
        Applications: "compiler, stdlib"
        RelatedIds: "ERL-1039"
      OTP-16181:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "When a compilation starts from Core Erlang code, the core_lint pass will always be run and the compilation will be aborted if any errors are found.\n\n"
        Applications: "compiler"
        RelatedIds: "ERL-1065"
      OTP-16054:
        type: " --- Improvements and New Features ---"
        release_note: "The warning message that appears when the compiler detects a non-utf-8 encoded source file without an encoding string in the beginning of the file has been changed to contain information about that support for latin1 encoded source files without an encoding string will be removed in Erlang/OTP 24.\n\n"
        Applications: "compiler"
        RelatedIds: "OTP-11791"
  crypto-4.6.3:
    pre: "The crypto-4.6.3 application can be applied independently of other\n applications on a full OTP 22 installation."
    post: "Full runtime dependencies of crypto-4.6.3: erts-9.0, kernel-5.3,\n stdlib-3.4"
    mode: "txt"
    tickets:
      OTP-16133:
        type: " --- Improvements and New Features ---"
        release_note: "The chipers aes_cfb8 and aes_cfb128 are now using the EVP interface. The supported key lengths are 128, 192 and 256 bits.\n\n"
        Applications: "crypto"
        RelatedIds: "PR-2407"
      OTP-16134:
        type: " --- Improvements and New Features ---"
        release_note: "The chipers aes_cfb8 and aes_cfb128 are now available in FIPS enabled mode.\n\n"
        Applications: "crypto"
        RelatedIds: "PR-2407"
  debugger-4.2.8:
    pre: "The debugger-4.2.8 application can be applied independently of other\n applications on a full OTP 22 installation."
    post: "Full runtime dependencies of debugger-4.2.8: compiler-5.0, erts-9.0,\n kernel-5.3, stdlib-3.4, wx-1.2"
    mode: "txt"
    tickets:
      OTP-16186:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix a bug where Unicode atoms are printed differently depending on if integer lists are printed as strings or not.\n\n"
        Applications: "debugger"
  dialyzer-4.1.1:
    pre: "The dialyzer-4.1.1 application can be applied independently of other\n applications on a full OTP 22 installation."
    post: "Full runtime dependencies of dialyzer-4.1.1: compiler-7.0, erts-9.0,\n hipe-3.16.1, kernel-5.3, stdlib-3.4, syntax_tools-2.0, wx-1.2"
    mode: "txt"
    tickets:
      OTP-16292:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix a bug where warnings about overspecified functions were erroneously emitted. Only overloaded functions were affected by the bug.\n\n"
        Applications: "dialyzer"
      OTP-16146:
        type: " --- Improvements and New Features ---"
        release_note: "Remove test data with GNU license.\n\n"
        Applications: "dialyzer"
  erl_docgen-0.11:
    pre: "The erl_docgen-0.11 application can be applied independently of other\n applications on a full OTP 22 installation."
    post: "Full runtime dependencies of erl_docgen-0.11: edoc-0.7.13, erts-9.0,\n stdlib-3.4, xmerl-1.3.7"
    mode: "txt"
    tickets:
      OTP-15940:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fixed a cosmetic formatting bug in the data types section of generated HTML documentation.\n\n"
        Applications: "erl_docgen"
      OTP-16209:
        type: " --- Improvements and New Features ---"
        release_note: "Added support for specifying what language a code snippet should be highlighted as.\n\nUpdated the code examples syntax highlighting library.\n\n"
        Applications: "erl_docgen"
  erl_interface-3.13.1:
    pre: "The erl_interface-3.13.1 application can be applied independently of\n other applications on a full OTP 22 installation."
    post: ""
    mode: "txt"
    tickets:
      OTP-16308:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix user supplied socket implementation for Windows and other platforms without gcc atomics.\n\n"
        Applications: "erl_interface"
  erts-10.6:
    pre: "Note! The erts-10.6 application *cannot* be applied independently of\n       other applications on an arbitrary OTP 22 installation.\n\n       On a full OTP 22 installation, also the following runtime\n       dependency has to be satisfied:\n       -- kernel-6.5.1 (first satisfied in OTP 22.2)"
    post: "Full runtime dependencies of erts-10.6: kernel-6.5.1, sasl-3.3,\n stdlib-3.5"
    mode: "txt"
    tickets:
      OTP-16052:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "The functions unicode:characters_to_list() and unicode:characters_to_binary() raised a badarg exception instead of returning an error tuple when passed very large invalid code points as input.\n\n"
        Applications: "erts, stdlib"
      OTP-16074:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "file:allocate/3 will now work properly on Mac OS.\n\n"
        Applications: "erts"
        RelatedIds: "ERL-1042, PR-2386"
      OTP-16149:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "For socket, invalid encoding of send and receive flags caused badarg and send failure.\n\n"
        Applications: "erts"
      OTP-16150:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix a bug in re on platforms where the native stack grows upwards, for instance on HP PA-RISC.\n\n"
        Applications: "erts"
        RelatedIds: "ERL-1043"
      OTP-16151:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "For socket, unable to properly decode the timestamp control message header on FreeBSD. We incorrectly used the SO_TIMESTAMP flag for the timestamp control message header type. It should have been SCM_TIMESTAMP. This caused the timestamp control message header to not be fully decoded.\n\n"
        Applications: "erts"
        RelatedIds: "#2400"
      OTP-16152:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "For socket, when setting the ip option 'recvtos' to true, thereby indicating that we want to receive the TOS control message header, we don't actually get TOS but RECVTOS on FreeBSD (and maybe others)! This was previously not handled.\n\n"
        Applications: "erts"
        RelatedIds: "OTP-16114"
      OTP-16159:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fixed a bug where the emulator would print out error messages forever if it crashed during startup.\n\n"
        Applications: "erts"
        RelatedIds: "ERL-1060"
      OTP-16163:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "For socket, wrong type for protocol caused segmentation fault if protocol was provided as {raw, integer()}.\n\n"
        Applications: "erts"
        RelatedIds: "ERL-1061"
      OTP-16172:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "For socket, when setting the ip option 'recvttl' to true, thereby indicating that we want to receive the TTL control message header, we don't actually get TTL but RECVTTL on Solaris (and maybe others)! This was previously not handled.\n\n"
        Applications: "erts"
        RelatedIds: "OTP-16114"
      OTP-16173:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "For socket, IPv6 control message headers was incorrectly decoded with level ip instead of ipv6.\n\n"
        Applications: "erts"
      OTP-16191:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix configure bug where clock_getres would not correctly be detected causing erlang:system_info(os_system_time_source) to return an incorrect resolution.\n\nThis bug effects all OSs that use clock_gettime to get time (basically all OSs except windows) and has been present since OTP-19.2.\n\n"
        Applications: "erts"
        RelatedIds: "ERL-1067"
      OTP-16192:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix bugs when using ERLC_USE_SERVER=true on Windows when building Erlang/OTP.\n\nChange the cookie used by the compile server to be hard coded instead of using the users cookie.\n\n"
        Applications: "erts"
      OTP-16194:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix so that persistent_term is listed in the erts application file.\n\n"
        Applications: "erts"
      OTP-16195:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix bug in call_time tracing which could sometimes cause call time measurements being attributed to the wrong function.\n\n"
        Applications: "erts"
        RelatedIds: "ERL-1027"
      OTP-16196:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "The socket socket option 'peek_off' has been disabled. If peek_off was set and then socket:recv/3 was called with the peek flag, the call could hang.\n\n"
        Applications: "erts"
      OTP-16197:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Handle possibly uninitiated (control message header) data.\n\n"
        Applications: "erts"
      OTP-16203:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "For net, a couple of NI macros was deprecated in new versions of glibc, so these are no longer used (IDN_ALLOW_UNASSIGNED and IDN_USE_STD3_ASCII_RULES).\n\n"
        Applications: "erts"
      OTP-16204:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "The string value from a get operation needed to be truncated.\n\n"
        Applications: "erts"
      OTP-16206:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix misleading seq_trace message for remote send operation toward named process. Changed receiver to be {Name,Node} instead of just Name.\n\n"
        Applications: "erts"
        RelatedIds: "PR-2423"
      OTP-16216:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fixed a bug causing actual nodedown reason reported by net_kernel:monitor_nodes(true, [nodedown_reason]) to be lost and replaced by the reason killed.\n\n"
        Applications: "erts, kernel"
      OTP-16223:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "For socket, the timestamp creation used when printing warning messages and debug printouts did not work. The used buffer was too small.\n\n"
        Applications: "erts"
      OTP-16235:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix compiler warnings generated by GCC 8\n\n"
        Applications: "erts"
      OTP-16297:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix erl -emu_type to accept the option opt which means the normal optimized emulator. This can be used to override the -emu_type option from environment variables.\n\n"
        Applications: "erts"
      OTP-16310:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Corrected the function spec to reflect the actual code of the function socket:bind.\n\n"
        Applications: "erts"
        RelatedIds: "ERL-1082"
      OTP-16316:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fixed a performance issue in ETS lookup when using the compressed option and the term contained atoms. Before this fix the decompress algorithm for atoms would unnecessarily take a global lock to validate the atom.\n\n"
        Applications: "erts, stdlib"
      OTP-16153:
        type: " --- Improvements and New Features ---"
        release_note: "For socket, not all send and receive flags are supported on all platforms. In order to (at least) simplify testing, the socket:supports/0,1,2,3 functions has been extended with send_flags and recv_flags items, which indicates what the current platform can manage.\n\n"
        Applications: "erts"
      OTP-16180:
        type: " --- Improvements and New Features ---"
        release_note: "For socket, add support for IPv6 socket options tclass and recvtclass. Both has been added, but the use of them are platform dependent. Call socket:supports(options, ipv6, Opt) to be sure what option to use in order to request a TCLASS control message header.\n\n"
        Applications: "erts"
      OTP-16205:
        type: " --- Improvements and New Features ---"
        release_note: "For socket, the TCP socket option cork was not supported even though the supports function reported it as such.\n\n"
        Applications: "erts"
      OTP-16208:
        type: " --- Improvements and New Features ---"
        release_note: "*** HIGHLIGHT ***\n\nThe Kernel application's User's Guide now contain a Logger Cookbook with with common usage patterns.\n\n"
        Applications: "erts"
      OTP-16212:
        type: " --- Improvements and New Features ---"
        release_note: "Add a \"full featured\" version of getifaddrs in the net module.\n\n"
        Applications: "erts"
        RelatedIds: "ERL-1070"
      OTP-16269:
        type: " --- Improvements and New Features ---"
        release_note: "Fix an inefficiency introduced by the bug fix in OTP-16241 which fixed a problem with the receive optimization. That bug fix introduced an inefficiency when using the receive optimization and a burst of messages arrive at once when the receiving process' mailbox was empty.\n\n"
        Applications: "erts"
        RelatedIds: "OTP-16241"
      OTP-16302:
        type: " --- Improvements and New Features ---"
        release_note: "For socket, added support for the socket option extended_err. Andreas Schultz.\n\n"
        Applications: "erts"
        RelatedIds: "#2449"
      OTP-16315:
        type: " --- Improvements and New Features ---"
        release_note: "ETS tables have been optimized to not use any locks when running in a system with only one scheduler enabled. This can provide significant performance gains for applications that use ETS tables heavily.\n\n"
        Applications: "erts, stdlib"
  eunit-2.4:
    pre: "The eunit-2.4 application can be applied independently of other\n applications on a full OTP 22 installation."
    post: "Full runtime dependencies of eunit-2.4: erts-9.0, kernel-5.3,\n stdlib-3.4"
    mode: "txt"
    tickets:
      OTP-16313:
        type: " --- Improvements and New Features ---"
        release_note: "Remove compiler warnings from eunit.\n\n"
        Applications: "eunit"
  ftp-1.0.4:
    pre: "The ftp-1.0.4 application can be applied independently of other\n applications on a full OTP 22 installation."
    post: "Full runtime dependencies of ftp-1.0.4: erts-7.0, kernel-6.0,\n stdlib-3.5"
    mode: "txt"
    tickets:
      OTP-16243:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "A possibly infinite loop is removed.\n\n"
        Applications: "ftp"
        RelatedIds: "OTP-16056, PR-2436"
      OTP-16318:
        type: " --- Improvements and New Features ---"
        release_note: "Removed compiler warnings.\n\n"
        Applications: "ftp"
        RelatedIds: "OTP-16183"
  hipe-3.19.2:
    pre: "The hipe-3.19.2 application can be applied independently of other\n applications on a full OTP 22 installation."
    post: "Full runtime dependencies of hipe-3.19.2: compiler-5.0, erts-9.3,\n kernel-5.3, stdlib-3.4, syntax_tools-1.6.14"
    mode: "txt"
    tickets:
      OTP-16323:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Correct the range type of erlang:is_record/3.\n\n"
        Applications: "hipe"
  inets-7.1.2:
    pre: "The inets-7.1.2 application can be applied independently of other\n applications on a full OTP 22 installation."
    post: "Full runtime dependencies of inets-7.1.2: erts-6.0, kernel-3.0,\n mnesia-4.12, runtime_tools-1.8.14, ssl-5.3.4, stdlib-3.5"
    mode: "txt"
    tickets:
      OTP-16169:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Inets will honor that valid HTTP headers can not have white space between field-name and the colon.\n\n"
        Applications: "inets"
        RelatedIds: "ERL-1053"
      OTP-16290:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Changed error propagation in httpc:request/1 to return expected error tuple instead of crashing.\n\n"
        Applications: "inets"
        RelatedIds: "ERL-1083, PR-2437"
      OTP-16300:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix handling of HEAD request with chunked transfer-encoding (httpc).\n\n"
        Applications: "inets"
        RelatedIds: "ERL-1090"
  kernel-6.5.1:
    pre: "Note! The kernel-6.5.1 application *cannot* be applied independently\n       of other applications on an arbitrary OTP 22 installation.\n\n       On a full OTP 22 installation, also the following runtime\n       dependency has to be satisfied:\n       -- erts-10.6 (first satisfied in OTP 22.2)"
    post: "Full runtime dependencies of kernel-6.5.1: erts-10.6, sasl-3.0,\n stdlib-3.5"
    mode: "txt"
    tickets:
      OTP-16043:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "The 'socket state' info provided by the inet info function has been improved\n\n"
        Applications: "kernel"
        RelatedIds: "ERL-1036"
      OTP-16145:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix bug where logger would crash when starting when a very large log file needed to be rotated and compressed.\n\n"
        Applications: "kernel"
        RelatedIds: "ERL-1034"
      OTP-16216:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fixed a bug causing actual nodedown reason reported by net_kernel:monitor_nodes(true, [nodedown_reason]) to be lost and replaced by the reason killed.\n\n"
        Applications: "erts, kernel"
      OTP-16279:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "The documentation for rpc:call/4,5/ has been updated to describe what happens when the called function throws or return an 'EXIT' tuple.\n\n"
        Applications: "kernel"
        RelatedIds: "ERL-1066"
  megaco-3.18.7:
    pre: "The megaco-3.18.7 application can be applied independently of other\n applications on a full OTP 22 installation."
    post: "Full runtime dependencies of megaco-3.18.7: asn1-3.0, debugger-4.0,\n erts-7.0, et-1.5, kernel-3.0, runtime_tools-1.8.14, stdlib-2.5"
    mode: "txt"
    tickets:
      OTP-16061:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "The meas example had not been updated for a long time, which caused it to not work. Also, it made use of deprecated functions (now()). This has now been fixed.\n\n"
        Applications: "megaco"
  mnesia-4.16.2:
    pre: "The mnesia-4.16.2 application can be applied independently of other\n applications on a full OTP 22 installation."
    post: "Full runtime dependencies of mnesia-4.16.2: erts-9.0, kernel-5.3,\n stdlib-3.4"
    mode: "txt"
    tickets:
      OTP-16286:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fixed mnesia crash which could happen when trying to recover from failures in transactions containing sticky_locks.\n\n"
        Applications: "mnesia"
        RelatedIds: "ERL-1077"
      OTP-16291:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fixed mnesia index issue. Could happen when updating records with a index plugin backend.\n\n"
        Applications: "mnesia"
        RelatedIds: "ERL-1091"
  observer-2.9.3:
    pre: "The observer-2.9.3 application can be applied independently of other\n applications on a full OTP 22 installation."
    post: "Full runtime dependencies of observer-2.9.3: erts-7.0, et-1.5,\n kernel-3.0, runtime_tools-1.8.14, stdlib-3.5, wx-1.2"
    mode: "txt"
    tickets:
      OTP-16296:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Crashdump Viewer how handles crash dumps where the Old Binary VHeap has overflowed.\n\n"
        Applications: "observer"
  public_key-1.7.1:
    pre: "The public_key-1.7.1 application can be applied independently of\n other applications on a full OTP 22 installation."
    post: "Full runtime dependencies of public_key-1.7.1: asn1-3.0, crypto-3.8,\n erts-6.0, kernel-3.0, stdlib-3.5"
    mode: "txt"
    tickets:
      OTP-16156:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Corrected CRL handling which could cause CRL verification to fail. This could happen when the CRL distribution point explicitly specifies the CRL issuer, that is not using the fallback.\n\n"
        Applications: "public_key, ssl"
        RelatedIds: "ERL-1030"
  snmp-5.4.4:
    pre: "The snmp-5.4.4 application can be applied independently of other\n applications on a full OTP 22 installation."
    post: "Full runtime dependencies of snmp-5.4.4: crypto-3.3, erts-6.0,\n kernel-3.0, mnesia-4.12, runtime_tools-1.8.14, stdlib-2.5"
    mode: "txt"
    tickets:
      OTP-15947:
        type: " --- Improvements and New Features ---"
        release_note: "[manager] The callbacks where executed in a (new) 'temporary' process, that executed the callback call and then exited. This has now been made configurable so that is also possible to specify a 'permanent' callback proxy process. All callback calls will then be executed in this (permanent) process (in sequence).\n\n"
        Applications: "snmp"
        RelatedIds: "ERIERL-378"
  ssh-4.8.1:
    pre: "The ssh-4.8.1 application can be applied independently of other\n applications on a full OTP 22 installation."
    post: "Full runtime dependencies of ssh-4.8.1: crypto-4.5, erts-9.0,\n kernel-5.3, public_key-1.6.1, stdlib-3.4.1"
    mode: "txt"
    tickets:
      OTP-14849:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "The ssh cli (e.g shell) server behaved strangely when characters were inserted in a string such that the last characters tried to wrap the line.\n\n"
        Applications: "ssh"
        RelatedIds: "ERL-545"
      OTP-15417:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "If an OTP SSH server was serving an \"exec\" request and the executed code used Erlang standard_io for input/output, the I/O was erroneously handled by the *server's* group leader, so the I/O turned up in the the server's Erlang shell (if any). The user at the client side did therefor not see that I/O.\n\nThis is corrected now, so the client - for example the ssh OS shell command - handles the I/O. The user could send input to the server side exec handling code by writing on the terminal, and server side output from for example io:format is presented on the terminal - not only the functional result.\n\nNOTE 1: Servers executing exec requests with the old, undocumented ways of specifying the custom exec handler is not changed. Changed are only the two cases where the server's 'exec' option either:\n1) is not specified (i.e. using the default shell) or, 2) it has the {direct, fun(...) -> ... end} value format.\n\nNOTE 2: Previously an end-of-line marker was appended on the result and error reports at the client side. They are removed now and the error reports are slightly enhanced.\n\nTECHNICAL DETAILS: The server's device standard_input receives data events from the exec request's channel, and the device standard_output is sending its data by data events to the client on that channel. The result is that standard_io is now performed by the client's group leader.\n\n"
        Applications: "ssh"
        RelatedIds: "OTP-16108"
      OTP-16047:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "The functions ssh:shell/1,2,3 left the connection open when they returned. That leakage is fixed now.\n\n"
        Applications: "ssh"
      OTP-16123:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Corrected that an Erlang SSH server could return the status code 4294967295 instead of 255 on some errors of an exec request.\n\n"
        Applications: "ssh"
      OTP-15972:
        type: " --- Improvements and New Features ---"
        release_note: "Internal simplification of ssh_sftp/ssh_xfer\n\n"
        Applications: "ssh"
      OTP-16108:
        type: " --- Improvements and New Features ---"
        release_note: "The documentation of One-Time Execution in the User's Guide is updated with more examples.\n\n"
        Applications: "ssh"
        RelatedIds: "OTP-15417"
      OTP-16113:
        type: " --- Improvements and New Features ---"
        release_note: "The new value 'disabled' is introduced in the SSH daemon options 'exec' and 'shell'. Previously they lacked a clear way of disabling them.\n\n"
        Applications: "ssh"
      OTP-16170:
        type: " --- Improvements and New Features ---"
        release_note: "The old algorithms 'aes192_cbc', 'aes256_cbc' and 'hmac-sha1-96' are added for compatibility with older peers.\n\nThe mac 'hmac-sha1-96' is nowadays not recommended and must therefore be explicitly enabled. Use for example the Option value {modify_algorithms, [{append, [{mac,['hmac-sha1-96']}]}]}\n\n"
        Applications: "ssh"
  ssl-9.5:
    pre: "The ssl-9.5 application can be applied independently of other\n applications on a full OTP 22 installation."
    post: "Full runtime dependencies of ssl-9.5: crypto-4.2, erts-10.0,\n inets-5.10.7, kernel-6.0, public_key-1.5, stdlib-3.5"
    mode: "txt"
    tickets:
      OTP-16156:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Corrected CRL handling which could cause CRL verification to fail. This could happen when the CRL distribution point explicitly specifies the CRL issuer, that is not using the fallback.\n\n"
        Applications: "public_key, ssl"
        RelatedIds: "ERL-1030"
      OTP-16293:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Correct handling of unordered chains so that it works as expected\n\n"
        Applications: "ssl"
      OTP-16295:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix bug causing ssl application to crash when handshake is paused and ClientHello contains extensions for session resumption (psk_key_exchange_modes, pre_shared_key).\n\n"
        Applications: "ssl"
        RelatedIds: "ERL-1095"
      OTP-16303:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix connectivity problems with legacy servers when client is configured to support a range of protocol versions including TLS 1.3.\n\n"
        Applications: "ssl"
      OTP-15524:
        type: " --- Improvements and New Features ---"
        release_note: "Improve session handling for TLS-1.3 compatibility mode and cleaner internal handling so that removal of old session data can be more efficient, hopefully mitigating problems with big session tables during heavy load.\n\n"
        Applications: "ssl"
        RelatedIds: "OTP-15352"
      OTP-15809:
        type: " --- Improvements and New Features ---"
        release_note: "Correct handling of DTLS listen socket emulation. Could cause failure to create new listen socket after process that owned previous listen socket died.\n\n"
        Applications: "ssl"
        RelatedIds: "ERL-917"
      OTP-16266:
        type: " --- Improvements and New Features ---"
        release_note: "Add detailed info in ALERT description when client does not send a requested cert.\n\n"
        Applications: "ssl"
  stdlib-3.11:
    pre: "Note! The stdlib-3.11 application *cannot* be applied independently\n       of other applications on an arbitrary OTP 22 installation.\n\n       On a full OTP 22 installation, also the following runtime\n       dependency has to be satisfied:\n       -- erts-10.6 (first satisfied in OTP 22.2)"
    post: "Full runtime dependencies of stdlib-3.11: compiler-5.0, crypto-3.3,\n erts-10.6, kernel-6.0, sasl-3.0"
    mode: "txt"
    tickets:
      OTP-16052:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "The functions unicode:characters_to_list() and unicode:characters_to_binary() raised a badarg exception instead of returning an error tuple when passed very large invalid code points as input.\n\n"
        Applications: "erts, stdlib"
      OTP-16053:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fixed a bug in the linter where list and binary comprehensions could suppress unsafe variable errors.\n\n"
        Applications: "compiler, stdlib"
        RelatedIds: "ERL-1039"
      OTP-16085:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fixed incorrect type specifications for erl_tar:open/2, create/2,3, and add/4.\n\n"
        Applications: "stdlib"
        RelatedIds: "PR-2379"
      OTP-16132:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fixed erroneous type spec for binary:list_to_bin/1. Argument type was changed from iodata() to iolist().\n\n"
        Applications: "stdlib"
        RelatedIds: "ERL-1041"
      OTP-16211:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix a race in pool:pspawn_link that caused a noproc error to be thrown when using it to spawn a very short lived process.\n\n"
        Applications: "stdlib"
      OTP-16316:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fixed a performance issue in ETS lookup when using the compressed option and the term contained atoms. Before this fix the decompress algorithm for atoms would unnecessarily take a global lock to validate the atom.\n\n"
        Applications: "erts, stdlib"
      OTP-16262:
        type: " --- Improvements and New Features ---"
        release_note: "Added a new compiler/linter option to disable warnings for unused types (nowarn_unused_type).\n\n"
        Applications: "stdlib"
        RelatedIds: "ERIERL-435"
      OTP-16315:
        type: " --- Improvements and New Features ---"
        release_note: "ETS tables have been optimized to not use any locks when running in a system with only one scheduler enabled. This can provide significant performance gains for applications that use ETS tables heavily.\n\n"
        Applications: "erts, stdlib"
  tftp-1.0.2:
    pre: "The tftp-1.0.2 application can be applied independently of other\n applications on a full OTP 22 installation."
    post: "Full runtime dependencies of tftp-1.0.2: kernel-6.0, stdlib-3.5"
    mode: "txt"
    tickets:
      OTP-16317:
        type: " --- Improvements and New Features ---"
        release_note: "Removed compiler warnings.\n\n"
        Applications: "tftp"
        RelatedIds: "OTP-16183"
  tools-3.3:
    pre: "The tools-3.3 application can be applied independently of other\n applications on a full OTP 22 installation."
    post: "Full runtime dependencies of tools-3.3: compiler-5.0, erts-9.1,\n kernel-5.4, runtime_tools-1.8.14, stdlib-3.4"
    mode: "txt"
    tickets:
      OTP-16164:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Improve -spec indentation in emacs mode.\n\n"
        Applications: "tools"
      OTP-16174:
        type: " --- Improvements and New Features ---"
        release_note: "The Emacs erlang-mode function that lets the user open the documentation for an Erlang/OTP function in an Emacs buffer has been improved. Bugs in this function has been fixed and and the user will now be asked if the man pages should be downloaded automatically by Emacs when they can't be found on the system. To test this functionality, put the cursor over the function name in a call to an Erlang/OTP function (e.g., \"io:format(\"arg\")\") and type C-c C-d (i.e., Ctrl-key and c-key and then Ctrl-key and d-key). There is also a new menu item under the Erlang menu (labeled \"Man - Function Under Cursor\").\n\n"
        Applications: "tools"
  wx-1.9:
    pre: "The wx-1.9 application can be applied independently of other\n applications on a full OTP 22 installation."
    post: "Full runtime dependencies of wx-1.9: erts-6.0, kernel-3.0, stdlib-2.0"
    mode: "txt"
    tickets:
      OTP-16285:
        type: " --- Improvements and New Features ---"
        release_note: "Added wxWindow:isShownOnScreen/1, wxMouseEvent:getWheelAxis and mac specific menubar functions. Fixed defines that have changed in newer wxWidgets versions, that caused some literals to become run-time dependent on wxWidgets version.\n\n"
        Applications: "wx"
  xmerl-1.3.23:
    pre: "The xmerl-1.3.23 application can be applied independently of other\n applications on a full OTP 22 installation."
    post: "Full runtime dependencies of xmerl-1.3.23: erts-6.0, kernel-3.0,\n stdlib-2.5"
    mode: "txt"
    tickets:
      OTP-16324:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Replace a local floor/1 function with erlang:floor/1.\n\n"
        Applications: "xmerl"
      OTP-16339:
        type: " --- Improvements and New Features ---"
        release_note: "Implement handling of parsed entity content and some other improvements.\n\n-- Updated the SAX test-suite (xmerl_sax_std_SUITE) to more recent version\n\n-- Test now uses its own data directory since the non-SAX xmerl test suite (xmerl_std_SUITE) uses a different version of the other suite\n\n-- Canonical XML checks have been added to all tests that apply. Canonical, as it applies here, is regular canonical XML with the addition of notation declarations if any. Output must match byte-for-byte.\n\n-- External entities implemented, both as markup and replacement text\n\n-- Cyclic references are checked at the end of the DTD parse; also when a reference is found\n\n-- Default attributes are reported in events\n\n-- Attributes are whitespace normalized if their type demands it\n\n-- External entities can have a different encoding than the base document and will be transcoded to the document encoding\n\n-- Conditional sections (IGNORE/INCLUDE) handling has been added to DTD parsing\n\n-- Element content-model is now checked for well-formed-ness\n\n-- A few missing function clauses have been added\n\n"
        Applications: "xmerl"
Application:
  - common_test-1.18.1
  - compiler-7.5
  - crypto-4.6.3
  - debugger-4.2.8
  - dialyzer-4.1.1
  - erl_docgen-0.11
  - erl_interface-3.13.1
  - erts-10.6
  - eunit-2.4
  - ftp-1.0.4
  - hipe-3.19.2
  - inets-7.1.2
  - kernel-6.5.1
  - megaco-3.18.7
  - mnesia-4.16.2
  - observer-2.9.3
  - public_key-1.7.1
  - snmp-5.4.4
  - ssh-4.8.1
  - ssl-9.5
  - stdlib-3.11
  - tftp-1.0.2
  - tools-3.3
  - wx-1.9
  - xmerl-1.3.23
Date: 2019-12-10
GitTag: OTP-22.2
PatchPackage: OTP 22.2
Predecessor: OTP 22.1.8
Release: 22
Seqnum:
  - ERIERL-378
  - ERIERL-435
  - ERL-1027
  - ERL-1030
  - ERL-1034
  - ERL-1036
  - ERL-1039
  - ERL-1041
  - ERL-1042
  - ERL-1043
  - ERL-1053
  - ERL-1060
  - ERL-1061
  - ERL-1065
  - ERL-1066
  - ERL-1067
  - ERL-1070
  - ERL-1077
  - ERL-1082
  - ERL-1083
  - ERL-1088
  - ERL-1090
  - ERL-1091
  - ERL-1095
  - ERL-545
  - ERL-917
System: OTP
TroubleReportId:
  - OTP-14849
  - OTP-15417
  - OTP-15524
  - OTP-15809
  - OTP-15940
  - OTP-15947
  - OTP-15972
  - OTP-16043
  - OTP-16047
  - OTP-16052
  - OTP-16053
  - OTP-16054
  - OTP-16061
  - OTP-16074
  - OTP-16085
  - OTP-16108
  - OTP-16113
  - OTP-16123
  - OTP-16132
  - OTP-16133
  - OTP-16134
  - OTP-16145
  - OTP-16146
  - OTP-16149
  - OTP-16150
  - OTP-16151
  - OTP-16152
  - OTP-16153
  - OTP-16156
  - OTP-16159
  - OTP-16163
  - OTP-16164
  - OTP-16169
  - OTP-16170
  - OTP-16172
  - OTP-16173
  - OTP-16174
  - OTP-16180
  - OTP-16181
  - OTP-16186
  - OTP-16191
  - OTP-16192
  - OTP-16194
  - OTP-16195
  - OTP-16196
  - OTP-16197
  - OTP-16203
  - OTP-16204
  - OTP-16205
  - OTP-16206
  - OTP-16208
  - OTP-16209
  - OTP-16211
  - OTP-16212
  - OTP-16216
  - OTP-16223
  - OTP-16235
  - OTP-16243
  - OTP-16262
  - OTP-16266
  - OTP-16269
  - OTP-16279
  - OTP-16285
  - OTP-16286
  - OTP-16287
  - OTP-16290
  - OTP-16291
  - OTP-16292
  - OTP-16293
  - OTP-16295
  - OTP-16296
  - OTP-16297
  - OTP-16298
  - OTP-16300
  - OTP-16302
  - OTP-16303
  - OTP-16308
  - OTP-16310
  - OTP-16313
  - OTP-16315
  - OTP-16316
  - OTP-16317
  - OTP-16318
  - OTP-16323
  - OTP-16324
  - OTP-16339
---
## OTP-22.2
