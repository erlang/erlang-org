<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.1">
    <meta name="project" content="stdlib v7.1-rc0">


<meta name="major-vsn" content="29">
<meta name="exdoc:full-text-search-url" content="/doc/search.html?v=29&q=">
<link rel="canonical" href="https://www.erlang.org/doc/apps/stdlib/uri_string.html" />
    <title>uri_string — stdlib v7.1-rc0</title>

    <link rel="stylesheet" href="dist/html-erlang-ZK43ZOAC.css" />

    <script defer src="dist/sidebar_items-4F7E9F36.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-DPJLHKSM.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="../../index.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="stdlib" />
        </a>

      <div>
        <a href="../../index.html" class="sidebar-projectName" translate="no">
stdlib
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v7.1-rc0
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-module" id="main" data-type="modules">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of stdlib</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>
      <span translate="no">uri_string</span> 
      <small class="app-vsn" translate="no">(stdlib v7.1-rc0)</small>

    </h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/uri_string.erl#L226" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


    <section id="moduledoc">
<p>URI processing functions.</p><p>This module contains functions for parsing and handling URIs
(<a href="https://www.ietf.org/rfc/rfc3986.txt">RFC 3986</a>) and form-urlencoded query
strings (<a href="https://www.w3.org/TR/html52/">HTML 5.2</a>).</p><p>Parsing and serializing non-UTF-8 form-urlencoded query strings are also
supported (<a href="https://www.w3.org/TR/html50/">HTML 5.0</a>).</p><p>A URI is an identifier consisting of a sequence of characters matching the
syntax rule named <em>URI</em> in <a href="https://www.ietf.org/rfc/rfc3986.txt">RFC 3986</a>.</p><p>The generic URI syntax consists of a hierarchical sequence of components
referred to as the scheme, authority, path, query, and fragment:</p><pre><code class="text">    URI         = scheme &quot;:&quot; hier-part [ &quot;?&quot; query ] [ &quot;#&quot; fragment ]
    hier-part   = &quot;//&quot; authority path-abempty
                   / path-absolute
                   / path-rootless
                   / path-empty
    scheme      = ALPHA *( ALPHA / DIGIT / &quot;+&quot; / &quot;-&quot; / &quot;.&quot; )
    authority   = [ userinfo &quot;@&quot; ] host [ &quot;:&quot; port ]
    userinfo    = *( unreserved / pct-encoded / sub-delims / &quot;:&quot; )

    reserved    = gen-delims / sub-delims
    gen-delims  = &quot;:&quot; / &quot;/&quot; / &quot;?&quot; / &quot;#&quot; / &quot;[&quot; / &quot;]&quot; / &quot;@&quot;
    sub-delims  = &quot;!&quot; / &quot;$&quot; / &quot;&amp;&quot; / &quot;'&quot; / &quot;(&quot; / &quot;)&quot;
                / &quot;*&quot; / &quot;+&quot; / &quot;,&quot; / &quot;;&quot; / &quot;=&quot;

    unreserved  = ALPHA / DIGIT / &quot;-&quot; / &quot;.&quot; / &quot;_&quot; / &quot;~&quot;</code></pre><p>The interpretation of a URI depends only on the characters used and not on how
those characters are represented in a network protocol.</p><p>The functions implemented by this module cover the following use cases:</p><ul><li>Parsing URIs into its components and returing a map: <a href="#parse/1"><code class="inline">parse/1</code></a></li><li>Recomposing a map of URI components into a URI string: <a href="#recompose/1"><code class="inline">recompose/1</code></a></li><li>Changing inbound binary and percent-encoding of URIs: <a href="#transcode/2"><code class="inline">transcode/2</code></a></li><li>Transforming URIs into a normalized form: <a href="#normalize/1"><code class="inline">normalize/1</code></a>, <a href="#normalize/2"><code class="inline">normalize/2</code></a></li><li>Composing form-urlencoded query strings from a list of key-value pairs:
<a href="#compose_query/1"><code class="inline">compose_query/1</code></a>, <a href="#compose_query/2"><code class="inline">compose_query/2</code></a></li><li>Dissecting form-urlencoded query strings into a list of key-value pairs:
<a href="#dissect_query/1"><code class="inline">dissect_query/1</code></a></li><li>Decoding percent-encoded triplets in URI map or a specific component of URI:
<a href="#percent_decode/1"><code class="inline">percent_decode/1</code></a></li><li>Preparing and retrieving application specific data included in URI
components:
<a href="#quote/1"><code class="inline">quote/1</code></a>, <a href="#quote/2"><code class="inline">quote/2</code></a>, <a href="#unquote/1"><code class="inline">unquote/1</code></a></li></ul><p>There are four different encodings present during the handling of URIs:</p><ul><li>Inbound binary encoding in binaries</li><li>Inbound percent-encoding in lists and binaries</li><li>Outbound binary encoding in binaries</li><li>Outbound percent-encoding in lists and binaries</li></ul><p>Functions with <a href="#t:uri_string/0"><code class="inline">uri_string/0</code></a> argument accept lists, binaries and mixed lists
(lists with binary elements) as input type. All of the functions but
<a href="#transcode/2"><code class="inline">transcode/2</code></a> expects input as lists of unicode codepoints,
UTF-8 encoded binaries and UTF-8 percent-encoded URI parts (&quot;%C3%B6&quot; corresponds
to the unicode character &quot;ö&quot;).</p><p>Unless otherwise specified the return value type and encoding are the same as
the input type and encoding. That is, binary input returns binary output, list
input returns a list output but mixed input returns list output.</p><p>In case of lists there is only percent-encoding. In binaries, however, both
binary encoding and percent-encoding shall be considered.
<a href="#transcode/2"><code class="inline">transcode/2</code></a> provides the means to convert between the
supported encodings, it takes a <a href="#t:uri_string/0"><code class="inline">uri_string/0</code></a> and a list of options
specifying inbound and outbound encodings.</p><p><a href="https://www.ietf.org/rfc/rfc3986.txt">RFC 3986</a> does not mandate any specific
character encoding and it is usually defined by the protocol or surrounding
text. This library takes the same assumption, binary and percent-encoding are
handled as one configuration unit, they cannot be set to different values.</p><p>Quoting functions are intended to be used by URI producing application during
component preparation or retrieval phase to avoid conflicts between data and
characters used in URI syntax. Quoting functions use percent encoding, but with
different rules than for example during execution of
<a href="#recompose/1"><code class="inline">recompose/1</code></a>. It is user responsibility to provide quoting
functions with application data only and using their output to combine an URI
component.<br/>Quoting functions can for instance be used for constructing a path component
with a segment containing '/' character which should not collide with '/' used
as general delimiter in path component.</p>
    </section>

</div>

  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-types summary">
  <h2>
    <a href="#types">Types</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:error/0" data-no-tooltip="" translate="no">error()</a>

      </div>

        <div class="summary-synopsis"><p>Error tuple indicating the type of error. Possible values of the second
component</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:uri_map/0" data-no-tooltip="" translate="no">uri_map()</a>

      </div>

        <div class="summary-synopsis"><p>Map holding the main components of a URI.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:uri_string/0" data-no-tooltip="" translate="no">uri_string()</a>

      </div>

        <div class="summary-synopsis"><p>List of unicode codepoints, a UTF-8 encoded binary, or a mix of the two,
representing an <a>RFC 3986</a> compliant URI
(<em>percent-encoded form</em>). A URI is a sequence of characters from a very limited
set: the letters of the basic Latin alphabet, digits, and a few special
characters.</p></div>

    </div>

</div>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#allowed_characters/0" data-no-tooltip="" translate="no">allowed_characters()</a>

      </div>

        <div class="summary-synopsis"><p>This is a utility function meant to be used in the shell for printing the
allowed characters in each major URI component, and also in the most important
characters sets.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#compose_query/1" data-no-tooltip="" translate="no">compose_query(QueryList)</a>

      </div>

        <div class="summary-synopsis"><p>Composes a form-urlencoded <code class="inline">QueryString</code> based on a <code class="inline">QueryList</code>, a list of
non-percent-encoded key-value pairs.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#compose_query/2" data-no-tooltip="" translate="no">compose_query(QueryList, Options)</a>

      </div>

        <div class="summary-synopsis"><p>Same as <a><code class="inline">compose_query/1</code></a> but with an additional <code class="inline">Options</code>
parameter, that controls the encoding (&quot;charset&quot;) used by the encoding
algorithm.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#dissect_query/1" data-no-tooltip="" translate="no">dissect_query(QueryString)</a>

      </div>

        <div class="summary-synopsis"><p>Dissects an urlencoded <code class="inline">QueryString</code> and returns a <code class="inline">QueryList</code>, a list of
non-percent-encoded key-value pairs.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#normalize/1" data-no-tooltip="" translate="no">normalize(URI)</a>

      </div>

        <div class="summary-synopsis"><p>Transforms an <code class="inline">URI</code> into a normalized form using Syntax-Based Normalization as
defined by <a>RFC 3986</a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#normalize/2" data-no-tooltip="" translate="no">normalize(URI, Options)</a>

      </div>

        <div class="summary-synopsis"><p>Same as <a><code class="inline">normalize/1</code></a> but with an additional <code class="inline">Options</code>
parameter, that controls whether the normalized URI shall be returned as an
uri_map().</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#parse/1" data-no-tooltip="" translate="no">parse(URIString)</a>

      </div>

        <div class="summary-synopsis"><p>Parses an <a>RFC 3986</a> compliant
<a><code class="inline">uri_string/0</code></a> into a <a><code class="inline">uri_map/0</code></a>, that holds the parsed components of the
<code class="inline">URI</code>. If parsing fails, an error tuple is returned.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#percent_decode/1" data-no-tooltip="" translate="no">percent_decode(URI)</a>

      </div>

        <div class="summary-synopsis"><p>Decodes all percent-encoded triplets in the input that can be both a
<a><code class="inline">uri_string/0</code></a> and a <a><code class="inline">uri_map/0</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#quote/1" data-no-tooltip="" translate="no">quote(Data)</a>

      </div>

        <div class="summary-synopsis"><p>Replaces characters out of unreserved set with their percent encoded
equivalents.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#quote/2" data-no-tooltip="" translate="no">quote(Data, Safe)</a>

      </div>

        <div class="summary-synopsis"><p>Same as <a><code class="inline">quote/1</code></a>, but <code class="inline">Safe</code> allows user to provide a list of
characters to be protected from encoding.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#recompose/1" data-no-tooltip="" translate="no">recompose(URIMap)</a>

      </div>

        <div class="summary-synopsis"><p>Creates an <a>RFC 3986</a> compliant
<code class="inline">URIString</code> (percent-encoded), based on the components of <code class="inline">URIMap</code>. If the
<code class="inline">URIMap</code> is invalid, an error tuple is returned.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#resolve/2" data-no-tooltip="" translate="no">resolve(RefURI, BaseURI)</a>

      </div>

        <div class="summary-synopsis"><p>Convert a <code class="inline">RefURI</code> reference that might be relative to a given base URI into the
parsed components of the reference's target, which can then be recomposed to
form the target URI.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#resolve/3" data-no-tooltip="" translate="no">resolve(RefURI, BaseURI, Options)</a>

      </div>

        <div class="summary-synopsis"><p>Same as <a><code class="inline">resolve/2</code></a> but with an additional <code class="inline">Options</code> parameter,
that controls whether the target URI shall be returned as an uri_map(). There is
one supported option: <code class="inline">return_map</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#transcode/2" data-no-tooltip="" translate="no">transcode(URIString, Options)</a>

      </div>

        <div class="summary-synopsis"><p>Transcodes an <a>RFC 3986</a> compliant
<code class="inline">URIString</code>, where <code class="inline">Options</code> is a list of tagged tuples, specifying the inbound
(<code class="inline">in_encoding</code>) and outbound (<code class="inline">out_encoding</code>) encodings.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#unquote/1" data-no-tooltip="" translate="no">unquote(QuotedData)</a>

      </div>

        <div class="summary-synopsis"><p>Percent decode characters.</p></div>

    </div>

</div>

  </section>


  <section id="types" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types</span>
    </h1>
    <div class="types-list">
<section class="detail" id="t:error/0">

  <div class="detail-header">
    <a href="#t:error/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">error()</h1>

        <span class="note">(since OTP 21.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/uri_string.erl#L409" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> error() :: {error, <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>(), <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}.</pre>

      </div>

<p>Error tuple indicating the type of error. Possible values of the second
component:</p><ul><li><code class="inline">invalid_character</code></li><li><code class="inline">invalid_encoding</code></li><li><code class="inline">invalid_input</code></li><li><code class="inline">invalid_map</code></li><li><code class="inline">invalid_percent_encoding</code></li><li><code class="inline">invalid_scheme</code></li><li><code class="inline">invalid_uri</code></li><li><code class="inline">invalid_utf8</code></li><li><code class="inline">missing_value</code></li></ul><p>The third component is a term providing additional information about the cause
of the error.</p>
  </section>
</section>
<section class="detail" id="t:uri_map/0">

  <div class="detail-header">
    <a href="#t:uri_map/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">uri_map()</h1>

        <span class="note">(since OTP 21.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/uri_string.erl#L416" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> uri_map() ::
          #{fragment => <a href="unicode.html#t:chardata/0">unicode:chardata</a>(),
            host => <a href="unicode.html#t:chardata/0">unicode:chardata</a>(),
            path => <a href="unicode.html#t:chardata/0">unicode:chardata</a>(),
            port => <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>() | undefined,
            query => <a href="unicode.html#t:chardata/0">unicode:chardata</a>(),
            scheme => <a href="unicode.html#t:chardata/0">unicode:chardata</a>(),
            userinfo => <a href="unicode.html#t:chardata/0">unicode:chardata</a>()}.</pre>

      </div>

<p>Map holding the main components of a URI.</p>
  </section>
</section>
<section class="detail" id="t:uri_string/0">

  <div class="detail-header">
    <a href="#t:uri_string/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">uri_string()</h1>

        <span class="note">(since OTP 21.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/uri_string.erl#L391" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> uri_string() :: <a href="../../apps/erts/erlang.html#t:iodata/0">iodata</a>().</pre>

      </div>

<p>List of unicode codepoints, a UTF-8 encoded binary, or a mix of the two,
representing an <a href="https://www.ietf.org/rfc/rfc3986.txt">RFC 3986</a> compliant URI
(<em>percent-encoded form</em>). A URI is a sequence of characters from a very limited
set: the letters of the basic Latin alphabet, digits, and a few special
characters.</p>
  </section>
</section>

    </div>
  </section>

  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Functions</span>
    </h1>
    <div class="functions-list">
<section class="detail" id="allowed_characters/0">

  <div class="detail-header">
    <a href="#allowed_characters/0" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">allowed_characters()</h1>

        <span class="note">(since OTP 23.2)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/uri_string.erl#L749" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> allowed_characters() -> [{<a href="../../apps/erts/erlang.html#t:atom/0">atom</a>(), <a href="../../apps/erts/erlang.html#t:list/0">list</a>()}].</pre>

      </div>

<p>This is a utility function meant to be used in the shell for printing the
allowed characters in each major URI component, and also in the most important
characters sets.</p><p>Note that this function does not replace the ABNF rules defined by the standards,
these character sets are derived directly from those aformentioned rules. For more
information see the
<a href="uri_string_usage.html#percent_encoding">Uniform Resource Identifiers</a> chapter in
stdlib's Users Guide.</p>
  </section>
</section>
<section class="detail" id="compose_query/1">

  <div class="detail-header">
    <a href="#compose_query/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">compose_query(QueryList)</h1>

        <span class="note">(since OTP 21.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/uri_string.erl#L955" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> compose_query(QueryList) -> QueryString
                       when
                           QueryList :: [{<a href="unicode.html#t:chardata/0">unicode:chardata</a>(), <a href="unicode.html#t:chardata/0">unicode:chardata</a>() | true}],
                           QueryString :: <a href="#t:uri_string/0">uri_string</a>() | <a href="#t:error/0">error</a>().</pre>

      </div>

<p>Composes a form-urlencoded <code class="inline">QueryString</code> based on a <code class="inline">QueryList</code>, a list of
non-percent-encoded key-value pairs.</p><p>Form-urlencoding is defined in section 4.10.21.6 of the <a href="https://www.w3.org/TR/html52/">HTML 5.2</a>
specification and in section 4.10.22.6 of the <a href="https://www.w3.org/TR/html50/">HTML 5.0</a>
specification for non-UTF-8 encodings.</p><p>See also the opposite operation <a href="#dissect_query/1"><code class="inline">dissect_query/1</code></a>.</p><p><em>Example:</em></p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">compose_query</span><span class="p" data-group-id="6136143005-1">(</span><span class="p" data-group-id="6136143005-2">[</span><span class="p" data-group-id="6136143005-3">{</span><span class="s">&quot;foo bar&quot;</span><span class="p">,</span><span class="s">&quot;1&quot;</span><span class="p" data-group-id="6136143005-3">}</span><span class="p">,</span><span class="p" data-group-id="6136143005-4">{</span><span class="s">&quot;city&quot;</span><span class="p">,</span><span class="s">&quot;örebro&quot;</span><span class="p" data-group-id="6136143005-4">}</span><span class="p" data-group-id="6136143005-2">]</span><span class="p" data-group-id="6136143005-1">)</span><span class="p">.</span><span class="w">
</span><span class="s">&quot;foo+bar=1&amp;city=%C3%B6rebro&quot;</span><span class="gp unselectable">
2&gt; </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">compose_query</span><span class="p" data-group-id="6136143005-5">(</span><span class="p" data-group-id="6136143005-6">[</span><span class="p" data-group-id="6136143005-7">{</span><span class="p" data-group-id="6136143005-8">&lt;&lt;</span><span class="s">&quot;foo bar&quot;</span><span class="p" data-group-id="6136143005-8">&gt;&gt;</span><span class="p">,</span><span class="p" data-group-id="6136143005-9">&lt;&lt;</span><span class="s">&quot;1&quot;</span><span class="p" data-group-id="6136143005-9">&gt;&gt;</span><span class="p" data-group-id="6136143005-7">}</span><span class="p">,</span><span class="gp unselectable">
2&gt; </span><span class="p" data-group-id="6136143005-10">{</span><span class="p" data-group-id="6136143005-11">&lt;&lt;</span><span class="s">&quot;city&quot;</span><span class="p" data-group-id="6136143005-11">&gt;&gt;</span><span class="p">,</span><span class="p" data-group-id="6136143005-12">&lt;&lt;</span><span class="s">&quot;örebro&quot;</span><span class="o">/</span><span class="ss">utf8</span><span class="p" data-group-id="6136143005-12">&gt;&gt;</span><span class="p" data-group-id="6136143005-10">}</span><span class="p" data-group-id="6136143005-6">]</span><span class="p" data-group-id="6136143005-5">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="6136143005-13">&lt;&lt;</span><span class="s">&quot;foo+bar=1&amp;city=%C3%B6rebro&quot;</span><span class="p" data-group-id="6136143005-13">&gt;&gt;</span></code></pre>
  </section>
</section>
<section class="detail" id="compose_query/2">

  <div class="detail-header">
    <a href="#compose_query/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">compose_query(QueryList, Options)</h1>

        <span class="note">(since OTP 21.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/uri_string.erl#L996" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> compose_query(QueryList, Options) -> QueryString
                       when
                           QueryList :: [{<a href="unicode.html#t:chardata/0">unicode:chardata</a>(), <a href="unicode.html#t:chardata/0">unicode:chardata</a>() | true}],
                           Options :: [{encoding, <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>()}],
                           QueryString :: <a href="#t:uri_string/0">uri_string</a>() | <a href="#t:error/0">error</a>().</pre>

      </div>

<p>Same as <a href="#compose_query/1"><code class="inline">compose_query/1</code></a> but with an additional <code class="inline">Options</code>
parameter, that controls the encoding (&quot;charset&quot;) used by the encoding
algorithm.</p><p>There are two supported encodings: <code class="inline">utf8</code> (or <code class="inline">unicode</code>) and <code class="inline">latin1</code>.</p><p>Each character in the entry's name and value that cannot be expressed using the
selected character encoding, is replaced by a string consisting of a U+0026
AMPERSAND character (&amp;), a &quot;#&quot; (U+0023) character, one or more ASCII digits
representing the Unicode code point of the character in base ten, and finally a
&quot;;&quot; (U+003B) character.</p><p>Bytes that are out of the range 0x2A, 0x2D, 0x2E, 0x30 to 0x39, 0x41 to 0x5A,
0x5F, 0x61 to 0x7A, are percent-encoded (U+0025 PERCENT SIGN character (%)
followed by uppercase ASCII hex digits representing the hexadecimal value of the
byte).</p><p>See also the opposite operation <a href="#dissect_query/1"><code class="inline">dissect_query/1</code></a>.</p><p><em>Example:</em></p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">compose_query</span><span class="p" data-group-id="9206570898-1">(</span><span class="p" data-group-id="9206570898-2">[</span><span class="p" data-group-id="9206570898-3">{</span><span class="s">&quot;foo bar&quot;</span><span class="p">,</span><span class="s">&quot;1&quot;</span><span class="p" data-group-id="9206570898-3">}</span><span class="p">,</span><span class="p" data-group-id="9206570898-4">{</span><span class="s">&quot;city&quot;</span><span class="p">,</span><span class="s">&quot;örebro&quot;</span><span class="p" data-group-id="9206570898-4">}</span><span class="p" data-group-id="9206570898-2">]</span><span class="p">,</span><span class="gp unselectable">
1&gt; </span><span class="p" data-group-id="9206570898-5">[</span><span class="p" data-group-id="9206570898-6">{</span><span class="ss">encoding</span><span class="p">,</span><span class="w"> </span><span class="ss">latin1</span><span class="p" data-group-id="9206570898-6">}</span><span class="p" data-group-id="9206570898-5">]</span><span class="p" data-group-id="9206570898-1">)</span><span class="p">.</span><span class="w">
</span><span class="s">&quot;foo+bar=1&amp;city=%F6rebro&quot;</span><span class="gp unselectable">
2&gt; </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">compose_query</span><span class="p" data-group-id="9206570898-7">(</span><span class="p" data-group-id="9206570898-8">[</span><span class="p" data-group-id="9206570898-9">{</span><span class="p" data-group-id="9206570898-10">&lt;&lt;</span><span class="s">&quot;foo bar&quot;</span><span class="p" data-group-id="9206570898-10">&gt;&gt;</span><span class="p">,</span><span class="p" data-group-id="9206570898-11">&lt;&lt;</span><span class="s">&quot;1&quot;</span><span class="p" data-group-id="9206570898-11">&gt;&gt;</span><span class="p" data-group-id="9206570898-9">}</span><span class="p">,</span><span class="gp unselectable">
2&gt; </span><span class="p" data-group-id="9206570898-12">{</span><span class="p" data-group-id="9206570898-13">&lt;&lt;</span><span class="s">&quot;city&quot;</span><span class="p" data-group-id="9206570898-13">&gt;&gt;</span><span class="p">,</span><span class="p" data-group-id="9206570898-14">&lt;&lt;</span><span class="s">&quot;東京&quot;</span><span class="o">/</span><span class="ss">utf8</span><span class="p" data-group-id="9206570898-14">&gt;&gt;</span><span class="p" data-group-id="9206570898-12">}</span><span class="p" data-group-id="9206570898-8">]</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9206570898-15">[</span><span class="p" data-group-id="9206570898-16">{</span><span class="ss">encoding</span><span class="p">,</span><span class="w"> </span><span class="ss">latin1</span><span class="p" data-group-id="9206570898-16">}</span><span class="p" data-group-id="9206570898-15">]</span><span class="p" data-group-id="9206570898-7">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="9206570898-17">&lt;&lt;</span><span class="s">&quot;foo+bar=1&amp;city=%26%2326481%3B%26%2320140%3B&quot;</span><span class="p" data-group-id="9206570898-17">&gt;&gt;</span></code></pre>
  </section>
</section>
<section class="detail" id="dissect_query/1">

  <div class="detail-header">
    <a href="#dissect_query/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">dissect_query(QueryString)</h1>

        <span class="note">(since OTP 21.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/uri_string.erl#L1051" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> dissect_query(QueryString) -> QueryList
                       when
                           QueryString :: <a href="#t:uri_string/0">uri_string</a>(),
                           QueryList :: [{<a href="unicode.html#t:chardata/0">unicode:chardata</a>(), <a href="unicode.html#t:chardata/0">unicode:chardata</a>() | true}] | <a href="#t:error/0">error</a>().</pre>

      </div>

<p>Dissects an urlencoded <code class="inline">QueryString</code> and returns a <code class="inline">QueryList</code>, a list of
non-percent-encoded key-value pairs.</p><p>Form-urlencoding is defined in section 4.10.21.6 of the <a href="https://www.w3.org/TR/html52/">HTML 5.2</a>
specification and in section 4.10.22.6 of the <a href="https://www.w3.org/TR/html50/">HTML 5.0</a>
specification for non-UTF-8 encodings.</p><p>See also the opposite operation <a href="#compose_query/1"><code class="inline">compose_query/1</code></a>.</p><p><em>Example:</em></p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">dissect_query</span><span class="p" data-group-id="2481040008-1">(</span><span class="s">&quot;foo+bar=1&amp;city=%C3%B6rebro&quot;</span><span class="p" data-group-id="2481040008-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="2481040008-2">[</span><span class="p" data-group-id="2481040008-3">{</span><span class="s">&quot;foo bar&quot;</span><span class="p">,</span><span class="s">&quot;1&quot;</span><span class="p" data-group-id="2481040008-3">}</span><span class="p">,</span><span class="p" data-group-id="2481040008-4">{</span><span class="s">&quot;city&quot;</span><span class="p">,</span><span class="s">&quot;örebro&quot;</span><span class="p" data-group-id="2481040008-4">}</span><span class="p" data-group-id="2481040008-2">]</span><span class="gp unselectable">
2&gt; </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">dissect_query</span><span class="p" data-group-id="2481040008-5">(</span><span class="p" data-group-id="2481040008-6">&lt;&lt;</span><span class="s">&quot;foo+bar=1&amp;city=%26%2326481%3B%26%2320140%3B&quot;</span><span class="p" data-group-id="2481040008-6">&gt;&gt;</span><span class="p" data-group-id="2481040008-5">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="2481040008-7">[</span><span class="p" data-group-id="2481040008-8">{</span><span class="p" data-group-id="2481040008-9">&lt;&lt;</span><span class="s">&quot;foo bar&quot;</span><span class="p" data-group-id="2481040008-9">&gt;&gt;</span><span class="p">,</span><span class="p" data-group-id="2481040008-10">&lt;&lt;</span><span class="s">&quot;1&quot;</span><span class="p" data-group-id="2481040008-10">&gt;&gt;</span><span class="p" data-group-id="2481040008-8">}</span><span class="p">,</span><span class="w">
 </span><span class="p" data-group-id="2481040008-11">{</span><span class="p" data-group-id="2481040008-12">&lt;&lt;</span><span class="s">&quot;city&quot;</span><span class="p" data-group-id="2481040008-12">&gt;&gt;</span><span class="p">,</span><span class="p" data-group-id="2481040008-13">&lt;&lt;</span><span class="mi">230</span><span class="p">,</span><span class="mi">157</span><span class="p">,</span><span class="mi">177</span><span class="p">,</span><span class="mi">228</span><span class="p">,</span><span class="mi">186</span><span class="p">,</span><span class="mi">172</span><span class="p" data-group-id="2481040008-13">&gt;&gt;</span><span class="p" data-group-id="2481040008-11">}</span><span class="p" data-group-id="2481040008-7">]</span></code></pre>
  </section>
</section>
<section class="detail" id="normalize/1">

  <div class="detail-header">
    <a href="#normalize/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">normalize(URI)</h1>

        <span class="note">(since OTP 21.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/uri_string.erl#L456" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> normalize(URI) -> NormalizedURI
                   when URI :: <a href="#t:uri_string/0">uri_string</a>() | <a href="#t:uri_map/0">uri_map</a>(), NormalizedURI :: <a href="#t:uri_string/0">uri_string</a>() | <a href="#t:error/0">error</a>().</pre>

      </div>

<p>Transforms an <code class="inline">URI</code> into a normalized form using Syntax-Based Normalization as
defined by <a href="https://www.ietf.org/rfc/rfc3986.txt">RFC 3986</a>.</p><p>This function implements case normalization, percent-encoding normalization,
path segment normalization and scheme based normalization for HTTP(S) with basic
support for FTP, SSH, SFTP and TFTP.</p><p><em>Example:</em></p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">normalize</span><span class="p" data-group-id="2790798200-1">(</span><span class="s">&quot;/a/b/c/./../../g&quot;</span><span class="p" data-group-id="2790798200-1">)</span><span class="p">.</span><span class="w">
</span><span class="s">&quot;/a/g&quot;</span><span class="gp unselectable">
2&gt; </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">normalize</span><span class="p" data-group-id="2790798200-2">(</span><span class="p" data-group-id="2790798200-3">&lt;&lt;</span><span class="s">&quot;mid/content=5/../6&quot;</span><span class="p" data-group-id="2790798200-3">&gt;&gt;</span><span class="p" data-group-id="2790798200-2">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="2790798200-4">&lt;&lt;</span><span class="s">&quot;mid/6&quot;</span><span class="p" data-group-id="2790798200-4">&gt;&gt;</span><span class="gp unselectable">
3&gt; </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">normalize</span><span class="p" data-group-id="2790798200-5">(</span><span class="s">&quot;http://localhost:80&quot;</span><span class="p" data-group-id="2790798200-5">)</span><span class="p">.</span><span class="w">
</span><span class="s">&quot;http://localhost/&quot;</span><span class="gp unselectable">
4&gt; </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">normalize</span><span class="p" data-group-id="2790798200-6">(</span><span class="p" data-group-id="2790798200-7">#{</span><span class="ss">scheme</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;http&quot;</span><span class="p">,</span><span class="ss">port</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="ss">path</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;/a/b/c/./../../g&quot;</span><span class="p">,</span><span class="gp unselectable">
4&gt; </span><span class="ss">host</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;localhost-örebro&quot;</span><span class="p" data-group-id="2790798200-7">}</span><span class="p" data-group-id="2790798200-6">)</span><span class="p">.</span><span class="w">
</span><span class="s">&quot;http://localhost-%C3%B6rebro/a/g&quot;</span></code></pre>
  </section>
</section>
<section class="detail" id="normalize/2">

  <div class="detail-header">
    <a href="#normalize/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">normalize(URI, Options)</h1>

        <span class="note">(since OTP 21.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/uri_string.erl#L487" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> normalize(URI, Options) -> NormalizedURI
                   when
                       URI :: <a href="#t:uri_string/0">uri_string</a>() | <a href="#t:uri_map/0">uri_map</a>(),
                       Options :: [return_map],
                       NormalizedURI :: <a href="#t:uri_string/0">uri_string</a>() | <a href="#t:uri_map/0">uri_map</a>() | <a href="#t:error/0">error</a>().</pre>

      </div>

<p>Same as <a href="#normalize/1"><code class="inline">normalize/1</code></a> but with an additional <code class="inline">Options</code>
parameter, that controls whether the normalized URI shall be returned as an
uri_map().</p><p>There is one supported option: <code class="inline">return_map</code>.</p><p><em>Example:</em></p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">normalize</span><span class="p" data-group-id="8154429474-1">(</span><span class="s">&quot;/a/b/c/./../../g&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8154429474-2">[</span><span class="ss">return_map</span><span class="p" data-group-id="8154429474-2">]</span><span class="p" data-group-id="8154429474-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="8154429474-3">#{</span><span class="ss">path</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;/a/g&quot;</span><span class="p" data-group-id="8154429474-3">}</span><span class="gp unselectable">
2&gt; </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">normalize</span><span class="p" data-group-id="8154429474-4">(</span><span class="p" data-group-id="8154429474-5">&lt;&lt;</span><span class="s">&quot;mid/content=5/../6&quot;</span><span class="p" data-group-id="8154429474-5">&gt;&gt;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8154429474-6">[</span><span class="ss">return_map</span><span class="p" data-group-id="8154429474-6">]</span><span class="p" data-group-id="8154429474-4">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="8154429474-7">#{</span><span class="ss">path</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p" data-group-id="8154429474-8">&lt;&lt;</span><span class="s">&quot;mid/6&quot;</span><span class="p" data-group-id="8154429474-8">&gt;&gt;</span><span class="p" data-group-id="8154429474-7">}</span><span class="gp unselectable">
3&gt; </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">normalize</span><span class="p" data-group-id="8154429474-9">(</span><span class="s">&quot;http://localhost:80&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8154429474-10">[</span><span class="ss">return_map</span><span class="p" data-group-id="8154429474-10">]</span><span class="p" data-group-id="8154429474-9">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="8154429474-11">#{</span><span class="ss">scheme</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;http&quot;</span><span class="p">,</span><span class="ss">path</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;/&quot;</span><span class="p">,</span><span class="ss">host</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;localhost&quot;</span><span class="p" data-group-id="8154429474-11">}</span><span class="gp unselectable">
4&gt; </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">normalize</span><span class="p" data-group-id="8154429474-12">(</span><span class="p" data-group-id="8154429474-13">#{</span><span class="ss">scheme</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;http&quot;</span><span class="p">,</span><span class="ss">port</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="ss">path</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;/a/b/c/./../../g&quot;</span><span class="p">,</span><span class="gp unselectable">
4&gt; </span><span class="ss">host</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;localhost-örebro&quot;</span><span class="p" data-group-id="8154429474-13">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8154429474-14">[</span><span class="ss">return_map</span><span class="p" data-group-id="8154429474-14">]</span><span class="p" data-group-id="8154429474-12">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="8154429474-15">#{</span><span class="ss">scheme</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;http&quot;</span><span class="p">,</span><span class="ss">path</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;/a/g&quot;</span><span class="p">,</span><span class="ss">host</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;localhost-örebro&quot;</span><span class="p" data-group-id="8154429474-15">}</span></code></pre>
  </section>
</section>
<section class="detail" id="parse/1">

  <div class="detail-header">
    <a href="#parse/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">parse(URIString)</h1>

        <span class="note">(since OTP 21.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/uri_string.erl#L547" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> parse(URIString) -> URIMap when URIString :: <a href="#t:uri_string/0">uri_string</a>(), URIMap :: <a href="#t:uri_map/0">uri_map</a>() | <a href="#t:error/0">error</a>().</pre>

      </div>

<p>Parses an <a href="https://www.ietf.org/rfc/rfc3986.txt">RFC 3986</a> compliant
<a href="#t:uri_string/0"><code class="inline">uri_string/0</code></a> into a <a href="#t:uri_map/0"><code class="inline">uri_map/0</code></a>, that holds the parsed components of the
<code class="inline">URI</code>. If parsing fails, an error tuple is returned.</p><p>See also the opposite operation <a href="#recompose/1"><code class="inline">recompose/1</code></a>.</p><p><em>Example:</em></p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">parse</span><span class="p" data-group-id="8991576590-1">(</span><span class="s">&quot;foo://user@example.com:8042/over/there?name=ferret#nose&quot;</span><span class="p" data-group-id="8991576590-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="8991576590-2">#{</span><span class="ss">fragment</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;nose&quot;</span><span class="p">,</span><span class="ss">host</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;example.com&quot;</span><span class="p">,</span><span class="w">
  </span><span class="ss">path</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;/over/there&quot;</span><span class="p">,</span><span class="ss">port</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mi">8042</span><span class="p">,</span><span class="k">query</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;name=ferret&quot;</span><span class="p">,</span><span class="w">
  </span><span class="ss">scheme</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ss">foo</span><span class="p">,</span><span class="ss">userinfo</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;user&quot;</span><span class="p" data-group-id="8991576590-2">}</span><span class="gp unselectable">
2&gt; </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">parse</span><span class="p" data-group-id="8991576590-3">(</span><span class="p" data-group-id="8991576590-4">&lt;&lt;</span><span class="s">&quot;foo://user@example.com:8042/over/there?name=ferret&quot;</span><span class="p" data-group-id="8991576590-4">&gt;&gt;</span><span class="p" data-group-id="8991576590-3">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="8991576590-5">#{</span><span class="ss">host</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p" data-group-id="8991576590-6">&lt;&lt;</span><span class="s">&quot;example.com&quot;</span><span class="p" data-group-id="8991576590-6">&gt;&gt;</span><span class="p">,</span><span class="ss">path</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p" data-group-id="8991576590-7">&lt;&lt;</span><span class="s">&quot;/over/there&quot;</span><span class="p" data-group-id="8991576590-7">&gt;&gt;</span><span class="p">,</span><span class="w">
  </span><span class="ss">port</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mi">8042</span><span class="p">,</span><span class="k">query</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p" data-group-id="8991576590-8">&lt;&lt;</span><span class="s">&quot;name=ferret&quot;</span><span class="p" data-group-id="8991576590-8">&gt;&gt;</span><span class="p">,</span><span class="ss">scheme</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p" data-group-id="8991576590-9">&lt;&lt;</span><span class="s">&quot;foo&quot;</span><span class="p" data-group-id="8991576590-9">&gt;&gt;</span><span class="p">,</span><span class="w">
  </span><span class="ss">userinfo</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p" data-group-id="8991576590-10">&lt;&lt;</span><span class="s">&quot;user&quot;</span><span class="p" data-group-id="8991576590-10">&gt;&gt;</span><span class="p" data-group-id="8991576590-5">}</span></code></pre>
  </section>
</section>
<section class="detail" id="percent_decode/1">

  <div class="detail-header">
    <a href="#percent_decode/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">percent_decode(URI)</h1>

        <span class="note">(since OTP 23.2)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/uri_string.erl#L813" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> percent_decode(URI) -> Result
                        when
                            URI :: <a href="#t:uri_string/0">uri_string</a>() | <a href="#t:uri_map/0">uri_map</a>(),
                            Result ::
                                <a href="#t:uri_string/0">uri_string</a>() |
                                <a href="#t:uri_map/0">uri_map</a>() |
                                {error, {invalid, {<a href="../../apps/erts/erlang.html#t:atom/0">atom</a>(), {<a href="../../apps/erts/erlang.html#t:term/0">term</a>(), <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}}}} |
                                <a href="#t:error/0">error</a>().</pre>

      </div>

<p>Decodes all percent-encoded triplets in the input that can be both a
<a href="#t:uri_string/0"><code class="inline">uri_string/0</code></a> and a <a href="#t:uri_map/0"><code class="inline">uri_map/0</code></a>.</p><p>Note, that this function performs raw decoding and it shall be used on already
parsed URI components. Applying this function directly on a standard URI can
effectively change it.</p><p>If the input encoding is not UTF-8, an error tuple is returned.</p><p><em>Example:</em></p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">percent_decode</span><span class="p" data-group-id="7241713136-1">(</span><span class="p" data-group-id="7241713136-2">#{</span><span class="ss">host</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;localhost-%C3%B6rebro&quot;</span><span class="p">,</span><span class="ss">path</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p" data-group-id="7241713136-3">[</span><span class="p" data-group-id="7241713136-3">]</span><span class="p">,</span><span class="gp unselectable">
1&gt; </span><span class="ss">scheme</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;http&quot;</span><span class="p" data-group-id="7241713136-2">}</span><span class="p" data-group-id="7241713136-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="7241713136-4">#{</span><span class="ss">host</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;localhost-örebro&quot;</span><span class="p">,</span><span class="ss">path</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p" data-group-id="7241713136-5">[</span><span class="p" data-group-id="7241713136-5">]</span><span class="p">,</span><span class="ss">scheme</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;http&quot;</span><span class="p" data-group-id="7241713136-4">}</span><span class="gp unselectable">
2&gt; </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">percent_decode</span><span class="p" data-group-id="7241713136-6">(</span><span class="p" data-group-id="7241713136-7">&lt;&lt;</span><span class="s">&quot;%C3%B6rebro&quot;</span><span class="p" data-group-id="7241713136-7">&gt;&gt;</span><span class="p" data-group-id="7241713136-6">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="7241713136-8">&lt;&lt;</span><span class="s">&quot;örebro&quot;</span><span class="o">/</span><span class="ss">utf8</span><span class="p" data-group-id="7241713136-8">&gt;&gt;</span></code></pre><section role="note" class="admonition warning"><h4 class="admonition-title warning">Warning</h4><p>Using <a href="#percent_decode/1"><code class="inline">uri_string:percent_decode/1</code></a> directly on a URI is not safe. This
example shows, that after each consecutive application of the function the
resulting URI will be changed. None of these URIs refer to the same resource.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">3&gt; </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">percent_decode</span><span class="p" data-group-id="7972110895-1">(</span><span class="p" data-group-id="7972110895-2">&lt;&lt;</span><span class="s">&quot;http://local%252Fhost/path&quot;</span><span class="p" data-group-id="7972110895-2">&gt;&gt;</span><span class="p" data-group-id="7972110895-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="7972110895-3">&lt;&lt;</span><span class="s">&quot;http://local%2Fhost/path&quot;</span><span class="p" data-group-id="7972110895-3">&gt;&gt;</span><span class="gp unselectable">
4&gt; </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">percent_decode</span><span class="p" data-group-id="7972110895-4">(</span><span class="p" data-group-id="7972110895-5">&lt;&lt;</span><span class="s">&quot;http://local%2Fhost/path&quot;</span><span class="p" data-group-id="7972110895-5">&gt;&gt;</span><span class="p" data-group-id="7972110895-4">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="7972110895-6">&lt;&lt;</span><span class="s">&quot;http://local/host/path&quot;</span><span class="p" data-group-id="7972110895-6">&gt;&gt;</span></code></pre></section>
  </section>
</section>
<section class="detail" id="quote/1">

  <div class="detail-header">
    <a href="#quote/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">quote(Data)</h1>

        <span class="note">(since OTP 25.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/uri_string.erl#L860" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> quote(Data) -> QuotedData when Data :: <a href="unicode.html#t:chardata/0">unicode:chardata</a>(), QuotedData :: <a href="unicode.html#t:chardata/0">unicode:chardata</a>().</pre>

      </div>

<p>Replaces characters out of unreserved set with their percent encoded
equivalents.</p><p>Unreserved characters defined in
<a href="https://www.ietf.org/rfc/rfc3986.txt">RFC 3986</a> are not quoted.</p><p><em>Example:</em></p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">quote</span><span class="p" data-group-id="4738502014-1">(</span><span class="s">&quot;SomeId/04&quot;</span><span class="p" data-group-id="4738502014-1">)</span><span class="p">.</span><span class="w">
</span><span class="s">&quot;SomeId%2F04&quot;</span><span class="gp unselectable">
2&gt; </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">quote</span><span class="p" data-group-id="4738502014-2">(</span><span class="p" data-group-id="4738502014-3">&lt;&lt;</span><span class="s">&quot;SomeId/04&quot;</span><span class="p" data-group-id="4738502014-3">&gt;&gt;</span><span class="p" data-group-id="4738502014-2">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="4738502014-4">&lt;&lt;</span><span class="s">&quot;SomeId%2F04&quot;</span><span class="p" data-group-id="4738502014-4">&gt;&gt;</span></code></pre><section role="note" class="admonition warning"><h4 class="admonition-title warning">Warning</h4><p>Function is not aware about any URI component context and should not be used
on whole URI. If applied more than once on the same data, might produce
unexpected results.</p></section>
  </section>
</section>
<section class="detail" id="quote/2">

  <div class="detail-header">
    <a href="#quote/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">quote(Data, Safe)</h1>

        <span class="note">(since OTP 25.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/uri_string.erl#L887" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> quote(Data, Safe) -> QuotedData
               when Data :: <a href="unicode.html#t:chardata/0">unicode:chardata</a>(), Safe :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>(), QuotedData :: <a href="unicode.html#t:chardata/0">unicode:chardata</a>().</pre>

      </div>

<p>Same as <a href="#quote/1"><code class="inline">quote/1</code></a>, but <code class="inline">Safe</code> allows user to provide a list of
characters to be protected from encoding.</p><p><em>Example:</em></p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">quote</span><span class="p" data-group-id="4014124821-1">(</span><span class="s">&quot;SomeId/04&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/&quot;</span><span class="p" data-group-id="4014124821-1">)</span><span class="p">.</span><span class="w">
</span><span class="s">&quot;SomeId/04&quot;</span><span class="gp unselectable">
2&gt; </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">quote</span><span class="p" data-group-id="4014124821-2">(</span><span class="p" data-group-id="4014124821-3">&lt;&lt;</span><span class="s">&quot;SomeId/04&quot;</span><span class="p" data-group-id="4014124821-3">&gt;&gt;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/&quot;</span><span class="p" data-group-id="4014124821-2">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="4014124821-4">&lt;&lt;</span><span class="s">&quot;SomeId/04&quot;</span><span class="p" data-group-id="4014124821-4">&gt;&gt;</span></code></pre><section role="note" class="admonition warning"><h4 class="admonition-title warning">Warning</h4><p>Function is not aware about any URI component context and should not be used
on whole URI. If applied more than once on the same data, might produce
unexpected results.</p></section>
  </section>
</section>
<section class="detail" id="recompose/1">

  <div class="detail-header">
    <a href="#recompose/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">recompose(URIMap)</h1>

        <span class="note">(since OTP 21.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/uri_string.erl#L590" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> recompose(URIMap) -> URIString when URIMap :: <a href="#t:uri_map/0">uri_map</a>(), URIString :: <a href="#t:uri_string/0">uri_string</a>() | <a href="#t:error/0">error</a>().</pre>

      </div>

<p>Creates an <a href="https://www.ietf.org/rfc/rfc3986.txt">RFC 3986</a> compliant
<code class="inline">URIString</code> (percent-encoded), based on the components of <code class="inline">URIMap</code>. If the
<code class="inline">URIMap</code> is invalid, an error tuple is returned.</p><p>See also the opposite operation <a href="#parse/1"><code class="inline">parse/1</code></a>.</p><p><em>Example:</em></p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="n">URIMap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="9013540372-1">#{</span><span class="ss">fragment</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;nose&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">host</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;example.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">path</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;/over/there&quot;</span><span class="p">,</span><span class="gp unselectable">
1&gt; </span><span class="ss">port</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mi">8042</span><span class="p">,</span><span class="w"> </span><span class="k">query</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;name=ferret&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">scheme</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">userinfo</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;user&quot;</span><span class="p" data-group-id="9013540372-1">}</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="9013540372-2">#{</span><span class="ss">fragment</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;nose&quot;</span><span class="p">,</span><span class="ss">host</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;example.com&quot;</span><span class="p">,</span><span class="w">
  </span><span class="ss">path</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;/over/there&quot;</span><span class="p">,</span><span class="ss">port</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mi">8042</span><span class="p">,</span><span class="k">query</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;name=ferret&quot;</span><span class="p">,</span><span class="w">
  </span><span class="ss">scheme</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="p">,</span><span class="ss">userinfo</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;user&quot;</span><span class="p" data-group-id="9013540372-2">}</span><span class="w">

</span><span class="mi">2</span><span class="o">&gt;</span><span class="w"> </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">recompose</span><span class="p" data-group-id="9013540372-3">(</span><span class="n">URIMap</span><span class="p" data-group-id="9013540372-3">)</span><span class="p">.</span><span class="w">
</span><span class="s">&quot;foo://example.com:8042/over/there?name=ferret#nose&quot;</span></code></pre>
  </section>
</section>
<section class="detail" id="resolve/2">

  <div class="detail-header">
    <a href="#resolve/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">resolve(RefURI, BaseURI)</h1>

        <span class="note">(since OTP 22.3)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/uri_string.erl#L636" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> resolve(RefURI, BaseURI) -> TargetURI
                 when
                     RefURI :: <a href="#t:uri_string/0">uri_string</a>() | <a href="#t:uri_map/0">uri_map</a>(),
                     BaseURI :: <a href="#t:uri_string/0">uri_string</a>() | <a href="#t:uri_map/0">uri_map</a>(),
                     TargetURI :: <a href="#t:uri_string/0">uri_string</a>() | <a href="#t:error/0">error</a>().</pre>

      </div>

<p>Convert a <code class="inline">RefURI</code> reference that might be relative to a given base URI into the
parsed components of the reference's target, which can then be recomposed to
form the target URI.</p><p><em>Example:</em></p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">resolve</span><span class="p" data-group-id="1416215387-1">(</span><span class="s">&quot;/abs/ol/ute&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;http://localhost/a/b/c?q&quot;</span><span class="p" data-group-id="1416215387-1">)</span><span class="p">.</span><span class="w">
</span><span class="s">&quot;http://localhost/abs/ol/ute&quot;</span><span class="gp unselectable">
2&gt; </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">resolve</span><span class="p" data-group-id="1416215387-2">(</span><span class="s">&quot;../relative&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;http://localhost/a/b/c?q&quot;</span><span class="p" data-group-id="1416215387-2">)</span><span class="p">.</span><span class="w">
</span><span class="s">&quot;http://localhost/a/relative&quot;</span><span class="gp unselectable">
3&gt; </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">resolve</span><span class="p" data-group-id="1416215387-3">(</span><span class="s">&quot;http://localhost/full&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;http://localhost/a/b/c?q&quot;</span><span class="p" data-group-id="1416215387-3">)</span><span class="p">.</span><span class="w">
</span><span class="s">&quot;http://localhost/full&quot;</span><span class="gp unselectable">
4&gt; </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">resolve</span><span class="p" data-group-id="1416215387-4">(</span><span class="p" data-group-id="1416215387-5">#{</span><span class="ss">path</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;path&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">query</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;xyz&quot;</span><span class="p" data-group-id="1416215387-5">}</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;http://localhost/a/b/c?q&quot;</span><span class="p" data-group-id="1416215387-4">)</span><span class="p">.</span><span class="w">
</span><span class="s">&quot;http://localhost/a/b/path?xyz&quot;</span></code></pre>
  </section>
</section>
<section class="detail" id="resolve/3">

  <div class="detail-header">
    <a href="#resolve/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">resolve(RefURI, BaseURI, Options)</h1>

        <span class="note">(since OTP 22.3)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/uri_string.erl#L662" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> resolve(RefURI, BaseURI, Options) -> TargetURI
                 when
                     RefURI :: <a href="#t:uri_string/0">uri_string</a>() | <a href="#t:uri_map/0">uri_map</a>(),
                     BaseURI :: <a href="#t:uri_string/0">uri_string</a>() | <a href="#t:uri_map/0">uri_map</a>(),
                     Options :: [return_map],
                     TargetURI :: <a href="#t:uri_string/0">uri_string</a>() | <a href="#t:uri_map/0">uri_map</a>() | <a href="#t:error/0">error</a>().</pre>

      </div>

<p>Same as <a href="#resolve/2"><code class="inline">resolve/2</code></a> but with an additional <code class="inline">Options</code> parameter,
that controls whether the target URI shall be returned as an uri_map(). There is
one supported option: <code class="inline">return_map</code>.</p><p><em>Example:</em></p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">resolve</span><span class="p" data-group-id="6838630840-1">(</span><span class="s">&quot;/abs/ol/ute&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;http://localhost/a/b/c?q&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6838630840-2">[</span><span class="ss">return_map</span><span class="p" data-group-id="6838630840-2">]</span><span class="p" data-group-id="6838630840-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="6838630840-3">#{</span><span class="ss">host</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;localhost&quot;</span><span class="p">,</span><span class="ss">path</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;/abs/ol/ute&quot;</span><span class="p">,</span><span class="ss">scheme</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;http&quot;</span><span class="p" data-group-id="6838630840-3">}</span><span class="gp unselectable">
2&gt; </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">resolve</span><span class="p" data-group-id="6838630840-4">(</span><span class="p" data-group-id="6838630840-5">#{</span><span class="ss">path</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;/abs/ol/ute&quot;</span><span class="p" data-group-id="6838630840-5">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6838630840-6">#{</span><span class="ss">scheme</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;http&quot;</span><span class="p">,</span><span class="gp unselectable">
2&gt; </span><span class="ss">host</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;localhost&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">path</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;/a/b/c?q&quot;</span><span class="p" data-group-id="6838630840-6">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6838630840-7">[</span><span class="ss">return_map</span><span class="p" data-group-id="6838630840-7">]</span><span class="p" data-group-id="6838630840-4">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="6838630840-8">#{</span><span class="ss">host</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;localhost&quot;</span><span class="p">,</span><span class="ss">path</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;/abs/ol/ute&quot;</span><span class="p">,</span><span class="ss">scheme</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;http&quot;</span><span class="p" data-group-id="6838630840-8">}</span></code></pre>
  </section>
</section>
<section class="detail" id="transcode/2">

  <div class="detail-header">
    <a href="#transcode/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">transcode(URIString, Options)</h1>

        <span class="note">(since OTP 21.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/uri_string.erl#L713" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> transcode(URIString, Options) -> Result
                   when
                       URIString :: <a href="#t:uri_string/0">uri_string</a>(),
                       Options ::
                           [{in_encoding, <a href="unicode.html#t:encoding/0">unicode:encoding</a>()} | {out_encoding, <a href="unicode.html#t:encoding/0">unicode:encoding</a>()}],
                       Result :: <a href="#t:uri_string/0">uri_string</a>() | <a href="#t:error/0">error</a>().</pre>

      </div>

<p>Transcodes an <a href="https://www.ietf.org/rfc/rfc3986.txt">RFC 3986</a> compliant
<code class="inline">URIString</code>, where <code class="inline">Options</code> is a list of tagged tuples, specifying the inbound
(<code class="inline">in_encoding</code>) and outbound (<code class="inline">out_encoding</code>) encodings.</p><p><code class="inline">in_encoding</code> and <code class="inline">out_encoding</code> specifies both binary encoding and percent-encoding
for the input and output data. Mixed encoding, where binary encoding is not the same as
percent-encoding, is not supported. If an argument is invalid, an error tuple is
returned.</p><p><em>Example:</em></p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">transcode</span><span class="p" data-group-id="5903771813-1">(</span><span class="p" data-group-id="5903771813-2">&lt;&lt;</span><span class="s">&quot;foo%00%00%00%F6bar&quot;</span><span class="o">/</span><span class="ss">utf32</span><span class="p" data-group-id="5903771813-2">&gt;&gt;</span><span class="p">,</span><span class="gp unselectable">
1&gt; </span><span class="p" data-group-id="5903771813-3">[</span><span class="p" data-group-id="5903771813-4">{</span><span class="ss">in_encoding</span><span class="p">,</span><span class="w"> </span><span class="ss">utf32</span><span class="p" data-group-id="5903771813-4">}</span><span class="p">,</span><span class="p" data-group-id="5903771813-5">{</span><span class="ss">out_encoding</span><span class="p">,</span><span class="w"> </span><span class="ss">utf8</span><span class="p" data-group-id="5903771813-5">}</span><span class="p" data-group-id="5903771813-3">]</span><span class="p" data-group-id="5903771813-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="5903771813-6">&lt;&lt;</span><span class="s">&quot;foo%C3%B6bar&quot;</span><span class="o">/</span><span class="ss">utf8</span><span class="p" data-group-id="5903771813-6">&gt;&gt;</span><span class="gp unselectable">
2&gt; </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">transcode</span><span class="p" data-group-id="5903771813-7">(</span><span class="s">&quot;foo%F6bar&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5903771813-8">[</span><span class="p" data-group-id="5903771813-9">{</span><span class="ss">in_encoding</span><span class="p">,</span><span class="w"> </span><span class="ss">latin1</span><span class="p" data-group-id="5903771813-9">}</span><span class="p">,</span><span class="gp unselectable">
2&gt; </span><span class="p" data-group-id="5903771813-10">{</span><span class="ss">out_encoding</span><span class="p">,</span><span class="w"> </span><span class="ss">utf8</span><span class="p" data-group-id="5903771813-10">}</span><span class="p" data-group-id="5903771813-8">]</span><span class="p" data-group-id="5903771813-7">)</span><span class="p">.</span><span class="w">
</span><span class="s">&quot;foo%C3%B6bar&quot;</span></code></pre>
  </section>
</section>
<section class="detail" id="unquote/1">

  <div class="detail-header">
    <a href="#unquote/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">unquote(QuotedData)</h1>

        <span class="note">(since OTP 25.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/stdlib/src/uri_string.erl#L916" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> unquote(QuotedData) -> Data when QuotedData :: <a href="unicode.html#t:chardata/0">unicode:chardata</a>(), Data :: <a href="unicode.html#t:chardata/0">unicode:chardata</a>().</pre>

      </div>

<p>Percent decode characters.</p><p><em>Example:</em></p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">unquote</span><span class="p" data-group-id="9816091982-1">(</span><span class="s">&quot;SomeId%2F04&quot;</span><span class="p" data-group-id="9816091982-1">)</span><span class="p">.</span><span class="w">
</span><span class="s">&quot;SomeId/04&quot;</span><span class="gp unselectable">
2&gt; </span><span class="nc">uri_string</span><span class="p">:</span><span class="nf">unquote</span><span class="p" data-group-id="9816091982-2">(</span><span class="p" data-group-id="9816091982-3">&lt;&lt;</span><span class="s">&quot;SomeId%2F04&quot;</span><span class="p" data-group-id="9816091982-3">&gt;&gt;</span><span class="p" data-group-id="9816091982-2">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="9816091982-4">&lt;&lt;</span><span class="s">&quot;SomeId/04&quot;</span><span class="p" data-group-id="9816091982-4">&gt;&gt;</span></code></pre><section role="note" class="admonition warning"><h4 class="admonition-title warning">Warning</h4><p>Function is not aware about any URI component context and should not be used
on whole URI. If applied more than once on the same data, might produce
unexpected results.</p></section>
  </section>
</section>

    </div>
  </section>

    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="stdlib.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.1) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>
<p>Copyright © 1996-2025 <a href="https://www.ericsson.com">Ericsson AB</a></p>
    </footer>
  </div>
</main>
</div>
  <script defer src="https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.min.js"></script>
  <script>
  let initialized = false;

  window.addEventListener("exdoc:loaded", () => {
      if (!initialized) {
      mermaid.initialize({
          startOnLoad: false,
          theme: document.body.className.includes("dark") ? "dark" : "default"
      });
      initialized = true;
      }

      let id = 0;
      for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
          graphEl.innerHTML = svg;
          bindFunctions?.(graphEl);
          preEl.insertAdjacentElement("afterend", graphEl);
          preEl.remove();
      });
      }
  });
  </script>

  </body>
</html>
