<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.1">
    <meta name="project" content="asn1 v5.4.1-rc0">


<meta name="exdoc:full-text-search-url" content="/doc/search.html?v=29&q=">
<meta name="major-vsn" content="29">
<link rel="canonical" href="https://www.erlang.org/docs/29/apps/asn1/asn1_getting_started.html" />
    <title>Getting Started — asn1 v5.4.1-rc0</title>

    <link rel="stylesheet" href="dist/html-erlang-ZK43ZOAC.css" />

    <script defer src="dist/sidebar_items-24590604.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-DPJLHKSM.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="../../index.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="asn1" />
        </a>

      <div>
        <a href="../../index.html" class="sidebar-projectName" translate="no">
asn1
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v5.4.1-rc0
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-extra" id="main" data-type="extras">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of asn1</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>Getting Started</h1>


      <a href="https://github.com/erlang/otp/blob/master/lib/asn1/doc/guides/asn1_getting_started.md#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


<h2 id="example" class="section-heading"><a href="#example" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Example</span></h2><p>The following example demonstrates the basic functionality used to run the
Erlang ASN.1 compiler.</p><p>Create a file named <code class="inline">People.asn</code> containing the following:</p><pre><code class="text">People DEFINITIONS AUTOMATIC TAGS ::=
BEGIN
  Person ::= SEQUENCE {
    name PrintableString,
    location INTEGER {home(0),field(1),roving(2)},
    age INTEGER OPTIONAL
  }
END</code></pre><p>This file must be compiled before it can be used. The ASN.1 compiler checks that
the syntax is correct and that the text represents proper ASN.1 code before
generating an abstract syntax tree. The code generator then uses the abstract
syntax tree to generate code.</p><p>The generated Erlang files are placed in the current directory or in the
directory specified with option <code class="inline">{outdir,Dir}</code>.</p><p>The compiler can be called from the Erlang shell like this:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="nc">asn1ct</span><span class="p">:</span><span class="nf">compile</span><span class="p" data-group-id="4629600094-1">(</span><span class="s">&quot;People&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4629600094-2">[</span><span class="ss">ber</span><span class="p" data-group-id="4629600094-2">]</span><span class="p" data-group-id="4629600094-1">)</span><span class="p">.</span><span class="w">
</span><span class="ss">ok</span></code></pre><p>Option <code class="inline">verbose</code> can be added to get information about the generated files:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">2&gt; </span><span class="nc">asn1ct</span><span class="p">:</span><span class="nf">compile</span><span class="p" data-group-id="8225369012-1">(</span><span class="s">&quot;People&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8225369012-2">[</span><span class="ss">ber</span><span class="p">,</span><span class="ss">verbose</span><span class="p" data-group-id="8225369012-2">]</span><span class="p" data-group-id="8225369012-1">)</span><span class="p">.</span><span class="w">
</span><span class="n">Erlang</span><span class="w"> </span><span class="n">ASN</span><span class="p">.</span><span class="mi">1</span><span class="w"> </span><span class="ss">compiling</span><span class="w"> </span><span class="s">&quot;People.asn&quot;</span><span class="w">
</span><span class="o">--</span><span class="p" data-group-id="8225369012-3">{</span><span class="ss">generated</span><span class="p">,</span><span class="s">&quot;People.asn1db&quot;</span><span class="p" data-group-id="8225369012-3">}</span><span class="o">--</span><span class="w">
</span><span class="o">--</span><span class="p" data-group-id="8225369012-4">{</span><span class="ss">generated</span><span class="p">,</span><span class="s">&quot;People.hrl&quot;</span><span class="p" data-group-id="8225369012-4">}</span><span class="o">--</span><span class="w">
</span><span class="o">--</span><span class="p" data-group-id="8225369012-5">{</span><span class="ss">generated</span><span class="p">,</span><span class="s">&quot;People.erl&quot;</span><span class="p" data-group-id="8225369012-5">}</span><span class="o">--</span><span class="w">
</span><span class="ss">ok</span></code></pre><p>ASN.1 module <code class="inline">People</code> is now accepted and the abstract syntax tree is saved in
file <code class="inline">People.asn1db</code>. The generated Erlang code is compiled using the Erlang
compiler and loaded into the Erlang runtime system. There is now an API for
<code class="inline">encode/2</code> and <code class="inline">decode/2</code> in module <code class="inline">People</code>, which is called like this:</p><pre><code class="makeup erlang" translate="no"><span class="nc">&#39;People&#39;</span><span class="p">:</span><span class="nf">encode</span><span class="p" data-group-id="0307200700-1">(</span><span class="o">&lt;</span><span class="n">Type</span><span class="w"> </span><span class="ss">name</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="o">&lt;</span><span class="n">Value</span><span class="o">&gt;</span><span class="p" data-group-id="0307200700-1">)</span></code></pre><p>or:</p><pre><code class="makeup erlang" translate="no"><span class="nc">&#39;People&#39;</span><span class="p">:</span><span class="nf">decode</span><span class="p" data-group-id="6039318721-1">(</span><span class="o">&lt;</span><span class="n">Type</span><span class="w"> </span><span class="ss">name</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="o">&lt;</span><span class="n">Value</span><span class="o">&gt;</span><span class="p" data-group-id="6039318721-1">)</span></code></pre><p>Assume that there is a network application that receives instances of the ASN.1
defined type <code class="inline">Person</code>, modifies, and sends them back again:</p><pre><code class="makeup erlang" translate="no"><span class="k">receive</span><span class="w">
   </span><span class="p" data-group-id="9108293359-1">{</span><span class="n">Port</span><span class="p">,</span><span class="p" data-group-id="9108293359-2">{</span><span class="ss">data</span><span class="p">,</span><span class="n">Bytes</span><span class="p" data-group-id="9108293359-2">}</span><span class="p" data-group-id="9108293359-1">}</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
       </span><span class="k">case</span><span class="w"> </span><span class="nc">&#39;People&#39;</span><span class="p">:</span><span class="nf">decode</span><span class="p" data-group-id="9108293359-3">(</span><span class="ss">&#39;Person&#39;</span><span class="p">,</span><span class="n">Bytes</span><span class="p" data-group-id="9108293359-3">)</span><span class="w"> </span><span class="k">of</span><span class="w">
           </span><span class="p" data-group-id="9108293359-4">{</span><span class="ss">ok</span><span class="p">,</span><span class="n">P</span><span class="p" data-group-id="9108293359-4">}</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
               </span><span class="p" data-group-id="9108293359-5">{</span><span class="ss">ok</span><span class="p">,</span><span class="n">Answer</span><span class="p" data-group-id="9108293359-5">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">&#39;People&#39;</span><span class="p">:</span><span class="nf">encode</span><span class="p" data-group-id="9108293359-6">(</span><span class="ss">&#39;Person&#39;</span><span class="p">,</span><span class="nf">mk_answer</span><span class="p" data-group-id="9108293359-7">(</span><span class="n">P</span><span class="p" data-group-id="9108293359-7">)</span><span class="p" data-group-id="9108293359-6">)</span><span class="p">,</span><span class="w">
               </span><span class="n">Port</span><span class="w"> </span><span class="o">!</span><span class="w"> </span><span class="p" data-group-id="9108293359-8">{</span><span class="nf">self</span><span class="p" data-group-id="9108293359-9">(</span><span class="p" data-group-id="9108293359-9">)</span><span class="p">,</span><span class="p" data-group-id="9108293359-10">{</span><span class="ss">command</span><span class="p">,</span><span class="n">Answer</span><span class="p" data-group-id="9108293359-10">}</span><span class="p" data-group-id="9108293359-8">}</span><span class="p">;</span><span class="w">
           </span><span class="p" data-group-id="9108293359-11">{</span><span class="ss">error</span><span class="p">,</span><span class="n">Reason</span><span class="p" data-group-id="9108293359-11">}</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
               </span><span class="nf">exit</span><span class="p" data-group-id="9108293359-12">(</span><span class="p" data-group-id="9108293359-13">{</span><span class="ss">error</span><span class="p">,</span><span class="n">Reason</span><span class="p" data-group-id="9108293359-13">}</span><span class="p" data-group-id="9108293359-12">)</span><span class="w">
       </span><span class="k">end</span><span class="w">
    </span><span class="k">end</span><span class="p">,</span></code></pre><p>In this example, a series of bytes is received from an external source and the
bytes are then decoded into a valid Erlang term. This was achieved with the call
<code class="inline">'People':decode('Person',Bytes)</code>, which returned an Erlang value of the ASN.1
type <code class="inline">Person</code>. Then an answer was constructed and encoded using
<code class="inline">'People':encode('Person',Answer)</code>, which takes an instance of a defined ASN.1
type and transforms it to a binary according to the BER or PER encoding rules.</p><p>The encoder and decoder can also be run from the shell:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">2&gt; </span><span class="n">Rockstar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="3159303810-1">{</span><span class="ss">&#39;Person&#39;</span><span class="p">,</span><span class="s">&quot;Some Name&quot;</span><span class="p">,</span><span class="ss">roving</span><span class="p">,</span><span class="mi">50</span><span class="p" data-group-id="3159303810-1">}</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="3159303810-2">{</span><span class="ss">&#39;Person&#39;</span><span class="p">,</span><span class="s">&quot;Some Name&quot;</span><span class="p">,</span><span class="ss">roving</span><span class="p">,</span><span class="mi">50</span><span class="p" data-group-id="3159303810-2">}</span><span class="gp unselectable">
3&gt; </span><span class="p" data-group-id="3159303810-3">{</span><span class="ss">ok</span><span class="p">,</span><span class="n">Bin</span><span class="p" data-group-id="3159303810-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">&#39;People&#39;</span><span class="p">:</span><span class="nf">encode</span><span class="p" data-group-id="3159303810-4">(</span><span class="ss">&#39;Person&#39;</span><span class="p">,</span><span class="n">Rockstar</span><span class="p" data-group-id="3159303810-4">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="3159303810-5">{</span><span class="ss">ok</span><span class="p">,</span><span class="p" data-group-id="3159303810-6">&lt;&lt;</span><span class="mi">243</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">19</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">83</span><span class="p">,</span><span class="mi">111</span><span class="p">,</span><span class="mi">109</span><span class="p">,</span><span class="mi">101</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">78</span><span class="p">,</span><span class="mi">97</span><span class="p">,</span><span class="mi">109</span><span class="p">,</span><span class="mi">101</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">50</span><span class="p" data-group-id="3159303810-6">&gt;&gt;</span><span class="p" data-group-id="3159303810-5">}</span><span class="gp unselectable">
4&gt; </span><span class="p" data-group-id="3159303810-7">{</span><span class="ss">ok</span><span class="p">,</span><span class="n">Person</span><span class="p" data-group-id="3159303810-7">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">&#39;People&#39;</span><span class="p">:</span><span class="nf">decode</span><span class="p" data-group-id="3159303810-8">(</span><span class="ss">&#39;Person&#39;</span><span class="p">,</span><span class="n">Bin</span><span class="p" data-group-id="3159303810-8">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="3159303810-9">{</span><span class="ss">ok</span><span class="p">,</span><span class="p" data-group-id="3159303810-10">{</span><span class="ss">&#39;Person&#39;</span><span class="p">,</span><span class="s">&quot;Some Name&quot;</span><span class="p">,</span><span class="ss">roving</span><span class="p">,</span><span class="mi">50</span><span class="p" data-group-id="3159303810-10">}</span><span class="p" data-group-id="3159303810-9">}</span></code></pre><h3 id="module-dependencies" class="section-heading"><a href="#module-dependencies" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Module Dependencies</span></h3><p>It is common that ASN.1 modules import defined types, values, and other entities
from another ASN.1 module.</p><p>Earlier versions of the ASN.1 compiler required that modules that were imported
from had to be compiled before the module that imported. This caused problems
when ASN.1 modules had circular dependencies.</p><p>Referenced modules are now parsed when the compiler finds an entity that is
imported. No code is generated for the referenced module. However, the compiled
modules rely on that the referenced modules are also compiled.</p><h2 id="asn-1-application-user-interface" class="section-heading"><a href="#asn-1-application-user-interface" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">ASN.1 Application User Interface</span></h2><p>The <code class="inline">ASN.1</code> application provides the following two separate user interfaces:</p><ul><li>The module <code class="inline">asn1ct</code>, which provides the compile-time functions (including the
compiler)</li><li>The module <code class="inline">asn1rt_nif</code>, which provides the runtime functions for the ASN.1
decoder for the BER back end</li></ul><p>The reason for this division of the interfaces into compile-time and runtime is
that only runtime modules (<code class="inline">asn1rt_nif</code>) need to be loaded in an embedded system.</p><h3 id="compile-time-functions" class="section-heading"><a href="#compile-time-functions" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Compile-Time Functions</span></h3><p>The ASN.1 compiler can be started directly from the command line by the <code class="inline">erlc</code>
program. This is convenient when compiling many ASN.1 files from the command
line or when using Makefiles. Here some examples showing of how <code class="inline">erlc</code> can
compile ASN.1 modules:</p><pre><code class="text">erlc Person.asn
erlc -bper Person.asn
erlc -bber ../Example.asn
erlc -o ../asnfiles -I ../asnfiles -I /usr/local/standards/asn1 Person.asn</code></pre><p>Useful options for the ASN.1 compiler:</p><ul><li><p><strong><code class="inline">-b[ber | per | uper | jer]</code></strong> - Choice of encoding rules. If omitted, <code class="inline">ber</code>
is the default.</p></li><li><p><strong><code class="inline">-o OutDirectory</code></strong> - Where to put the generated files. Default is the
current directory.</p></li><li><p><strong><code class="inline">-I IncludeDir</code></strong> - Where to search for <code class="inline">.asn1db</code> files and ASN.1 source
specs to resolve references to other modules. This option can be repeated many
times if there are several places to search in. The compiler searches the
current directory first.</p></li><li><p><strong><code class="inline">+der</code></strong> - DER encoding rule. Only when using option <code class="inline">-bber</code>.</p></li><li><p><strong><code class="inline">+jer</code></strong> - Functions <code class="inline">jer_encode/2</code> and <code class="inline">jer_decode/2</code> for JSON encoding
rules are generated together with functions for <code class="inline">ber</code> or <code class="inline">per</code>. Only to be
used when the main encoding option is <code class="inline">-bber</code>, <code class="inline">-bper</code> or <code class="inline">-buper</code>.</p></li><li><p><strong><code class="inline">+maps</code></strong> - Use maps instead of records to represent the <code class="inline">SEQUENCE</code> and
<code class="inline">SET</code> types. No <code class="inline">.hrl</code> files will be generated. See the section
<a href="asn1_getting_started.html#MAP_SEQ_SET">Map representation for SEQUENCE and SET</a>
for more information.</p></li><li><p><strong><code class="inline">+asn1config</code></strong> - This functionality works together with option <code class="inline">ber</code>. It
enables the specialized decodes, see section
<a href="asn1_spec.html">Specialized Decode</a>.</p></li><li><p><strong><code class="inline">+undec_rest</code></strong> - A buffer that holds a message being decoded can also have
trailing bytes. If those trailing bytes are important, they can be returned
along with the decoded value by compiling the ASN.1 specification with option
<code class="inline">+undec_rest</code>. The return value from the decoder is <code class="inline">{ok,Value,Rest}</code> where
<code class="inline">Rest</code> is a binary containing the trailing bytes.</p></li><li><p><strong><code class="inline">+'Any Erlc Option'</code></strong> - Any option can be added to the Erlang compiler when
compiling the generated Erlang files. Any option unrecognized by the ASN.1
compiler is passed to the Erlang compiler.</p></li></ul><p>For a complete description of <code class="inline">erlc</code>, see ERTS Reference Manual.</p><p>The compiler and other compile-time functions can also be started from the
Erlang shell. Here follows a brief description of the primary functions. For a
complete description of each function, see module <code class="inline">asn1ct</code> in the
<a href="asn1ct.html">ASN.1 Reference Manual</a>.</p><p>The compiler is started by <a href="asn1ct.html#compile/1"><code class="inline">asn1ct:compile/1</code></a> with default options, or
<a href="asn1ct.html#compile/2"><code class="inline">asn1ct:compile/2</code></a> if explicit options are given.</p><p>Example:</p><pre><code class="text">asn1ct:compile(&quot;H323-MESSAGES&quot;).</code></pre><p>This is equivalent to:</p><pre><code class="text">asn1ct:compile(&quot;H323-MESSAGES&quot;, [ber]).</code></pre><p>If PER encoding is wanted:</p><pre><code class="text">asn1ct:compile(&quot;H323-MESSAGES&quot;, [per]).</code></pre><p>The generic encode and decode functions can be called as follows:</p><pre><code class="text">'H323-MESSAGES':encode('SomeChoiceType', {call,&lt;&lt;&quot;octetstring&quot;&gt;&gt;}).
'H323-MESSAGES':decode('SomeChoiceType', Bytes).</code></pre><h3 id="runtime-functions" class="section-heading"><a href="#runtime-functions" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime Functions</span></h3><p>When an ASN.1 specification is compiled with option <code class="inline">ber</code>, the <code class="inline">asn1rt_nif</code>
module and the NIF library in <code class="inline">asn1/priv_dir</code> are needed at runtime.</p><p>By calling function <code class="inline">info/0</code> in a generated module, you get information about
which compiler options were used.</p><h3 id="special-decode-functionality-for-json-encoding-rules-jer" class="section-heading"><a href="#special-decode-functionality-for-json-encoding-rules-jer" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Special Decode Functionality for JSON Encoding Rules (JER)</span></h3><p>When using the JSON encoding rules, it is possible to call the
<code class="inline">decode/2</code> function in the following way with data that has already
been decoded by <a href="../../apps/stdlib/json.html#decode/1"><code class="inline">json:decode/1</code></a>:</p><pre><code class="makeup erlang" translate="no"><span class="n">SomeModule</span><span class="p">:</span><span class="nf">decode</span><span class="p" data-group-id="9482709912-1">(</span><span class="n">Type</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9482709912-2">{</span><span class="ss">json_decoded</span><span class="p">,</span><span class="w"> </span><span class="n">Decoded</span><span class="p" data-group-id="9482709912-2">}</span><span class="p" data-group-id="9482709912-1">)</span><span class="p">.</span></code></pre><p>Example:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="nc">asn1ct</span><span class="p">:</span><span class="nf">compile</span><span class="p" data-group-id="8718300308-1">(</span><span class="s">&quot;People&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8718300308-2">[</span><span class="ss">jer</span><span class="p" data-group-id="8718300308-2">]</span><span class="p" data-group-id="8718300308-1">)</span><span class="p">.</span><span class="w">
</span><span class="ss">ok</span><span class="gp unselectable">
2&gt; </span><span class="n">Rockstar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="8718300308-3">{</span><span class="ss">&#39;Person&#39;</span><span class="p">,</span><span class="s">&quot;Vince Eclipse&quot;</span><span class="p">,</span><span class="ss">roving</span><span class="p">,</span><span class="mi">50</span><span class="p" data-group-id="8718300308-3">}</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="8718300308-4">{</span><span class="ss">&#39;Person&#39;</span><span class="p">,</span><span class="s">&quot;Vince Eclipse&quot;</span><span class="p">,</span><span class="ss">roving</span><span class="p">,</span><span class="mi">50</span><span class="p" data-group-id="8718300308-4">}</span><span class="gp unselectable">
3&gt; </span><span class="p" data-group-id="8718300308-5">{</span><span class="ss">ok</span><span class="p">,</span><span class="n">Bin</span><span class="p" data-group-id="8718300308-5">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">&#39;People&#39;</span><span class="p">:</span><span class="nf">encode</span><span class="p" data-group-id="8718300308-6">(</span><span class="ss">&#39;Person&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">Rockstar</span><span class="p" data-group-id="8718300308-6">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="8718300308-7">{</span><span class="ss">ok</span><span class="p">,</span><span class="p" data-group-id="8718300308-8">&lt;&lt;</span><span class="s">&quot;{\&quot;name\&quot;:\&quot;Vince Eclipse\&quot;,\&quot;location\&quot;:2,\&quot;age\&quot;:50}&quot;</span><span class="p" data-group-id="8718300308-8">&gt;&gt;</span><span class="p" data-group-id="8718300308-7">}</span><span class="gp unselectable">
4&gt; </span><span class="nc">&#39;People&#39;</span><span class="p">:</span><span class="nf">decode</span><span class="p" data-group-id="8718300308-9">(</span><span class="ss">&#39;Person&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">Bin</span><span class="p" data-group-id="8718300308-9">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="8718300308-10">{</span><span class="ss">ok</span><span class="p">,</span><span class="p" data-group-id="8718300308-11">{</span><span class="ss">&#39;Person&#39;</span><span class="p">,</span><span class="s">&quot;Vince Eclipse&quot;</span><span class="p">,</span><span class="ss">roving</span><span class="p">,</span><span class="mi">50</span><span class="p" data-group-id="8718300308-11">}</span><span class="p" data-group-id="8718300308-10">}</span><span class="gp unselectable">
5&gt; </span><span class="nc">&#39;People&#39;</span><span class="p">:</span><span class="nf">decode</span><span class="p" data-group-id="8718300308-12">(</span><span class="ss">&#39;Person&#39;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8718300308-13">{</span><span class="ss">json_decoded</span><span class="p">,</span><span class="nc">json</span><span class="p">:</span><span class="nf">decode</span><span class="p" data-group-id="8718300308-14">(</span><span class="n">Bin</span><span class="p" data-group-id="8718300308-14">)</span><span class="p" data-group-id="8718300308-13">}</span><span class="p" data-group-id="8718300308-12">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="8718300308-15">{</span><span class="ss">ok</span><span class="p">,</span><span class="p" data-group-id="8718300308-16">{</span><span class="ss">&#39;Person&#39;</span><span class="p">,</span><span class="s">&quot;Vince Eclipse&quot;</span><span class="p">,</span><span class="ss">roving</span><span class="p">,</span><span class="mi">50</span><span class="p" data-group-id="8718300308-16">}</span><span class="p" data-group-id="8718300308-15">}</span><span class="w">
</span></code></pre><h3 id="errors" class="section-heading"><a href="#errors" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Errors</span></h3><p>Errors detected at compile-time are displayed on the screen together with line
numbers indicating where in the source file the respective error was detected.
If no errors are found, an Erlang ASN.1 module is created.</p><p>The runtime encoders and decoders execute within a <code class="inline">catch</code> and return <code class="inline">{ok, Data}</code>
or <code class="inline">{error, {asn1, Description}}</code> where <code class="inline">Description</code> is an Erlang term
describing the error.</p><p>Currently, <code class="inline">Description</code> looks like this: <code class="inline">{ErrorDescription, StackTrace}</code>.
Applications should not depend on the exact contents of <code class="inline">Description</code> as it
could change in the future.</p><h2 id="multi-file-compilation" class="section-heading"><a href="#multi-file-compilation" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Multi-File Compilation</span></h2><p>There are various reasons for using multi-file compilation:</p><ul><li>To choose the name for the generated module, for example, because you need to
compile the same specs for different encoding rules.</li><li>You want only one resulting module.</li></ul><p>Specify which ASN.1 specs to compile in a module with extension <code class="inline">.set.asn</code>.
Choose a module name and provide the names of the ASN.1 specs. For example, if
you have the specs <code class="inline">File1.asn</code>, <code class="inline">File2.asn</code>, and <code class="inline">File3.asn</code>, your module
<code class="inline">MyModule.set.asn</code> looks as follows:</p><pre><code class="text">File1.asn
File2.asn
File3.asn</code></pre><p>If you compile with the following, the result is one merged module
<code class="inline">MyModule.erl</code> with the generated code from the three ASN.1 specs:</p><pre><code class="text">% erlc MyModule.set.asn</code></pre><h2 id="note-about-tags" class="section-heading"><a href="#note-about-tags" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Note about tags</span></h2><p>Tags used to be important for all users of ASN.1, because it was necessary to
to manually add tags to certain constructs in order for the ASN.1 specification to
be valid. Example of an old-style specification:</p><pre><code class="makeup erlang" translate="no"><span class="n">Tags</span><span class="w"> </span><span class="n">DEFINITIONS</span><span class="w"> </span><span class="p">:</span><span class="p">:=</span><span class="w">
</span><span class="n">BEGIN</span><span class="w">
  </span><span class="n">Afters</span><span class="w"> </span><span class="p">:</span><span class="p">:=</span><span class="w"> </span><span class="n">CHOICE</span><span class="w"> </span><span class="p" data-group-id="2468965958-1">{</span><span class="w"> </span><span class="ss">cheese</span><span class="w"> </span><span class="p" data-group-id="2468965958-2">[</span><span class="mi">0</span><span class="p" data-group-id="2468965958-2">]</span><span class="w"> </span><span class="n">IA5String</span><span class="p">,</span><span class="w">
                      </span><span class="ss">dessert</span><span class="w"> </span><span class="p" data-group-id="2468965958-3">[</span><span class="mi">1</span><span class="p" data-group-id="2468965958-3">]</span><span class="w"> </span><span class="n">IA5String</span><span class="w"> </span><span class="p" data-group-id="2468965958-1">}</span><span class="w">
</span><span class="n">END</span></code></pre><p>Without the tags (the numbers in square brackets) the ASN.1 compiler refused to
compile the file.</p><p>In 1994 the global tagging mode <code class="inline">AUTOMATIC TAGS</code> was introduced. By putting
<code class="inline">AUTOMATIC TAGS</code> in the module header, the ASN.1 compiler automatically adds
tags when needed. The following is the same specification in <code class="inline">AUTOMATIC TAGS</code>
mode:</p><pre><code class="makeup erlang" translate="no"><span class="n">Tags</span><span class="w"> </span><span class="n">DEFINITIONS</span><span class="w"> </span><span class="n">AUTOMATIC</span><span class="w"> </span><span class="n">TAGS</span><span class="w"> </span><span class="p">:</span><span class="p">:=</span><span class="w">
</span><span class="n">BEGIN</span><span class="w">
  </span><span class="n">Afters</span><span class="w"> </span><span class="p">:</span><span class="p">:=</span><span class="w"> </span><span class="n">CHOICE</span><span class="w"> </span><span class="p" data-group-id="6006134881-1">{</span><span class="w"> </span><span class="ss">cheese</span><span class="w"> </span><span class="n">IA5String</span><span class="p">,</span><span class="w">
                      </span><span class="ss">dessert</span><span class="w"> </span><span class="n">IA5String</span><span class="w"> </span><span class="p" data-group-id="6006134881-1">}</span><span class="w">
</span><span class="n">END</span></code></pre><p><a href="" id="ASN1Types"></a></p><h2 id="asn-1-types" class="section-heading"><a href="#asn-1-types" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">ASN.1 Types</span></h2><p>This section describes the ASN.1 types including their functionality, purpose,
and how values are assigned in Erlang.</p><p>ASN.1 has both primitive and constructed types:</p><table><thead><tr><th style="text-align: left;">Primitive Types</th><th style="text-align: left;">Constructed Types</th></tr></thead><tbody><tr><td style="text-align: left;"><a href="asn1_getting_started.html#boolean">BOOLEAN</a></td><td style="text-align: left;"><a href="asn1_getting_started.html#sequence">SEQUENCE</a></td></tr><tr><td style="text-align: left;"><a href="asn1_getting_started.html#integer">INTEGER</a></td><td style="text-align: left;"><a href="asn1_getting_started.html#set">SET</a></td></tr><tr><td style="text-align: left;"><a href="asn1_getting_started.html#real">REAL</a></td><td style="text-align: left;"><a href="asn1_getting_started.html#choice">CHOICE</a></td></tr><tr><td style="text-align: left;"><a href="asn1_getting_started.html#null">NULL</a></td><td style="text-align: left;"><a href="asn1_getting_started.html#SOF">SET OF and SEQUENCE OF</a></td></tr><tr><td style="text-align: left;"><a href="asn1_getting_started.html#enumerated">ENUMERATED</a></td><td style="text-align: left;"><a href="asn1_getting_started.html#ANY">ANY</a></td></tr><tr><td style="text-align: left;"><a href="asn1_getting_started.html#bit-string">BIT STRING</a></td><td style="text-align: left;"><a href="asn1_getting_started.html#ANY">ANY DEFINED BY</a></td></tr><tr><td style="text-align: left;"><a href="asn1_getting_started.html#octet-string">OCTET STRING</a></td><td style="text-align: left;"><a href="asn1_getting_started.html#NegotiationTypes">EXTERNAL</a></td></tr><tr><td style="text-align: left;"><a href="asn1_getting_started.html#character-strings">Character Strings</a></td><td style="text-align: left;"><a href="asn1_getting_started.html#NegotiationTypes">EMBEDDED PDV</a></td></tr><tr><td style="text-align: left;"><a href="asn1_getting_started.html#object-identifier">OBJECT IDENTIFIER</a></td><td style="text-align: left;"><a href="asn1_getting_started.html#NegotiationTypes">CHARACTER STRING</a></td></tr><tr><td style="text-align: left;"><a href="asn1_getting_started.html#object-descriptor">Object Descriptor</a></td><td style="text-align: left;"></td></tr><tr><td style="text-align: left;"><a href="asn1_getting_started.html#The-TIME-types">TIME Types</a></td><td style="text-align: left;"></td></tr></tbody></table><p><em>Table: Supported ASN.1 Types</em></p><p><a href="" id="TypeNameValue"></a></p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>The values of each ASN.1 type have their own representation in Erlang, as
described in the following sections. Users must provide these values for
encoding according to the representation, as shown in the following example:</p></section><pre><code class="text">Operational ::= BOOLEAN --ASN.1 definition</code></pre><p>In Erlang code it can look as follows:</p><pre><code class="makeup erlang" translate="no"><span class="n">Val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">true</span><span class="p">,</span><span class="w">
</span><span class="p" data-group-id="9581189349-1">{</span><span class="ss">ok</span><span class="p">,</span><span class="n">Bytes</span><span class="p" data-group-id="9581189349-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyModule</span><span class="p">:</span><span class="nf">encode</span><span class="p" data-group-id="9581189349-2">(</span><span class="ss">&#39;Operational&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">Val</span><span class="p" data-group-id="9581189349-2">)</span><span class="p">,</span></code></pre><h3 id="boolean" class="section-heading"><a href="#boolean" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">BOOLEAN</span></h3><p>Booleans in ASN.1 express values that can be either <code class="inline">TRUE</code> or <code class="inline">FALSE</code>. The
meanings assigned to <code class="inline">TRUE</code> and <code class="inline">FALSE</code> are outside the scope of this text.</p><p>In ASN.1 it is possible to have:</p><pre><code class="text">Operational ::= BOOLEAN</code></pre><p>Assigning a value to type <code class="inline">Operational</code> in Erlang is possible by using the
following Erlang code:</p><pre><code class="makeup erlang" translate="no"><span class="n">Myvar1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">true</span><span class="p">,</span></code></pre><p>Thus, in Erlang the atoms <code class="inline">true</code> and <code class="inline">false</code> are used to encode a boolean value.</p><h3 id="integer" class="section-heading"><a href="#integer" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">INTEGER</span></h3><p>An ASN.1 INTEGER is represented by an integer in Erlang.</p><p>The concept of subtyping can be applied to integers and to other ASN.1 types.
The details of subtyping are not explained here; for more information, see
X.680. Various syntaxes are allowed when defining a type as an integer:</p><pre><code class="makeup erlang" translate="no"><span class="n">T1</span><span class="w"> </span><span class="p">:</span><span class="p">:=</span><span class="w"> </span><span class="n">INTEGER</span><span class="w">
</span><span class="n">T2</span><span class="w"> </span><span class="p">:</span><span class="p">:=</span><span class="w"> </span><span class="n">INTEGER</span><span class="w"> </span><span class="p" data-group-id="1689109969-1">(</span><span class="o">-</span><span class="mi">2</span><span class="p">.</span><span class="p">.</span><span class="mi">7</span><span class="p" data-group-id="1689109969-1">)</span><span class="w">
</span><span class="n">T3</span><span class="w"> </span><span class="p">:</span><span class="p">:=</span><span class="w"> </span><span class="n">INTEGER</span><span class="w"> </span><span class="p" data-group-id="1689109969-2">(</span><span class="mi">0</span><span class="p">.</span><span class="p">.</span><span class="n">MAX</span><span class="p" data-group-id="1689109969-2">)</span><span class="w">
</span><span class="n">T4</span><span class="w"> </span><span class="p">:</span><span class="p">:=</span><span class="w"> </span><span class="n">INTEGER</span><span class="w"> </span><span class="p" data-group-id="1689109969-3">(</span><span class="mi">0</span><span class="o">&lt;</span><span class="p">.</span><span class="p">.</span><span class="n">MAX</span><span class="p" data-group-id="1689109969-3">)</span><span class="w">
</span><span class="n">T5</span><span class="w"> </span><span class="p">:</span><span class="p">:=</span><span class="w"> </span><span class="n">INTEGER</span><span class="w"> </span><span class="p" data-group-id="1689109969-4">(</span><span class="n">MIN</span><span class="o">&lt;</span><span class="p">.</span><span class="p">.</span><span class="o">-</span><span class="mi">99</span><span class="p" data-group-id="1689109969-4">)</span><span class="w">
</span><span class="n">T6</span><span class="w"> </span><span class="p">:</span><span class="p">:=</span><span class="w"> </span><span class="n">INTEGER</span><span class="w"> </span><span class="p" data-group-id="1689109969-5">{</span><span class="nf">red</span><span class="p" data-group-id="1689109969-6">(</span><span class="mi">0</span><span class="p" data-group-id="1689109969-6">)</span><span class="p">,</span><span class="nf">blue</span><span class="p" data-group-id="1689109969-7">(</span><span class="mi">1</span><span class="p" data-group-id="1689109969-7">)</span><span class="p">,</span><span class="nf">white</span><span class="p" data-group-id="1689109969-8">(</span><span class="mi">2</span><span class="p" data-group-id="1689109969-8">)</span><span class="p" data-group-id="1689109969-5">}</span></code></pre><p>The Erlang representation of an ASN.1 <code class="inline">INTEGER</code> is an integer or an atom if a
<code class="inline">Named Number List</code> (see <code class="inline">T6</code> in the previous list) is specified.</p><p>The following is an example of Erlang code that assigns values for the types in
the previous list:</p><pre><code class="makeup erlang" translate="no"><span class="n">T1value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
</span><span class="n">T2value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
</span><span class="n">T6value1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">blue</span><span class="p">,</span><span class="w">
</span><span class="n">T6value2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
</span><span class="n">T6value3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">white</span></code></pre><p>These Erlang variables are now bound to valid instances of ASN.1 defined types.
This style of value can be passed directly to the encoder for transformation
into a series of bytes.</p><p>The decoder returns an atom if the value corresponds to a symbol in the
<code class="inline">Named Number List</code>.</p><h3 id="real" class="section-heading"><a href="#real" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">REAL</span></h3><p>The following ASN.1 type is used for real numbers:</p><pre><code class="text">R1 ::= REAL</code></pre><p>It is assigned a value in Erlang as follows:</p><pre><code class="text">R1value1 = &quot;2.14&quot;,
R1value2 = {256,10,-2}</code></pre><p>In the last line, notice that the tuple {256,10,-2} is the real number 2.56 in
a special notation, which encodes faster than simply stating the number as
<code class="inline">&quot;2.56&quot;</code>. The arity three tuple is <code class="inline">{Mantissa,Base,Exponent}</code>, that is,
<code class="inline">Mantissa * Base^Exponent</code>.</p><p>The following special values are also recognized:</p><pre><code class="text">R1value3 = 0,
R1value4 = 'PLUS-INFINITY',
R1value5 = 'MINUS-INFINITY'</code></pre><h3 id="null" class="section-heading"><a href="#null" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">NULL</span></h3><p>The type <code class="inline">NULL</code> is suitable where supply and recognition of a value is important
but the actual value is not.</p><pre><code class="text">Notype ::= NULL</code></pre><p>This type is assigned in Erlang as follows:</p><pre><code class="text">N1 = 'NULL',</code></pre><p>The actual value is the quoted atom <code class="inline">'NULL'</code>.</p><h3 id="enumerated" class="section-heading"><a href="#enumerated" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">ENUMERATED</span></h3><p>The type <code class="inline">ENUMERATED</code> can be used when the value you want to describe can only
take one of a set of predefined values. Example:</p><pre><code class="text">DaysOfTheWeek ::= ENUMERATED {
    sunday(1),monday(2),tuesday(3),
    wednesday(4),thursday(5),friday(6),saturday(7) }</code></pre><p>For example, to assign a weekday value in Erlang, use the same atom as in the
<code class="inline">Enumerations</code> of the type definition:</p><pre><code class="text">Day1 = saturday,</code></pre><p>The enumerated type is similar to an integer type, when defined with a set of
predefined values. The difference is that an enumerated type can only have
specified values, whereas an integer can have any value.</p><h3 id="bit-string" class="section-heading"><a href="#bit-string" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">BIT STRING</span></h3><p>The type <code class="inline">BIT STRING</code> can be used to model information that is made up of
arbitrary length series of bits. It is intended to be used for selection of
flags, not for binary files.</p><p>In ASN.1, <code class="inline">BIT STRING</code> definitions can look as follows:</p><pre><code class="makeup erlang" translate="no"><span class="n">Bits1</span><span class="w"> </span><span class="p">:</span><span class="p">:=</span><span class="w"> </span><span class="n">BIT</span><span class="w"> </span><span class="n">STRING</span><span class="w">
</span><span class="n">Bits2</span><span class="w"> </span><span class="p">:</span><span class="p">:=</span><span class="w"> </span><span class="n">BIT</span><span class="w"> </span><span class="n">STRING</span><span class="w"> </span><span class="p" data-group-id="2132500278-1">{</span><span class="nf">foo</span><span class="p" data-group-id="2132500278-2">(</span><span class="mi">0</span><span class="p" data-group-id="2132500278-2">)</span><span class="p">,</span><span class="nf">bar</span><span class="p" data-group-id="2132500278-3">(</span><span class="mi">1</span><span class="p" data-group-id="2132500278-3">)</span><span class="p">,</span><span class="nf">gnu</span><span class="p" data-group-id="2132500278-4">(</span><span class="mi">2</span><span class="p" data-group-id="2132500278-4">)</span><span class="p">,</span><span class="nf">gnome</span><span class="p" data-group-id="2132500278-5">(</span><span class="mi">3</span><span class="p" data-group-id="2132500278-5">)</span><span class="p">,</span><span class="nf">punk</span><span class="p" data-group-id="2132500278-6">(</span><span class="mi">14</span><span class="p" data-group-id="2132500278-6">)</span><span class="p" data-group-id="2132500278-1">}</span></code></pre><p>The following two notations are available for representation of <code class="inline">BIT STRING</code>
values in Erlang and as input to the encode functions:</p><ol><li>A bitstring. By default, a <code class="inline">BIT STRING</code> with no symbolic names is decoded to
an Erlang bitstring.</li><li>A list of atoms corresponding to atoms in the <code class="inline">NamedBitList</code> in the
<code class="inline">BIT STRING</code> definition. A <code class="inline">BIT STRING</code> with symbolic names is always decoded
to the format shown in the following example:</li></ol><pre><code class="text">Bits1Val1 = &lt;&lt;0:1,1:1,0:1,1:1,1:1&gt;&gt;,
Bits2Val1 = [gnu,punk],
Bits2Val2 = &lt;&lt;2#1110:4&gt;&gt;,
Bits2Val3 = [bar,gnu,gnome],</code></pre><p><code class="inline">Bits2Val2</code> and <code class="inline">Bits2Val3</code> denote the same value.</p><p><code class="inline">Bits2Val1</code> is assigned symbolic values. The assignment means that the bits
corresponding to <code class="inline">gnu</code> and <code class="inline">punk</code>, that is, bits 2 and 14 are set to 1, and the
rest are set to 0. The symbolic values are shown as a list of values. If a named
value, which is not specified in the type definition, is shown, a runtime error
occurs.</p><p><code class="inline">BIT STRING</code>s can also be subtyped with, for example, a <code class="inline">SIZE</code> specification:</p><pre><code class="text">Bits3 ::= BIT STRING (SIZE(0..31))</code></pre><p>This means that no bit higher than 31 can be set.</p><h4>Deprecated Representations for BIT STRING</h4><p>In addition to the representations described earlier, the following deprecated
representations are available if the specification has been compiled with option
<code class="inline">legacy_erlang_types</code>:</p><ol><li>Aa a list of binary digits (0 or 1). This format is accepted as input to the
encode functions, and a <code class="inline">BIT STRING</code> is decoded to this format if option
<code class="inline">legacy_bit_string</code> is given.</li><li>As <code class="inline">{Unused,Binary}</code> where <code class="inline">Unused</code> denotes how many trailing zero-bits 0-7
that are unused in the least significant byte in <code class="inline">Binary</code>. This format is
accepted as input to the encode functions, and a <code class="inline">BIT STRING</code> is decoded to
this format if <code class="inline">compact_bit_string</code> has been given.</li><li>As a hexadecimal number (or an integer). Avoid this as it is easy to
misinterpret a <code class="inline">BIT STRING</code> value in this format.</li></ol><h3 id="octet-string" class="section-heading"><a href="#octet-string" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">OCTET STRING</span></h3><p><code class="inline">OCTET STRING</code> is the simplest of all ASN.1 types. <code class="inline">OCTET STRING</code> only moves or
transfers, for example, binary files or other unstructured information complying
with two rules: the bytes consist of octets and encoding is not required.</p><p>It is possible to have the following ASN.1 type definitions:</p><pre><code class="makeup erlang" translate="no"><span class="n">O1</span><span class="w"> </span><span class="p">:</span><span class="p">:=</span><span class="w"> </span><span class="n">OCTET</span><span class="w"> </span><span class="n">STRING</span><span class="w">
</span><span class="n">O2</span><span class="w"> </span><span class="p">:</span><span class="p">:=</span><span class="w"> </span><span class="n">OCTET</span><span class="w"> </span><span class="n">STRING</span><span class="w"> </span><span class="p" data-group-id="4148075564-1">(</span><span class="n">SIZE</span><span class="p" data-group-id="4148075564-2">(</span><span class="mi">28</span><span class="p" data-group-id="4148075564-2">)</span><span class="p" data-group-id="4148075564-1">)</span></code></pre><p>With the following example assignments in Erlang:</p><pre><code class="text">O1Val = &lt;&lt;17,13,19,20,0,0,255,254&gt;&gt;,
O2Val = &lt;&lt;&quot;must be exactly 28 chars....&quot;&gt;&gt;,</code></pre><p>By default, an <code class="inline">OCTET STRING</code> is always represented as an Erlang binary. If the
specification has been compiled with option <code class="inline">legacy_erlang_types</code>, the encode
functions accept both lists and binaries, and the decode functions decode an
<code class="inline">OCTET STRING</code> to a list.</p><h3 id="character-strings" class="section-heading"><a href="#character-strings" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Character Strings</span></h3><p>ASN.1 supports a wide variety of character sets. The main difference between an
<code class="inline">OCTET STRING</code> and a character string is that the <code class="inline">OCTET STRING</code> has no imposed
semantics on the bytes delivered.</p><p>However, when using, for example, <code class="inline">IA5String</code> (which closely resembles ASCII),
byte 65 (in decimal notation) <em>means</em> character 'A'.</p><p>For example, if a defined type is to be a VideotexString and an octet is
received with the unsigned integer value <code class="inline">X</code>, the octet is to be interpreted as
specified in standard ITU-T T.100, T.101.</p><p>The ASN.1 compiler does not determine the correct interpretation of
each BER string octet value with different character strings. The application is
responsible for interpretation of octets. Therefore, from the BER string point
of view, octets are very similar to character strings and are compiled in the
same way.</p><p>When PER is used, there is a significant difference in the encoding scheme
for <code class="inline">OCTET STRING</code>s and other strings. The constraints specified for a type
are especially important for PER, because they affect the encoding.</p><p>Examples:</p><pre><code class="makeup erlang" translate="no"><span class="n">Digs</span><span class="w"> </span><span class="p">:</span><span class="p">:=</span><span class="w"> </span><span class="n">NumericString</span><span class="w"> </span><span class="p" data-group-id="3805530818-1">(</span><span class="n">SIZE</span><span class="p" data-group-id="3805530818-2">(</span><span class="mi">1</span><span class="p">.</span><span class="p">.</span><span class="mi">3</span><span class="p" data-group-id="3805530818-2">)</span><span class="p" data-group-id="3805530818-1">)</span><span class="w">
</span><span class="n">TextFile</span><span class="w"> </span><span class="p">:</span><span class="p">:=</span><span class="w"> </span><span class="n">IA5String</span><span class="w"> </span><span class="p" data-group-id="3805530818-3">(</span><span class="n">SIZE</span><span class="p" data-group-id="3805530818-4">(</span><span class="mi">0</span><span class="p">.</span><span class="p">.</span><span class="mi">64000</span><span class="p" data-group-id="3805530818-4">)</span><span class="p" data-group-id="3805530818-3">)</span></code></pre><p>The corresponding Erlang assignments:</p><pre><code class="makeup c" translate="no"><span class="no">DigsVal1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;456&quot;</span><span class="p">,</span><span class="w">
</span><span class="no">DigsVal2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;123&quot;</span><span class="p">,</span><span class="w">
</span><span class="no">TextFileVal1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;abc...xyz...&quot;</span><span class="p">,</span><span class="w">
</span><span class="no">TextFileVal2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="9121129764-1">[</span><span class="mi">88</span><span class="p">,</span><span class="mi">76</span><span class="p">,</span><span class="mi">55</span><span class="p">,</span><span class="mi">44</span><span class="p">,</span><span class="mi">99</span><span class="p">,</span><span class="mi">121</span><span class="w"> </span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">lot</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">characters</span><span class="w"> </span><span class="n">here</span><span class="w"> </span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="p" data-group-id="9121129764-1">]</span></code></pre><p>The Erlang representation for <code class="inline">BMPString</code> and <code class="inline">UniversalString</code> is either a list
of ASCII values or a list of quadruples. The quadruple representation associates
to the Unicode standard representation of characters. The ASCII characters are
all represented by quadruples beginning with three zeros like <code class="inline">{0,0,0,65}</code> for
character 'A'. When decoding a value for these strings, the result is a list of
quadruples, or integers when the value is an ASCII character.</p><p>The following example shows how it works. Assume the following specification is
in file <code class="inline">PrimStrings.asn1</code>:</p><pre><code class="text">PrimStrings DEFINITIONS AUTOMATIC TAGS ::=
BEGIN
   BMP ::= BMPString
END</code></pre><p>Encoding and decoding some strings:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="nc">asn1ct</span><span class="p">:</span><span class="nf">compile</span><span class="p" data-group-id="3632389679-1">(</span><span class="ss">&#39;PrimStrings&#39;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3632389679-2">[</span><span class="ss">ber</span><span class="p" data-group-id="3632389679-2">]</span><span class="p" data-group-id="3632389679-1">)</span><span class="p">.</span><span class="w">
</span><span class="ss">ok</span><span class="gp unselectable">
2&gt; </span><span class="p" data-group-id="3632389679-3">{</span><span class="ss">ok</span><span class="p">,</span><span class="n">Bytes1</span><span class="p" data-group-id="3632389679-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">&#39;PrimStrings&#39;</span><span class="p">:</span><span class="nf">encode</span><span class="p" data-group-id="3632389679-4">(</span><span class="ss">&#39;BMP&#39;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3632389679-5">[</span><span class="p" data-group-id="3632389679-6">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">53</span><span class="p">,</span><span class="mi">53</span><span class="p" data-group-id="3632389679-6">}</span><span class="p">,</span><span class="p" data-group-id="3632389679-7">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">45</span><span class="p">,</span><span class="mi">56</span><span class="p" data-group-id="3632389679-7">}</span><span class="p" data-group-id="3632389679-5">]</span><span class="p" data-group-id="3632389679-4">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="3632389679-8">{</span><span class="ss">ok</span><span class="p">,</span><span class="p" data-group-id="3632389679-9">&lt;&lt;</span><span class="mi">30</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">53</span><span class="p">,</span><span class="mi">54</span><span class="p">,</span><span class="mi">45</span><span class="p">,</span><span class="mi">56</span><span class="p" data-group-id="3632389679-9">&gt;&gt;</span><span class="p" data-group-id="3632389679-8">}</span><span class="gp unselectable">
3&gt; </span><span class="nc">&#39;PrimStrings&#39;</span><span class="p">:</span><span class="nf">decode</span><span class="p" data-group-id="3632389679-10">(</span><span class="ss">&#39;BMP&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">Bytes1</span><span class="p" data-group-id="3632389679-10">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="3632389679-11">{</span><span class="ss">ok</span><span class="p">,</span><span class="p" data-group-id="3632389679-12">[</span><span class="p" data-group-id="3632389679-13">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">53</span><span class="p">,</span><span class="mi">53</span><span class="p" data-group-id="3632389679-13">}</span><span class="p">,</span><span class="p" data-group-id="3632389679-14">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">45</span><span class="p">,</span><span class="mi">56</span><span class="p" data-group-id="3632389679-14">}</span><span class="p" data-group-id="3632389679-12">]</span><span class="p" data-group-id="3632389679-11">}</span><span class="gp unselectable">
4&gt; </span><span class="p" data-group-id="3632389679-15">{</span><span class="ss">ok</span><span class="p">,</span><span class="n">Bytes2</span><span class="p" data-group-id="3632389679-15">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">&#39;PrimStrings&#39;</span><span class="p">:</span><span class="nf">encode</span><span class="p" data-group-id="3632389679-16">(</span><span class="ss">&#39;BMP&#39;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3632389679-17">[</span><span class="p" data-group-id="3632389679-18">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">53</span><span class="p">,</span><span class="mi">53</span><span class="p" data-group-id="3632389679-18">}</span><span class="p">,</span><span class="p" data-group-id="3632389679-19">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">65</span><span class="p" data-group-id="3632389679-19">}</span><span class="p" data-group-id="3632389679-17">]</span><span class="p" data-group-id="3632389679-16">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="3632389679-20">{</span><span class="ss">ok</span><span class="p">,</span><span class="p" data-group-id="3632389679-21">&lt;&lt;</span><span class="mi">30</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">53</span><span class="p">,</span><span class="mi">53</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">65</span><span class="p" data-group-id="3632389679-21">&gt;&gt;</span><span class="p" data-group-id="3632389679-20">}</span><span class="gp unselectable">
5&gt; </span><span class="nc">&#39;PrimStrings&#39;</span><span class="p">:</span><span class="nf">decode</span><span class="p" data-group-id="3632389679-22">(</span><span class="ss">&#39;BMP&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">Bytes2</span><span class="p" data-group-id="3632389679-22">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="3632389679-23">{</span><span class="ss">ok</span><span class="p">,</span><span class="p" data-group-id="3632389679-24">[</span><span class="p" data-group-id="3632389679-25">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">53</span><span class="p">,</span><span class="mi">53</span><span class="p" data-group-id="3632389679-25">}</span><span class="p">,</span><span class="mi">65</span><span class="p" data-group-id="3632389679-24">]</span><span class="p" data-group-id="3632389679-23">}</span><span class="gp unselectable">
6&gt; </span><span class="p" data-group-id="3632389679-26">{</span><span class="ss">ok</span><span class="p">,</span><span class="n">Bytes3</span><span class="p" data-group-id="3632389679-26">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">&#39;PrimStrings&#39;</span><span class="p">:</span><span class="nf">encode</span><span class="p" data-group-id="3632389679-27">(</span><span class="ss">&#39;BMP&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;BMP string&quot;</span><span class="p" data-group-id="3632389679-27">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="3632389679-28">{</span><span class="ss">ok</span><span class="p">,</span><span class="p" data-group-id="3632389679-29">&lt;&lt;</span><span class="mi">30</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">66</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">77</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">115</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">116</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">114</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">105</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">110</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">103</span><span class="p" data-group-id="3632389679-29">&gt;&gt;</span><span class="p" data-group-id="3632389679-28">}</span><span class="gp unselectable">
7&gt; </span><span class="nc">&#39;PrimStrings&#39;</span><span class="p">:</span><span class="nf">decode</span><span class="p" data-group-id="3632389679-30">(</span><span class="ss">&#39;BMP&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">Bytes3</span><span class="p" data-group-id="3632389679-30">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="3632389679-31">{</span><span class="ss">ok</span><span class="p">,</span><span class="s">&quot;BMP string&quot;</span><span class="p" data-group-id="3632389679-31">}</span></code></pre><p>Type <code class="inline">UTF8String</code> is represented as a UTF-8 encoded binary in Erlang. Such
binaries can be created directly using the binary syntax or by converting from a
list of Unicode code points using function <a href="../../apps/stdlib/unicode.html#characters_to_binary/1"><code class="inline">unicode:characters_to_binary/1</code></a>.</p><p>The following shows examples of how UTF-8 encoded binaries can be created and
manipulated:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="n">Gs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Мой маленький Гном&quot;</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="0621303533-1">[</span><span class="mi">1052</span><span class="p">,</span><span class="mi">1086</span><span class="p">,</span><span class="mi">1081</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">1084</span><span class="p">,</span><span class="mi">1072</span><span class="p">,</span><span class="mi">1083</span><span class="p">,</span><span class="mi">1077</span><span class="p">,</span><span class="mi">1085</span><span class="p">,</span><span class="mi">1100</span><span class="p">,</span><span class="mi">1082</span><span class="p">,</span><span class="mi">1080</span><span class="p">,</span><span class="w">
 </span><span class="mi">1081</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">1043</span><span class="p">,</span><span class="mi">1085</span><span class="p">,</span><span class="mi">1086</span><span class="p">,</span><span class="mi">1084</span><span class="p" data-group-id="0621303533-1">]</span><span class="gp unselectable">
2&gt; </span><span class="n">Gbin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">unicode</span><span class="p">:</span><span class="nf">characters_to_binary</span><span class="p" data-group-id="0621303533-2">(</span><span class="n">Gs</span><span class="p" data-group-id="0621303533-2">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="0621303533-3">&lt;&lt;</span><span class="mi">208</span><span class="p">,</span><span class="mi">156</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span><span class="mi">190</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span><span class="mi">185</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span><span class="mi">188</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span><span class="mi">176</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span><span class="mi">187</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span><span class="w">
  </span><span class="mi">181</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span><span class="mi">189</span><span class="p">,</span><span class="mi">209</span><span class="p">,</span><span class="mi">140</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span><span class="mi">186</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span><span class="mi">184</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span><span class="mi">185</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span><span class="mi">147</span><span class="p">,</span><span class="w">
  </span><span class="mi">208</span><span class="p">,</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="p" data-group-id="0621303533-3">&gt;&gt;</span><span class="gp unselectable">
3&gt; </span><span class="n">Gbin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="0621303533-4">&lt;&lt;</span><span class="s">&quot;Мой маленький Гном&quot;</span><span class="o">/</span><span class="ss">utf8</span><span class="p" data-group-id="0621303533-4">&gt;&gt;</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="0621303533-5">&lt;&lt;</span><span class="mi">208</span><span class="p">,</span><span class="mi">156</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span><span class="mi">190</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span><span class="mi">185</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span><span class="mi">188</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span><span class="mi">176</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span><span class="mi">187</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span><span class="w">
  </span><span class="mi">181</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span><span class="mi">189</span><span class="p">,</span><span class="mi">209</span><span class="p">,</span><span class="mi">140</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span><span class="mi">186</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span><span class="mi">184</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span><span class="mi">185</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span><span class="mi">147</span><span class="p">,</span><span class="w">
  </span><span class="mi">208</span><span class="p">,</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="p" data-group-id="0621303533-5">&gt;&gt;</span><span class="gp unselectable">
4&gt; </span><span class="n">Gs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">unicode</span><span class="p">:</span><span class="nf">characters_to_list</span><span class="p" data-group-id="0621303533-6">(</span><span class="n">Gbin</span><span class="p" data-group-id="0621303533-6">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="0621303533-7">[</span><span class="mi">1052</span><span class="p">,</span><span class="mi">1086</span><span class="p">,</span><span class="mi">1081</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">1084</span><span class="p">,</span><span class="mi">1072</span><span class="p">,</span><span class="mi">1083</span><span class="p">,</span><span class="mi">1077</span><span class="p">,</span><span class="mi">1085</span><span class="p">,</span><span class="mi">1100</span><span class="p">,</span><span class="mi">1082</span><span class="p">,</span><span class="mi">1080</span><span class="p">,</span><span class="w">
 </span><span class="mi">1081</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="mi">1043</span><span class="p">,</span><span class="mi">1085</span><span class="p">,</span><span class="mi">1086</span><span class="p">,</span><span class="mi">1084</span><span class="p" data-group-id="0621303533-7">]</span></code></pre><p>For details, see the <a href="../../apps/stdlib/unicode.html"><code class="inline">unicode</code></a> module in STDLIB.</p><p>In the following example, this ASN.1 specification is used:</p><pre><code class="text">UTF DEFINITIONS AUTOMATIC TAGS ::=
BEGIN
   UTF ::= UTF8String
END</code></pre><p>Encoding and decoding a string with Unicode characters:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">5&gt; </span><span class="nc">asn1ct</span><span class="p">:</span><span class="nf">compile</span><span class="p" data-group-id="2586986841-1">(</span><span class="ss">&#39;UTF&#39;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2586986841-2">[</span><span class="ss">ber</span><span class="p" data-group-id="2586986841-2">]</span><span class="p" data-group-id="2586986841-1">)</span><span class="p">.</span><span class="w">
</span><span class="ss">ok</span><span class="gp unselectable">
6&gt; </span><span class="p" data-group-id="2586986841-3">{</span><span class="ss">ok</span><span class="p">,</span><span class="n">Bytes1</span><span class="p" data-group-id="2586986841-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">&#39;UTF&#39;</span><span class="p">:</span><span class="nf">encode</span><span class="p" data-group-id="2586986841-4">(</span><span class="ss">&#39;UTF&#39;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2586986841-5">&lt;&lt;</span><span class="s">&quot;Гном&quot;</span><span class="o">/</span><span class="ss">utf8</span><span class="p" data-group-id="2586986841-5">&gt;&gt;</span><span class="p" data-group-id="2586986841-4">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="2586986841-6">{</span><span class="ss">ok</span><span class="p">,</span><span class="p" data-group-id="2586986841-7">&lt;&lt;</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span><span class="mi">147</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span><span class="mi">189</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span><span class="mi">190</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span><span class="mi">188</span><span class="p" data-group-id="2586986841-7">&gt;&gt;</span><span class="p" data-group-id="2586986841-6">}</span><span class="gp unselectable">
7&gt; </span><span class="p" data-group-id="2586986841-8">{</span><span class="ss">ok</span><span class="p">,</span><span class="n">Bin1</span><span class="p" data-group-id="2586986841-8">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">&#39;UTF&#39;</span><span class="p">:</span><span class="nf">decode</span><span class="p" data-group-id="2586986841-9">(</span><span class="ss">&#39;UTF&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">Bytes1</span><span class="p" data-group-id="2586986841-9">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="2586986841-10">{</span><span class="ss">ok</span><span class="p">,</span><span class="p" data-group-id="2586986841-11">&lt;&lt;</span><span class="mi">208</span><span class="p">,</span><span class="mi">147</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span><span class="mi">189</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span><span class="mi">190</span><span class="p">,</span><span class="mi">208</span><span class="p">,</span><span class="mi">188</span><span class="p" data-group-id="2586986841-11">&gt;&gt;</span><span class="p" data-group-id="2586986841-10">}</span><span class="gp unselectable">
8&gt; </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="2586986841-12">(</span><span class="s">&quot;~ts\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2586986841-13">[</span><span class="n">Bin1</span><span class="p" data-group-id="2586986841-13">]</span><span class="p" data-group-id="2586986841-12">)</span><span class="p">.</span><span class="w">
</span><span class="err">Г</span><span class="err">н</span><span class="err">о</span><span class="err">м</span><span class="w">
</span><span class="ss">ok</span><span class="gp unselectable">
9&gt; </span><span class="nc">unicode</span><span class="p">:</span><span class="nf">characters_to_list</span><span class="p" data-group-id="2586986841-14">(</span><span class="n">Bin1</span><span class="p" data-group-id="2586986841-14">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="2586986841-15">[</span><span class="mi">1043</span><span class="p">,</span><span class="mi">1085</span><span class="p">,</span><span class="mi">1086</span><span class="p">,</span><span class="mi">1084</span><span class="p" data-group-id="2586986841-15">]</span></code></pre><h3 id="object-identifier" class="section-heading"><a href="#object-identifier" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">OBJECT IDENTIFIER</span></h3><p>The type <code class="inline">OBJECT IDENTIFIER</code> is used whenever a unique identity is required. An
ASN.1 module, a transfer syntax, and so on, is identified with an
<code class="inline">OBJECT IDENTIFIER</code>. Assume the following example:</p><pre><code class="makeup erlang" translate="no"><span class="n">Oid</span><span class="w"> </span><span class="p">:</span><span class="p">:=</span><span class="w"> </span><span class="n">OBJECT</span><span class="w"> </span><span class="n">IDENTIFIER</span></code></pre><p>Therefore, the following example is a valid Erlang instance of type <code class="inline">Oid</code>:</p><pre><code class="text">OidVal1 = {1,2,55},</code></pre><p>The <code class="inline">OBJECT IDENTIFIER</code> value is a tuple with the consecutive integer values.</p><p>The first value is limited to the values 0, 1, or 2. The second value must be in
the range 0 through 39 when the first value is 0 or 1.</p><p>The <code class="inline">OBJECT IDENTIFIER</code> is an important type and it is widely used within
different standards to identify various objects uniquely. Dubuisson: <em>ASN.1 -
Communication Between Heterogeneous Systems</em> includes an easy-to-understand
description of the use of <code class="inline">OBJECT IDENTIFIER</code>.</p><h3 id="object-descriptor" class="section-heading"><a href="#object-descriptor" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Object Descriptor</span></h3><p>Values of this type can be assigned a value as an ordinary string as follows:</p><pre><code class="text">&quot;This is the value of an Object descriptor&quot;</code></pre><p><a href="" id="The-TIME-types"></a></p><h3 id="time-types" class="section-heading"><a href="#time-types" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">TIME Types</span></h3><p>Two time types are defined within ASN.1: Generalized Time and Universal Time
Coordinated (UTC). Both are assigned a value as an ordinary string within double
quotes, for example, <code class="inline">&quot;19820102070533.8&quot;</code>.</p><p>For DER encoding, the compiler does not check the validity of the time values.
The DER requirements upon those strings are regarded as a matter for the
application to fulfill.</p><h3 id="sequence" class="section-heading"><a href="#sequence" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SEQUENCE</span></h3><p>The structured types of ASN.1 are constructed from other types in a manner
similar to the concepts of arrays and structs in C.</p><p>A <code class="inline">SEQUENCE</code> in ASN.1 is comparable with a struct in C and a record in Erlang. A
<code class="inline">SEQUENCE</code> can be defined as follows:</p><pre><code class="makeup erlang" translate="no"><span class="n">Pdu</span><span class="w"> </span><span class="p">:</span><span class="p">:=</span><span class="w"> </span><span class="n">SEQUENCE</span><span class="w"> </span><span class="p" data-group-id="4663081648-1">{</span><span class="w">
   </span><span class="ss">a</span><span class="w"> </span><span class="n">INTEGER</span><span class="p">,</span><span class="w">
   </span><span class="ss">b</span><span class="w"> </span><span class="n">REAL</span><span class="p">,</span><span class="w">
   </span><span class="ss">c</span><span class="w"> </span><span class="n">OBJECT</span><span class="w"> </span><span class="n">IDENTIFIER</span><span class="p">,</span><span class="w">
   </span><span class="ss">d</span><span class="w"> </span><span class="n">NULL</span><span class="w"> </span><span class="p" data-group-id="4663081648-1">}</span></code></pre><p>This is a 4-component structure called <code class="inline">Pdu</code>. By default, a <code class="inline">SEQUENCE</code> is
represented by a record in Erlang. It can also be represented as a map; see
<a href="asn1_getting_started.html#MAP_SEQ_SET">Map representation for SEQUENCE and SET</a>.
For each <code class="inline">SEQUENCE</code> and <code class="inline">SET</code> in an ASN.1 module an Erlang record declaration is
generated. For <code class="inline">Pdu</code>, a record like the following is defined:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">record</span><span class="p" data-group-id="8356411675-1">(</span><span class="ss">&#39;Pdu&#39;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8356411675-2">{</span><span class="ss">a</span><span class="p">,</span><span class="w"> </span><span class="ss">b</span><span class="p">,</span><span class="w"> </span><span class="ss">c</span><span class="p">,</span><span class="w"> </span><span class="ss">d</span><span class="p" data-group-id="8356411675-2">}</span><span class="p" data-group-id="8356411675-1">)</span><span class="p">.</span></code></pre><p>The record declarations for a module <code class="inline">M</code> are placed in a separate <code class="inline">M.hrl</code> file.</p><p>Values can be assigned in Erlang as follows:</p><pre><code class="makeup erlang" translate="no"><span class="n">MyPdu</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="ss">&#39;Pdu&#39;</span><span class="p" data-group-id="8682398618-1">{</span><span class="ss">a</span><span class="o">=</span><span class="mi">22</span><span class="p">,</span><span class="ss">b</span><span class="o">=</span><span class="mf">77.99</span><span class="p">,</span><span class="ss">c</span><span class="o">=</span><span class="p" data-group-id="8682398618-2">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p" data-group-id="8682398618-2">}</span><span class="p">,</span><span class="ss">d</span><span class="o">=</span><span class="ss">&#39;NULL&#39;</span><span class="p" data-group-id="8682398618-1">}</span><span class="p">.</span></code></pre><p>The decode functions return a record as result when decoding a <code class="inline">SEQUENCE</code> or a
<code class="inline">SET</code>.</p><p>A <code class="inline">SEQUENCE</code> and a <code class="inline">SET</code> can contain a component with a <code class="inline">DEFAULT</code> keyword
followed by the actual value, which is the default value. The <code class="inline">DEFAULT</code> keyword
means that the application doing the encoding can omit encoding of the value,
which results in fewer bytes to send to the receiving application.</p><p>An application can use the atom <code class="inline">asn1_DEFAULT</code> to indicate that the encoding is
to be omitted for that position in the <code class="inline">SEQUENCE</code>.</p><p>Depending on the encoding rules, the encoder can also compare the given value to
the default value and automatically omit the encoding if the values are equal.
How much effort the encoder makes to compare the values depends on the encoding
rules. The DER encoding rules forbid encoding a value equal to the default
value, so it has a more thorough and time-consuming comparison than the encoders
for the other encoding rules.</p><p>In the following example, this ASN.1 specification is used:</p><pre><code class="text">File DEFINITIONS AUTOMATIC TAGS ::=
BEGIN
Seq1 ::= SEQUENCE {
    a INTEGER DEFAULT 1,
    b Seq2 DEFAULT {aa TRUE, bb 15}
}

Seq2 ::= SEQUENCE {
    aa BOOLEAN,
    bb INTEGER
}

Seq3 ::= SEQUENCE {
    bs BIT STRING {a(0), b(1), c(2)} DEFAULT {a, c}
}
END</code></pre><p>Example where the BER encoder is able to omit encoding of the default values:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="nc">asn1ct</span><span class="p">:</span><span class="nf">compile</span><span class="p" data-group-id="1725106115-1">(</span><span class="ss">&#39;File&#39;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1725106115-2">[</span><span class="ss">ber</span><span class="p" data-group-id="1725106115-2">]</span><span class="p" data-group-id="1725106115-1">)</span><span class="p">.</span><span class="w">
</span><span class="ss">ok</span><span class="gp unselectable">
2&gt; </span><span class="nc">&#39;File&#39;</span><span class="p">:</span><span class="nf">encode</span><span class="p" data-group-id="1725106115-3">(</span><span class="ss">&#39;Seq1&#39;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1725106115-4">{</span><span class="ss">&#39;Seq1&#39;</span><span class="p">,</span><span class="ss">asn1_DEFAULT</span><span class="p">,</span><span class="ss">asn1_DEFAULT</span><span class="p" data-group-id="1725106115-4">}</span><span class="p" data-group-id="1725106115-3">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="1725106115-5">{</span><span class="ss">ok</span><span class="p">,</span><span class="p" data-group-id="1725106115-6">&lt;&lt;</span><span class="mi">48</span><span class="p">,</span><span class="mi">0</span><span class="p" data-group-id="1725106115-6">&gt;&gt;</span><span class="p" data-group-id="1725106115-5">}</span><span class="gp unselectable">
3&gt; </span><span class="nc">&#39;File&#39;</span><span class="p">:</span><span class="nf">encode</span><span class="p" data-group-id="1725106115-7">(</span><span class="ss">&#39;Seq1&#39;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1725106115-8">{</span><span class="ss">&#39;Seq1&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="p" data-group-id="1725106115-9">{</span><span class="ss">&#39;Seq2&#39;</span><span class="p">,</span><span class="ss">true</span><span class="p">,</span><span class="mi">15</span><span class="p" data-group-id="1725106115-9">}</span><span class="p" data-group-id="1725106115-8">}</span><span class="p" data-group-id="1725106115-7">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="1725106115-10">{</span><span class="ss">ok</span><span class="p">,</span><span class="p" data-group-id="1725106115-11">&lt;&lt;</span><span class="mi">48</span><span class="p">,</span><span class="mi">0</span><span class="p" data-group-id="1725106115-11">&gt;&gt;</span><span class="p" data-group-id="1725106115-10">}</span></code></pre><p>Example with a named <code class="inline">BIT STRING</code> where the BER encoder does not omit the
encoding:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">4&gt; </span><span class="nc">&#39;File&#39;</span><span class="p">:</span><span class="nf">encode</span><span class="p" data-group-id="4523607155-1">(</span><span class="ss">&#39;Seq3&#39;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4523607155-2">{</span><span class="ss">&#39;Seq3&#39;</span><span class="p">,</span><span class="ss">asn1_DEFAULT</span><span class="p">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="4523607155-3">{</span><span class="ss">ok</span><span class="p">,</span><span class="p" data-group-id="4523607155-4">&lt;&lt;</span><span class="mi">48</span><span class="p">,</span><span class="mi">0</span><span class="p" data-group-id="4523607155-4">&gt;&gt;</span><span class="p" data-group-id="4523607155-3">}</span><span class="gp unselectable">
5&gt; </span><span class="nc">&#39;File&#39;</span><span class="p">:</span><span class="nf">encode</span><span class="p" data-group-id="4523607155-5">(</span><span class="ss">&#39;Seq3&#39;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4523607155-6">{</span><span class="ss">&#39;Seq3&#39;</span><span class="p">,</span><span class="p" data-group-id="4523607155-7">&lt;&lt;</span><span class="mi">16#101</span><span class="p">:</span><span class="mi">3</span><span class="p" data-group-id="4523607155-7">&gt;&gt;</span><span class="p">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="4523607155-8">{</span><span class="ss">ok</span><span class="p">,</span><span class="p" data-group-id="4523607155-9">&lt;&lt;</span><span class="mi">48</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">128</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">160</span><span class="p" data-group-id="4523607155-9">&gt;&gt;</span><span class="p" data-group-id="4523607155-8">}</span></code></pre><p>The DER encoder omits the encoding for the same <code class="inline">BIT STRING</code>:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">6&gt; </span><span class="nc">asn1ct</span><span class="p">:</span><span class="nf">compile</span><span class="p" data-group-id="3275922644-1">(</span><span class="ss">&#39;File&#39;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3275922644-2">[</span><span class="ss">ber</span><span class="p">,</span><span class="ss">der</span><span class="p" data-group-id="3275922644-2">]</span><span class="p" data-group-id="3275922644-1">)</span><span class="p">.</span><span class="w">
</span><span class="ss">ok</span><span class="gp unselectable">
7&gt; </span><span class="nc">&#39;File&#39;</span><span class="p">:</span><span class="nf">encode</span><span class="p" data-group-id="3275922644-3">(</span><span class="ss">&#39;Seq3&#39;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3275922644-4">{</span><span class="ss">&#39;Seq3&#39;</span><span class="p">,</span><span class="ss">asn1_DEFAULT</span><span class="p">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="3275922644-5">{</span><span class="ss">ok</span><span class="p">,</span><span class="p" data-group-id="3275922644-6">&lt;&lt;</span><span class="mi">48</span><span class="p">,</span><span class="mi">0</span><span class="p" data-group-id="3275922644-6">&gt;&gt;</span><span class="p" data-group-id="3275922644-5">}</span><span class="gp unselectable">
8&gt; </span><span class="nc">&#39;File&#39;</span><span class="p">:</span><span class="nf">encode</span><span class="p" data-group-id="3275922644-7">(</span><span class="ss">&#39;Seq3&#39;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3275922644-8">{</span><span class="ss">&#39;Seq3&#39;</span><span class="p">,</span><span class="p" data-group-id="3275922644-9">&lt;&lt;</span><span class="mi">16#101</span><span class="p">:</span><span class="mi">3</span><span class="p" data-group-id="3275922644-9">&gt;&gt;</span><span class="p">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="3275922644-10">{</span><span class="ss">ok</span><span class="p">,</span><span class="p" data-group-id="3275922644-11">&lt;&lt;</span><span class="mi">48</span><span class="p">,</span><span class="mi">0</span><span class="p" data-group-id="3275922644-11">&gt;&gt;</span><span class="p" data-group-id="3275922644-10">}</span></code></pre><h3 id="set" class="section-heading"><a href="#set" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SET</span></h3><p>In Erlang, the <code class="inline">SET</code> type is used exactly as <code class="inline">SEQUENCE</code>. Notice that if BER or
DER encoding rules are used, decoding a <code class="inline">SET</code> is slower than decoding a
<code class="inline">SEQUENCE</code> because the components must be sorted.</p><h3 id="extensibility-for-sequence-and-set" class="section-heading"><a href="#extensibility-for-sequence-and-set" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Extensibility for SEQUENCE and SET</span></h3><p>When a <code class="inline">SEQUENCE</code> or <code class="inline">SET</code> contains an extension marker and extension components
as the following, the type can get more components in newer versions of the
ASN.1 spec:</p><pre><code class="text">SExt ::= SEQUENCE {
           a INTEGER,
           ...,
           b BOOLEAN }</code></pre><p>In this case it has got a new component <code class="inline">b</code>. Thus, incoming messages that are
decoded can have more or fever components than this one.</p><p>The component <code class="inline">b</code> is treated as an original component when encoding a message.
In this case, as it is not an optional element, it must be encoded.</p><p>During decoding, the <code class="inline">b</code> field of the record gets the decoded value of the <code class="inline">b</code>
component, if present, otherwise the value <code class="inline">asn1_NOVALUE</code>.</p><p><a href="" id="MAP_SEQ_SET"></a></p><h3 id="map-representation-for-sequence-and-set" class="section-heading"><a href="#map-representation-for-sequence-and-set" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Map representation for SEQUENCE and SET</span></h3><p>If the ASN.1 module has been compiled with option <code class="inline">maps</code>, the types <code class="inline">SEQUENCE</code>
and <code class="inline">SET</code> are represented as maps.</p><p>In the following example, this ASN.1 specification is used:</p><pre><code class="text">File DEFINITIONS AUTOMATIC TAGS ::=
BEGIN
Seq1 ::= SEQUENCE {
    a INTEGER DEFAULT 42,
    b BOOLEAN OPTIONAL,
    c IA5String
}
END</code></pre><p>Optional fields are to be omitted from the map if they have no value:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="nc">asn1ct</span><span class="p">:</span><span class="nf">compile</span><span class="p" data-group-id="8444309519-1">(</span><span class="ss">&#39;File&#39;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8444309519-2">[</span><span class="ss">per</span><span class="p">,</span><span class="ss">maps</span><span class="p" data-group-id="8444309519-2">]</span><span class="p" data-group-id="8444309519-1">)</span><span class="p">.</span><span class="w">
</span><span class="ss">ok</span><span class="gp unselectable">
2&gt; </span><span class="p" data-group-id="8444309519-3">{</span><span class="ss">ok</span><span class="p">,</span><span class="n">E</span><span class="p" data-group-id="8444309519-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">&#39;File&#39;</span><span class="p">:</span><span class="nf">encode</span><span class="p" data-group-id="8444309519-4">(</span><span class="ss">&#39;Seq1&#39;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8444309519-5">#{</span><span class="ss">a</span><span class="p">=&gt;</span><span class="mi">0</span><span class="p">,</span><span class="ss">c</span><span class="p">=&gt;</span><span class="s">&quot;string&quot;</span><span class="p" data-group-id="8444309519-5">}</span><span class="p" data-group-id="8444309519-4">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="8444309519-6">{</span><span class="ss">ok</span><span class="p">,</span><span class="p" data-group-id="8444309519-7">&lt;&lt;</span><span class="mi">128</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">115</span><span class="p">,</span><span class="mi">116</span><span class="p">,</span><span class="mi">114</span><span class="p">,</span><span class="mi">105</span><span class="p">,</span><span class="mi">110</span><span class="p">,</span><span class="mi">103</span><span class="p" data-group-id="8444309519-7">&gt;&gt;</span><span class="p" data-group-id="8444309519-6">}</span></code></pre><p>When decoding, optional fields will be omitted from the map:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">3&gt; </span><span class="nc">&#39;File&#39;</span><span class="p">:</span><span class="nf">decode</span><span class="p" data-group-id="1678983585-1">(</span><span class="ss">&#39;Seq1&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">E</span><span class="p" data-group-id="1678983585-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="1678983585-2">{</span><span class="ss">ok</span><span class="p">,</span><span class="p" data-group-id="1678983585-3">#{</span><span class="ss">a</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="ss">c</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;string&quot;</span><span class="p" data-group-id="1678983585-3">}</span><span class="p" data-group-id="1678983585-2">}</span></code></pre><p>Default values can be omitted from the map:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">4&gt; </span><span class="p" data-group-id="8165927273-1">{</span><span class="ss">ok</span><span class="p">,</span><span class="n">E2</span><span class="p" data-group-id="8165927273-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">&#39;File&#39;</span><span class="p">:</span><span class="nf">encode</span><span class="p" data-group-id="8165927273-2">(</span><span class="ss">&#39;Seq1&#39;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8165927273-3">#{</span><span class="ss">c</span><span class="p">=&gt;</span><span class="s">&quot;string&quot;</span><span class="p" data-group-id="8165927273-3">}</span><span class="p" data-group-id="8165927273-2">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="8165927273-4">{</span><span class="ss">ok</span><span class="p">,</span><span class="p" data-group-id="8165927273-5">&lt;&lt;</span><span class="mi">0</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">115</span><span class="p">,</span><span class="mi">116</span><span class="p">,</span><span class="mi">114</span><span class="p">,</span><span class="mi">105</span><span class="p">,</span><span class="mi">110</span><span class="p">,</span><span class="mi">103</span><span class="p" data-group-id="8165927273-5">&gt;&gt;</span><span class="p" data-group-id="8165927273-4">}</span><span class="gp unselectable">
5&gt; </span><span class="nc">&#39;File&#39;</span><span class="p">:</span><span class="nf">decode</span><span class="p" data-group-id="8165927273-6">(</span><span class="ss">&#39;Seq1&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">E2</span><span class="p" data-group-id="8165927273-6">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="8165927273-7">{</span><span class="ss">ok</span><span class="p">,</span><span class="p" data-group-id="8165927273-8">#{</span><span class="ss">a</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="ss">c</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;string&quot;</span><span class="p" data-group-id="8165927273-8">}</span><span class="p" data-group-id="8165927273-7">}</span></code></pre><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>It is not allowed to use the atoms <code class="inline">asn1_VALUE</code> and <code class="inline">asn1_DEFAULT</code> with maps.</p></section><h3 id="choice" class="section-heading"><a href="#choice" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">CHOICE</span></h3><p>The type <code class="inline">CHOICE</code> is a space saver and is similar to the concept of union in
C.</p><p>Assume the following:</p><pre><code class="text">SomeModuleName DEFINITIONS AUTOMATIC TAGS ::=
BEGIN
T ::= CHOICE {
        x REAL,
        y INTEGER,
        z OBJECT IDENTIFIER }
END</code></pre><p>It is then possible to assign values as follows:</p><pre><code class="makeup erlang" translate="no"><span class="n">TVal1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="4272653805-1">{</span><span class="ss">y</span><span class="p">,</span><span class="mi">17</span><span class="p" data-group-id="4272653805-1">}</span><span class="p">,</span><span class="w">
</span><span class="n">TVal2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="4272653805-2">{</span><span class="ss">z</span><span class="p">,</span><span class="p" data-group-id="4272653805-3">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p" data-group-id="4272653805-3">}</span><span class="p" data-group-id="4272653805-2">}</span><span class="p">,</span></code></pre><p>A <code class="inline">CHOICE</code> value is always represented as the tuple <code class="inline">{ChoiceAlternative, Val}</code>
where <code class="inline">ChoiceAlternative</code> is an atom denoting the selected choice alternative.</p><h4>Extensible CHOICE</h4><p>When a <code class="inline">CHOICE</code> contains an extension marker and the decoder detects an unknown
alternative of the <code class="inline">CHOICE</code>, the value is represented as follows:</p><pre><code class="text">{asn1_ExtAlt, BytesForOpenType}</code></pre><p>Here <code class="inline">BytesForOpenType</code> is a list of bytes constituting the encoding of the
&quot;unknown&quot; <code class="inline">CHOICE</code> alternative.</p><p><a href="" id="SOF"></a></p><h3 id="set-of-and-sequence-of" class="section-heading"><a href="#set-of-and-sequence-of" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SET OF and SEQUENCE OF</span></h3><p>The types <code class="inline">SET OF</code> and <code class="inline">SEQUENCE OF</code> correspond to the concept of an array in
several programming languages. The Erlang syntax for both types is
straightforward, for example:</p><pre><code class="text">Arr1 ::= SET SIZE (5) OF INTEGER (4..9)
Arr2 ::= SEQUENCE OF OCTET STRING</code></pre><p>In Erlang the following can apply:</p><pre><code class="text">Arr1Val = [4,5,6,7,8],
Arr2Val = [&quot;abc&quot;,[14,34,54],&quot;Octets&quot;],</code></pre><p>Notice that the definition of type <code class="inline">SET OF</code> implies that the order of the
components is undefined, but in practice there is no difference between <code class="inline">SET OF</code>
and <code class="inline">SEQUENCE OF</code>. The ASN.1 compiler for Erlang does not randomize the order of
the <code class="inline">SET OF</code> components before encoding.</p><p>However, for a value of type <code class="inline">SET OF</code>, the DER encoding format requires the
elements to be sent in ascending order of their encoding, which implies an
expensive sorting procedure in runtime. Therefore it is recommended to use
<code class="inline">SEQUENCE OF</code> instead of <code class="inline">SET OF</code> if possible.</p><p><a href="" id="ANY"></a></p><h3 id="any-and-any-defined-by" class="section-heading"><a href="#any-and-any-defined-by" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">ANY and ANY DEFINED BY</span></h3><p>The types <code class="inline">ANY</code> and <code class="inline">ANY DEFINED BY</code> have been removed from the standard
since 1994. It is recommended not to use these types any more. They can,
however, exist in some old ASN.1 modules. The idea with this type was to leave a
&quot;hole&quot; in a definition where it was possible to put unspecified data of any
kind, even non-ASN.1 data.</p><p>A value of this type is encoded as an <code class="inline">open type</code>.</p><p>Instead of <code class="inline">ANY</code> and <code class="inline">ANY DEFINED BY</code>, it is recommended to use
information object classes, table constraints, and parameterization. In
particular the construct <code class="inline">TYPE-IDENTIFIER.@Type</code> accomplishes the same as the
deprecated <code class="inline">ANY</code>.</p><p>Also see <a href="asn1_getting_started.html#Information-Object">Information objects</a>.</p><p><a href="" id="NegotiationTypes"></a></p><h3 id="external-embedded-pdv-and-character-string" class="section-heading"><a href="#external-embedded-pdv-and-character-string" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">EXTERNAL, EMBEDDED PDV, and CHARACTER STRING</span></h3><p>The types <code class="inline">EXTERNAL</code>, <code class="inline">EMBEDDED PDV</code>, and <code class="inline">CHARACTER STRING</code> are used in
presentation layer negotiation. They are encoded according to their associated
type, see X.680.</p><p>The type <code class="inline">EXTERNAL</code> had a slightly different associated type before 1994. X.691
states that encoding must follow the older associated type. So, generated
encode/decode functions convert values of the newer format to the older format
before encoding. This implies that it is allowed to use <code class="inline">EXTERNAL</code> type values
of either format for encoding. Decoded values are always returned in the newer
format.</p><h3 id="embedded-named-types" class="section-heading"><a href="#embedded-named-types" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Embedded Named Types</span></h3><p>The structured types previously described can have other named types as their
components. The general syntax to assign a value to component <code class="inline">C</code> of a named
ASN.1 type <code class="inline">T</code> in Erlang is the record syntax <code class="inline">#'T'{'C'=Value}</code>. Here <code class="inline">Value</code>
can be a value of yet another type <code class="inline">T2</code>, for example:</p><pre><code class="text">EmbeddedExample DEFINITIONS AUTOMATIC TAGS ::=
BEGIN
B ::= SEQUENCE {
        a Arr1,
        b T }

Arr1 ::= SET SIZE (5) OF INTEGER (4..9)

T ::= CHOICE {
        x REAL,
        y INTEGER,
        z OBJECT IDENTIFIER }
        END</code></pre><p><code class="inline">SEQUENCE</code> <code class="inline">b</code> can be encoded as follows in Erlang:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="nc">&#39;EmbeddedExample&#39;</span><span class="p">:</span><span class="nf">encode</span><span class="p" data-group-id="3935306563-1">(</span><span class="ss">&#39;B&#39;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3935306563-2">{</span><span class="ss">&#39;B&#39;</span><span class="p">,</span><span class="p" data-group-id="3935306563-3">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p" data-group-id="3935306563-3">]</span><span class="p">,</span><span class="p" data-group-id="3935306563-4">{</span><span class="ss">x</span><span class="p">,</span><span class="s">&quot;7.77&quot;</span><span class="p" data-group-id="3935306563-4">}</span><span class="p" data-group-id="3935306563-2">}</span><span class="p" data-group-id="3935306563-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="3935306563-5">{</span><span class="ss">ok</span><span class="p">,</span><span class="p" data-group-id="3935306563-6">&lt;&lt;</span><span class="mi">5</span><span class="p">,</span><span class="mi">56</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">55</span><span class="p">,</span><span class="mi">55</span><span class="p">,</span><span class="mi">55</span><span class="p">,</span><span class="mi">46</span><span class="p">,</span><span class="mi">69</span><span class="p">,</span><span class="mi">45</span><span class="p">,</span><span class="mi">50</span><span class="p" data-group-id="3935306563-6">&gt;&gt;</span><span class="p" data-group-id="3935306563-5">}</span></code></pre><h2 id="naming-of-records-in-hrl-files" class="section-heading"><a href="#naming-of-records-in-hrl-files" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Naming of Records in .hrl Files</span></h2><p>When the option <code class="inline">maps</code> is given, no <code class="inline">.hrl</code> files will be generated. The rest of
this section describes the behavior of the compiler when <code class="inline">maps</code> is not used.</p><p>When an ASN.1 specification is compiled, all defined types of type <code class="inline">SET</code> or
<code class="inline">SEQUENCE</code> result in a corresponding record in the generated <code class="inline">.hrl</code> file. This
is because the values for <code class="inline">SET</code> and <code class="inline">SEQUENCE</code> are represented as records by
default.</p><p>Some special cases of this functionality are presented in the next section.</p><h3 id="embedded-structured-types" class="section-heading"><a href="#embedded-structured-types" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Embedded Structured Types</span></h3><p>In ASN.1 it is also possible to have components that are themselves structured
types. For example, it is possible to have the following:</p><pre><code class="text">Emb ::= SEQUENCE {
    a SEQUENCE OF OCTET STRING,
    b SET {
       a INTEGER,
       b INTEGER DEFAULT 66},
    c CHOICE {
       a INTEGER,
       b FooType } }

FooType ::= [3] VisibleString</code></pre><p>The following records are generated because of type <code class="inline">Emb</code>:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">record</span><span class="p" data-group-id="8660755499-1">(</span><span class="ss">&#39;Emb,{a, b, c}).
-record(&#39;</span><span class="n">Emb_b</span><span class="err">&#39;</span><span class="p">,</span><span class="p" data-group-id="8660755499-2">{</span><span class="ss">a</span><span class="p">,</span><span class="w"> </span><span class="ss">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">asn1_DEFAULT</span><span class="p" data-group-id="8660755499-2">}</span><span class="p" data-group-id="8660755499-1">)</span><span class="p">.</span><span class="w"> </span><span class="c1">% the embedded SET type</span></code></pre><p>Values of type <code class="inline">Emb</code> can be assigned as follows:</p><pre><code class="makeup erlang" translate="no"><span class="n">V</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="ss">&#39;Emb&#39;</span><span class="p" data-group-id="6483939702-1">{</span><span class="ss">a</span><span class="o">=</span><span class="p" data-group-id="6483939702-2">[</span><span class="s">&quot;qqqq&quot;</span><span class="p">,</span><span class="p" data-group-id="6483939702-3">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">255</span><span class="p" data-group-id="6483939702-3">]</span><span class="p" data-group-id="6483939702-2">]</span><span class="p">,</span><span class="w">
           </span><span class="ss">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="ss">&#39;Emb_b&#39;</span><span class="p" data-group-id="6483939702-4">{</span><span class="ss">a</span><span class="o">=</span><span class="mi">99</span><span class="p" data-group-id="6483939702-4">}</span><span class="p">,</span><span class="w">
           </span><span class="ss">c</span><span class="w"> </span><span class="o">=</span><span class="p" data-group-id="6483939702-5">{</span><span class="ss">b</span><span class="p">,</span><span class="s">&quot;Can you see this&quot;</span><span class="p" data-group-id="6483939702-5">}</span><span class="p" data-group-id="6483939702-1">}</span><span class="p">.</span></code></pre><p>For an embedded type of type <code class="inline">SEQUENCE</code>/<code class="inline">SET</code> in a <code class="inline">SEQUENCE</code>/<code class="inline">SET</code>, the record
name is extended with an underscore and the component name. If the embedded
structure is deeper with the <code class="inline">SEQUENCE</code>, <code class="inline">SET</code>, or <code class="inline">CHOICE</code> types in the line,
each component name/alternative name is added to the record name.</p><p>Example:</p><pre><code class="text">Seq ::= SEQUENCE{
    a CHOICE{
        b SEQUENCE {
           c  INTEGER
        }
    }
}</code></pre><p>This results in the following record:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">record</span><span class="p" data-group-id="9947088385-1">(</span><span class="ss">&#39;Seq_a_b&#39;</span><span class="p">,</span><span class="p" data-group-id="9947088385-2">{</span><span class="ss">c</span><span class="p" data-group-id="9947088385-2">}</span><span class="p" data-group-id="9947088385-1">)</span><span class="p">.</span></code></pre><p>If the structured type has a component with an embedded <code class="inline">SEQUENCE OF</code>/<code class="inline">SET OF</code>
which embedded type in turn is a <code class="inline">SEQUENCE</code>/<code class="inline">SET</code>, it gives a record with the
<code class="inline">SEQUENCE OF</code>/<code class="inline">SET OF</code> addition as in the following example:</p><pre><code class="text">Seq ::= SEQUENCE {
    a SEQUENCE OF SEQUENCE {
           b
               }
    c SET OF SEQUENCE {
           d
               }
}</code></pre><p>This results in the following records:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">record</span><span class="p" data-group-id="6899956443-1">(</span><span class="ss">&#39;Seq_a_SEQOF&#39;</span><span class="p" data-group-id="6899956443-2">{</span><span class="ss">b</span><span class="p" data-group-id="6899956443-2">}</span><span class="p" data-group-id="6899956443-1">)</span><span class="p">.</span><span class="w">
</span><span class="p">-</span><span class="na">record</span><span class="p" data-group-id="6899956443-3">(</span><span class="ss">&#39;Seq_c_SETOF&#39;</span><span class="p" data-group-id="6899956443-4">{</span><span class="ss">d</span><span class="p" data-group-id="6899956443-4">}</span><span class="p" data-group-id="6899956443-3">)</span><span class="p">.</span></code></pre><p>A parameterized type is to be considered as an embedded type. Each time such a
type is referenced, an instance of it is defined. Thus, in the following example
a record with name <code class="inline">'Seq_b'</code> is generated in the <code class="inline">.hrl</code> file and is used to hold
values:</p><pre><code class="text">Seq ::= SEQUENCE {
    b PType{INTEGER}
}

PType{T} ::= SEQUENCE{
    id T
}</code></pre><h3 id="recursive-types" class="section-heading"><a href="#recursive-types" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Recursive Types</span></h3><p>Types that refer to themselves are called recursive types. Example:</p><pre><code class="makeup erlang" translate="no"><span class="n">Rec</span><span class="w"> </span><span class="p">:</span><span class="p">:=</span><span class="w"> </span><span class="n">CHOICE</span><span class="w"> </span><span class="p" data-group-id="3468794446-1">{</span><span class="w">
     </span><span class="ss">nothing</span><span class="w"> </span><span class="n">NULL</span><span class="p">,</span><span class="w">
     </span><span class="ss">something</span><span class="w"> </span><span class="n">SEQUENCE</span><span class="w"> </span><span class="p" data-group-id="3468794446-2">{</span><span class="w">
          </span><span class="ss">a</span><span class="w"> </span><span class="n">INTEGER</span><span class="p">,</span><span class="w">
          </span><span class="ss">b</span><span class="w"> </span><span class="n">OCTET</span><span class="w"> </span><span class="n">STRING</span><span class="p">,</span><span class="w">
          </span><span class="ss">c</span><span class="w"> </span><span class="n">Rec</span><span class="w"> </span><span class="p" data-group-id="3468794446-2">}</span><span class="p" data-group-id="3468794446-1">}</span></code></pre><p>This is allowed in ASN.1 and the ASN.1-to-Erlang compiler supports this
recursive type. A value for this type is assigned in Erlang as follows:</p><pre><code class="makeup erlang" translate="no"><span class="n">V</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="8598693656-1">{</span><span class="ss">something</span><span class="p">,</span><span class="o">#</span><span class="ss">&#39;Rec_something&#39;</span><span class="p" data-group-id="8598693656-2">{</span><span class="ss">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">77</span><span class="p">,</span><span class="w">
                                </span><span class="ss">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;some octets here&quot;</span><span class="p">,</span><span class="w">
                                </span><span class="ss">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="8598693656-3">{</span><span class="ss">nothing</span><span class="p">,</span><span class="ss">&#39;NULL&#39;</span><span class="p" data-group-id="8598693656-3">}</span><span class="p" data-group-id="8598693656-2">}</span><span class="p" data-group-id="8598693656-1">}</span><span class="p">.</span></code></pre><h2 id="asn-1-values" class="section-heading"><a href="#asn-1-values" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">ASN.1 Values</span></h2><p>Values can be assigned to an ASN.1 type within the ASN.1 code itself, as opposed
to the actions in the previous section where a value was assigned to an ASN.1
type in Erlang. The full value syntax of ASN.1 is supported and X.680 describes
in detail how to assign values in ASN.1. A short example:</p><pre><code class="makeup erlang" translate="no"><span class="n">TT</span><span class="w"> </span><span class="p">:</span><span class="p">:=</span><span class="w"> </span><span class="n">SEQUENCE</span><span class="w"> </span><span class="p" data-group-id="7176997797-1">{</span><span class="w">
   </span><span class="ss">a</span><span class="w"> </span><span class="n">INTEGER</span><span class="p">,</span><span class="w">
   </span><span class="ss">b</span><span class="w"> </span><span class="n">SET</span><span class="w"> </span><span class="n">OF</span><span class="w"> </span><span class="n">OCTET</span><span class="w"> </span><span class="n">STRING</span><span class="w"> </span><span class="p" data-group-id="7176997797-1">}</span><span class="w">

</span><span class="ss">tt</span><span class="w"> </span><span class="n">TT</span><span class="w"> </span><span class="p">:</span><span class="p">:=</span><span class="w"> </span><span class="p" data-group-id="7176997797-2">{</span><span class="ss">a</span><span class="w"> </span><span class="mi">77</span><span class="p">,</span><span class="ss">b</span><span class="w"> </span><span class="p" data-group-id="7176997797-3">{</span><span class="s">&quot;kalle&quot;</span><span class="p">,</span><span class="s">&quot;kula&quot;</span><span class="p" data-group-id="7176997797-3">}</span><span class="p" data-group-id="7176997797-2">}</span></code></pre><p>The value defined here can be used in several ways. It can, for example, be used
as the value in some <code class="inline">DEFAULT</code> component:</p><pre><code class="text">SS ::= SET {
    s OBJECT IDENTIFIER,
    val TT DEFAULT tt }</code></pre><p>It can also be used from inside an Erlang program. If this ASN.1 code is defined
in ASN.1 module <code class="inline">Values</code>, the ASN.1 value <code class="inline">tt</code> can be reached from Erlang as a
function call to <code class="inline">'Values':tt()</code> as in the following example:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="n">Val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">&#39;Values&#39;</span><span class="p">:</span><span class="nf">tt</span><span class="p" data-group-id="7108496584-1">(</span><span class="p" data-group-id="7108496584-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="7108496584-2">{</span><span class="ss">&#39;TT&#39;</span><span class="p">,</span><span class="mi">77</span><span class="p">,</span><span class="p" data-group-id="7108496584-3">[</span><span class="s">&quot;kalle&quot;</span><span class="p">,</span><span class="s">&quot;kula&quot;</span><span class="p" data-group-id="7108496584-3">]</span><span class="p" data-group-id="7108496584-2">}</span><span class="gp unselectable">
2&gt; </span><span class="p" data-group-id="7108496584-4">{</span><span class="ss">ok</span><span class="p">,</span><span class="n">Bytes</span><span class="p" data-group-id="7108496584-4">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">&#39;Values&#39;</span><span class="p">:</span><span class="nf">encode</span><span class="p" data-group-id="7108496584-5">(</span><span class="ss">&#39;TT&#39;</span><span class="p">,</span><span class="n">Val</span><span class="p" data-group-id="7108496584-5">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="7108496584-6">{</span><span class="ss">ok</span><span class="p">,</span><span class="p" data-group-id="7108496584-7">&lt;&lt;</span><span class="mi">48</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">128</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">77</span><span class="p">,</span><span class="mi">161</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">107</span><span class="p">,</span><span class="mi">97</span><span class="p">,</span><span class="mi">108</span><span class="p">,</span><span class="mi">108</span><span class="p">,</span><span class="mi">101</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="mi">107</span><span class="p">,</span><span class="mi">117</span><span class="p">,</span><span class="mi">108</span><span class="p">,</span><span class="mi">97</span><span class="p" data-group-id="7108496584-7">&gt;&gt;</span><span class="p" data-group-id="7108496584-6">}</span><span class="gp unselectable">
4&gt; </span><span class="nc">&#39;Values&#39;</span><span class="p">:</span><span class="nf">decode</span><span class="p" data-group-id="7108496584-8">(</span><span class="ss">&#39;TT&#39;</span><span class="p">,</span><span class="n">Bytes</span><span class="p" data-group-id="7108496584-8">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="7108496584-9">{</span><span class="ss">ok</span><span class="p">,</span><span class="p" data-group-id="7108496584-10">{</span><span class="ss">&#39;TT&#39;</span><span class="p">,</span><span class="mi">77</span><span class="p">,</span><span class="p" data-group-id="7108496584-11">[</span><span class="s">&quot;kalle&quot;</span><span class="p">,</span><span class="s">&quot;kula&quot;</span><span class="p" data-group-id="7108496584-11">]</span><span class="p" data-group-id="7108496584-10">}</span><span class="p" data-group-id="7108496584-9">}</span><span class="w">
</span><span class="mi">5</span><span class="o">&gt;</span></code></pre><p>This example shows that a function is generated by the compiler that returns a
valid Erlang representation of the value, although the value is of a complex
type.</p><p>Furthermore, if the option <code class="inline">maps</code> is not used, a macro is generated for each
value in the <code class="inline">.hrl</code> file. So, the defined value <code class="inline">tt</code> can also be extracted by
<code class="inline">?tt</code> in application code.</p><h2 id="macros" class="section-heading"><a href="#macros" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Macros</span></h2><p>The type <code class="inline">MACRO</code> is not supported. It is no longer part of the ASN.1 standard.</p><p><a href="" id="Information-Object"></a></p><h2 id="asn-1-information-objects-x-681" class="section-heading"><a href="#asn-1-information-objects-x-681" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">ASN.1 Information Objects (X.681)</span></h2><p>Information Object Classes, Information Objects, and Information Object Sets (in
the following called classes, objects, and object sets, respectively) are
defined in the standard definition X.681. Only a brief explanation is given
here.</p><p>These constructs makes it possible to define open types, that is, values of that
type can be of any ASN.1 type. Also, relationships can be defined between
different types and values, as classes can hold types, values, objects, object
sets, and other classes in their fields. A class can be defined in ASN.1 as
follows:</p><pre><code class="text">GENERAL-PROCEDURE ::= CLASS {
      &amp;Message,
      &amp;Reply               OPTIONAL,
      &amp;Error               OPTIONAL,
      &amp;id          PrintableString UNIQUE
}
WITH SYNTAX {
      NEW MESSAGE     &amp;Message
      [REPLY           &amp;Reply]
      [ERROR           &amp;Error]
      ADDRESS          &amp;id
}</code></pre><p>An object is an instance of a class. An object set is a set containing objects
of a specified class. A definition can look as follows:</p><pre><code class="text">object1 GENERAL-PROCEDURE ::= {
    NEW MESSAGE      PrintableString
    ADDRESS          &quot;home&quot;
}

object2 GENERAL-PROCEDURE ::= {
    NEW MESSAGE INTEGER
    ERROR INTEGER
    ADDRESS &quot;remote&quot;
}</code></pre><p>The object <code class="inline">object1</code> is an instance of the class <code class="inline">GENERAL-PROCEDURE</code> and has one
type field and one fixed type value field. The object <code class="inline">object2</code> has also an
optional field <code class="inline">ERROR</code>, which is a type field. The field <code class="inline">ADDRESS</code> is a <code class="inline">UNIQUE</code>
field. Objects in an object set must have unique values in their <code class="inline">UNIQUE</code> field,
as in <code class="inline">GENERAL-PROCEDURES</code>:</p><pre><code class="text">GENERAL-PROCEDURES GENERAL-PROCEDURE ::= {
    object1 | object2}</code></pre><p>You cannot encode a class, object, or object set, only refer to it when defining
other ASN.1 entities. Typically you refer to a class as well as to object sets
by table constraints and component relation constraints (X.682) in ASN.1 types,
as in the following:</p><pre><code class="makeup erlang" translate="no"><span class="n">StartMessage</span><span class="w">  </span><span class="p">:</span><span class="p">:=</span><span class="w"> </span><span class="n">SEQUENCE</span><span class="w"> </span><span class="p" data-group-id="0074265139-1">{</span><span class="w">
    </span><span class="ss">msgId</span><span class="w">  </span><span class="n">GENERAL</span><span class="o">-</span><span class="n">PROCEDURE</span><span class="p">.</span><span class="err">&amp;</span><span class="nf">id</span><span class="w">  </span><span class="p" data-group-id="0074265139-2">(</span><span class="p" data-group-id="0074265139-3">{</span><span class="n">GENERAL</span><span class="o">-</span><span class="n">PROCEDURES</span><span class="p" data-group-id="0074265139-3">}</span><span class="p" data-group-id="0074265139-2">)</span><span class="p">,</span><span class="w">
    </span><span class="ss">content</span><span class="w"> </span><span class="n">GENERAL</span><span class="o">-</span><span class="n">PROCEDURE</span><span class="p">.</span><span class="err">&amp;</span><span class="n">Message</span><span class="w"> </span><span class="p" data-group-id="0074265139-4">(</span><span class="p" data-group-id="0074265139-5">{</span><span class="n">GENERAL</span><span class="o">-</span><span class="n">PROCEDURES</span><span class="p" data-group-id="0074265139-5">}</span><span class="p" data-group-id="0074265139-6">{</span><span class="p">@</span><span class="ss">msgId</span><span class="p" data-group-id="0074265139-6">}</span><span class="p" data-group-id="0074265139-4">)</span><span class="p">,</span><span class="w">
    </span><span class="p" data-group-id="0074265139-1">}</span></code></pre><p>In type <code class="inline">StartMessage</code>, the constraint following field <code class="inline">content</code> tells that in a
value of type <code class="inline">StartMessage</code> the value in field <code class="inline">content</code> must come from the
same object that is chosen by field <code class="inline">msgId</code>.</p><p>So, the value <code class="inline">#'StartMessage'{msgId=&quot;home&quot;,content=&quot;Any Printable String&quot;}</code> is
legal to encode as a <code class="inline">StartMessage</code> value. However, the value
<code class="inline">#'StartMessage'{msgId=&quot;remote&quot;, content=&quot;Some String&quot;}</code> is illegal as the
constraint in <code class="inline">StartMessage</code> tells that when you have chosen a value from a
specific object in object set <code class="inline">GENERAL-PROCEDURES</code> in field <code class="inline">msgId</code>, you must
choose a value from that same object in the content field too. In this second
case, it is to be any <code class="inline">INTEGER</code> value.</p><p><code class="inline">StartMessage</code> can in field <code class="inline">content</code> be encoded with a value of any type that
an object in object set <code class="inline">GENERAL-PROCEDURES</code> has in its <code class="inline">NEW MESSAGE</code> field.
This field refers to a type field <code class="inline">&amp;Message</code> in the class. Field <code class="inline">msgId</code> is
always encoded as a <code class="inline">PrintableString</code>, as the field refers to a fixed type in
the class.</p><p>In practice, object sets are usually declared to be extensible so that more
objects can be added to the set later. Extensibility is indicated as follows:</p><pre><code class="text">GENERAL-PROCEDURES GENERAL-PROCEDURE ::= {
    object1 | object2, ...}</code></pre><p>When decoding a type that uses an extensible set constraint, it is always
possible that the value in field <code class="inline">UNIQUE</code> is unknown (that is, the type has been
encoded with a later version of the ASN.1 specification). The unencoded data is
then returned wrapped in a tuple as follows:</p><pre><code class="text">{asn1_OPENTYPE,Binary}</code></pre><p>Here <code class="inline">Binary</code> is an Erlang binary that contains the encoded data. (If option
<code class="inline">legacy_erlang_types</code> has been given, only the binary is returned.)</p><h2 id="parameterization-x-683" class="section-heading"><a href="#parameterization-x-683" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Parameterization (X.683)</span></h2><p>Parameterization, which is defined in X.683, can be used when defining types,
values, value sets, classes, objects, or object sets. A part of a definition can
be supplied as a parameter. For example, if a <code class="inline">Type</code> is used in a definition
with a certain purpose, you want the type name to express the intention. This
can be done with parameterization.</p><p>When many types (or another ASN.1 entity) only differ in some minor cases, but
the structure of the types is similar, only one general type can be defined and
the differences can be supplied through parameters.</p><p>Example of use of parameterization:</p><pre><code class="text">General{Type} ::= SEQUENCE
{
     number     INTEGER,
     string     Type
}

T1 ::= General{PrintableString}

T2 ::= General{BIT STRING}</code></pre><p>An example of a value that can be encoded as type <code class="inline">T1</code> is <code class="inline">{12,&quot;hello&quot;}</code>.</p><p>Notice that the compiler does not generate encode/decode functions for
parameterized types, only for the instances of the parameterized types.
Therefore, if a file contains the types <code class="inline">General{}</code>, <code class="inline">T1</code>, and <code class="inline">T2</code> as in the
previous example, encode/decode functions are only generated for <code class="inline">T1</code> and <code class="inline">T2</code>.</p>

</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

      <a href="asn1_overview.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
ASN.1
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="asn1_spec.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
Specialized Decodes
        </span>
      </a>

  </div>
</div>
    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="asn1.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.1) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>
<p>Copyright © 1996-2025 <a href="https://www.ericsson.com">Ericsson AB</a></p>
    </footer>
  </div>
</main>
</div>
  <script defer src="https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.min.js"></script>
  <script>
  let initialized = false;

  window.addEventListener("exdoc:loaded", () => {
      if (!initialized) {
      mermaid.initialize({
          startOnLoad: false,
          theme: document.body.className.includes("dark") ? "dark" : "default"
      });
      initialized = true;
      }

      let id = 0;
      for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
          graphEl.innerHTML = svg;
          bindFunctions?.(graphEl);
          preEl.insertAdjacentElement("afterend", graphEl);
          preEl.remove();
      });
      }
  });
  </script>

  </body>
</html>
