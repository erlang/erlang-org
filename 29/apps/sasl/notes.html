<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.1">
    <meta name="project" content="sasl v4.3-rc0">


<meta name="major-vsn" content="29">
<meta name="exdoc:full-text-search-url" content="/doc/search.html?v=29&q=">
<link rel="canonical" href="https://www.erlang.org/doc/apps/sasl/notes.html" />
    <title>SASL Release Notes — sasl v4.3-rc0</title>

    <link rel="stylesheet" href="dist/html-erlang-ZK43ZOAC.css" />

    <script defer src="dist/sidebar_items-9352BC19.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-DPJLHKSM.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="../../index.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="sasl" />
        </a>

      <div>
        <a href="../../index.html" class="sidebar-projectName" translate="no">
sasl
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v4.3-rc0
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-extra" id="main" data-type="extras">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of sasl</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>SASL Release Notes</h1>


      <a href="https://github.com/erlang/otp/blob/master/lib/sasl/doc/notes.md#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


<p>This document describes the changes made to the SASL application.</p><h2 id="sasl-4-3" class="section-heading"><a href="#sasl-4-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 4.3</span></h2><h3 id="fixed-bugs-and-malfunctions" class="section-heading"><a href="#fixed-bugs-and-malfunctions" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fixed the documentation for the ExtraFiles option to <a href="systools.html#make_tar/2"><code class="inline">systools:make_tar/2</code></a>.</p><p>Own Id: OTP-19279 Aux Id: <a href="https://github.com/erlang/otp/issues/8842" title="">GH-8842</a>, <a href="https://github.com/erlang/otp/pull/8894" title="">PR-8894</a></p></li></ul><h3 id="improvements-and-new-features" class="section-heading"><a href="#improvements-and-new-features" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p><a href="appup.html"><code class="inline">.appup</code></a> files are now included in releases in order to make it possible to create upgrade packages from an installed release.</p><p>Own Id: OTP-19398 Aux Id: <a href="https://github.com/erlang/otp/pull/8973" title="">PR-8973</a></p></li><li><p>The license and copyright header has changed format to include an <code class="inline">SPDX-License-Identifier</code>. At the same time, most files have been updated to follow a uniform standard for license headers.</p><p>Own Id: OTP-19575 Aux Id: <a href="https://github.com/erlang/otp/pull/9670" title="">PR-9670</a></p></li></ul><h2 id="sasl-4-2-2" class="section-heading"><a href="#sasl-4-2-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 4.2.2</span></h2><h3 id="improvements-and-new-features-1" class="section-heading"><a href="#improvements-and-new-features-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The documentation has been migrated to use Markdown and ExDoc.</p><p>Own Id: OTP-18955 Aux Id: <a href="https://github.com/erlang/otp/pull/8026" title="">PR-8026</a></p></li></ul><h2 id="sasl-4-2-1" class="section-heading"><a href="#sasl-4-2-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 4.2.1</span></h2><h3 id="fixed-bugs-and-malfunctions-1" class="section-heading"><a href="#fixed-bugs-and-malfunctions-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Improved error message from <code class="inline">systools:make_script</code>, when .app parameters
contain duplicates. The parameters that will be checked are modules,
applications and registered.</p><p>Own Id: OTP-18300 Aux Id: PR-6389</p></li></ul><h2 id="sasl-4-2" class="section-heading"><a href="#sasl-4-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 4.2</span></h2><h3 id="fixed-bugs-and-malfunctions-2" class="section-heading"><a href="#fixed-bugs-and-malfunctions-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix systools:make* to recursively search for source code when doing a
<code class="inline">src_tests</code>.</p><p>Own Id: OTP-17752 Aux Id: PR-5302</p></li></ul><h3 id="improvements-and-new-features-2" class="section-heading"><a href="#improvements-and-new-features-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>An Erlang installation directory is now relocatable on the file system given
that the paths in the installation's <code class="inline">RELEASES</code> file are paths that are
relative to the installations root directory. The
<code class="inline">`release_handler:create_RELEASES/4</code> function can generate a <code class="inline">RELEASES</code>
file with relative paths if its <code class="inline">RootDir</code> parameter is set to the empty
string.</p><p>Own Id: OTP-17304</p></li></ul><h2 id="sasl-4-1-2" class="section-heading"><a href="#sasl-4-1-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 4.1.2</span></h2><h3 id="fixed-bugs-and-malfunctions-3" class="section-heading"><a href="#fixed-bugs-and-malfunctions-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix bug in systools:make_script/1 documentation.</p><p>Own Id: OTP-17854 Aux Id: PR-5596</p></li></ul><h2 id="sasl-4-1-1" class="section-heading"><a href="#sasl-4-1-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 4.1.1</span></h2><h3 id="fixed-bugs-and-malfunctions-4" class="section-heading"><a href="#fixed-bugs-and-malfunctions-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Make <code class="inline">release_handler</code> even more resilient against exiting processes during
upgrade. Same kind of bug fix as OTP-16744 released in sasl-4.0.1 (OTP 23.1).</p><p>Own Id: OTP-17748 Aux Id: GH-5387, PR-5389</p></li></ul><h2 id="sasl-4-1" class="section-heading"><a href="#sasl-4-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 4.1</span></h2><h3 id="improvements-and-new-features-3" class="section-heading"><a href="#improvements-and-new-features-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The experimental HiPE application has been removed, together with all related
functionality in other applications.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-16963</p></li><li><p>Recognize new key 'optional_applications' in application resource files.</p><p>Own Id: OTP-17189 Aux Id: PR-2675</p></li><li><p>Removed timestamps from files generated by <code class="inline">sasl</code> and <code class="inline">reltool</code> to enable
deterministic builds.</p><p>Own Id: OTP-17292 Aux Id: PR-4685, PR-4684</p></li></ul><h2 id="sasl-4-0-2" class="section-heading"><a href="#sasl-4-0-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 4.0.2</span></h2><h3 id="fixed-bugs-and-malfunctions-5" class="section-heading"><a href="#fixed-bugs-and-malfunctions-5" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix dependent application to be stopped after the primary application when
upgrading a release and the primary and dependent application is removed.</p><p>Example: In a release where app1 depends on app2 and we should remove app1 and
app2 using a release upgrade. When the release upgrade is done app1 should be
stopped and purged before app2 as otherwise app1 could start crashing when its
dependency is removed.</p><p>This bugfix changes the order of removal to be correct.</p><p>Own Id: OTP-17113 Aux Id: ERL-1410 PR-2882</p></li></ul><h2 id="sasl-4-0-1" class="section-heading"><a href="#sasl-4-0-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 4.0.1</span></h2><h3 id="fixed-bugs-and-malfunctions-6" class="section-heading"><a href="#fixed-bugs-and-malfunctions-6" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Make <code class="inline">release_handler</code> more resilient against exiting processes during
upgrade.</p><p>Own Id: OTP-16744 Aux Id: ERL-1247, PR-2666</p></li></ul><h2 id="sasl-4-0" class="section-heading"><a href="#sasl-4-0" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 4.0</span></h2><h3 id="improvements-and-new-features-4" class="section-heading"><a href="#improvements-and-new-features-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Remove usage and documentation of old requests of the I/O-protocol.</p><p>Own Id: OTP-15695</p></li><li><p><a href="systools.html#make_script/2"><code class="inline">systools:make_script/2</code></a> now accepts the name of the boot file to create, it
is not restricted to only <code class="inline">RelName.boot</code> or <code class="inline">start.boot</code>.</p><p><a href="systools.html#make_tar/2"><code class="inline">systools:make_tar/2</code></a> now accepts the option <code class="inline">extra_files</code> to add any extra
non release related files to the tar file.</p><p>Own Id: OTP-16561 Aux Id: PR-2420</p></li><li><p><a href="systools.html#make_tar/1"><code class="inline">systools:make_tar/1,2</code></a> now filters out any tools
from erts if included in the release tar ball. See the documentation for more
details.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-16603</p></li></ul><h2 id="sasl-3-4-2" class="section-heading"><a href="#sasl-3-4-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 3.4.2</span></h2><h3 id="improvements-and-new-features-5" class="section-heading"><a href="#improvements-and-new-features-5" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>A socket &quot;registry&quot; has been added making it possible to list current open
sockets.</p><p>Own Id: OTP-16309</p></li></ul><h2 id="sasl-3-4-1" class="section-heading"><a href="#sasl-3-4-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 3.4.1</span></h2><h3 id="improvements-and-new-features-6" class="section-heading"><a href="#improvements-and-new-features-6" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The net module has been split into 'net' (kernel) and prim_net (preloaded).</p><p>Own Id: OTP-15765</p></li></ul><h2 id="sasl-3-4" class="section-heading"><a href="#sasl-3-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 3.4</span></h2><h3 id="improvements-and-new-features-7" class="section-heading"><a href="#improvements-and-new-features-7" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Change the first module called by erts to be named erl_init instead of
otp_ring0. systools in sasl have been updated to reflect this change.</p><p>Own Id: OTP-15336 Aux Id: PR-1825</p></li></ul><h2 id="sasl-3-3" class="section-heading"><a href="#sasl-3-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 3.3</span></h2><h3 id="improvements-and-new-features-8" class="section-heading"><a href="#improvements-and-new-features-8" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>New <code class="inline">counters</code> and <code class="inline">atomics</code> modules supplies access to highly efficient
operations on mutable fixed word sized variables.</p><p>Own Id: OTP-13468</p></li></ul><h2 id="sasl-3-2-1" class="section-heading"><a href="#sasl-3-2-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 3.2.1</span></h2><h3 id="fixed-bugs-and-malfunctions-7" class="section-heading"><a href="#fixed-bugs-and-malfunctions-7" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Improved documentation.</p><p>Own Id: OTP-15190</p></li></ul><h2 id="sasl-3-2" class="section-heading"><a href="#sasl-3-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 3.2</span></h2><h3 id="improvements-and-new-features-9" class="section-heading"><a href="#improvements-and-new-features-9" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>A new logging API is added to Erlang/OTP, see the <a href="../../apps/kernel/logger.html"><code class="inline">logger</code></a> manual page, and
section <a href="../../apps/kernel/logger_chapter.html">Logging</a> in the Kernel User's Guide.</p><p>Calls to <code class="inline">error_logger</code> are automatically redirected to the new API, and
legacy error logger event handlers can still be used. It is, however,
recommended to use the Logger API directly when writing new code.</p><p>Notice the following potential incompatibilities:</p><ul><li><p>Kernel configuration parameters <code class="inline">error_logger</code> still works, but is overruled
if the default handler's output destination is configured with Kernel
configuration parameter <code class="inline">logger</code>.</p><p>In general, parameters for configuring error logger are overwritten by new
parameters for configuring Logger.</p></li><li><p>The concept of SASL error logging is deprecated, meaning that by default the
SASL application does not affect which log events are logged.</p><p>By default, supervisor reports and crash reports are logged by the default
Logger handler started by Kernel, and end up at the same destination
(terminal or file) as other standard log event from Erlang/OTP.</p><p>Progress reports are not logged by default, but can be enabled by setting
the primary log level to info, for example with the Kernel configuration
parameter <code class="inline">logger_level</code>.</p><p>To obtain backwards compatibility with the SASL error logging functionality
from earlier releases, set Kernel configuration parameter
<code class="inline">logger_sasl_compatible</code> to <code class="inline">true</code>. This prevents the default Logger handler
from logging any supervisor-, crash-, or progress reports. Instead, SASL
adds a separate Logger handler during application start, which takes care of
these log events. The SASL configuration parameters <code class="inline">sasl_error_logger</code> and
<code class="inline">sasl_errlog_type</code> specify the destination (terminal or file) and severity
level to log for these events.</p></li></ul><p>Since Logger is new in Erlang/OTP 21.0, we do reserve the right to introduce
changes to the Logger API and functionality in patches following this release.
These changes might or might not be backwards compatible with the initial
version.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-13295</p></li><li><p>The old and outdated &quot;Status Inspection&quot; tool (modules <code class="inline">si</code> and <code class="inline">si_sasl_sup</code>)
is removed.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-14469</p></li><li><p>When creating the release tar file, systools now includes sys.config.src if it
exists in the $ROOT/releases/&lt;vsn&gt;/ directory. This is to allow adjustments,
e.g. resolving environment variables, after unpacking the release, but before
installing it. This functionality requires a custom tool which uses
sys.config.src as input and creates a correct sys.config file.</p><p>Own Id: OTP-14950 Aux Id: PR-1560</p></li></ul><h2 id="sasl-3-1-2" class="section-heading"><a href="#sasl-3-1-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 3.1.2</span></h2><h3 id="fixed-bugs-and-malfunctions-8" class="section-heading"><a href="#fixed-bugs-and-malfunctions-8" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>When upgrading with instruction 'restart_new_emulator', the generated
temporary boot file used 'kernelProcess' statements from the old release
instead of the new release. This is now corrected.</p><p>This correction is needed for upgrade to OTP-21.</p><p>Own Id: OTP-15017</p></li></ul><h2 id="sasl-3-1-1" class="section-heading"><a href="#sasl-3-1-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 3.1.1</span></h2><h3 id="fixed-bugs-and-malfunctions-9" class="section-heading"><a href="#fixed-bugs-and-malfunctions-9" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>The Report Browser, rb, could earlier not handle reports that were not lists,
for example generated by <code class="inline">error_logger:info_report({some, tuple})</code>. This term
is allowed as input to error_logger, but rb would state that &quot;A report on bad
form was encountered&quot;. This is now corrected.</p><p>Own Id: OTP-13906 Aux Id: ERL-261</p></li></ul><h2 id="sasl-3-1" class="section-heading"><a href="#sasl-3-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 3.1</span></h2><h3 id="improvements-and-new-features-10" class="section-heading"><a href="#improvements-and-new-features-10" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>General Unicode improvements.</p><p>Own Id: OTP-14462</p></li><li><p>Files generated by <code class="inline">release_handler</code> and <code class="inline">reltool</code>, which might contain
Unicode characters, are now encoded as UTF-8 and written with format &quot;~tp&quot; or
&quot;~ts&quot;. If the file is to be read by <a href="../../apps/kernel/file.html#consult/1"><code class="inline">file:consult/1</code></a>, an encoding comment is
added.</p><p>Own Id: OTP-14463</p></li><li><p>The SASL error logger event handler, <code class="inline">sasl_report_file_h</code>, will now by default
open its log file with encoding UTF-8. This can be overridden when configuring
SASL, see configuration parameter <code class="inline">sasl_error_logger</code> in the SASL reference
manual.</p><p>Own Id: OTP-14618</p></li></ul><h2 id="sasl-3-0-4" class="section-heading"><a href="#sasl-3-0-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 3.0.4</span></h2><h3 id="fixed-bugs-and-malfunctions-10" class="section-heading"><a href="#fixed-bugs-and-malfunctions-10" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Documented default values for the 'mod' and 'start_phases' fields in .app
files were not allowed as actual values in a .app file. This is now corrected.</p><p>Own Id: OTP-14029</p></li></ul><h3 id="improvements-and-new-features-11" class="section-heading"><a href="#improvements-and-new-features-11" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Miscellaneous updates due to atoms containing arbitrary Unicode characters.</p><p>Own Id: OTP-14285</p></li></ul><h2 id="sasl-3-0-3" class="section-heading"><a href="#sasl-3-0-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 3.0.3</span></h2><h3 id="fixed-bugs-and-malfunctions-11" class="section-heading"><a href="#fixed-bugs-and-malfunctions-11" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>When both options 'warnings_as_errors' and 'silent' were given to
systools:make_script or systools:make_relup, no error reason would be returned
if warnings occurred. Instead only the atom 'error' was returned. This is now
corrected.</p><p>Options 'warnings_as_errors' and 'no_warn_sasl' are now also allowed for
systools:make_tar.</p><p>Own Id: OTP-14170</p></li></ul><h2 id="sasl-3-0-2" class="section-heading"><a href="#sasl-3-0-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 3.0.2</span></h2><h3 id="fixed-bugs-and-malfunctions-12" class="section-heading"><a href="#fixed-bugs-and-malfunctions-12" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p><a href="../../apps/kernel/code.html#add_pathsa/1"><code class="inline">code:add_pathsa/1</code></a> and command line option <code class="inline">-pa</code> both revert the given list
of directories when adding it at the beginning of the code path. This is now
documented.</p><p>Own Id: OTP-13920 Aux Id: ERL-267</p></li></ul><h2 id="sasl-3-0-1" class="section-heading"><a href="#sasl-3-0-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 3.0.1</span></h2><h3 id="improvements-and-new-features-12" class="section-heading"><a href="#improvements-and-new-features-12" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Improved dirty scheduler support. A purge of a module can now be performed
without having to wait for completion of all ongoing dirty NIF calls.</p><p>Note that when enabling support for dirty schedulers, a new purge strategy
will as of ERTS version 8.1 be enabled. This new strategy is not fully
backwards compatible with the strategy used by default. For more information
see the documentation of <a href="../../apps/erts/erlang.html#check_process_code/3"><code class="inline">erlang:check_process_code/3</code></a>.</p><p>Own Id: OTP-13808 Aux Id: OTP-13833</p></li><li><p>A new purge strategy has been introduced. The new strategy will by default be
disabled during the OTP 19 release, but will be the only strategy available as
of the OTP 20 release.</p><p>The new strategy is slightly incompatible with the strategy being used by
default in OTP 19. Using the default strategy, processes holding <code class="inline">fun</code>s that
refer to the module being purged either fail a soft purge, or will be killed
during a hard purge. The new strategy completely ignores <code class="inline">fun</code>s. If <code class="inline">fun</code>s
referring to the code being purged exist, and are used after a purge, an
exception will be raised upon usage. That is, the behavior will be exactly the
same as the case when a <code class="inline">fun</code> is received by a process after the purge.</p><p>The new strategy can optionally be enabled when building OTP during OTP 19,
and will automatically be enabled if the runtime system is built with support
for dirty schedulers.</p><p>For more information see the documentation of <a href="../../apps/erts/erlang.html#check_process_code/3"><code class="inline">erlang:check_process_code/3</code></a>.</p><p>Own Id: OTP-13833</p></li></ul><h2 id="sasl-3-0" class="section-heading"><a href="#sasl-3-0" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 3.0</span></h2><h3 id="improvements-and-new-features-13" class="section-heading"><a href="#improvements-and-new-features-13" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The module 'overload' is removed.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-13184</p></li></ul><h2 id="sasl-2-7" class="section-heading"><a href="#sasl-2-7" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 2.7</span></h2><h3 id="fixed-bugs-and-malfunctions-13" class="section-heading"><a href="#fixed-bugs-and-malfunctions-13" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>During upgrade, the release_handler collects a list of supervisor pids in
order to list all processes in the supervisor tree. If one of the supervisors
(legitimately) exits before release_handler can examine it, then
<a href="../../apps/stdlib/sys.html#get_status/1"><code class="inline">sys:get_status/1</code></a> would earlier be called with a dead pid, causing a
<code class="inline">'noproc'</code> error. This has been corrected.</p><p>Own Id: OTP-13291</p></li></ul><h3 id="improvements-and-new-features-14" class="section-heading"><a href="#improvements-and-new-features-14" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The module <code class="inline">overload</code> is deprecated and will be removed in OTP 19.</p><p>Own Id: OTP-13057</p></li><li><p>Improve implementation of supervisor child count, making it faster and more
accurate for dynamic processes of a <code class="inline">simple_one_for_one</code> supervisor.</p><p>Own Id: OTP-13290</p></li></ul><h2 id="sasl-2-6-1" class="section-heading"><a href="#sasl-2-6-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 2.6.1</span></h2><h3 id="improvements-and-new-features-15" class="section-heading"><a href="#improvements-and-new-features-15" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Documentation improvements</p><p>Own Id: OTP-13000</p></li></ul><h2 id="sasl-2-6" class="section-heading"><a href="#sasl-2-6" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 2.6</span></h2><h3 id="improvements-and-new-features-16" class="section-heading"><a href="#improvements-and-new-features-16" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>A mechanism for limiting the amount of text that the built-in error logger
events will produce has been introduced. It is useful for limiting both the
size of log files and the CPU time used to produce them.</p><p>This mechanism is experimental in the sense that it may be changed if it turns
out that it does not solve the problem it is supposed to solve. In that case,
there may be backward incompatible improvements to this mechanism.</p><p>See the documentation for the config parameter <code class="inline">error_logger_format_depth</code> in
the Kernel application for information about how to turn on this feature.</p><p>Own Id: OTP-12864</p></li></ul><h2 id="sasl-2-5" class="section-heading"><a href="#sasl-2-5" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 2.5</span></h2><h3 id="fixed-bugs-and-malfunctions-14" class="section-heading"><a href="#fixed-bugs-and-malfunctions-14" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>The undocumented upgrade instruction
<code class="inline">{remove_module,PrePurge,PostPurge,DepMods}</code> is removed. This instruction was
added for symmetry reasons in OTP R7B, but was never documented or tested.</p><p>The existing instruction <code class="inline">{add_module,Mod,DepMods}</code> is now documented, and the
complementing instruction <code class="inline">{delete_module,Mod,DepMods}</code> is added.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-11540</p></li></ul><h3 id="improvements-and-new-features-17" class="section-heading"><a href="#improvements-and-new-features-17" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The <code class="inline">sasl_error_logger</code> configuration parameter now supports the value
<code class="inline">{file,FileName,Modes}</code> which allows the log file to be opened in other mode
than write (for example, append mode).</p><p>Own Id: OTP-12778</p></li></ul><h2 id="sasl-2-4-1" class="section-heading"><a href="#sasl-2-4-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 2.4.1</span></h2><h3 id="fixed-bugs-and-malfunctions-15" class="section-heading"><a href="#fixed-bugs-and-malfunctions-15" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>The documentation erroneously specified that <a href="alarm_handler.html#clear_alarm/1"><code class="inline">alarm_handler:clear_alarm/1</code></a>
would clear <em>all</em> alarms with id <code class="inline">AlarmId</code>. This is now corrected according to
the implementation - only the latest received alarm with the given <code class="inline">AlarmId</code>
is cleared by the simple default handler.</p><p>Own Id: OTP-12025</p></li></ul><h2 id="sasl-2-4" class="section-heading"><a href="#sasl-2-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 2.4</span></h2><h3 id="fixed-bugs-and-malfunctions-16" class="section-heading"><a href="#fixed-bugs-and-malfunctions-16" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>The upgrade instruction 'restart_application' would earlier ignore the restart
type configured in the .rel file and always restart the application as
permanent. This is now changed, and the restart type from the .rel file is
used. If restart type is 'load', the application will only be loaded and not
started. If the restart type is 'none', the application will not be loaded nor
started, but all modules in the application will be loaded. (Thanks to Tobias
Schlager for reporting this problem)</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-11716</p></li><li><p>If <a href="systools.html#make_script/2"><code class="inline">systools:make_script/2</code></a> failed with reason <code class="inline">duplicate_modules</code>, and the
<code class="inline">silent</code> flag was not used, a crash with reason <code class="inline">function_clause</code> would occur
when <code class="inline">systools</code> tried to format the error message. This has been corrected.
(Thanks to Jean-Sébastien Pédron)</p><p>Own Id: OTP-11819</p></li></ul><h3 id="improvements-and-new-features-18" class="section-heading"><a href="#improvements-and-new-features-18" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Calls to erlang:open_port/2 with 'spawn' are updated to handle space in the
command path.</p><p>Own Id: OTP-10842</p></li><li><p>Some more documentation is added to explain the behavior when an upgrade
includes new versions of ERTS, Kernel, STDLIB or SASL.</p><p>Own Id: OTP-11717</p></li></ul><h2 id="sasl-2-3-4" class="section-heading"><a href="#sasl-2-3-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 2.3.4</span></h2><h3 id="fixed-bugs-and-malfunctions-17" class="section-heading"><a href="#fixed-bugs-and-malfunctions-17" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Don't try to add the log_mf_h handler in sasl unless configured to do so.
Thanks to Richard Carlsson.</p><p>Own Id: OTP-11464</p></li><li><p>Fix confusing documentation about error handlers in SASL.(Thanks to Richard
Carlsson)</p><p>Own Id: OTP-11507</p></li><li><p>A bug in the mechanism for upgrading core parts of Erlang/OTP (emulator,
kernel, stdlib, sasl) caused a switch of paths between stdlib and sasl in the
intermediate .script/.boot file. The bug was introduces along with this
upgrade mechanism in R15B. It has now been corrected. (Thanks to Tobias
Schlager)</p><p>Own Id: OTP-11529</p></li></ul><h3 id="improvements-and-new-features-19" class="section-heading"><a href="#improvements-and-new-features-19" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Added a boot file which skips loading the &quot;$HOME/.erlang&quot; file on startup.
Enable by starting erlang with &quot;erl -boot no_dot_erlang&quot;.</p><p>*<strong> INCOMPATIBILITY with false *</strong></p><p>Own Id: OTP-8479 Aux Id: seq11510</p></li></ul><h2 id="sasl-2-3-3" class="section-heading"><a href="#sasl-2-3-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 2.3.3</span></h2><h3 id="improvements-and-new-features-20" class="section-heading"><a href="#improvements-and-new-features-20" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Add Fd usage in rb logging. Thanks to Eric Pailleau.</p><p>Own Id: OTP-11252</p></li></ul><h2 id="sasl-2-3-2" class="section-heading"><a href="#sasl-2-3-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 2.3.2</span></h2><h3 id="fixed-bugs-and-malfunctions-18" class="section-heading"><a href="#fixed-bugs-and-malfunctions-18" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix receive support in erl_eval with a BEAM module. Thanks to Anthony Ramine.</p><p>Own Id: OTP-11137</p></li></ul><h2 id="sasl-2-3-1" class="section-heading"><a href="#sasl-2-3-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 2.3.1</span></h2><h3 id="improvements-and-new-features-21" class="section-heading"><a href="#improvements-and-new-features-21" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Some updates are made to systools and release_handler for handling of unicode.</p><p>Own Id: OTP-10782</p></li></ul><h2 id="sasl-2-3" class="section-heading"><a href="#sasl-2-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 2.3</span></h2><h3 id="fixed-bugs-and-malfunctions-19" class="section-heading"><a href="#fixed-bugs-and-malfunctions-19" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>release_handler_SUITE:otp_9864 deleted parts of the release_handler_SUITE_data
directory so the test suite could not be executed twice without
re-installation. This has been corrected.</p><p>Own Id: OTP-10394 Aux Id: kunagi-187 [98]</p></li><li><p>It is no longer possible to have <code class="inline">{Mod,Vsn}</code> in the 'modules' list in a .app
file.</p><p>This was earlier possible, although never documented in the .app file
reference manual. It was however visible in the documentation of
<code class="inline">application:load/[1,2]</code>, where the same term as in a .app file can be used as
the first argument.</p><p>The possibility has been removed since the <code class="inline">Vsn</code> part was never used.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-10417</p></li><li><p>release_handler:upgrade_script and release_handler:downgrade_script could not
read appup files with regexps. This has been corrected. (Thanks to Ulf Wiger)</p><p>Own Id: OTP-10463</p></li></ul><h3 id="improvements-and-new-features-22" class="section-heading"><a href="#improvements-and-new-features-22" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Where necessary a comment stating encoding has been added to Erlang files. The
comment is meant to be removed in Erlang/OTP R17B when UTF-8 becomes the
default encoding.</p><p>Own Id: OTP-10630</p></li></ul><h2 id="sasl-2-2-1" class="section-heading"><a href="#sasl-2-2-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 2.2.1</span></h2><h3 id="fixed-bugs-and-malfunctions-20" class="section-heading"><a href="#fixed-bugs-and-malfunctions-20" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>If sys.config existed, but was not readable or parseable, this would not be
detected until after the upgrade and at the next node restart. The possibility
for this to happen is now reduced by adding a check to systools:make_tar which
fails the creation of the tar file if sys.config or relup does not have
reasonable contents. Note that there are no detailed checks, only parsing and
erlang term format check.</p><p>Own Id: OTP-9539</p></li><li><p>systools:make_script would allow {kernel,Vsn,load} in the .rel file, causing
a .boot file which only loaded kernel and did not start it. This has been
corrected. Only start type 'permanent', which is the default, is now allowed
for kernel and stdlib.</p><p>Own Id: OTP-9652</p></li><li><p>release_handler:remove_release/1 now handles symlinked files properly</p><p>Own Id: OTP-9864</p></li><li><p>If stdlib was stated with a start type different from <code class="inline">permanent</code> in a .rel
file, systools would incorrectly say that sasl had faulty start type. This has
been corrected.</p><p>Own Id: OTP-9888</p></li><li><p>Sasl documentation earlier said that the InclApps parameters in a .rel file
defaults to the empty list. This is not correct. It defaults to the same value
as specified in the .app file. This has been corrected.</p><p>Own Id: OTP-9980</p></li><li><p>Applications that are listed in <code class="inline">{applications,Apps}</code> in the .app file were
not sorted correctly by <code class="inline">systools:make_script/1,2</code>. They got the reverse order
of how they were listed in the .app file. This is corrected so they are now
sorted (internally between each other) in the same order as they are listed in
the .rel file (i.e. the order they are listed in the .app file does no longer
matter).</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-9984</p></li><li><p>Documentation of .appup files now also states that <code class="inline">UpFromVsn</code> and <code class="inline">DownToVsn</code>
can be specified as regular expressions in order to avoid duplicated upgrade
instructions.</p><p>Own Id: OTP-10001</p></li><li><p>Reltool would sometimes generate a .app file containing
<code class="inline">{start_phases,undefined}</code>, which would cause an exception in systools at
parse time. This has been corrected so reltool now omits the <code class="inline">start_phases</code>
entry if the value is <code class="inline">undefined</code>. (Thanks to Juan Jose Comellas)</p><p>In order to align with reltool, sasl will also omit <code class="inline">start_phases</code> entries
with value <code class="inline">undefined</code> in .script files.</p><p>Own Id: OTP-10003</p></li></ul><h2 id="sasl-2-2" class="section-heading"><a href="#sasl-2-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 2.2</span></h2><h3 id="fixed-bugs-and-malfunctions-21" class="section-heading"><a href="#fixed-bugs-and-malfunctions-21" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix the mechanism for upgrading emulator.</p><p>The appup files for kernel, stdlib and sasl do now recognize two major
releases back and include a 'restart_new_emulator' instruction.</p><p>Appup files can include regular expressions for matching earlier releases.</p><p>The mechanism for upgrading the emulator is changed so 'restart_new_emulator'
will be the first instruction executed. The rest of the upgrade instruction
will be executed after the emulator restart.</p><p>A new upgrade instruction 'restart_emulator' is added for the case where the
emulator shall be restarted after all other upgrade instructions.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-9438</p></li><li><p>Add release_handler:which_releases/1</p><p>This is an extension to which_releases that allows a user to specify the
status of the releases they wish to be returned. For instance it allows for
quickly determining which release is 'permanent' without the need of parsing
the entire release list. (Thanks to Joe Williams)</p><p>Own Id: OTP-9717</p></li><li><p>Add copy of rel file in releases/Vsn in release tar file</p><p>systool:make_tar stores the rel file in the releases directory. When unpacking
with release_handler:unpack_release, the file is automatically moved to
releases/Vsn/. If, however, the tar file is unpacked manually, the rel file
might not be moved, and the next release unpacked might overwrite the rel
file. To overcome this, systools:make_tar now stores a copy of the rel file in
releases/Vsn/ directly and it is not longer necessary to move the file after
unpacking.</p><p>The reason for keeping the file in the releases directory also is that is
needs to be extracted separately before the release version (Vsn) is known.</p><p>Own Id: OTP-9746</p></li></ul><h2 id="sasl-2-1-10" class="section-heading"><a href="#sasl-2-1-10" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 2.1.10</span></h2><h3 id="fixed-bugs-and-malfunctions-22" class="section-heading"><a href="#fixed-bugs-and-malfunctions-22" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>The release_handler functionality on windows services was broken. This has
been corrected.</p><p>Own Id: OTP-9306</p></li><li><p>If a new version of an application did not include any erlang module changes,
the code path of the application was not updated by the release_handler unless
a 'load_object_code' instruction was added for the application. This would be
a problem if e.g. only some files in the priv dir were changed since calls to
code:lib_dir or code:priv_dir would then point to the old location of the
application. This has been corrected - now code:replace_path/2 will be called
for all applications that are changed (i.e. when the application's vsn is
changed in the .rel file).</p><p>Own Id: OTP-9402</p></li><li><p>The appup instruction 'delete_module' would cause a crash during upgrade if
the module to be deleted was not loaded. This has been corrected.</p><p>Own Id: OTP-9417</p></li><li><p>If a path was given as ONLY 'ebin' and not for example './ebin', then
systools:make_tar would fail with a <code class="inline">function_clause</code> exception in
filename:join/1. This has been corrected. (Thanks to Nikola Skoric for
reporting).</p><p>Own Id: OTP-9507</p></li><li><p>Implement or fix -Werror option</p><p>If -Werror is enabled and there are warnings no output file is written. Also
make sure that error/warning reporting is consistent. (Thanks to Tuncer Ayaz)</p><p>Own Id: OTP-9536</p></li><li><p>Improved error information for timeouts during
release_handler:install_release.</p><p>This patch addresses two cases where a timeout will occur during upgrade. 1)
if a supervisor is suspended (call to get children from supervisor will
hang) 2) if the child spec for a supervisor incorrectly states that it is a
worker with a dynamic set of modules (call to get modules from gen_event will
hang)</p><p>An error report will now be printed, and the return value of
release_handler:install_release will indicate what happened. (Thanks to joe
williams)</p><p>Own Id: OTP-9546</p></li></ul><h3 id="improvements-and-new-features-23" class="section-heading"><a href="#improvements-and-new-features-23" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p><code class="inline">release_handler:install_release</code> could be very slow when there are many
processes in the system. Some optimization work has been done both in erts and
in the release handler in order to improve this.</p><p>A new option, <code class="inline">purge</code>, is added to <code class="inline">release_handler:check_install_release</code>
which can be called first in order to speed up the execution of
<code class="inline">release_handler:install_release</code>.</p><p>Own Id: OTP-9395</p></li></ul><h2 id="sasl-2-1-9-4" class="section-heading"><a href="#sasl-2-1-9-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 2.1.9.4</span></h2><h3 id="fixed-bugs-and-malfunctions-23" class="section-heading"><a href="#fixed-bugs-and-malfunctions-23" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Remove traces of release_handler reading from filesystem when it has Masters
list</p><p>There are a couple of places in release_handler and release_handler_1 that
assumed it has a disk to read from, which in the case of an erl_prim_loader
Loader other than efile is not necessarily true</p><p>Add check_paths/2 to do the equivalent of check_path/1 for when there is a
Masters list</p><p>Change get_vsn to no longer get sent File paths but instead use the Bin since
beam_lib:version being sent a file path causes it to read the local file
system</p><p>Add get_current_vsn/1 as an equivalent to beam_lib:version(code:which(Mod)),
but using erl_prim_loader:get_file instead of reading from local file system</p><p>(Thanks to Steven Gravell)</p><p>Own Id: OTP-9142</p></li><li><p>rb:stop did sometimes return {error,running}. This came from
supervisor:delete_child and happened when the rb_server has not yet terminated
when this function was called. Instead of having a separate gen_server call to
rb_server for stopping the process, supervisor:terminate_child is now called.
This is a synchronous function - i.e. it waits for the process to actually
terminate before it returns.</p><p>A file descriptor leak in rb:scan_files is corrected. The index file was never
closed after reading.</p><p>A mismatch in the behavior of rb:filter, when filter included 'no', is
corrected. Such filters will now return <em>all</em> non-matching reports, not only
the 'proplist' reports.</p><p>Own Id: OTP-9149</p></li><li><p>Start and end date for rb:filter/2 was specified as {{Y-M-D},...} in the
help text instead of {{Y,M,D},...}. This has been corrected.</p><p>Own Id: OTP-9166</p></li><li><p>If some, but not all, of the sasl environment variables related to the
log_mf_h error handler were missing sasl would successfully start but silently
skip starting log_mf_h. This is corrected so sasl startup will now fail if one
or two of the three variables are given. If none of the variables are given,
sasl will start as before without starting log_mf_h.</p><p>Own Id: OTP-9185</p></li></ul><h3 id="improvements-and-new-features-24" class="section-heading"><a href="#improvements-and-new-features-24" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Change default behaviour to not check src code when creating release</p><p>Add new option <code class="inline">src_tests</code> to systools:make_script and systools:make_tar. The
old option <code class="inline">no_module_tests</code> is now ignored as this is the default behaviour.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-9146 Aux Id: seq11803</p></li></ul><h2 id="sasl-2-1-9-3" class="section-heading"><a href="#sasl-2-1-9-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 2.1.9.3</span></h2><h3 id="improvements-and-new-features-25" class="section-heading"><a href="#improvements-and-new-features-25" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Honor start type in .rel files when building relup files</p><p>Previously, relup file always included an application:start(Application,
permanent) apply instruction for every application that appear in the
UpTo/DowFrom release file, whatever their start type in the release file.</p><p>The new implementation fixes this bug by honoring the start type according to
the rel(5) format. If the start type is none, no apply line is included in the
relup. If the start type is load, the relup includes instruction to only load
the application. Otherwise, the relup includes an instruction to start the
application to the according type.</p><p>The fix is implemented by adding a new parameter to the add_application high
level appup instruction. This new parameter is documented in appup(5).</p><p>Own Id: OTP-9097</p></li></ul><h2 id="sasl-2-1-9-2" class="section-heading"><a href="#sasl-2-1-9-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 2.1.9.2</span></h2><h3 id="fixed-bugs-and-malfunctions-24" class="section-heading"><a href="#fixed-bugs-and-malfunctions-24" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>In R13B04 sys:get_status was modified to invoke format_status/2 in the
callback module if the module exports that function. This resulted in a change
to the term returned from calling sys:get_status on the supervisor module,
since supervisor is a gen_server and gen_server exports format_status. The
sasl release_handler_1 module had a dependency on the pre-R13B04 term returned
by sys:get_status when invoked on a supervisor, so the R13B04 change broke
that dependency.</p><p>This problem has been fixed by change release_handler_1 to handle both the
pre-R13B04 and R13B04 terms that sys:get_status can return from a supervisor.</p><p>Own Id: OTP-8619 Aux Id: seq11570</p></li></ul><h2 id="sasl-2-1-9-1" class="section-heading"><a href="#sasl-2-1-9-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 2.1.9.1</span></h2><h3 id="improvements-and-new-features-26" class="section-heading"><a href="#improvements-and-new-features-26" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Use an infinity timeout in all calls to <code class="inline">gen_server:call()</code> in the SASL
application.</p><p>Own Id: OTP-8506 Aux Id: seq11509</p></li></ul><h2 id="sasl-2-1-9" class="section-heading"><a href="#sasl-2-1-9" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 2.1.9</span></h2><h3 id="improvements-and-new-features-27" class="section-heading"><a href="#improvements-and-new-features-27" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The <code class="inline">re:grep/1</code> function now uses the '<code class="inline">re</code>' module instead of the deprecated
'<code class="inline">regexp</code>' module. There are new functions <a href="rb.html#filter/1"><code class="inline">rb:filter/1</code></a> and <a href="rb.html#filter/2"><code class="inline">rb:filter/2</code></a> for
easier filtering of reports. (Thanks to Alvaro Videla.)</p><p>Own Id: OTP-8443</p></li><li><p>There is new function <code class="inline">sasl_report:format_report/3</code> that works like the
existing <code class="inline">sasl_report:write_report/3</code> function except that it returns a
formatted string. Note that there is currently no documentation for the
<code class="inline">sasl_report</code> module. (Thanks to Jay Nelson.)</p><p>Own Id: OTP-8445</p></li><li><p>Cleanups suggested by tidier and modernization of types and specs.</p><p>Own Id: OTP-8455</p></li></ul><h2 id="sasl-2-1-8" class="section-heading"><a href="#sasl-2-1-8" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 2.1.8</span></h2><h3 id="improvements-and-new-features-28" class="section-heading"><a href="#improvements-and-new-features-28" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The documentation is now built with open source tools (xsltproc and fop) that
exists on most platforms. One visible change is that the frames are removed.</p><p>Own Id: OTP-8201</p></li></ul><h2 id="sasl-2-1-7" class="section-heading"><a href="#sasl-2-1-7" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 2.1.7</span></h2><h3 id="improvements-and-new-features-29" class="section-heading"><a href="#improvements-and-new-features-29" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The Windows utility Erlsrv, run in interactive mode now accepts options for
registering internal service name and description field of Windows registry
database.</p><p>Own Id: OTP-8132</p></li></ul><h2 id="sasl-2-1-6" class="section-heading"><a href="#sasl-2-1-6" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 2.1.6</span></h2><h3 id="fixed-bugs-and-malfunctions-25" class="section-heading"><a href="#fixed-bugs-and-malfunctions-25" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>When using the SASL application configuration parameter <code class="inline">masters</code> the error
tuple <code class="inline">{error,{no_such_file,{Master,FileName}}}</code> was sometimes returned even
though the file <code class="inline">FileName</code> existed.</p><p>Own Id: OTP-7667</p></li></ul><h3 id="improvements-and-new-features-30" class="section-heading"><a href="#improvements-and-new-features-30" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Missing preloaded modules added</p><p>Own Id: OTP-7820</p></li></ul><h2 id="sasl-2-1-5-4" class="section-heading"><a href="#sasl-2-1-5-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 2.1.5.4</span></h2><h3 id="improvements-and-new-features-31" class="section-heading"><a href="#improvements-and-new-features-31" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>A Dialyzer warning was eliminated</p><p>Own Id: OTP-7635</p></li></ul><h2 id="sasl-2-1-5-3" class="section-heading"><a href="#sasl-2-1-5-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 2.1.5.3</span></h2><h3 id="improvements-and-new-features-32" class="section-heading"><a href="#improvements-and-new-features-32" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Minor changes.</p><p>Own Id: OTP-7388</p></li></ul><h2 id="sasl-2-1-5-2" class="section-heading"><a href="#sasl-2-1-5-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 2.1.5.2</span></h2><h3 id="improvements-and-new-features-33" class="section-heading"><a href="#improvements-and-new-features-33" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Minor updates.</p><p>Own Id: OTP-6998</p></li></ul><h2 id="sasl-2-1-5-1" class="section-heading"><a href="#sasl-2-1-5-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 2.1.5.1</span></h2><h3 id="improvements-and-new-features-34" class="section-heading"><a href="#improvements-and-new-features-34" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Minor Makefile changes.</p><p>Own Id: OTP-6689</p></li><li><p>Obsolete guard tests (such as list()) have been replaced with the modern guard
tests (such as is_list()).</p><p>Own Id: OTP-6725</p></li></ul><h2 id="sasl-2-1-5" class="section-heading"><a href="#sasl-2-1-5" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 2.1.5</span></h2><h3 id="fixed-bugs-and-malfunctions-26" class="section-heading"><a href="#fixed-bugs-and-malfunctions-26" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Removed some dead code from <code class="inline">erlsrv:get_service/2</code>,
<code class="inline">release_handler:do_write_file/2</code>, <code class="inline">systools_relup:foreach_baserel_up/7</code> and
<code class="inline">systools_relup:foreach_baserel_dn/7</code>.</p><p>Own Id: OTP-6499</p></li></ul><h2 id="sasl-2-1-4" class="section-heading"><a href="#sasl-2-1-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 2.1.4</span></h2><h3 id="improvements-and-new-features-35" class="section-heading"><a href="#improvements-and-new-features-35" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Added an option <code class="inline">{outdir,Dir}</code> to the functions in <code class="inline">systools</code>, making it
possible to specify in which directory a boot script, relup file or release
package file should be placed.</p><p>Also, when using <a href="systools.html#make_tar/2"><code class="inline">systools:make_tar/2</code></a> to create a release package file, the
boot script, relup file and <code class="inline">sys.config</code> are now searched for also in the
current working directory and any directory specified by the <code class="inline">path</code> option,
not only in the directory of the <code class="inline">.rel</code> file.</p><p>As part of the work some minor bugs have been corrected:</p><ul><li><code class="inline">systools:make_script/1,2</code> now returns <code class="inline">error</code> if the <code class="inline">.script</code> and/or
<code class="inline">.boot</code> file could not be opened for writing, not <code class="inline">ok</code>.</li><li><code class="inline">systools:make_tar/1,2</code> can now handle a <code class="inline">RelName</code> argument which includes a
path. Previously this would cause the <code class="inline">.rel</code> file to end up in the wrong
directory in the resulting tar file.</li><li>A documentation error for <code class="inline">systools:make_tar/1,2</code>: The <code class="inline">.rel</code> file is placed
in the <code class="inline">releases</code> directory in the tar file, not <code class="inline">releases/RelVsn</code>.</li></ul><p>Own Id: OTP-6226</p></li></ul><h2 id="sasl-2-1-3" class="section-heading"><a href="#sasl-2-1-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 2.1.3</span></h2><h3 id="fixed-bugs-and-malfunctions-27" class="section-heading"><a href="#fixed-bugs-and-malfunctions-27" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p><a href="release_handler.html#upgrade_app/2"><code class="inline">release_handler:upgrade_app/2</code></a> and <code class="inline">release_handler:downgrade_app/2,3</code> --
used for testing application upgrade and downgrade according to the <code class="inline">.appup</code>
file -- now update application configuration parameters correctly. (Thanks to
Serge Aleynikov)</p><p>Own Id: OTP-6162</p></li></ul><h2 id="sasl-2-1-2" class="section-heading"><a href="#sasl-2-1-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 2.1.2</span></h2><h3 id="fixed-bugs-and-malfunctions-28" class="section-heading"><a href="#fixed-bugs-and-malfunctions-28" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fixed some minor bugs in <code class="inline">release_handler</code> found by Dialyzer.</p><p>Own Id: OTP-6039</p></li></ul><h2 id="sasl-2-1-1" class="section-heading"><a href="#sasl-2-1-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 2.1.1</span></h2><h3 id="improvements-and-new-features-36" class="section-heading"><a href="#improvements-and-new-features-36" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Added a number of functions to <code class="inline">release_handler</code> which makes it possible to
test upgrade and downgrade of applications according to an <code class="inline">.appup</code> file &quot;on
the fly&quot;:<br/>- <code class="inline">upgrade_app/2</code><br/>- <code class="inline">upgrade_script/2</code><br/>- <code class="inline">downgrade_app/2,3</code><br/>- <code class="inline">downgrade_script/3</code><br/>- <code class="inline">eval_appup_script/4</code></p><p>Own Id: OTP-5858</p></li></ul><h2 id="sasl-2-1" class="section-heading"><a href="#sasl-2-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 2.1</span></h2><h3 id="improvements-and-new-features-37" class="section-heading"><a href="#improvements-and-new-features-37" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>A new option <code class="inline">{update_paths,Bool}</code> has been added for
<a href="release_handler.html#install_release/2"><code class="inline">release_handler:install_release/2</code></a>. It indicates if all application code
paths should be updated (<code class="inline">Bool==true</code>), or if only code paths for modified
applications should be updated (<code class="inline">Bool==false</code>, default).</p><p><a href="release_handler.html#set_unpacked/2"><code class="inline">release_handler:set_unpacked/2</code></a> now returns an error tuple if a specified
application directory does not exist.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-5761</p></li></ul><h2 id="sasl-2-0-1" class="section-heading"><a href="#sasl-2-0-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">SASL 2.0.1</span></h2><h3 id="improvements-and-new-features-38" class="section-heading"><a href="#improvements-and-new-features-38" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>A bug that made it impossible to call <code class="inline">rb:show(N)</code> (<code class="inline">N</code> being an integer)
twice without getting an error has been fixed.</p><p>Own Id: OTP-5287</p></li></ul>

</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

      <a href="sasl_app.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
SASL Application
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="sasl_intro.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
Introduction
        </span>
      </a>

  </div>
</div>
    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="sasl.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.1) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>
<p>Copyright © 1996-2025 <a href="https://www.ericsson.com">Ericsson AB</a></p>
    </footer>
  </div>
</main>
</div>
  <script defer src="https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.min.js"></script>
  <script>
  let initialized = false;

  window.addEventListener("exdoc:loaded", () => {
      if (!initialized) {
      mermaid.initialize({
          startOnLoad: false,
          theme: document.body.className.includes("dark") ? "dark" : "default"
      });
      initialized = true;
      }

      let id = 0;
      for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
          graphEl.innerHTML = svg;
          bindFunctions?.(graphEl);
          preEl.insertAdjacentElement("afterend", graphEl);
          preEl.remove();
      });
      }
  });
  </script>

  </body>
</html>
