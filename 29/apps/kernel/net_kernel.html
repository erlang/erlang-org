<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.1">
    <meta name="project" content="kernel v10.3.1-rc0">


<meta name="exdoc:full-text-search-url" content="/doc/search.html?v=29&q=">
<meta name="major-vsn" content="29">
<link rel="canonical" href="https://www.erlang.org/docs/29/apps/kernel/net_kernel.html" />
    <title>net_kernel â€” kernel v10.3.1-rc0</title>

    <link rel="stylesheet" href="dist/html-erlang-ZK43ZOAC.css" />

    <script defer src="dist/sidebar_items-6023DCBD.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-DPJLHKSM.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="../../index.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="kernel" />
        </a>

      <div>
        <a href="../../index.html" class="sidebar-projectName" translate="no">
kernel
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v10.3.1-rc0
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-module" id="main" data-type="modules">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of kernel</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>
      <span translate="no">net_kernel</span> 
      <small class="app-vsn" translate="no">(kernel v10.3.1-rc0)</small>

    </h1>

      <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/net_kernel.erl#L22" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


    <section id="moduledoc">
<p>Erlang networking kernel.</p><p>The net kernel is a system process, registered as <code class="inline">net_kernel</code>, which must be
operational for distributed Erlang to work. The purpose of this process is to
implement parts of the BIFs <a href="../../apps/erts/erlang.html#spawn/4"><code class="inline">spawn/4</code></a> and
<a href="../../apps/erts/erlang.html#spawn_link/4"><code class="inline">spawn_link/4</code></a>, and to provide monitoring of the network.</p><p>An Erlang node is started using command-line flag <code class="inline">-name</code> or <code class="inline">-sname</code>:</p><pre><code class="text">$ erl -sname foobar</code></pre><p>It is also possible to call <a href="#start/2"><code class="inline">net_kernel:start(foobar, #{})</code></a>
directly from the normal Erlang shell prompt:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="nc">net_kernel</span><span class="p">:</span><span class="nf">start</span><span class="p" data-group-id="0301032310-1">(</span><span class="ss">foobar</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0301032310-2">#{</span><span class="ss">name_domain</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ss">shortnames</span><span class="p" data-group-id="0301032310-2">}</span><span class="p" data-group-id="0301032310-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="0301032310-3">{</span><span class="ss">ok</span><span class="p">,</span><span class="o">&lt;</span><span class="mf">0.64</span><span class="p">.</span><span class="mi">0</span><span class="o">&gt;</span><span class="p" data-group-id="0301032310-3">}</span><span class="w">
</span><span class="p" data-group-id="0301032310-4">(</span><span class="ss">foobar@gringotts</span><span class="p" data-group-id="0301032310-4">)</span><span class="mi">2</span><span class="o">&gt;</span></code></pre><p>If the node is started with command-line flag <code class="inline">-sname</code>, the node name is
<code class="inline">foobar@Host</code>, where <code class="inline">Host</code> is the short name of the host (not the fully
qualified domain name). If started with flag <code class="inline">-name</code>, the node name is
<code class="inline">foobar@Host</code>, where <code class="inline">Host</code> is the fully qualified domain name. For more
information, see <a href="../../apps/erts/erl_cmd.html"><code class="inline">erl</code></a>.</p><p>Normally, connections are established automatically when another node is
referenced. This functionality can be disabled by setting Kernel configuration
parameter <code class="inline">dist_auto_connect</code> to <code class="inline">never</code>, see <a href="kernel_app.html"><code class="inline">kernel(6)</code></a>. In
this case, connections must be established explicitly by calling
<a href="#connect_node/1"><code class="inline">connect_node/1</code></a>.</p><p>Which nodes that are allowed to communicate with each other is handled by the
magic cookie system, see section <a href="../../system/distributed.html">Distributed Erlang</a>
in the Erlang Reference Manual.</p><section role="note" class="admonition warning"><h4 class="admonition-title warning">Warning</h4><p>Starting a distributed node without also specifying
<a href="../../apps/erts/erl_cmd.html#proto_dist"><code class="inline">-proto_dist inet_tls</code></a> will expose the node
to attacks that may give the attacker complete access to the node and in
extension the cluster. When using un-secure distributed nodes, make sure that
the network is configured to keep potential attackers out. See the
<a href="../../apps/ssl/ssl_distribution.html">Using SSL for Erlang Distribution</a> User's Guide
for details on how to setup a secure distributed node.</p></section>
    </section>

</div>

  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-types summary">
  <h2>
    <a href="#types">Types</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:connection_state/0" data-no-tooltip="" translate="no">connection_state()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:connection_type/0" data-no-tooltip="" translate="no">connection_type()</a>

      </div>

    </div>

</div>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#allow/1" data-no-tooltip="" translate="no">allow(Nodes)</a>

      </div>

        <div class="summary-synopsis"><p>Permits access to the specified set of nodes.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#allowed/0" data-no-tooltip="" translate="no">allowed()</a>

      </div>

        <div class="summary-synopsis"><p>Returns a list of nodes that are explicitly allowed to connect to the node by calling
<a><code class="inline">allow/1</code></a>. If empty list is returned, it means that any node using the
same cookie will be able to connect.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#connect_node/1" data-no-tooltip="" translate="no">connect_node(Node)</a>

      </div>

        <div class="summary-synopsis"><p>Establishes a connection to <code class="inline">Node</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_net_ticktime/0" data-no-tooltip="" translate="no">get_net_ticktime()</a>

      </div>

        <div class="summary-synopsis"><p>Returns currently used net tick time in seconds.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#get_state/0" data-no-tooltip="" translate="no">get_state()</a>

      </div>

        <div class="summary-synopsis"><p>Get the current state of the distribution for the local node.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#getopts/2" data-no-tooltip="" translate="no">getopts(Node, Options)</a>

      </div>

        <div class="summary-synopsis"><p>Get one or more options for the distribution socket connected to <code class="inline">Node</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#monitor_nodes/1" data-no-tooltip="" translate="no">monitor_nodes(Flag)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a><code class="inline">monitor_nodes(Flag, [])</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#monitor_nodes/2" data-no-tooltip="" translate="no">monitor_nodes(Flag, Options)</a>

      </div>

        <div class="summary-synopsis"><p>The calling process subscribes or unsubscribes to node status change messages. A
<code class="inline">nodeup</code> message is delivered to all subscribing processes when a new node is
connected, and a <code class="inline">nodedown</code> message is delivered when a node is disconnected.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#set_net_ticktime/1" data-no-tooltip="" translate="no">set_net_ticktime(NetTicktime)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a><code class="inline">set_net_ticktime(NetTicktime, 60)</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#set_net_ticktime/2" data-no-tooltip="" translate="no">set_net_ticktime(NetTicktime, TransitionPeriod)</a>

      </div>

        <div class="summary-synopsis"><p>Sets <code class="inline">net_ticktime</code> (see <a><code class="inline">kernel(6)</code></a>) to <code class="inline">NetTicktime</code> seconds.
<code class="inline">TransitionPeriod</code> defaults to <code class="inline">60</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#setopts/2" data-no-tooltip="" translate="no">setopts(Node, Options)</a>

      </div>

        <div class="summary-synopsis"><p>Set one or more options for distribution sockets. Argument <code class="inline">Node</code> can be either
one node name or the atom <code class="inline">new</code> to affect the distribution sockets of all future
connected nodes.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#start/1" data-no-tooltip="" translate="no">start(Options)</a>

          <span class="deprecated" title="Use start/2 instead">deprecated</span>

      </div>

        <div class="summary-synopsis"><p>Turns a non-distributed node into a distributed node by starting <code class="inline">net_kernel</code>
and other necessary processes.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#start/2" data-no-tooltip="" translate="no">start(Name, Options)</a>

      </div>

        <div class="summary-synopsis"><p>Turns a non-distributed node into a distributed node by starting <code class="inline">net_kernel</code>
and other necessary processes.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#stop/0" data-no-tooltip="" translate="no">stop()</a>

      </div>

        <div class="summary-synopsis"><p>Turns a distributed node into a non-distributed node.</p></div>

    </div>

</div>

  </section>


  <section id="types" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types</span>
    </h1>
    <div class="types-list">
<section class="detail" id="t:connection_state/0">

  <div class="detail-header">
    <a href="#t:connection_state/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">connection_state()</h1>

        <span class="note">(not exported)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/net_kernel.erl#L183" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> connection_state() :: pending | up | up_pending.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:connection_type/0">

  <div class="detail-header">
    <a href="#t:connection_type/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">connection_type()</h1>

        <span class="note">(not exported)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/net_kernel.erl#L184" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> connection_type() :: normal | hidden.</pre>

      </div>


  </section>
</section>

    </div>
  </section>

  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Functions</span>
    </h1>
    <div class="functions-list">
<section class="detail" id="allow/1">

  <div class="detail-header">
    <a href="#allow/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">allow(Nodes)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/net_kernel.erl#L265" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> allow(Nodes) -> ok | error | ignored when Nodes :: [<a href="../../apps/erts/erlang.html#t:node/0">node</a>()].</pre>

      </div>

<p>Permits access to the specified set of nodes.</p><p>Before the first call to <a href="#allow/1"><code class="inline">allow/1</code></a>, any node with the correct
cookie can be connected. When <a href="#allow/1"><code class="inline">allow/1</code></a> is called, a list of
allowed nodes is established. Any access attempts made from (or to) nodes not in
that list will be rejected.</p><p>Subsequent calls to <a href="#allow/1"><code class="inline">allow/1</code></a> will add the specified nodes to the
list of allowed nodes. It is not possible to remove nodes from the list.</p><p>Disallowing an already connected node will not cause it to be disconnected. It
will, however, prevent any future reconnection attempts.</p><p>Passing <code class="inline">Nodes</code> as an empty list has never any affect at all.</p><p>Returns <code class="inline">error</code> if any element in <code class="inline">Nodes</code> is not an atom, and <code class="inline">ignored</code> if the
local node is not alive.</p>
  </section>
</section>
<section class="detail" id="allowed/0">

  <div class="detail-header">
    <a href="#allowed/0" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">allowed()</h1>

        <span class="note">(since OTP 28.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/net_kernel.erl#L275" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> allowed() -> {ok, Nodes} | ignored when Nodes :: [<a href="../../apps/erts/erlang.html#t:node/0">node</a>()].</pre>

      </div>

<p>Returns a list of nodes that are explicitly allowed to connect to the node by calling
<a href="#allow/1"><code class="inline">allow/1</code></a>. If empty list is returned, it means that any node using the
same cookie will be able to connect.</p>
  </section>
</section>
<section class="detail" id="connect_node/1">

  <div class="detail-header">
    <a href="#connect_node/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">connect_node(Node)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/net_kernel.erl#L718" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> connect_node(Node) -> <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>() | ignored when Node :: <a href="../../apps/erts/erlang.html#t:node/0">node</a>().</pre>

      </div>

<p>Establishes a connection to <code class="inline">Node</code>.</p><p>Returns <code class="inline">true</code> if a connection was established or was already established or if
<code class="inline">Node</code> is the local node itself. Returns <code class="inline">false</code> if the connection attempt failed,
and <code class="inline">ignored</code> if the local node is not alive.</p>
  </section>
</section>
<section class="detail" id="get_net_ticktime/0">

  <div class="detail-header">
    <a href="#get_net_ticktime/0" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_net_ticktime()</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/net_kernel.erl#L464" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> get_net_ticktime() -> Res
                          when
                              Res :: NetTicktime | {ongoing_change_to, NetTicktime} | ignored,
                              NetTicktime :: <a href="../../apps/erts/erlang.html#t:pos_integer/0">pos_integer</a>().</pre>

      </div>

<p>Returns currently used net tick time in seconds.</p><p>For more information see the <a href="kernel_app.html#net_ticktime"><code class="inline">net_ticktime</code></a>
<code class="inline">Kernel</code> parameter.</p><p>Defined return values (<code class="inline">Res</code>):</p><ul><li><p><strong><code class="inline">NetTicktime</code></strong> - <code class="inline">net_ticktime</code> is <code class="inline">NetTicktime</code> seconds.</p></li><li><p><strong><code class="inline">{ongoing_change_to, NetTicktime}</code></strong> - <code class="inline">net_kernel</code> is currently changing
<code class="inline">net_ticktime</code> to <code class="inline">NetTicktime</code> seconds.</p></li><li><p><strong><code class="inline">ignored</code></strong> - The local node is not alive.</p></li></ul>
  </section>
</section>
<section class="detail" id="get_state/0">

  <div class="detail-header">
    <a href="#get_state/0" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">get_state()</h1>

        <span class="note">(since OTP 25.0)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/net_kernel.erl#L327" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> get_state() ->
                   #{started => no | static | dynamic,
                     name => <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>(),
                     name_type => static | dynamic,
                     name_domain => shortnames | longnames}.</pre>

      </div>

<p>Get the current state of the distribution for the local node.</p><p>Returns a map with (at least) the following key-value pairs:</p><ul><li><p><strong><code class="inline">started =&gt; Started</code></strong> - Valid values for <code class="inline">Started</code>:</p><ul><li><p><strong><code class="inline">no</code></strong> - The distribution is not started. In this state none of the other
keys below are present in the map.</p></li><li><p><strong><code class="inline">static</code></strong> - The distribution was started with command line arguments
<a href="../../apps/erts/erl_cmd.html#name"><code class="inline">-name</code></a> or
<a href="../../apps/erts/erl_cmd.html#sname"><code class="inline">-sname</code></a>.</p></li><li><p><strong><code class="inline">dynamic</code></strong> - The distribution was started with
<a href="#start/1"><code class="inline">net_kernel:start/1</code></a> and can be stopped with
<a href="#start/1"><code class="inline">net_kernel:stop/0</code></a>.</p></li></ul></li><li><p><strong><code class="inline">name =&gt; Name</code></strong> - The name of the node. Same as returned by <a href="../../apps/erts/erlang.html#node/0"><code class="inline">erlang:node/0</code></a>
except when <code class="inline">name_type</code> is <code class="inline">dynamic</code> in which case <code class="inline">Name</code> may be <code class="inline">undefined</code>
(instead of <code class="inline">nonode@nohost</code>).</p></li><li><p><strong><code class="inline">name_type =&gt; NameType</code></strong> - Valid values for <code class="inline">NameType</code>:</p><ul><li><p><strong><code class="inline">static</code></strong> - The node has a static node name set by the node itself.</p></li><li><p><strong><code class="inline">dynamic</code></strong> - The distribution was started in
<a href="../../system/distributed.html#dyn_node_name">dynamic node name</a> mode, and will
get its node name assigned from the first node it connects to. If key <code class="inline">name</code>
has value <code class="inline">undefined</code> that has not happened yet.</p></li></ul></li><li><p><strong><code class="inline">name_domain =&gt; NameDomain</code></strong> - Valid values for <code class="inline">NameDomain</code>:</p><ul><li><p><strong><code class="inline">shortnames</code></strong> - The distribution was started to use node names with a
short host portion (not fully qualified).</p></li><li><p><strong><code class="inline">longnames</code></strong> - The distribution was started to use node names with a long
fully qualified host portion.</p></li></ul></li></ul>
  </section>
</section>
<section class="detail" id="getopts/2">

  <div class="detail-header">
    <a href="#getopts/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">getopts(Node, Options)</h1>

        <span class="note">(since OTP 19.1)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/net_kernel.erl#L3040" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> getopts(Node, Options) -> {ok, OptionValues} | {error, Reason} | ignored
                 when
                     Node :: <a href="../../apps/erts/erlang.html#t:node/0">node</a>(),
                     Options :: [<a href="inet.html#t:socket_getopt/0">inet:socket_getopt</a>()],
                     OptionValues :: [<a href="inet.html#t:socket_setopt/0">inet:socket_setopt</a>()],
                     Reason :: <a href="inet.html#t:posix/0">inet:posix</a>() | noconnection.</pre>

      </div>

<p>Get one or more options for the distribution socket connected to <code class="inline">Node</code>.</p><p>If <code class="inline">Node</code> is a connected node the return value is the same as from
<a href="inet.html#getopts/2"><code class="inline">inet:getopts(Sock, Options)</code></a> where <code class="inline">Sock</code> is the
distribution socket for <code class="inline">Node</code>.</p><p>Returns <code class="inline">ignored</code> if the local node is not alive or <code class="inline">{error, noconnection}</code> if
<code class="inline">Node</code> is not connected.</p>
  </section>
</section>
<section class="detail" id="monitor_nodes/1">

  <div class="detail-header">
    <a href="#monitor_nodes/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">monitor_nodes(Flag)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/net_kernel.erl#L476" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> monitor_nodes(Flag) -> ok | Error when Flag :: <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>(), Error :: error | {error, <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}.</pre>

      </div>

<p>Equivalent to <a href="#monitor_nodes/2"><code class="inline">monitor_nodes(Flag, [])</code></a>.</p>
  </section>
</section>
<section class="detail" id="monitor_nodes/2">

  <div class="detail-header">
    <a href="#monitor_nodes/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">monitor_nodes(Flag, Options)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/net_kernel.erl#L651" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> monitor_nodes(Flag, Options) -> ok | Error
                       when
                           Flag :: <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>(),
                           Options :: OptionsList | OptionsMap,
                           OptionsList :: [ListOption],
                           ListOption :: connection_id | {node_type, NodeType} | nodedown_reason,
                           OptionsMap ::
                               #{connection_id => <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>(),
                                 node_type => NodeType,
                                 nodedown_reason => <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()},
                           NodeType :: visible | hidden | all,
                           Error :: error | {error, <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}.</pre>

      </div>

<p>The calling process subscribes or unsubscribes to node status change messages. A
<code class="inline">nodeup</code> message is delivered to all subscribing processes when a new node is
connected, and a <code class="inline">nodedown</code> message is delivered when a node is disconnected.</p><p>If <code class="inline">Flag</code> is <code class="inline">true</code>, a new subscription is started. If <code class="inline">Flag</code> is <code class="inline">false</code>, all
previous subscriptions started with the same <code class="inline">Options</code> are stopped. Two option
lists are considered the same if they contain the same set of options.</p><p>Delivery guarantees of <code class="inline">nodeup</code>/<code class="inline">nodedown</code> messages:</p><ul><li><code class="inline">nodeup</code> messages are delivered before delivery of any signals from the remote
node through the newly established connection.</li><li><code class="inline">nodedown</code> messages are delivered after all the signals from the remote node
over the connection have been delivered.</li><li><code class="inline">nodeup</code> messages are delivered after the corresponding node appears in
results from <code class="inline">erlang:nodes()</code>.</li><li><code class="inline">nodedown</code> messages are delivered after the corresponding node has disappeared
in results from <code class="inline">erlang:nodes()</code>.</li><li>As of OTP 23.0, a <code class="inline">nodedown</code> message for a connection being taken down will be
delivered before a <code class="inline">nodeup</code> message due to a new connection to the same node.
Prior to OTP 23.0, this was not guaranteed to be the case.</li></ul><p>The format of the node status change messages depends on <code class="inline">Options</code>. If <code class="inline">Options</code>
is the empty list or if <a href="#monitor_nodes/1"><code class="inline">net_kernel:monitor_nodes/1</code></a> is called, the format is as
follows:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="6750705300-1">{</span><span class="ss">nodeup</span><span class="p">,</span><span class="w"> </span><span class="n">Node</span><span class="p" data-group-id="6750705300-1">}</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="p" data-group-id="6750705300-2">{</span><span class="ss">nodedown</span><span class="p">,</span><span class="w"> </span><span class="n">Node</span><span class="p" data-group-id="6750705300-2">}</span><span class="w">
  </span><span class="n">Node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">node</span><span class="p" data-group-id="6750705300-3">(</span><span class="p" data-group-id="6750705300-3">)</span></code></pre><p>When <code class="inline">Options</code> is the empty map or empty list, the caller will only subscribe
for status change messages for visible nodes. That is, only nodes that appear in
the result of <a href="../../apps/erts/erlang.html#nodes/0"><code class="inline">erlang:nodes/0</code></a>.</p><p>If <code class="inline">Options</code> equals anything other than the empty list, the format of the status
change messages is as follows:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="3820818837-1">{</span><span class="ss">nodeup</span><span class="p">,</span><span class="w"> </span><span class="n">Node</span><span class="p">,</span><span class="w"> </span><span class="n">Info</span><span class="p" data-group-id="3820818837-1">}</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="p" data-group-id="3820818837-2">{</span><span class="ss">nodedown</span><span class="p">,</span><span class="w"> </span><span class="n">Node</span><span class="p">,</span><span class="w"> </span><span class="n">Info</span><span class="p" data-group-id="3820818837-2">}</span><span class="w">
  </span><span class="n">Node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">node</span><span class="p" data-group-id="3820818837-3">(</span><span class="p" data-group-id="3820818837-3">)</span><span class="w">
  </span><span class="n">Info</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="3820818837-4">#{</span><span class="n">Tag</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="n">Val</span><span class="p" data-group-id="3820818837-4">}</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="p" data-group-id="3820818837-5">[</span><span class="p" data-group-id="3820818837-6">{</span><span class="n">Tag</span><span class="p">,</span><span class="w"> </span><span class="n">Val</span><span class="p" data-group-id="3820818837-6">}</span><span class="p" data-group-id="3820818837-5">]</span></code></pre><p><code class="inline">Info</code> is either a map or a list of 2-tuples. Its content depends on <code class="inline">Options</code>.
If <code class="inline">Options</code> is a map, <code class="inline">Info</code> will also be a map. If <code class="inline">Options</code> is a list, <code class="inline">Info</code>
will also be a list.</p><p>When <code class="inline">Options</code> is a map, currently the following associations are allowed:</p><ul><li><p><strong><code class="inline">connection_id =&gt; boolean()</code></strong> - If the value of the association equals
<code class="inline">true</code>, a <code class="inline">connection_id =&gt; ConnectionId</code> association will be included in the
<code class="inline">Info</code> map where <code class="inline">ConnectionId</code> is the connection identifier of the connection
coming up or going down. For more info about this connection identifier see
the documentation of <a href="../../apps/erts/erlang.html#connection_id">erlang:nodes/2</a>.</p></li><li><p><strong><code class="inline">node_type =&gt; NodeType</code></strong> - Valid values for <code class="inline">NodeType</code>:</p><ul><li><p><strong><code class="inline">visible</code></strong> - Subscribe to node status change messages for visible nodes
only. The association <code class="inline">node_type =&gt; visible</code> will be included in the <code class="inline">Info</code>
map.</p></li><li><p><strong><code class="inline">hidden</code></strong> - Subscribe to node status change messages for hidden nodes
only. The association <code class="inline">node_type =&gt; hidden</code> will be included in the <code class="inline">Info</code>
map.</p></li><li><p><strong><code class="inline">all</code></strong> - Subscribe to node status change messages for both visible and
hidden nodes. The association <code class="inline">node_type =&gt; visible | hidden</code> will be
included in the <code class="inline">Info</code> map.</p></li></ul><p>If no <code class="inline">node_type =&gt; NodeType</code> association is included in the <code class="inline">Options</code> map,
the caller will subscribe for status change messages for visible nodes only,
but <em>no</em> <code class="inline">node_type =&gt; visible</code> association will be included in the <code class="inline">Info</code>
map.</p></li><li><p><strong><code class="inline">nodedown_reason =&gt; boolean()</code></strong> - If the value of the association equals
<code class="inline">true</code>, a <code class="inline">nodedown_reason =&gt; Reason</code> association will be included in the
<code class="inline">Info</code> map for <code class="inline">nodedown</code> messages.</p><p><a href="" id="nodedown_reasons"></a> <code class="inline">Reason</code> can, depending on which distribution
module or process that is used, be any term, but for the standard TCP
distribution module it is one of the following:</p><ul><li><p><strong><code class="inline">connection_setup_failed</code></strong> - The connection setup failed (after <code class="inline">nodeup</code>
messages were sent).</p></li><li><p><strong><code class="inline">no_network</code></strong> - No network is available.</p></li><li><p><strong><code class="inline">net_kernel_terminated</code></strong> - The <code class="inline">net_kernel</code> process terminated.</p></li><li><p><strong><code class="inline">shutdown</code></strong> - Unspecified connection shutdown.</p></li><li><p><strong><code class="inline">connection_closed</code></strong> - The connection was closed.</p></li><li><p><strong><code class="inline">disconnect</code></strong> - The connection was disconnected (forced from the current
node).</p></li><li><p><strong><code class="inline">net_tick_timeout</code></strong> - Net tick time-out.</p></li><li><p><strong><code class="inline">send_net_tick_failed</code></strong> - Failed to send net tick over the connection.</p></li><li><p><strong><code class="inline">get_status_failed</code></strong> - Status information retrieval from the <code class="inline">Port</code>
holding the connection failed.</p></li></ul></li></ul><p>When <code class="inline">Options</code> is a list, currently <code class="inline">ListOption</code> can be one of the following:</p><ul><li><p><strong><code class="inline">connection_id</code></strong> - A <code class="inline">{connection_id, ConnectionId}</code> tuple will be included
in <code class="inline">Info</code> where <code class="inline">ConnectionId</code> is the connection identifier of the connection
coming up or going down. For more info about this connection identifier see
the documentation of <a href="../../apps/erts/erlang.html#connection_id">erlang:nodes/2</a>.</p></li><li><p><strong><code class="inline">{node_type, NodeType}</code></strong> - Valid values for <code class="inline">NodeType</code>:</p><ul><li><p><strong><code class="inline">visible</code></strong> - Subscribe to node status change messages for visible nodes
only. The tuple <code class="inline">{node_type, visible}</code> will be included in the <code class="inline">Info</code> list.</p></li><li><p><strong><code class="inline">hidden</code></strong> - Subscribe to node status change messages for hidden nodes
only. The tuple <code class="inline">{node_type, hidden}</code> will be included in the <code class="inline">Info</code> list.</p></li><li><p><strong><code class="inline">all</code></strong> - Subscribe to node status change messages for both visible and
hidden nodes. The tuple <code class="inline">{node_type, visible | hidden}</code> will be included in
the <code class="inline">Info</code> list.</p></li></ul><p>If no <code class="inline">{node_type, NodeType}</code> option has been given. The caller will subscribe
for status change messages for visible nodes only, but <em>no</em>
<code class="inline">{node_type, visible}</code> tuple will be included in the <code class="inline">Info</code> list.</p></li><li><p><strong><code class="inline">nodedown_reason</code></strong> - The tuple <code class="inline">{nodedown_reason, Reason}</code> will be included
in the <code class="inline">Info</code> list for <code class="inline">nodedown</code> messages.</p><p>See the documentation of the
<a href="net_kernel.html#nodedown_reasons"><code class="inline">nodedown_reason =&gt; boolean()</code></a> association
above for information about possible <code class="inline">Reason</code> values.</p></li></ul><p>Example:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">(a@localhost)1&gt; </span><span class="nc">net_kernel</span><span class="p">:</span><span class="nf">monitor_nodes</span><span class="p" data-group-id="2363434862-1">(</span><span class="ss">true</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2363434862-2">#{</span><span class="ss">connection_id</span><span class="p">=&gt;</span><span class="ss">true</span><span class="p">,</span><span class="w"> </span><span class="ss">node_type</span><span class="p">=&gt;</span><span class="ss">all</span><span class="p">,</span><span class="w"> </span><span class="ss">nodedown_reason</span><span class="p">=&gt;</span><span class="ss">true</span><span class="p" data-group-id="2363434862-2">}</span><span class="p" data-group-id="2363434862-1">)</span><span class="p">.</span><span class="w">
</span><span class="nf">ok</span><span class="w">
</span><span class="p" data-group-id="2363434862-3">(</span><span class="ss">a@localhost</span><span class="p" data-group-id="2363434862-3">)</span><span class="mi">2</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">flush</span><span class="p" data-group-id="2363434862-4">(</span><span class="p" data-group-id="2363434862-4">)</span><span class="p">.</span><span class="w">
</span><span class="n">Shell</span><span class="w"> </span><span class="ss">got</span><span class="w"> </span><span class="p" data-group-id="2363434862-5">{</span><span class="ss">nodeup</span><span class="p">,</span><span class="ss">b@localhost</span><span class="p">,</span><span class="w">
                  </span><span class="p" data-group-id="2363434862-6">#{</span><span class="ss">connection_id</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mi">3067552</span><span class="p">,</span><span class="ss">node_type</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ss">visible</span><span class="p" data-group-id="2363434862-6">}</span><span class="p" data-group-id="2363434862-5">}</span><span class="w">
</span><span class="n">Shell</span><span class="w"> </span><span class="ss">got</span><span class="w"> </span><span class="p" data-group-id="2363434862-7">{</span><span class="ss">nodeup</span><span class="p">,</span><span class="ss">c@localhost</span><span class="p">,</span><span class="w">
                  </span><span class="p" data-group-id="2363434862-8">#{</span><span class="ss">connection_id</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mi">13892107</span><span class="p">,</span><span class="ss">node_type</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ss">hidden</span><span class="p" data-group-id="2363434862-8">}</span><span class="p" data-group-id="2363434862-7">}</span><span class="w">
</span><span class="n">Shell</span><span class="w"> </span><span class="ss">got</span><span class="w"> </span><span class="p" data-group-id="2363434862-9">{</span><span class="ss">nodedown</span><span class="p">,</span><span class="ss">b@localhost</span><span class="p">,</span><span class="w">
                    </span><span class="p" data-group-id="2363434862-10">#{</span><span class="ss">connection_id</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mi">3067552</span><span class="p">,</span><span class="ss">node_type</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ss">visible</span><span class="p">,</span><span class="w">
                      </span><span class="ss">nodedown_reason</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ss">connection_closed</span><span class="p" data-group-id="2363434862-10">}</span><span class="p" data-group-id="2363434862-9">}</span><span class="w">
</span><span class="n">Shell</span><span class="w"> </span><span class="ss">got</span><span class="w"> </span><span class="p" data-group-id="2363434862-11">{</span><span class="ss">nodedown</span><span class="p">,</span><span class="ss">c@localhost</span><span class="p">,</span><span class="w">
                    </span><span class="p" data-group-id="2363434862-12">#{</span><span class="ss">connection_id</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mi">13892107</span><span class="p">,</span><span class="ss">node_type</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ss">hidden</span><span class="p">,</span><span class="w">
                      </span><span class="ss">nodedown_reason</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ss">net_tick_timeout</span><span class="p" data-group-id="2363434862-12">}</span><span class="p" data-group-id="2363434862-11">}</span><span class="w">
</span><span class="n">Shell</span><span class="w"> </span><span class="ss">got</span><span class="w"> </span><span class="p" data-group-id="2363434862-13">{</span><span class="ss">nodeup</span><span class="p">,</span><span class="ss">b@localhost</span><span class="p">,</span><span class="w">
                  </span><span class="p" data-group-id="2363434862-14">#{</span><span class="ss">connection_id</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="mi">3067553</span><span class="p">,</span><span class="ss">node_type</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ss">visible</span><span class="p" data-group-id="2363434862-14">}</span><span class="p" data-group-id="2363434862-13">}</span><span class="w">
</span><span class="nf">ok</span><span class="w">
</span><span class="p" data-group-id="2363434862-15">(</span><span class="ss">a@localhost</span><span class="p" data-group-id="2363434862-15">)</span><span class="mi">3</span><span class="o">&gt;</span></code></pre>
  </section>
</section>
<section class="detail" id="set_net_ticktime/1">

  <div class="detail-header">
    <a href="#set_net_ticktime/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">set_net_ticktime(NetTicktime)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/net_kernel.erl#L443" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> set_net_ticktime(NetTicktime) -> Res
                          when
                              NetTicktime :: <a href="../../apps/erts/erlang.html#t:pos_integer/0">pos_integer</a>(),
                              Res :: unchanged | change_initiated | {ongoing_change_to, NewNetTicktime},
                              NewNetTicktime :: <a href="../../apps/erts/erlang.html#t:pos_integer/0">pos_integer</a>().</pre>

      </div>

<p>Equivalent to <a href="#set_net_ticktime/2"><code class="inline">set_net_ticktime(NetTicktime, 60)</code></a>.</p>
  </section>
</section>
<section class="detail" id="set_net_ticktime/2">

  <div class="detail-header">
    <a href="#set_net_ticktime/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">set_net_ticktime(NetTicktime, TransitionPeriod)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/net_kernel.erl#L433" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> set_net_ticktime(NetTicktime, TransitionPeriod) -> Res
                          when
                              NetTicktime :: <a href="../../apps/erts/erlang.html#t:pos_integer/0">pos_integer</a>(),
                              TransitionPeriod :: <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>(),
                              Res :: unchanged | change_initiated | {ongoing_change_to, NewNetTicktime},
                              NewNetTicktime :: <a href="../../apps/erts/erlang.html#t:pos_integer/0">pos_integer</a>().</pre>

      </div>

<p>Sets <code class="inline">net_ticktime</code> (see <a href="kernel_app.html"><code class="inline">kernel(6)</code></a>) to <code class="inline">NetTicktime</code> seconds.
<code class="inline">TransitionPeriod</code> defaults to <code class="inline">60</code>.</p><p>Some definitions:</p><ul><li><p><strong>Minimum transition traffic interval (<code class="inline">MTTI</code>)</strong> -
<code class="inline">minimum(NetTicktime, PreviousNetTicktime)*1000 div 4</code> milliseconds.</p></li><li><p><strong>Transition period</strong> - The time of the least number of consecutive <code class="inline">MTTI</code>s to
cover <code class="inline">TransitionPeriod</code> seconds following the call to
<a href="#set_net_ticktime/2"><code class="inline">set_net_ticktime/2</code></a> (that is,
((<code class="inline">TransitionPeriod*1000 - 1) div MTTI + 1)*MTTI</code> milliseconds).</p></li></ul><p>If <code class="inline">NetTicktime &lt; PreviousNetTicktime</code>, the <code class="inline">net_ticktime</code> change is done at the
end of the transition period; otherwise at the beginning. During the transition
period, <code class="inline">net_kernel</code> ensures that there is outgoing traffic on all connections
at least every <code class="inline">MTTI</code> millisecond.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>The <code class="inline">net_ticktime</code> changes must be initiated on all nodes in the network (with
the same <code class="inline">NetTicktime</code>) before the end of any transition period on any node;
otherwise connections can erroneously be disconnected.</p></section><p>Returns one of the following:</p><ul><li><p><strong><code class="inline">unchanged</code></strong> - <code class="inline">net_ticktime</code> already has the value of <code class="inline">NetTicktime</code> and is
left unchanged.</p></li><li><p><strong><code class="inline">change_initiated</code></strong> - <code class="inline">net_kernel</code> initiated the change of <code class="inline">net_ticktime</code>
to <code class="inline">NetTicktime</code> seconds.</p></li><li><p><strong><code class="inline">{ongoing_change_to, NewNetTicktime}</code></strong> - The request is <em>ignored</em> because
<code class="inline">net_kernel</code> is busy changing <code class="inline">net_ticktime</code> to <code class="inline">NewNetTicktime</code> seconds.</p></li></ul>
  </section>
</section>
<section class="detail" id="setopts/2">

  <div class="detail-header">
    <a href="#setopts/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">setopts(Node, Options)</h1>

        <span class="note">(since OTP 19.1)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/net_kernel.erl#L2936" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> setopts(Node, Options) -> ok | {error, Reason} | ignored
                 when
                     Node :: <a href="../../apps/erts/erlang.html#t:node/0">node</a>() | new,
                     Options :: [<a href="inet.html#t:socket_setopt/0">inet:socket_setopt</a>()],
                     Reason :: <a href="inet.html#t:posix/0">inet:posix</a>() | noconnection.</pre>

      </div>

<p>Set one or more options for distribution sockets. Argument <code class="inline">Node</code> can be either
one node name or the atom <code class="inline">new</code> to affect the distribution sockets of all future
connected nodes.</p><p>The return value is the same as from <a href="inet.html#setopts/2"><code class="inline">inet:setopts/2</code></a> or <code class="inline">{error, noconnection}</code>
if <code class="inline">Node</code> is not a connected node or <code class="inline">new</code>.</p><p>If <code class="inline">Node</code> is <code class="inline">new</code> the <code class="inline">Options</code> will then also be added to kernel configuration
parameters <a href="kernel_app.html#inet_dist_listen_options">inet_dist_listen_options</a>
and <a href="kernel_app.html#inet_dist_connect_options">inet_dist_connect_options</a>.</p><p>Returns <code class="inline">ignored</code> if the local node is not alive.</p>
  </section>
</section>
<section class="detail" id="start/1">

  <div class="detail-header">
    <a href="#start/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">start(Options)</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/net_kernel.erl#L890" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

    <div class="deprecated">
      This function is deprecated. Use start/2 instead.
    </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> start(Options) -> {ok, <a href="../../apps/erts/erlang.html#t:pid/0">pid</a>()} | {error, Reason}
               when
                   Options :: [Name | NameDomain | TickTime, ...],
                   Name :: <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>(),
                   NameDomain :: shortnames | longnames,
                   TickTime :: <a href="../../apps/erts/erlang.html#t:pos_integer/0">pos_integer</a>(),
                   Reason :: {already_started, <a href="../../apps/erts/erlang.html#t:pid/0">pid</a>()} | <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Turns a non-distributed node into a distributed node by starting <code class="inline">net_kernel</code>
and other necessary processes.</p><p><code class="inline">Options</code> list can only be exactly one of the following lists (order is
imporant):</p><ul><li><p><strong><code class="inline">[Name]</code></strong> - The same as <code class="inline">net_kernel:start([Name, longnames, 15000])</code>.</p></li><li><p><strong><code class="inline">[Name, NameDomain]</code></strong> - The same as
<code class="inline">net_kernel:start([Name, NameDomain, 15000])</code>.</p></li><li><p><strong><code class="inline">[Name, NameDomain, TickTime]</code></strong> - The same as
<a href="#start/2"><code class="inline">net_kernel:start(Name, #{name_domain =&gt; NameDomain, net_ticktime =&gt; ((TickTime*4-1) div 1000) + 1, net_tickintensity =&gt; 4})</code></a>.
Note that <code class="inline">TickTime</code> is <em>not</em> the same as net tick time expressed in
milliseconds. <code class="inline">TickTime</code> is the time between ticks when net tick intensity
equals <code class="inline">4</code>.</p></li></ul>
  </section>
</section>
<section class="detail" id="start/2">

  <div class="detail-header">
    <a href="#start/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">start(Name, Options)</h1>

        <span class="note">(since OTP 24.3)</span>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/net_kernel.erl#L836" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> start(Name, Options) -> {ok, <a href="../../apps/erts/erlang.html#t:pid/0">pid</a>()} | {error, Reason}
               when
                   Options ::
                       #{name_domain => NameDomain,
                         net_ticktime => NetTickTime,
                         net_tickintensity => NetTickIntensity,
                         dist_listen => <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>(),
                         hidden => <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()},
                   Name :: <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>(),
                   NameDomain :: shortnames | longnames,
                   NetTickTime :: <a href="../../apps/erts/erlang.html#t:pos_integer/0">pos_integer</a>(),
                   NetTickIntensity :: 4..1000,
                   Reason :: {already_started, <a href="../../apps/erts/erlang.html#t:pid/0">pid</a>()} | <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Turns a non-distributed node into a distributed node by starting <code class="inline">net_kernel</code>
and other necessary processes.</p><p>If <code class="inline">Name</code> is set to <em><code class="inline">undefined</code></em> the distribution will be started to request a
dynamic node name from the first node it connects to. See
<a href="../../system/distributed.html#dyn_node_name">Dynamic Node Name</a>. Setting <code class="inline">Name</code> to
<code class="inline">undefined</code> implies options <code class="inline">dist_listen =&gt; false</code> and <code class="inline">hidden =&gt; true</code>.</p><p>Currently supported options:</p><ul><li><p><strong><code class="inline">name_domain =&gt; NameDomain</code></strong> - Determines the host name part of the node
name. If <code class="inline">NameDomain</code> equals <code class="inline">longnames</code>, fully qualified domain names will be
used which also is the default. If <code class="inline">NameDomain</code> equals <code class="inline">shortnames</code>, only the
short name of the host will be used.</p></li><li><p><strong><code class="inline">net_ticktime =&gt; NetTickTime</code></strong> - <em>Net tick time</em> to use in seconds.
Defaults to the value of the <a href="kernel_app.html#net_ticktime"><code class="inline">net_ticktime</code></a>
<code class="inline">kernel(6)</code> parameter. For more information about <em>net tick time</em>, see the
<code class="inline">kernel</code> parameter. However, note that if the value of the <code class="inline">kernel</code> parameter
is invalid, it will silently be replaced by a valid value, but if an invalid
<code class="inline">NetTickTime</code> value is passed as option value to this function, the call will
fail.</p></li><li><p><strong><code class="inline">net_tickintensity =&gt; NetTickIntensity</code></strong> - <em>Net tick intensity</em> to use.
Defaults to the value of the
<a href="kernel_app.html#net_tickintensity"><code class="inline">net_tickintensity</code></a> <code class="inline">kernel(6)</code> parameter.
For more information about <em>net tick intensity</em>, see the <code class="inline">kernel</code> parameter.
However, note that if the value of the <code class="inline">kernel</code> parameter is invalid, it will
silently be replaced by a valid value, but if an invalid <code class="inline">NetTickIntensity</code>
value is passed as option value to this function, the call will fail.</p></li><li><p><strong><code class="inline">dist_listen =&gt; boolean()</code></strong> - Enable or disable listening for incoming
connections. Defaults to the value of the
<a href="../../apps/erts/erl_cmd.html#dist_listen"><code class="inline">-dist_listen</code></a> <code class="inline">erl</code> command line argument.
Note that <code class="inline">dist_listen =&gt; false</code> implies <code class="inline">hidden =&gt; true</code>.</p><p>If <code class="inline">undefined</code> has been passed as <code class="inline">Name</code>, the <code class="inline">dist_listen</code> option will be
overridden with <code class="inline">dist_listen =&gt; false</code>.</p></li><li><p><strong><code class="inline">hidden =&gt; boolean()</code></strong> - Enable or disable hidden node. Defaults to <code class="inline">true</code>
if the <a href="../../apps/erts/erl_cmd.html#hidden"><code class="inline">-hidden</code></a> <code class="inline">erl</code> command line argument has
been passed; otherwise <code class="inline">false</code>.</p><p>If <code class="inline">undefined</code> has been passed as <code class="inline">Name</code>, or the option <code class="inline">dist_listen</code> equals
<code class="inline">false</code>, the <code class="inline">hidden</code> option will be overridden with <code class="inline">hidden =&gt; true</code>.</p></li></ul>
  </section>
</section>
<section class="detail" id="stop/0">

  <div class="detail-header">
    <a href="#stop/0" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">stop()</h1>


        <a href="https://github.com/erlang/otp/blob/master/lib/kernel/src/net_kernel.erl#L350" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> stop() -> ok | {error, Reason} when Reason :: not_allowed | not_found.</pre>

      </div>

<p>Turns a distributed node into a non-distributed node.</p><p>For other nodes in the network, this is the same as the node going down.
Only possible when the net kernel was started using <a href="#start/2"><code class="inline">start/2</code></a>, otherwise
<code class="inline">{error, not_allowed}</code> is returned. Returns <code class="inline">{error, not_found}</code> if the local
node is not alive.</p>
  </section>
</section>

    </div>
  </section>

    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="kernel.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.1) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>
<p>Copyright Â© 1996-2025 <a href="https://www.ericsson.com">Ericsson AB</a></p>
    </footer>
  </div>
</main>
</div>
  <script defer src="https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.min.js"></script>
  <script>
  let initialized = false;

  window.addEventListener("exdoc:loaded", () => {
      if (!initialized) {
      mermaid.initialize({
          startOnLoad: false,
          theme: document.body.className.includes("dark") ? "dark" : "default"
      });
      initialized = true;
      }

      let id = 0;
      for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
          graphEl.innerHTML = svg;
          bindFunctions?.(graphEl);
          preEl.insertAdjacentElement("afterend", graphEl);
          preEl.remove();
      });
      }
  });
  </script>

  </body>
</html>
