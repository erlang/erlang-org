<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.1">
    <meta name="project" content="Erlang System Documentation v29.0-rc0">


<meta name="major-vsn" content="29">
<meta name="exdoc:full-text-search-url" content="/doc/search.html?v=29&q=">
<link rel="canonical" href="https://www.erlang.org/doc/system/applications.html" />
    <title>Applications — Erlang System Documentation v29.0-rc0</title>

    <link rel="stylesheet" href="dist/html-erlang-ZK43ZOAC.css" />

    <script defer src="dist/sidebar_items-1026E94C.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-DPJLHKSM.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="../index.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="Erlang System Documentation" />
        </a>

      <div>
        <a href="../index.html" class="sidebar-projectName" translate="no">
Erlang System Documentation
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v29.0-rc0
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-extra" id="main" data-type="extras">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of Erlang System Documentation</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>Applications</h1>


      <a href="https://github.com/erlang/otp/blob/master/system/doc/design_principles/applications.md#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


<p><a href="" id="appl"></a></p><p>It is recommended to read this section alongside <a href="../apps/kernel/app.html"><code class="inline">app</code></a>
and <a href="../apps/kernel/application.html"><code class="inline">application</code></a> in Kernel.</p><h2 id="application-concept" class="section-heading"><a href="#application-concept" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Application Concept</span></h2><p>After creating code to implement a specific functionality, you might
consider transforming it into an <em>application</em> — a component that can be
started and stopped as a unit, as well as reused in other systems.</p><p>The steps to create an application is as follows:</p><ul><li><p>Create an <a href="applications.html#callback_module">application callback
module</a> that describes how the
application is to be started and stopped.</p></li><li><p>Create an <em>application specification</em> and place it in an
<a href="applications.html#appl_res_file">application resource file</a>. Among
other things, this file specifies which modules the application
consists of and the name of the callback module.</p></li></ul><p>If you use <a href="../apps/sasl/systools.html"><code class="inline">systools</code></a>, the Erlang/OTP tools for packaging code (see
<a href="release_structure.html">Releases</a>), the code for each application is placed in a
separate directory following a pre-defined
<a href="applications.html#app_dir">directory structure</a>.</p><p><a href="" id="callback_module"></a></p><h2 id="application-callback-module" class="section-heading"><a href="#application-callback-module" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Application Callback Module</span></h2><p>How to start and stop the code for the application, including its supervision
tree, is described by two callback functions:</p><pre><code class="makeup erlang" translate="no"><span class="nf">start</span><span class="p" data-group-id="4367960897-1">(</span><span class="n">StartType</span><span class="p">,</span><span class="w"> </span><span class="n">StartArgs</span><span class="p" data-group-id="4367960897-1">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="p" data-group-id="4367960897-2">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="n">Pid</span><span class="p" data-group-id="4367960897-2">}</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="p" data-group-id="4367960897-3">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="n">Pid</span><span class="p">,</span><span class="w"> </span><span class="n">State</span><span class="p" data-group-id="4367960897-3">}</span><span class="w">
</span><span class="nf">stop</span><span class="p" data-group-id="4367960897-4">(</span><span class="n">State</span><span class="p" data-group-id="4367960897-4">)</span></code></pre><ul><li><code class="inline">start/2</code> is called when starting the application and is to create the
supervision tree by starting the top supervisor. It is expected to return the
pid of the top supervisor and an optional term, <code class="inline">State</code>, which defaults to
<code class="inline">[]</code>. This term is passed as is to <code class="inline">stop/1</code>.</li><li><code class="inline">StartType</code> is usually the atom <code class="inline">normal</code>. It has other values only in the case
of a takeover or failover; see
<a href="distributed_applications.html">Distributed Applications</a>.</li><li><code class="inline">StartArgs</code> is defined by the key <code class="inline">mod</code> in the
<a href="applications.html#appl_res_file">application resource file</a>.</li><li><code class="inline">stop/1</code> is called <em>after</em> the application has been stopped and is to do any
necessary cleaning up. The actual stopping of the application, that is,
shutting down the supervision tree, is handled automatically as described in
<a href="applications.html#stopping">Starting and Stopping Applications</a>.</li></ul><p><a href="" id="ch_app"></a></p><p>Example of an application callback module for packaging the supervision tree
from <a href="sup_princ.html#ex">Supervisor Behaviour</a>:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">module</span><span class="p" data-group-id="6717949659-1">(</span><span class="ss">ch_app</span><span class="p" data-group-id="6717949659-1">)</span><span class="p">.</span><span class="w">
</span><span class="p">-</span><span class="na">behaviour</span><span class="p" data-group-id="6717949659-2">(</span><span class="ss">application</span><span class="p" data-group-id="6717949659-2">)</span><span class="p">.</span><span class="w">
</span><span class="w">
</span><span class="p">-</span><span class="na">export</span><span class="p" data-group-id="6717949659-3">(</span><span class="p" data-group-id="6717949659-4">[</span><span class="ss">start</span><span class="p">/</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ss">stop</span><span class="p">/</span><span class="mi">1</span><span class="p" data-group-id="6717949659-4">]</span><span class="p" data-group-id="6717949659-3">)</span><span class="p">.</span><span class="w">

</span><span class="nf">start</span><span class="p" data-group-id="6717949659-5">(</span><span class="p">_</span><span class="n">Type</span><span class="p">,</span><span class="w"> </span><span class="p">_</span><span class="n">Args</span><span class="p" data-group-id="6717949659-5">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nc">ch_sup</span><span class="p">:</span><span class="nf">start_link</span><span class="p" data-group-id="6717949659-6">(</span><span class="p" data-group-id="6717949659-6">)</span><span class="p">.</span><span class="w">

</span><span class="nf">stop</span><span class="p" data-group-id="6717949659-7">(</span><span class="p">_</span><span class="n">State</span><span class="p" data-group-id="6717949659-7">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="ss">ok</span><span class="p">.</span></code></pre><p>A library application that cannot be started or stopped does not need any
application callback module.</p><p><a href="" id="appl_res_file"></a></p><h2 id="application-resource-file" class="section-heading"><a href="#application-resource-file" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Application Resource File</span></h2><p>To define an application, an <em>application specification</em> is created, which is
put in an <em>application resource file</em>, or in short an <code class="inline">.app</code> file:</p><pre><code class="text">{application, Application, [Opt1,...,OptN]}.</code></pre><ul><li><code class="inline">Application</code>, an atom, is the name of the application. The file must be named
<code class="inline">Application.app</code>.</li><li>Each <code class="inline">Opt</code> is a tuple <code class="inline">{Key,Value}</code>, which defines a certain property of the
application. All keys are optional. Default values are used for any omitted
keys.</li></ul><p>The contents of a minimal <code class="inline">.app</code> file for a library application <code class="inline">libapp</code> looks
as follows:</p><pre><code class="text">{application, libapp, []}.</code></pre><p>The contents of a minimal <code class="inline">.app</code> file <code class="inline">ch_app.app</code> for a supervision tree
application like <code class="inline">ch_app</code> looks as follows:</p><pre><code class="text">{application, ch_app,
 [{mod, {ch_app,[]}}]}.</code></pre><p>The key <code class="inline">mod</code> defines the callback module and start argument of the application,
in this case <code class="inline">ch_app</code> and <code class="inline">[]</code>, respectively. This means that the following is
called when the application is to be started:</p><pre><code class="text">ch_app:start(normal, [])</code></pre><p>The following is called when the application is stopped:</p><pre><code class="text">ch_app:stop([])</code></pre><p>When using <a href="../apps/sasl/systools.html"><code class="inline">systools</code></a>, the Erlang/OTP tools for packaging code (see Section
<a href="release_structure.html">Releases</a>), the keys <code class="inline">description</code>, <code class="inline">vsn</code>, <code class="inline">modules</code>,
<code class="inline">registered</code>, and <code class="inline">applications</code> are also to be specified:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="6345046413-1">{</span><span class="ss">application</span><span class="p">,</span><span class="w"> </span><span class="ss">ch_app</span><span class="p">,</span><span class="w">
 </span><span class="p" data-group-id="6345046413-2">[</span><span class="p" data-group-id="6345046413-3">{</span><span class="ss">description</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Channel allocator&quot;</span><span class="p" data-group-id="6345046413-3">}</span><span class="p">,</span><span class="w">
  </span><span class="p" data-group-id="6345046413-4">{</span><span class="ss">vsn</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;1&quot;</span><span class="p" data-group-id="6345046413-4">}</span><span class="p">,</span><span class="w">
  </span><span class="p" data-group-id="6345046413-5">{</span><span class="ss">modules</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6345046413-6">[</span><span class="ss">ch_app</span><span class="p">,</span><span class="w"> </span><span class="ss">ch_sup</span><span class="p">,</span><span class="w"> </span><span class="ss">ch3</span><span class="p" data-group-id="6345046413-6">]</span><span class="p" data-group-id="6345046413-5">}</span><span class="p">,</span><span class="w">
  </span><span class="p" data-group-id="6345046413-7">{</span><span class="ss">registered</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6345046413-8">[</span><span class="ss">ch3</span><span class="p" data-group-id="6345046413-8">]</span><span class="p" data-group-id="6345046413-7">}</span><span class="p">,</span><span class="w">
  </span><span class="p" data-group-id="6345046413-9">{</span><span class="ss">applications</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6345046413-10">[</span><span class="ss">kernel</span><span class="p">,</span><span class="w"> </span><span class="ss">stdlib</span><span class="p">,</span><span class="w"> </span><span class="ss">sasl</span><span class="p" data-group-id="6345046413-10">]</span><span class="p" data-group-id="6345046413-9">}</span><span class="p">,</span><span class="w">
  </span><span class="p" data-group-id="6345046413-11">{</span><span class="ss">mod</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6345046413-12">{</span><span class="ss">ch_app</span><span class="p">,</span><span class="p" data-group-id="6345046413-13">[</span><span class="p" data-group-id="6345046413-13">]</span><span class="p" data-group-id="6345046413-12">}</span><span class="p" data-group-id="6345046413-11">}</span><span class="w">
 </span><span class="p" data-group-id="6345046413-2">]</span><span class="p" data-group-id="6345046413-1">}</span><span class="p">.</span></code></pre><ul><li><code class="inline">description</code> - A short description, a string. Defaults to <code class="inline">&quot;&quot;</code>.</li><li><code class="inline">vsn</code> - Version number, a string. Defaults to <code class="inline">&quot;&quot;</code>.</li><li><code class="inline">modules</code> - All modules <em>introduced</em> by this application. <a href="../apps/sasl/systools.html"><code class="inline">systools</code></a> uses
this list when generating boot scripts and tar files. A module must only
be included in one application. Defaults to <code class="inline">[]</code>.</li><li><code class="inline">registered</code> - All names of registered processes in the application.
<a href="../apps/sasl/systools.html"><code class="inline">systools</code></a> uses this list to detect name clashes between applications.
Defaults to <code class="inline">[]</code>.</li><li><code class="inline">applications</code> - All applications that must be started before this
application is started. <a href="../apps/sasl/systools.html"><code class="inline">systools</code></a> uses this list to generate correct boot
scripts. Defaults to <code class="inline">[]</code>. Notice that all applications have dependencies to
at least Kernel and STDLIB.</li></ul><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>For details about the syntax and contents of the application resource file,
see <a href="../apps/kernel/app.html">app</a> in Kernel.</p></section><p><a href="" id="app_dir"></a></p><h2 id="directory-structure" class="section-heading"><a href="#directory-structure" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Directory Structure</span></h2><p>When packaging code using <a href="../apps/sasl/systools.html"><code class="inline">systools</code></a>, the code for each application is placed in
a separate directory, <code class="inline">lib/Application-Vsn</code>, where <code class="inline">Vsn</code> is the version number.</p><p>This can be useful to know, even if <a href="../apps/sasl/systools.html"><code class="inline">systools</code></a> is not used, since Erlang/OTP is
packaged according to the OTP principles and thus comes with a specific
directory structure. The code server (see module <a href="../apps/kernel/code.html"><code class="inline">code</code></a> in Kernel)
automatically uses code from the directory with the highest version number, if
more than one version of an application is present.</p><h3 id="directory-structure-guidelines-for-a-development-environment" class="section-heading"><a href="#directory-structure-guidelines-for-a-development-environment" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Directory Structure Guidelines for a Development Environment</span></h3><p>Any directory structure for development will suffice as long as the released
directory structure adheres to the
<a href="applications.html#app_dir_released">description below</a>, but it is encouraged that
the same directory structure also be used in a development environment. The
version number should be omitted from the application directory name since this
is an artifact of the release step.</p><p>Some sub-directories are <em>required</em>. Some sub-directories are <em>optional</em>,
meaning that it should only be used if the application itself requires it.
Finally, some sub-directories are <em>recommended</em>, meaning it is encouraged that
it is used and used as described here. For example, both documentation and tests
are encouraged to exist in an application for it to be deemed a proper OTP
application.</p><pre><code class="text">    ─ ${application}
      ├── doc
      │   ├── internal
      │   ├── examples
      │   └── src
      ├── include
      ├── priv
      ├── src
      │   └── ${application}.app.src
      └── test</code></pre><ul><li><code class="inline">src</code> - Required. Contains the Erlang source code, the source of the <code class="inline">.app</code>
file and internal include files used by the application itself. Additional
sub-directories within <code class="inline">src</code> can be used as namespaces to organize source
files. These directories should never be deeper than one level.</li><li><code class="inline">priv</code> - Optional. Used for application specific files.</li><li><code class="inline">include</code> - Optional. Used for public include files that must be reachable
from other applications.</li><li><code class="inline">doc</code> - Recommended. Any source documentation should be placed in
sub-directories here.</li><li><code class="inline">doc/internal</code> - Recommended. Any documentation that describes implementation
details about this application, not intended for publication, should be placed
here.</li><li><code class="inline">doc/examples</code> - Recommended. Source code for examples on how to use this
application should be placed here. It is encouraged that examples are sourced
to the public documentation from this directory.</li><li><code class="inline">doc/src</code> - Recommended. All source files for documentation, such as
Markdown, AsciiDoc, or XML-files, should be placed here.</li><li><code class="inline">test</code> - Recommended. All files regarding tests, such as test suites and test
specifications, should be placed here.</li></ul><p>Other directories in the development environment may be needed. If source code
from languages other than Erlang is used, for instance C-code for NIFs, that
code should be placed in a separate directory. By convention it is recommended
to prefix such directories with the language name, for example <code class="inline">c_src</code> for C,
<code class="inline">java_src</code> for Java or <code class="inline">go_src</code> for Go. Directories with <code class="inline">_src</code> suffix indicates
that it is a part of the application and the compilation step. The final build
artifacts should target the <code class="inline">priv/lib</code> or <code class="inline">priv/bin</code> directories.</p><p>The <code class="inline">priv</code> directory holds assets that the application needs during runtime.
Executables should reside in <code class="inline">priv/bin</code> and dynamically-linked libraries should
reside in <code class="inline">priv/lib</code>. Other assets are free to reside within the <code class="inline">priv</code>
directory but it is recommended they do so in a structured manner.</p><p>Source files from other languages that generate Erlang code, such as ASN.1 or
Mibs, should be placed in directories, at the top level or in <code class="inline">src</code>, with the
same name as the source language, for example <code class="inline">asn1</code> and <code class="inline">mibs</code>. Build artifacts
should be placed in their respective language directory, such as <code class="inline">src</code> for
Erlang code or <code class="inline">java_src</code> for Java code.</p><p>In a development environment, it is acceptable that the <code class="inline">.app</code> file for
the release resides in the <code class="inline">ebin</code> directory, but it is recommended that
it is an artifact of the build step. By convention a <code class="inline">.app.src</code>
located in the <code class="inline">src</code> directory is used. This file is nearly identical
to the <code class="inline">.app</code> file, but certain fields, such as the application
version, are replaced during the build step.</p><p>Directory names should not be capitalized.</p><p>It is encouraged to omit empty directories.</p><p><a href="" id="app_dir_released"></a></p><h3 id="directory-structure-for-a-released-system" class="section-heading"><a href="#directory-structure-for-a-released-system" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Directory Structure for a Released System</span></h3><p>A released application must follow a certain structure.</p><pre><code class="text">    ─ ${application}-${version}
      ├── bin
      ├── doc
      │   ├── html
      │   ├── man[1-9]
      │   ├── pdf
      │   ├── internal
      │   └── examples
      ├── ebin
      │   └── ${application}.app
      ├── include
      ├── priv
      │   ├── lib
      │   └── bin
      └── src</code></pre><ul><li><code class="inline">src</code> - Optional. Contains the Erlang source code and internal include files
used by the application itself.</li><li><code class="inline">ebin</code> - Required. Contains the Erlang object code, the <code class="inline">.beam</code> files. The
<code class="inline">.app</code> file must also be placed here.</li><li><code class="inline">priv</code> - Optional. Used for application specific files. <a href="../apps/kernel/code.html#priv_dir/1"><code class="inline">code:priv_dir/1</code></a> is
to be used to access this directory.</li><li><code class="inline">priv/lib</code> - Recommended. Any shared-object files that are used by the
application, such as NIFs or linked-in-drivers, should be placed here.</li><li><code class="inline">priv/bin</code> - Recommended. Any executable that is used by the application,
such as port programs, should be placed here.</li><li><code class="inline">include</code> - Optional. Used for public include files that must be reachable
from other applications.</li><li><code class="inline">bin</code> - Optional. Any executable that is a product of the application, such
as escripts or shell scripts, should be placed here.</li><li><code class="inline">doc</code> - Optional. Any released documentation should be placed in
sub-directories here.</li></ul><p>The <code class="inline">src</code> directory could be useful to release for debugging purposes,
but this is not required. The <code class="inline">include</code> directory should only be
released if the applications has public include files.</p><p>It is encouraged to omit empty directories.</p><p><a href="" id="application_controller"></a></p><h2 id="application-controller" class="section-heading"><a href="#application-controller" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Application Controller</span></h2><p>When an Erlang runtime system is started, a number of processes are started as
part of the Kernel application. One of these processes is the <em>application
controller</em> process, registered as <code class="inline">application_controller</code>.</p><p>All operations on applications are coordinated by the application
controller. Use module <a href="../apps/kernel/application.html"><code class="inline">application</code></a> in Kernel to load, unload, start, and
stop applications.</p><h2 id="loading-and-unloading-applications" class="section-heading"><a href="#loading-and-unloading-applications" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Loading and Unloading Applications</span></h2><p>Before an application can be started, it must be <em>loaded</em>. The application
controller reads and stores the information from the <code class="inline">.app</code> file:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">1&gt; </span><span class="nc">application</span><span class="p">:</span><span class="nf">load</span><span class="p" data-group-id="6406014746-1">(</span><span class="ss">ch_app</span><span class="p" data-group-id="6406014746-1">)</span><span class="p">.</span><span class="w">
</span><span class="ss">ok</span><span class="gp unselectable">
2&gt; </span><span class="nc">application</span><span class="p">:</span><span class="nf">loaded_applications</span><span class="p" data-group-id="6406014746-2">(</span><span class="p" data-group-id="6406014746-2">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="6406014746-3">[</span><span class="p" data-group-id="6406014746-4">{</span><span class="ss">kernel</span><span class="p">,</span><span class="s">&quot;ERTS  CXC 138 10&quot;</span><span class="p">,</span><span class="s">&quot;2.8.1.3&quot;</span><span class="p" data-group-id="6406014746-4">}</span><span class="p">,</span><span class="w">
 </span><span class="p" data-group-id="6406014746-5">{</span><span class="ss">stdlib</span><span class="p">,</span><span class="s">&quot;ERTS  CXC 138 10&quot;</span><span class="p">,</span><span class="s">&quot;1.11.4.3&quot;</span><span class="p" data-group-id="6406014746-5">}</span><span class="p">,</span><span class="w">
 </span><span class="p" data-group-id="6406014746-6">{</span><span class="ss">ch_app</span><span class="p">,</span><span class="s">&quot;Channel allocator&quot;</span><span class="p">,</span><span class="s">&quot;1&quot;</span><span class="p" data-group-id="6406014746-6">}</span><span class="p" data-group-id="6406014746-3">]</span></code></pre><p>An application that has been stopped, or has never been started, can be
unloaded. The information about the application is erased from the internal
database of the application controller.</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">3&gt; </span><span class="nc">application</span><span class="p">:</span><span class="nf">unload</span><span class="p" data-group-id="7117431341-1">(</span><span class="ss">ch_app</span><span class="p" data-group-id="7117431341-1">)</span><span class="p">.</span><span class="w">
</span><span class="ss">ok</span><span class="gp unselectable">
4&gt; </span><span class="nc">application</span><span class="p">:</span><span class="nf">loaded_applications</span><span class="p" data-group-id="7117431341-2">(</span><span class="p" data-group-id="7117431341-2">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="7117431341-3">[</span><span class="p" data-group-id="7117431341-4">{</span><span class="ss">kernel</span><span class="p">,</span><span class="s">&quot;ERTS  CXC 138 10&quot;</span><span class="p">,</span><span class="s">&quot;2.8.1.3&quot;</span><span class="p" data-group-id="7117431341-4">}</span><span class="p">,</span><span class="w">
 </span><span class="p" data-group-id="7117431341-5">{</span><span class="ss">stdlib</span><span class="p">,</span><span class="s">&quot;ERTS  CXC 138 10&quot;</span><span class="p">,</span><span class="s">&quot;1.11.4.3&quot;</span><span class="p" data-group-id="7117431341-5">}</span><span class="p" data-group-id="7117431341-3">]</span></code></pre><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>Loading/unloading an application does not load/unload the code used by the
application. Code loading is handled in the usual way by the code server.</p></section><p><a href="" id="stopping"></a></p><h2 id="starting-and-stopping-applications" class="section-heading"><a href="#starting-and-stopping-applications" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Starting and Stopping Applications</span></h2><p>An application is started by calling:</p><pre><code class="makeup erlang" translate="no"><span class="gp unselectable">5&gt; </span><span class="nc">application</span><span class="p">:</span><span class="nf">start</span><span class="p" data-group-id="5997821490-1">(</span><span class="ss">ch_app</span><span class="p" data-group-id="5997821490-1">)</span><span class="p">.</span><span class="w">
</span><span class="ss">ok</span><span class="gp unselectable">
6&gt; </span><span class="nc">application</span><span class="p">:</span><span class="nf">which_applications</span><span class="p" data-group-id="5997821490-2">(</span><span class="p" data-group-id="5997821490-2">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="5997821490-3">[</span><span class="p" data-group-id="5997821490-4">{</span><span class="ss">kernel</span><span class="p">,</span><span class="s">&quot;ERTS  CXC 138 10&quot;</span><span class="p">,</span><span class="s">&quot;2.8.1.3&quot;</span><span class="p" data-group-id="5997821490-4">}</span><span class="p">,</span><span class="w">
 </span><span class="p" data-group-id="5997821490-5">{</span><span class="ss">stdlib</span><span class="p">,</span><span class="s">&quot;ERTS  CXC 138 10&quot;</span><span class="p">,</span><span class="s">&quot;1.11.4.3&quot;</span><span class="p" data-group-id="5997821490-5">}</span><span class="p">,</span><span class="w">
 </span><span class="p" data-group-id="5997821490-6">{</span><span class="ss">ch_app</span><span class="p">,</span><span class="s">&quot;Channel allocator&quot;</span><span class="p">,</span><span class="s">&quot;1&quot;</span><span class="p" data-group-id="5997821490-6">}</span><span class="p" data-group-id="5997821490-3">]</span></code></pre><p>If the application is not already loaded, the application controller first loads
it using <a href="../apps/kernel/application.html#load/1"><code class="inline">application:load/1</code></a>. It checks the value of the <code class="inline">applications</code> key to
ensure that all applications that are to be started before this application are
running.</p><p><a href="" id="application_master"></a></p><p>Following that, the application controller creates an <em>application master</em> for
the application.</p><p>The application master establishes itself as the <a href="../apps/erts/erlang.html#group_leader/0">group
leader</a> of all processes in the application
and will forward I/O to the previous group leader.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>The purpose of the application master being the group leader is to easily
keep track of which processes that belong to the application. That is needed
to support the <a href="../apps/kernel/application.html#get_application/0"><code class="inline">application:get_application/0</code></a> and <a href="../apps/kernel/application.html#get_env/1"><code class="inline">application:get_env/1</code></a>
functions, and also when stopping an application to ensure that all processes
belonging to the application are terminated.</p></section><p>The application master starts the application by calling the application
callback function <code class="inline">start/2</code> in the module with the start argument defined
by the <code class="inline">mod</code> key in the <code class="inline">.app</code> file.</p><p>An application is stopped, but not unloaded, by calling:</p><pre><code class="text">7&gt; application:stop(ch_app).
ok</code></pre><p>The application master stops the application by telling the top supervisor to
shut down. The top supervisor tells all its child processes to shut down, and so
on; the entire tree is terminated in reversed start order. The application
master then calls the application callback function <code class="inline">stop/1</code> in the module
defined by the <code class="inline">mod</code> key.</p><h2 id="configuring-an-application" class="section-heading"><a href="#configuring-an-application" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Configuring an Application</span></h2><p>An application can be configured using <em>configuration parameters</em>. These are a
list of <code class="inline">{Par,Val}</code> tuples specified by a key <code class="inline">env</code> in the <code class="inline">.app</code> file:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="1468590495-1">{</span><span class="ss">application</span><span class="p">,</span><span class="w"> </span><span class="ss">ch_app</span><span class="p">,</span><span class="w">
 </span><span class="p" data-group-id="1468590495-2">[</span><span class="p" data-group-id="1468590495-3">{</span><span class="ss">description</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Channel allocator&quot;</span><span class="p" data-group-id="1468590495-3">}</span><span class="p">,</span><span class="w">
  </span><span class="p" data-group-id="1468590495-4">{</span><span class="ss">vsn</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;1&quot;</span><span class="p" data-group-id="1468590495-4">}</span><span class="p">,</span><span class="w">
  </span><span class="p" data-group-id="1468590495-5">{</span><span class="ss">modules</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1468590495-6">[</span><span class="ss">ch_app</span><span class="p">,</span><span class="w"> </span><span class="ss">ch_sup</span><span class="p">,</span><span class="w"> </span><span class="ss">ch3</span><span class="p" data-group-id="1468590495-6">]</span><span class="p" data-group-id="1468590495-5">}</span><span class="p">,</span><span class="w">
  </span><span class="p" data-group-id="1468590495-7">{</span><span class="ss">registered</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1468590495-8">[</span><span class="ss">ch3</span><span class="p" data-group-id="1468590495-8">]</span><span class="p" data-group-id="1468590495-7">}</span><span class="p">,</span><span class="w">
  </span><span class="p" data-group-id="1468590495-9">{</span><span class="ss">applications</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1468590495-10">[</span><span class="ss">kernel</span><span class="p">,</span><span class="w"> </span><span class="ss">stdlib</span><span class="p">,</span><span class="w"> </span><span class="ss">sasl</span><span class="p" data-group-id="1468590495-10">]</span><span class="p" data-group-id="1468590495-9">}</span><span class="p">,</span><span class="w">
  </span><span class="p" data-group-id="1468590495-11">{</span><span class="ss">mod</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1468590495-12">{</span><span class="ss">ch_app</span><span class="p">,</span><span class="p" data-group-id="1468590495-13">[</span><span class="p" data-group-id="1468590495-13">]</span><span class="p" data-group-id="1468590495-12">}</span><span class="p" data-group-id="1468590495-11">}</span><span class="p">,</span><span class="w">
  </span><span class="p" data-group-id="1468590495-14">{</span><span class="ss">env</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1468590495-15">[</span><span class="p" data-group-id="1468590495-16">{</span><span class="ss">file</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/usr/local/log&quot;</span><span class="p" data-group-id="1468590495-16">}</span><span class="p" data-group-id="1468590495-15">]</span><span class="p" data-group-id="1468590495-14">}</span><span class="w">
 </span><span class="p" data-group-id="1468590495-2">]</span><span class="p" data-group-id="1468590495-1">}</span><span class="p">.</span></code></pre><p><code class="inline">Par</code> is to be an atom. <code class="inline">Val</code> is any term. The application can retrieve the
value of a configuration parameter by calling <code class="inline">application:get_env(App, Par)</code> or
a number of similar functions. For more information, see module <a href="../apps/kernel/application.html"><code class="inline">application</code></a>
in Kernel.</p><p><em>Example:</em></p><pre><code class="makeup erlang" translate="no"><span class="c1">% erl</span><span class="w">
</span><span class="n">Erlang</span><span class="w"> </span><span class="p" data-group-id="7729557885-1">(</span><span class="n">BEAM</span><span class="p" data-group-id="7729557885-1">)</span><span class="w"> </span><span class="ss">emulator</span><span class="w"> </span><span class="ss">version</span><span class="w"> </span><span class="mf">5.2</span><span class="p">.</span><span class="mf">3.6</span><span class="w"> </span><span class="p" data-group-id="7729557885-2">[</span><span class="ss">hipe</span><span class="p" data-group-id="7729557885-2">]</span><span class="w"> </span><span class="p" data-group-id="7729557885-3">[</span><span class="nc">threads</span><span class="p">:</span><span class="mi">0</span><span class="p" data-group-id="7729557885-3">]</span><span class="w">

</span><span class="n">Eshell</span><span class="w"> </span><span class="n">V5</span><span class="p">.</span><span class="mf">2.3</span><span class="p">.</span><span class="mi">6</span><span class="w">  </span><span class="p" data-group-id="7729557885-4">(</span><span class="ss">abort</span><span class="w"> </span><span class="ss">with</span><span class="w"> </span><span class="err">^</span><span class="n">G</span><span class="p" data-group-id="7729557885-4">)</span><span class="gp unselectable">
1&gt; </span><span class="nc">application</span><span class="p">:</span><span class="nf">start</span><span class="p" data-group-id="7729557885-5">(</span><span class="ss">ch_app</span><span class="p" data-group-id="7729557885-5">)</span><span class="p">.</span><span class="w">
</span><span class="ss">ok</span><span class="gp unselectable">
2&gt; </span><span class="nc">application</span><span class="p">:</span><span class="nf">get_env</span><span class="p" data-group-id="7729557885-6">(</span><span class="ss">ch_app</span><span class="p">,</span><span class="w"> </span><span class="ss">file</span><span class="p" data-group-id="7729557885-6">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="7729557885-7">{</span><span class="ss">ok</span><span class="p">,</span><span class="s">&quot;/usr/local/log&quot;</span><span class="p" data-group-id="7729557885-7">}</span></code></pre><p>The values in the <code class="inline">.app</code> file can be overridden by values in a <em>system
configuration file</em>. This is a file that contains configuration parameters for
relevant applications:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="6989918761-1">[</span><span class="p" data-group-id="6989918761-2">{</span><span class="n">Application1</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6989918761-3">[</span><span class="p" data-group-id="6989918761-4">{</span><span class="n">Par11</span><span class="p">,</span><span class="n">Val11</span><span class="p" data-group-id="6989918761-4">}</span><span class="p">,</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="p" data-group-id="6989918761-3">]</span><span class="p" data-group-id="6989918761-2">}</span><span class="p">,</span><span class="w">
 </span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="p">,</span><span class="w">
 </span><span class="p" data-group-id="6989918761-5">{</span><span class="n">ApplicationN</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6989918761-6">[</span><span class="p" data-group-id="6989918761-7">{</span><span class="n">ParN1</span><span class="p">,</span><span class="n">ValN1</span><span class="p" data-group-id="6989918761-7">}</span><span class="p">,</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="p" data-group-id="6989918761-6">]</span><span class="p" data-group-id="6989918761-5">}</span><span class="p" data-group-id="6989918761-1">]</span><span class="p">.</span></code></pre><p>The system configuration is to be called <code class="inline">Name.config</code> and Erlang is to be
started with the command-line argument <code class="inline">-config Name</code>. For details, see
<a href="../apps/kernel/config.html"><code class="inline">config</code></a> in Kernel.</p><p><em>Example:</em></p><p>A file <code class="inline">test.config</code> is created with the following contents:</p><pre><code class="text">[{ch_app, [{file, &quot;testlog&quot;}]}].</code></pre><p>The value of <code class="inline">file</code> overrides the value of <code class="inline">file</code> as defined in the <code class="inline">.app</code> file:</p><pre><code class="makeup erlang" translate="no"><span class="c1">% erl -config test</span><span class="w">
</span><span class="n">Erlang</span><span class="w"> </span><span class="p" data-group-id="3448296355-1">(</span><span class="n">BEAM</span><span class="p" data-group-id="3448296355-1">)</span><span class="w"> </span><span class="ss">emulator</span><span class="w"> </span><span class="ss">version</span><span class="w"> </span><span class="mf">5.2</span><span class="p">.</span><span class="mf">3.6</span><span class="w"> </span><span class="p" data-group-id="3448296355-2">[</span><span class="ss">hipe</span><span class="p" data-group-id="3448296355-2">]</span><span class="w"> </span><span class="p" data-group-id="3448296355-3">[</span><span class="nc">threads</span><span class="p">:</span><span class="mi">0</span><span class="p" data-group-id="3448296355-3">]</span><span class="w">

</span><span class="n">Eshell</span><span class="w"> </span><span class="n">V5</span><span class="p">.</span><span class="mf">2.3</span><span class="p">.</span><span class="mi">6</span><span class="w">  </span><span class="p" data-group-id="3448296355-4">(</span><span class="ss">abort</span><span class="w"> </span><span class="ss">with</span><span class="w"> </span><span class="err">^</span><span class="n">G</span><span class="p" data-group-id="3448296355-4">)</span><span class="gp unselectable">
1&gt; </span><span class="nc">application</span><span class="p">:</span><span class="nf">start</span><span class="p" data-group-id="3448296355-5">(</span><span class="ss">ch_app</span><span class="p" data-group-id="3448296355-5">)</span><span class="p">.</span><span class="w">
</span><span class="ss">ok</span><span class="gp unselectable">
2&gt; </span><span class="nc">application</span><span class="p">:</span><span class="nf">get_env</span><span class="p" data-group-id="3448296355-6">(</span><span class="ss">ch_app</span><span class="p">,</span><span class="w"> </span><span class="ss">file</span><span class="p" data-group-id="3448296355-6">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="3448296355-7">{</span><span class="ss">ok</span><span class="p">,</span><span class="s">&quot;testlog&quot;</span><span class="p" data-group-id="3448296355-7">}</span></code></pre><p>If <a href="release_handling.html#sys">release handling</a> is used, exactly one system
configuration file is to be used and that file is to be called <code class="inline">sys.config</code>.</p><p>The values in the <code class="inline">.app</code> file and the values in a system configuration file can
be overridden directly from the command line:</p><pre><code class="text">% erl -ApplName Par1 Val1 ... ParN ValN</code></pre><p><em>Example:</em></p><pre><code class="makeup erlang" translate="no"><span class="c1">% erl -ch_app file &#39;&quot;testlog&quot;&#39;</span><span class="w">
</span><span class="n">Erlang</span><span class="w"> </span><span class="p" data-group-id="2572407760-1">(</span><span class="n">BEAM</span><span class="p" data-group-id="2572407760-1">)</span><span class="w"> </span><span class="ss">emulator</span><span class="w"> </span><span class="ss">version</span><span class="w"> </span><span class="mf">5.2</span><span class="p">.</span><span class="mf">3.6</span><span class="w"> </span><span class="p" data-group-id="2572407760-2">[</span><span class="ss">hipe</span><span class="p" data-group-id="2572407760-2">]</span><span class="w"> </span><span class="p" data-group-id="2572407760-3">[</span><span class="nc">threads</span><span class="p">:</span><span class="mi">0</span><span class="p" data-group-id="2572407760-3">]</span><span class="w">

</span><span class="n">Eshell</span><span class="w"> </span><span class="n">V5</span><span class="p">.</span><span class="mf">2.3</span><span class="p">.</span><span class="mi">6</span><span class="w">  </span><span class="p" data-group-id="2572407760-4">(</span><span class="ss">abort</span><span class="w"> </span><span class="ss">with</span><span class="w"> </span><span class="err">^</span><span class="n">G</span><span class="p" data-group-id="2572407760-4">)</span><span class="gp unselectable">
1&gt; </span><span class="nc">application</span><span class="p">:</span><span class="nf">start</span><span class="p" data-group-id="2572407760-5">(</span><span class="ss">ch_app</span><span class="p" data-group-id="2572407760-5">)</span><span class="p">.</span><span class="w">
</span><span class="ss">ok</span><span class="gp unselectable">
2&gt; </span><span class="nc">application</span><span class="p">:</span><span class="nf">get_env</span><span class="p" data-group-id="2572407760-6">(</span><span class="ss">ch_app</span><span class="p">,</span><span class="w"> </span><span class="ss">file</span><span class="p" data-group-id="2572407760-6">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="2572407760-7">{</span><span class="ss">ok</span><span class="p">,</span><span class="s">&quot;testlog&quot;</span><span class="p" data-group-id="2572407760-7">}</span></code></pre><h2 id="application-start-types" class="section-heading"><a href="#application-start-types" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Application Start Types</span></h2><p>A <em>start type</em> is defined when starting the application:</p><pre><code class="text">application:start(Application, Type)</code></pre><p><code class="inline">application:start(Application)</code> is the same as calling
<code class="inline">application:start(Application, temporary)</code>. The type can also be <code class="inline">permanent</code> or
<code class="inline">transient</code>:</p><ul><li>If a permanent application terminates, all other applications and the runtime
system are also terminated.</li><li>If a transient application terminates with reason <code class="inline">normal</code>, this is reported
but no other applications are terminated. If a transient application
terminates abnormally, that is with any other reason than <code class="inline">normal</code>, all other
applications and the runtime system are also terminated.</li><li>If a temporary application terminates, this is reported but no other
applications are terminated.</li></ul><p>An application can always be stopped explicitly by calling <a href="../apps/kernel/application.html#stop/1"><code class="inline">application:stop/1</code></a>.
Regardless of the mode, no other applications are affected.</p><p>The transient mode is of little practical use, since when a supervision tree
terminates, the reason is set to <code class="inline">shutdown</code>, not <code class="inline">normal</code>.</p>

</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

      <a href="spec_proc.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
sys and proc_lib
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="included_applications.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
Included Applications
        </span>
      </a>

  </div>
</div>
    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="Erlang System Documentation.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.1) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>
<p>Copyright © 1996-2025 <a href="https://www.ericsson.com">Ericsson AB</a></p>
    </footer>
  </div>
</main>
</div>
  <script defer src="https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.min.js"></script>
  <script>
  let initialized = false;

  window.addEventListener("exdoc:loaded", () => {
      if (!initialized) {
      mermaid.initialize({
          startOnLoad: false,
          theme: document.body.className.includes("dark") ? "dark" : "default"
      });
      initialized = true;
      }

      let id = 0;
      for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
          graphEl.innerHTML = svg;
          bindFunctions?.(graphEl);
          preEl.insertAdjacentElement("afterend", graphEl);
          preEl.remove();
      });
      }
  });
  </script>

  </body>
</html>
