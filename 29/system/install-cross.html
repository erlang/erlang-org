<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.1">
    <meta name="project" content="Erlang System Documentation v29.0-rc0">


<meta name="exdoc:full-text-search-url" content="/doc/search.html?v=29&q=">
<meta name="major-vsn" content="29">
<link rel="canonical" href="https://www.erlang.org/docs/29/system/install-cross.html" />
<meta name="exdoc:autocomplete" content="off">
    <title>Cross Compiling Erlang/OTP — Erlang System Documentation v29.0-rc0</title>

    <link rel="stylesheet" href="dist/html-erlang-ZK43ZOAC.css" />

    <script defer src="dist/sidebar_items-6EAA27B6.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-DPJLHKSM.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="../index.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="Erlang System Documentation" />
        </a>

      <div>
        <a href="../index.html" class="sidebar-projectName" translate="no">
Erlang System Documentation
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v29.0-rc0
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-extra" id="main" data-type="extras">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of Erlang System Documentation</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>Cross Compiling Erlang/OTP</h1>


      <a href="https://github.com/erlang/otp/blob/master/HOWTO/INSTALL-CROSS.md#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


<h2 id="introduction" class="section-heading"><a href="#introduction" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Introduction</span></h2><p>This document describes how to cross compile Erlang/OTP-29. 
You are advised to read the whole document before attempting to cross
compile Erlang/OTP. However, before reading this document, you should read
<a href="install.html" title="">Building and Installing Erlang/OTP</a> which describes building
and installing Erlang/OTP in general.</p><p>In the text below <code class="inline">$ERL_TOP</code> is the top directory in the Erlang/OTP source tree.</p><h3 id="otp_build-versus-configure-make" class="section-heading"><a href="#otp_build-versus-configure-make" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">otp_build Versus configure/make</span></h3><p>Building Erlang/OTP can be done either by using the <code class="inline">$ERL_TOP/otp_build</code>
script, or by invoking <code class="inline">$ERL_TOP/configure</code> and <code class="inline">make</code> directly. Building using
<code class="inline">otp_build</code> is easier since it involves fewer steps, but the <code class="inline">otp_build</code> build
procedure is not as flexible as the <code class="inline">configure</code>/<code class="inline">make</code> build procedure. Note
that <code class="inline">otp_build configure</code> will produce a default configuration that differs
from what <code class="inline">configure</code> will produce by default. For example, currently
<code class="inline">--disable-dynamic-ssl-lib</code> is added to the <code class="inline">configure</code> command line arguments
unless <code class="inline">--enable-dynamic-ssl-lib</code> has been explicitly passed. The defaults used by
<code class="inline">otp_build configure</code> may change at any time without prior notice.</p><h3 id="cross-configuration" class="section-heading"><a href="#cross-configuration" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Cross Configuration</span></h3><p>The <code class="inline">$ERL_TOP/xcomp/erl-xcomp.conf.template</code> file contains all available cross
configuration variables and can be used as a template when creating a cross
compilation configuration. All <a href="#currently-used-configuration-variables" title="">cross configuration variables</a> are also
listed at the end of this document. For examples of working cross
configurations see the <code class="inline">$ERL_TOP/xcomp/erl-xcomp-TileraMDE2.0-tilepro.conf</code>
file and the <code class="inline">$ERL_TOP/xcomp/erl-xcomp-x86_64-saf-linux-gnu.conf</code> file. If the
default behavior of a variable is satisfactory, the variable does not need to
be set. However, the <code class="inline">configure</code> script will issue a warning when a default
value is used. When a variable has been set, no warning will be issued.</p><p>A cross configuration file can be passed to <code class="inline">otp_build configure</code> using the
<code class="inline">--xcomp-conf</code> command line argument. Note that <code class="inline">configure</code> does not accept
this command line argument. When using the <code class="inline">configure</code> script directly, pass
the configuration variables as arguments to <code class="inline">configure</code> using a
<code class="inline">&lt;VARIABLE&gt;=&lt;VALUE&gt;</code> syntax. Variables can also be passed as environment
variables to <code class="inline">configure</code>. However, if you pass the configuration in the
environment, make sure to unset all of these environment variables before
invoking <code class="inline">make</code>; otherwise, the environment variables might set make variables
in some applications, or parts of some applications, and you may end up with
an erroneously configured build. </p><h3 id="what-can-be-cross-compiled" class="section-heading"><a href="#what-can-be-cross-compiled" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">What can be Cross Compiled?</span></h3><p>All Erlang/OTP applications except the <code class="inline">wx</code> application can be cross compiled.
The build of the <code class="inline">wx</code> driver will currently be automatically disabled when
cross compiling.</p><h3 id="compatibility" class="section-heading"><a href="#compatibility" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Compatibility</span></h3><p>The build system, including cross compilation configuration variables used,
may be subject to non backward compatible changes without prior notice.
Current cross build system has been tested when cross compiling some Linux/GNU
systems, but has only been partly tested on other platforms.</p><h3 id="patches" class="section-heading"><a href="#patches" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Patches</span></h3><p>Please submit any patches for cross compiling in a way consistent with this
system. All input is welcome as we have a very limited set of cross compiling
environments to test with. If a new configuration variable is needed, add it
to <code class="inline">$ERL_TOP/xcomp/erl-xcomp.conf.template</code>, and use it in <code class="inline">configure.in</code>.
Other files that might need to be updated are:</p><ul><li><code class="inline">$ERL_TOP/xcomp/erl-xcomp-vars.sh</code></li><li><code class="inline">$ERL_TOP/erl-build-tool-vars.sh</code></li><li><code class="inline">$ERL_TOP/erts/aclocal.m4</code></li><li><code class="inline">$ERL_TOP/xcomp/README.md</code></li><li><code class="inline">$ERL_TOP/xcomp/erl-xcomp-*.conf</code></li></ul><p>Note that this might be an incomplete list of files that need to be updated.</p><p>General information on how to submit patches can be found at:
  <a href="http://wiki.github.com/erlang/otp/submitting-patches">http://wiki.github.com/erlang/otp/submitting-patches</a></p><h2 id="build-and-install-procedure" class="section-heading"><a href="#build-and-install-procedure" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Build and Install Procedure</span></h2><p>We will first go through the <code class="inline">configure</code>/<code class="inline">make</code> build procedure which people
probably are most familiar with.</p><h3 id="building-with-configure-make-directly" class="section-heading"><a href="#building-with-configure-make-directly" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Building With configure/make Directly</span></h3><p>Change directory into the top directory of the Erlang/OTP source tree.</p><pre><code class="makeup shell" translate="no"><span class="gp unselectable">$ </span><span class="">cd $ERL_TOP
</span></code></pre><p>In order to compile Erlang code, a small Erlang bootstrap system has to be
built, or an Erlang/OTP system of the same release as the one being built
has to be provided in the <code class="inline">$PATH</code>. The Erlang/OTP for the target system will
be built using this Erlang system, together with the cross compilation tools
provided.</p><p>If you want to build using a compatible Erlang/OTP system in the <code class="inline">$PATH</code>,
jump to <a href="#cross-building-the-system" title="">Cross Building the System</a>.</p><h4>Building a Bootstrap System</h4><pre><code class="makeup shell" translate="no"><span class="gp unselectable">$ </span><span class="">./configure --enable-bootstrap-only
</span><span class="gp unselectable">$ </span><span class="">make
</span></code></pre><p>The <code class="inline">--enable-bootstrap-only</code> argument to <code class="inline">configure</code> isn't strictly necessary,
but will speed things up. It will only run <code class="inline">configure</code> in applications
necessary for the bootstrap, and will disable a lot of things not needed by
the bootstrap system. If you run <code class="inline">configure</code> without <code class="inline">--enable-boostrap-only</code>
you also have to run make as <code class="inline">make bootstrap</code>; otherwise, the whole system will
be built.</p><h4 id="cross-building-the-system">Cross Building the System</h4><pre><code class="makeup shell" translate="no"><span class="gp unselectable">$ </span><span class="">./configure --host=&lt;HOST&gt; --build=&lt;BUILD&gt; [Other Config Args]
</span><span class="gp unselectable">$ </span><span class="">make
</span></code></pre><p><code class="inline">&lt;HOST&gt;</code> is the host/target system that you build for. It does not have to be
a full <code class="inline">CPU-VENDOR-OS</code> triplet, but can be. The full canonicalized
<code class="inline">CPU-VENDOR-OS</code> triplet will be created by executing
<code class="inline">$ERL_TOP/make/autoconf/config.sub &lt;HOST&gt;</code>. If <code class="inline">config.sub</code> fails, you need
to be more specific.</p><p><code class="inline">&lt;BUILD&gt;</code> should equal the <code class="inline">CPU-VENDOR-OS</code> triplet of the system that you
build on. If you execute <code class="inline">$ERL_TOP/make/autoconf/config.guess</code>, it will in
most cases print the triplet you want to use for this.</p><p>The use of <code class="inline">&lt;HOST&gt;</code> and <code class="inline">&lt;BUILD&gt;</code> values that differ will trigger cross
compilation. Note that if <code class="inline">&lt;HOST&gt;</code> and <code class="inline">&lt;BUILD&gt;</code> differ, the canonicalized
values of <code class="inline">&lt;HOST&gt;</code> and <code class="inline">&lt;BUILD&gt;</code> must also differ. If they do not, the
configuration will fail.</p><p>Pass the cross compilation variables as command line arguments to <code class="inline">configure</code>
using a <code class="inline">&lt;VARIABLE&gt;=&lt;VALUE&gt;</code> syntax.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>You can <em>not</em> pass a configuration file using the <code class="inline">--xcomp-conf</code>
argument when you invoke <code class="inline">configure</code> directly. The <code class="inline">--xcomp-conf</code> argument
can only be passed to <code class="inline">otp_build configure</code>.</p></section><p><code class="inline">make</code> will verify that the Erlang/OTP system used when building is of the
same release as the system being built, and will fail if this is not the case.
It is possible, however not recommended, to force the cross compilation even
though the wrong Erlang/OTP system is used. This by invoking <code class="inline">make</code> like this:
<code class="inline">make ERL_XCOMP_FORCE_DIFFERENT_OTP=yes</code>.</p><section role="note" class="admonition warning"><h4 class="admonition-title warning">Warning</h4><p>Invoking <code class="inline">make ERL_XCOMP_FORCE_DIFFERENT_OTP=yes</code> might fail,
silently produce suboptimal code, or silently produce erroneous code.</p></section><h4>Installing</h4><p>You can either install using the <a href="#installing-using-paths-determined-by-configure">Installing Using Paths Determined by configure</a>, or <a href="#installing-manually">install manually</a>.</p><p><a href="" id="installing-using-paths-determined-by-configure"></a></p><h5>Installing Using Paths Determined by configure</h5><pre><code class="makeup shell" translate="no"><span class="gp unselectable">$ </span><span class="">make install DESTDIR=&lt;TEMPORARY_PREFIX&gt;
</span></code></pre><p><code class="inline">make install</code> will install at a location specified when doing <code class="inline">configure</code>.
<code class="inline">configure</code> arguments specifying where the installation should reside are for
example: <code class="inline">--prefix</code>, <code class="inline">--exec-prefix</code>, <code class="inline">--libdir</code>, <code class="inline">--bindir</code>, etc. By default
it will install under <code class="inline">/usr/local</code>. You typically do not want to install your
cross build under <code class="inline">/usr/local</code> on your build machine. Using <a href="http://www.gnu.org/prep/standards/html_node/DESTDIR.html" title="">DESTDIR</a>
will cause the installation paths to be prefixed by <code class="inline">$DESTDIR</code>. This makes it
possible to install and package the installation on the build machine without
having to place the installation in the same directory on the build machine as
it should be executed from on the target machine.</p><p>When <code class="inline">make install</code> has finished, change directory into <code class="inline">$DESTDIR</code>, package
the system, move it to the target machine, and unpack it. Note that the
installation will only be working on the target machine at the location
determined by <code class="inline">configure</code>.</p><p><a href="" id="installing-manually"></a></p><h5>Installing Manually</h5><pre><code class="makeup shell" translate="no"><span class="gp unselectable">$ </span><span class="">make release RELEASE_ROOT=&lt;RELEASE_DIR&gt;
</span></code></pre><p><code class="inline">make release</code> will copy what you have built for the target machine to
<code class="inline">&lt;RELEASE_DIR&gt;</code>. The <code class="inline">Install</code> script will not be run. The content of
<code class="inline">&lt;RELEASE_DIR&gt;</code> is what by default ends up in <code class="inline">/usr/local/lib/erlang</code>.</p><p>The <code class="inline">Install</code> script used when installing Erlang/OTP requires common Unix
tools such as <code class="inline">sed</code> to be present in your <code class="inline">$PATH</code>. If your target system
does not have such tools, you need to run the <code class="inline">Install</code> script on your
build machine before packaging Erlang/OTP. The <code class="inline">Install</code> script should
currently be invoked as follows in the directory where it resides
(the top directory):</p><pre><code class="makeup shell" translate="no"><span class="gp unselectable">$ </span><span class="">./Install [-cross] [-minimal|-sasl] &lt;ERL_ROOT&gt;
</span></code></pre><p>where:</p><ul><li>  <code class="inline">-minimal</code> Creates an installation that starts up a minimal amount
of applications, i.e., only <code class="inline">kernel</code> and <code class="inline">stdlib</code> are started. The
minimal system is normally enough, and is what <code class="inline">make install</code> uses.</li><li>  <code class="inline">-sasl</code> Creates an installation that also starts up the <code class="inline">sasl</code>
application.</li><li>  <code class="inline">-cross</code> For cross compilation. Informs the install script that it
is run on the build machine.</li><li>  <code class="inline">&lt;ERL_ROOT&gt;</code> - The absolute path to the Erlang installation to use
at run time. This is often the same as the current working directory,
but does not have to be. It can follow any other path through the file
system to the same directory.</li></ul><p>If neither <code class="inline">-minimal</code>, nor <code class="inline">-sasl</code> is passed as argument you will be
prompted.</p><p><a href="" id="install-release"></a></p><p>You can now either do:</p><ul><li><p>  Decide where the installation should be located on the target machine,
run the <code class="inline">Install</code> script on the build machine, and package the installed
installation. The installation just need to be unpacked at the right
location on the target machine:</p><pre><code class="makeup shell" translate="no"><span class="gp unselectable">$ </span><span class="">cd &lt;RELEASE_DIR&gt;
</span><span class="gp unselectable">$ </span><span class="">./Install -cross [-minimal|-sasl] &lt;ABSOLUTE_INSTALL_DIR_ON_TARGET&gt;
</span></code></pre></li></ul><p>or:</p><ul><li><p>  Package the installation in <code class="inline">&lt;RELEASE_DIR&gt;</code>, place it wherever you want
on your target machine, and run the <code class="inline">Install</code> script on your target
machine:</p><pre><code class="makeup shell" translate="no"><span class="gp unselectable">$ </span><span class="">cd &lt;ABSOLUTE_INSTALL_DIR_ON_TARGET&gt;
</span><span class="gp unselectable">$ </span><span class="">./Install [-minimal|-sasl] &lt;ABSOLUTE_INSTALL_DIR_ON_TARGET&gt;
</span></code></pre></li></ul><h3 id="building-with-the-otp_build-script" class="section-heading"><a href="#building-with-the-otp_build-script" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Building With the otp_build Script</span></h3><pre><code class="makeup shell" translate="no"><span class="gp unselectable">$ </span><span class="">cd $ERL_TOP
</span><span class="">
</span><span class="gp unselectable">$ </span><span class="">./otp_build configure --xcomp-conf=&lt;FILE&gt; [Other Config Args]
</span></code></pre><p>alternatively:</p><pre><code class="makeup shell" translate="no"><span class="gp unselectable">$ </span><span class="">./otp_build configure --host=&lt;HOST&gt; --build=&lt;BUILD&gt; [Other Config Args]
</span></code></pre><p>If you have your cross compilation configuration in a file, pass it using the
<code class="inline">--xcomp-conf=&lt;FILE&gt;</code> command line argument. If not, pass <code class="inline">--host=&lt;HOST&gt;</code>,
<code class="inline">--build=&lt;BUILD&gt;</code>, and the configuration variables using a <code class="inline">&lt;VARIABLE&gt;=&lt;VALUE&gt;</code>
syntax on the command line  (same as in <a href="#cross-building-the-system" title="">Cross Building the System</a>). Note that <code class="inline">&lt;HOST&gt;</code> and <code class="inline">&lt;BUILD&gt;</code>
have to be passed one way or the other; either by using <code class="inline">erl_xcomp_host=&lt;HOST&gt;</code>
and <code class="inline">erl_xcomp_build=&lt;BUILD&gt;</code> in the configuration file, or by using the
<code class="inline">--host=&lt;HOST&gt;</code>, and <code class="inline">--build=&lt;BUILD&gt;</code> command line arguments.</p><p><code class="inline">otp_build configure</code> will configure both for the bootstrap system on the
build machine and the cross host system.</p><pre><code class="makeup shell" translate="no"><span class="gp unselectable">$ </span><span class="">./otp_build boot -a
</span></code></pre><p><code class="inline">otp_build boot -a</code> will first build a bootstrap system for the build machine
and then do the cross build of the system.</p><pre><code class="makeup shell" translate="no"><span class="gp unselectable">$ </span><span class="">./otp_build release -a &lt;RELEASE_DIR&gt;
</span></code></pre><p><code class="inline">otp_build release -a</code> will do the same as <code class="inline">make release</code> in [Installing Manually],
and you will after this have to do a <a href="#install-release">manual ./Install</a> on either
the host or target.</p><h2 id="building-and-installing-the-documentation" class="section-heading"><a href="#building-and-installing-the-documentation" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Building and Installing the Documentation</span></h2><p>After the system has been cross built you can build and install the
documentation the same way as after a native build of the system. See the
<a href="install.html#How-to-Build-and-Install-Erlang-OTP_How-to-Build-the-Documentation" title="">How to Build the Documentation</a> section in the <a href="install.html" title="">Building and Installing Erlang/OTP</a>
document for information on how to build the documentation.</p><h2 id="testing-the-cross-compiled-system" class="section-heading"><a href="#testing-the-cross-compiled-system" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Testing the cross compiled system</span></h2><p>Some of the tests that come with erlang use native code to test. This means
that when cross compiling erlang you also have to cross compile test suites
in order to run tests on the target host. To do this you first have to release
the tests as usual.</p><pre><code class="makeup shell" translate="no"><span class="gp unselectable">$ </span><span class="">make release_tests
</span></code></pre><p>or</p><pre><code class="makeup shell" translate="no"><span class="gp unselectable">$ </span><span class="">./otp_build tests
</span></code></pre><p>The tests will be released into <code class="inline">$ERL_TOP/release/tests</code>. After releasing the
tests you have to install the tests on the build machine. You supply the same
xcomp file as to <code class="inline">./otp_build</code> in <a href="#building-with-the-otp_build-script">Building With the otp_build Script</a>.</p><pre><code class="makeup shell" translate="no"><span class="gp unselectable">$ </span><span class="">cd $ERL_TOP/release/tests/test_server/
</span><span class="gp unselectable">$ </span><span class="">$ERL_TOP/bootstrap/bin/erl -eval &#39;ts:install([{xcomp,&quot;&lt;FILE&gt;&quot;}])&#39; -s ts compile_testcases -s init stop
</span></code></pre><p>You should get a lot of printouts as the testcases are compiled. Once done you
should copy the entire <code class="inline">$ERL_TOP/release/tests</code> folder to the cross host system.</p><p>Then go to the cross host system and setup the erlang installed
to be in your <code class="inline">$PATH</code>. Then go to what previously was
<code class="inline">$ERL_TOP/release/tests/test_server</code> and issue the following command.</p><pre><code class="makeup shell" translate="no"><span class="gp unselectable">$ </span><span class="">erl -s ts install -s ts run all_tests -s init stop
</span></code></pre><p>The configure should be skipped and all tests should hopefully pass. For more
details about how to use ts run <code class="inline">erl -s ts help -s init stop</code></p><h2 id="currently-used-configuration-variables" class="section-heading"><a href="#currently-used-configuration-variables" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Currently Used Configuration Variables</span></h2><p>Note that you cannot define arbitrary variables in a cross compilation
configuration file. Only the ones listed below will be guaranteed to be
visible throughout the whole execution of all <code class="inline">configure</code> scripts. Other
variables needs to be defined as arguments to <code class="inline">configure</code> or exported in
the environment.</p><h3 id="variables-for-otp_build-only" class="section-heading"><a href="#variables-for-otp_build-only" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Variables for otp_build Only</span></h3><p>Variables in this section are only used, when configuring Erlang/OTP for
cross compilation using <code class="inline">$ERL_TOP/otp_build configure</code>.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>These variables currently have <em>no</em> effect if you configure using
the <code class="inline">configure</code> script directly.</p></section><ul><li><p>  <code class="inline">erl_xcomp_build</code> - The build system used. This value will be passed as
<code class="inline">--build=$erl_xcomp_build</code> argument to the <code class="inline">configure</code> script. It does
not have to be a full <code class="inline">CPU-VENDOR-OS</code> triplet, but can be. The full
<code class="inline">CPU-VENDOR-OS</code> triplet will be created by
<code class="inline">$ERL_TOP/make/autoconf/config.sub $erl_xcomp_build</code>. If set to <code class="inline">guess</code>,
the build system will be guessed using
<code class="inline">$ERL_TOP/make/autoconf/config.guess</code>.</p></li><li><p>  <code class="inline">erl_xcomp_host</code> - Cross host/target system to build for. This value will
be passed as <code class="inline">--host=$erl_xcomp_host</code> argument to the <code class="inline">configure</code> script.
It does not have to be a full <code class="inline">CPU-VENDOR-OS</code> triplet, but can be. The
full <code class="inline">CPU-VENDOR-OS</code> triplet will be created by
<code class="inline">$ERL_TOP/make/autoconf/config.sub $erl_xcomp_host</code>.</p></li><li><p>  <code class="inline">erl_xcomp_configure_flags</code> - Extra configure flags to pass to the
<code class="inline">configure</code> script.</p></li></ul><h3 id="cross-compiler-and-other-tools" class="section-heading"><a href="#cross-compiler-and-other-tools" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Cross Compiler and Other Tools</span></h3><p>If the cross compilation tools are prefixed by <code class="inline">&lt;HOST&gt;-</code> you probably do
not need to set these variables (where <code class="inline">&lt;HOST&gt;</code> is what has been passed as
<code class="inline">--host=&lt;HOST&gt;</code> argument to <code class="inline">configure</code>). Compiler and other tools can
otherwise be identified via variables passed as arguments on the command
line to <code class="inline">configure</code>, in then xcomp file, or as environment variables. For
more information see the <a href="install.html#advanced-configuration-and-build-of-erlang-otp_Configuring_Important-Variables-Inspected-by-configure" title="">Important Variables Inspected by configure</a>
section in <a href="install.html" title="">Building and Installing Erlang/OTP</a>.</p><h3 id="cross-system-root-locations" class="section-heading"><a href="#cross-system-root-locations" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Cross System Root Locations</span></h3><ul><li><p>  <code class="inline">erl_xcomp_sysroot</code> - The absolute path to the system root of the cross
compilation environment. Currently, the <code class="inline">crypto</code>, <code class="inline">odbc</code>, <code class="inline">ssh</code> and
<code class="inline">ssl</code> applications need the system root. These applications will be
skipped if the system root has not been set. The system root might be
needed for other things too. If this is the case and the system root
has not been set, <code class="inline">configure</code> will fail and request you to set it.</p></li><li><p>  <code class="inline">erl_xcomp_isysroot</code> - The absolute path to the system root for includes
of the cross compilation environment. If not set, this value defaults
to <code class="inline">$erl_xcomp_sysroot</code>, i.e., only set this value if the include system
root path is not the same as the system root path.</p></li></ul><h3 id="optional-feature-and-bug-tests" class="section-heading"><a href="#optional-feature-and-bug-tests" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Optional Feature, and Bug Tests</span></h3><p>These tests cannot (always) be done automatically when cross compiling. You
usually do not need to set these variables.</p><section role="note" class="admonition warning"><h4 class="admonition-title warning">Warning</h4><p>Setting these variables wrong may cause hard to detect
runtime errors. If you need to change these values, <em>really</em> make sure
that the values are correct.</p></section><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>Some of these values will override results of tests performed
by <code class="inline">configure</code>, and some will not be used until <code class="inline">configure</code> is sure that
it cannot figure the result out.</p></section><p>The <code class="inline">configure</code> script will issue a warning when a default value is used.
When a variable has been set, no warning will be issued.</p><ul><li><p>  <code class="inline">erl_xcomp_after_morecore_hook</code> - <code class="inline">yes|no</code>. Defaults to <code class="inline">no</code>. If <code class="inline">yes</code>,
the target system must have a working <code class="inline">__after_morecore_hook</code> that can be
used for tracking used <code class="inline">malloc()</code> implementations core memory usage.
This is currently only used by unsupported features.</p></li><li><p>  <code class="inline">erl_xcomp_bigendian</code> - <code class="inline">yes|no</code>. No default. If <code class="inline">yes</code>, the target system
must be big endian. If <code class="inline">no</code>, little endian. This can often be
automatically detected, but not always. If not automatically detected,
<code class="inline">configure</code> will fail unless this variable is set. Since no default
value is used, <code class="inline">configure</code> will try to figure this out automatically.</p></li><li><p>  <code class="inline">erl_xcomp_double_middle</code> - <code class="inline">yes|no</code>. Defaults to <code class="inline">no</code>. 
If <code class="inline">yes</code>, the target system must have doubles in &quot;middle-endian&quot; format. If
<code class="inline">no</code>, it has &quot;regular&quot; endianness.  </p></li><li><p>  <code class="inline">erl_xcomp_clock_gettime_cpu_time</code> - <code class="inline">yes|no</code>. Defaults to <code class="inline">no</code>. If <code class="inline">yes</code>,
the target system must have a working <code class="inline">clock_gettime()</code> implementation
that can be used for retrieving process CPU time.</p></li><li><p>  <code class="inline">erl_xcomp_getaddrinfo</code> - <code class="inline">yes|no</code>. Defaults to <code class="inline">no</code>. If <code class="inline">yes</code>, the target
system must have a working <code class="inline">getaddrinfo()</code> implementation that can
handle both IPv4 and IPv6.</p></li><li><p>  <code class="inline">erl_xcomp_gethrvtime_procfs_ioctl</code> - <code class="inline">yes|no</code>. Defaults to <code class="inline">no</code>. If <code class="inline">yes</code>,
the target system must have a working <code class="inline">gethrvtime()</code> implementation and
is used with procfs <code class="inline">ioctl()</code>.</p></li><li><p>  <code class="inline">erl_xcomp_dlsym_brk_wrappers</code> - <code class="inline">yes|no</code>. Defaults to <code class="inline">no</code>. If <code class="inline">yes</code>, the
target system must have a working <code class="inline">dlsym(RTLD_NEXT, &lt;S&gt;)</code> implementation
that can be used on <code class="inline">brk</code> and <code class="inline">sbrk</code> symbols used by the <code class="inline">malloc()</code>
implementation in use, and by this track the <code class="inline">malloc()</code> implementations
core memory usage. This is currently only used by unsupported features.</p></li><li><p>  <code class="inline">erl_xcomp_kqueue</code> - <code class="inline">yes|no</code>. Defaults to <code class="inline">no</code>. If <code class="inline">yes</code>, the target
system must have a working <code class="inline">kqueue()</code> implementation that returns a file
descriptor which can be used by <code class="inline">poll()</code> and/or <code class="inline">select()</code>. If <code class="inline">no</code> and
the target system has not got <code class="inline">epoll()</code> or <code class="inline">/dev/poll</code>, the kernel-poll
feature will be disabled.</p></li><li><p>  <code class="inline">erl_xcomp_linux_clock_gettime_correction</code> - <code class="inline">yes|no</code>. Defaults to <code class="inline">yes</code> on
Linux; otherwise, <code class="inline">no</code>. If <code class="inline">yes</code>, <code class="inline">clock_gettime(CLOCK_MONOTONIC, _)</code> on
the target system must work. This variable is recommended to be set to
<code class="inline">no</code> on Linux systems with kernel versions less than 2.6.</p></li><li><p>  <code class="inline">erl_xcomp_linux_nptl</code> - <code class="inline">yes|no</code>. Defaults to <code class="inline">yes</code> on Linux; otherwise,
<code class="inline">no</code>. If <code class="inline">yes</code>, the target system must have NPTL (Native POSIX Thread
Library). Older Linux systems have LinuxThreads instead of NPTL (Linux
kernel versions typically less than 2.6).</p></li><li><p>  <code class="inline">erl_xcomp_linux_usable_sigaltstack</code> - <code class="inline">yes|no</code>. Defaults to <code class="inline">yes</code> on Linux;
otherwise, <code class="inline">no</code>. If <code class="inline">yes</code>, <code class="inline">sigaltstack()</code> must be usable on the target
system. <code class="inline">sigaltstack()</code> on Linux kernel versions less than 2.4 are
broken.</p></li><li><p>  <code class="inline">erl_xcomp_linux_usable_sigusrx</code> - <code class="inline">yes|no</code>. Defaults to <code class="inline">yes</code>. If <code class="inline">yes</code>,
the <code class="inline">SIGUSR1</code> and <code class="inline">SIGUSR2</code> signals must be usable by the ERTS. Old
LinuxThreads thread libraries (Linux kernel versions typically less than
2.2) used these signals and made them unusable by the ERTS.</p></li><li><p>  <code class="inline">erl_xcomp_poll</code> - <code class="inline">yes|no</code>. Defaults to <code class="inline">no</code> on Darwin/MacOSX; otherwise,
<code class="inline">yes</code>. If <code class="inline">yes</code>, the target system must have a working <code class="inline">poll()</code>
implementation that also can handle devices. If <code class="inline">no</code>, <code class="inline">select()</code> will be
used instead of <code class="inline">poll()</code>.</p></li><li><p>  <code class="inline">erl_xcomp_putenv_copy</code> - <code class="inline">yes|no</code>. Defaults to <code class="inline">no</code>. If <code class="inline">yes</code>, the target
system must have a <code class="inline">putenv()</code> implementation that stores a copy of the
key/value pair.</p></li><li><p>  <code class="inline">erl_xcomp_reliable_fpe</code> - <code class="inline">yes|no</code>. Defaults to <code class="inline">no</code>. If <code class="inline">yes</code>, the target
system must have reliable floating point exceptions.</p></li><li><p>  <code class="inline">erl_xcomp_posix_memalign</code> - <code class="inline">yes|no</code>. Defaults to <code class="inline">yes</code> if <code class="inline">posix_memalign</code>
system call exists; otherwise <code class="inline">no</code>. If <code class="inline">yes</code>, the target system must have a
<code class="inline">posix_memalign</code> implementation that accepts larger than page size
alignment.</p></li><li><p>  <code class="inline">erl_xcomp_code_model_small</code> - <code class="inline">yes|no</code>. Default to <code class="inline">no</code>. If <code class="inline">yes</code>, the target
system must place the beam.smp executable in the lower 2 GB of memory. That is it
should not use position independent executable.</p></li></ul>

</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

      <a href="install.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
Building and Installing Erlang/OTP
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="install-win32.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
Building Erlang/OTP on Windows
        </span>
      </a>

  </div>
</div>
    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="Erlang System Documentation.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.1) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>
<p>Copyright © 1996-2025 <a href="https://www.ericsson.com">Ericsson AB</a></p>
    </footer>
  </div>
</main>
</div>
  <script defer src="https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.min.js"></script>
  <script>
  let initialized = false;

  window.addEventListener("exdoc:loaded", () => {
      if (!initialized) {
      mermaid.initialize({
          startOnLoad: false,
          theme: document.body.className.includes("dark") ? "dark" : "default"
      });
      initialized = true;
      }

      let id = 0;
      for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
          graphEl.innerHTML = svg;
          bindFunctions?.(graphEl);
          preEl.insertAdjacentElement("afterend", graphEl);
          preEl.remove();
      });
      }
  });
  </script>

  </body>
</html>
