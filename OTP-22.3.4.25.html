---
layout: patch
name: 22.3.4.25
release: 22
html_url: https://github.com/erlang/otp/releases/tag/OTP-22.3.4.25
published_at: 2022-03-29T15:29:23Z
tag_name: OTP-22.3.4.25
src: https://github.com/erlang/otp/releases/download/OTP-22.3.4.25/otp_src_22.3.4.25.tar.gz
erlang_download_readme: https://erlang.org/download/OTP-22.3.4.25.README
readme: https://github.com/erlang/otp/releases/download/OTP-22.3.4.25/OTP-22.3.4.25.README
html: https://github.com/erlang/otp/releases/download/OTP-22.3.4.25/otp_doc_html_22.3.4.25.tar.gz
man: https://github.com/erlang/otp/releases/download/OTP-22.3.4.25/otp_doc_man_22.3.4.25.tar.gz
Applications:
  HIGHLIGHTS:
    pre: ""
    post: ""
    mode: "txt"
    tickets:
      OTP-17843:
        release_note: "By default global does not take any actions to restore a fully connected network when connections are lost due to network issues. This is problematic for all applications expecting a fully connected network to be provided, such as for example mnesia, but also for global itself. A network of overlapping partitions might cause the internal state of global to become inconsistent. Such an inconsistency can remain even after such partitions have been brought together to form a fully connected network again. The effect on other applications that expects that a fully connected network is maintained may vary, but they might misbehave in very subtle hard to detect ways during such a partitioning.\n\nIn order to prevent such issues, we have introduced a prevent overlapping partitions fix which can be enabled using the prevent_overlapping_partitions kernel(6) parameter. When this fix has been enabled, global will actively disconnect from nodes that reports that they have lost connections to other nodes. This will cause fully connected partitions to form instead of leaving the network in a state with overlapping partitions. Note that this fix has to be enabled on all nodes in the network in order to work properly. Since this quite substantially changes the behavior, this fix is currently disabled by default. Since you might get hard to detect issues without this fix you are, however, strongly advised to enable this fix in order to avoid issues such as the ones described above. As of OTP 25 this fix will become enabled by default.\n\n"
        Applications: "erts, kernel"
        RelatedIds: "ERIERL-732, PR-5611"
  common_test-1.18.2.2:
    pre: "The common_test-1.18.2.2 application can be applied independently of\n other applications on a full OTP 22 installation."
    post: "Full runtime dependencies of common_test-1.18.2.2: compiler-6.0,\n crypto-3.6, debugger-4.1, erts-7.0, ftp-1.0.0, inets-6.0, kernel-4.0,\n observer-2.1, runtime_tools-1.8.16, sasl-2.4.2, snmp-5.1.2, ssh-4.0,\n stdlib-3.5, syntax_tools-1.7, tools-2.8, xmerl-1.3.8"
    mode: "txt"
    tickets:
      OTP-17888:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "OTP internal test fix.\n\n"
        Applications: "common_test"
  erts-10.7.2.17:
    pre: "Note! The erts-10.7.2.17 application *cannot* be applied\n       independently of other applications on an arbitrary OTP 22\n       installation.\n\n       On a full OTP 22 installation, also the following runtime\n       dependency has to be satisfied:\n       -- kernel-6.5.2.5 (first satisfied in OTP 22.3.4.25)"
    post: "Full runtime dependencies of erts-10.7.2.17: kernel-6.5.2.5,\n sasl-3.3, stdlib-3.5"
    mode: "txt"
    tickets:
      OTP-17843:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "*** HIGHLIGHT ***\n\nBy default global does not take any actions to restore a fully connected network when connections are lost due to network issues. This is problematic for all applications expecting a fully connected network to be provided, such as for example mnesia, but also for global itself. A network of overlapping partitions might cause the internal state of global to become inconsistent. Such an inconsistency can remain even after such partitions have been brought together to form a fully connected network again. The effect on other applications that expects that a fully connected network is maintained may vary, but they might misbehave in very subtle hard to detect ways during such a partitioning.\n\nIn order to prevent such issues, we have introduced a prevent overlapping partitions fix which can be enabled using the prevent_overlapping_partitions kernel(6) parameter. When this fix has been enabled, global will actively disconnect from nodes that reports that they have lost connections to other nodes. This will cause fully connected partitions to form instead of leaving the network in a state with overlapping partitions. Note that this fix has to be enabled on all nodes in the network in order to work properly. Since this quite substantially changes the behavior, this fix is currently disabled by default. Since you might get hard to detect issues without this fix you are, however, strongly advised to enable this fix in order to avoid issues such as the ones described above. As of OTP 25 this fix will become enabled by default.\n\n"
        Applications: "erts, kernel"
        RelatedIds: "ERIERL-732, PR-5611"
      OTP-17904:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix memory leak when tracing on running on a process that only handle system tasks or non-message signals (for example process_info requests).\n\n"
        Applications: "erts"
        RelatedIds: "ERIERL-757"
      OTP-17998:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix Erlang monotonic time on MacOS. Previously used OS monotonic time primitive on MacOS is buggy and will not be used anymore. It has been replaced with usage of another OS monotonic time primitive that does not appear to be buggy.\n\n"
        Applications: "erts"
        RelatedIds: "GH-5554, PR-5825"
  kernel-6.5.2.5:
    pre: "Note! The kernel-6.5.2.5 application *cannot* be applied\n       independently of other applications on an arbitrary OTP 22\n       installation.\n\n       On a full OTP 22 installation, also the following runtime\n       dependency has to be satisfied:\n       -- erts-10.7.2.17 (first satisfied in OTP 22.3.4.25)"
    post: "Full runtime dependencies of kernel-6.5.2.5: erts-10.7.2.17,\n sasl-3.0, stdlib-3.5"
    mode: "txt"
    tickets:
      OTP-17843:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "*** HIGHLIGHT ***\n\nBy default global does not take any actions to restore a fully connected network when connections are lost due to network issues. This is problematic for all applications expecting a fully connected network to be provided, such as for example mnesia, but also for global itself. A network of overlapping partitions might cause the internal state of global to become inconsistent. Such an inconsistency can remain even after such partitions have been brought together to form a fully connected network again. The effect on other applications that expects that a fully connected network is maintained may vary, but they might misbehave in very subtle hard to detect ways during such a partitioning.\n\nIn order to prevent such issues, we have introduced a prevent overlapping partitions fix which can be enabled using the prevent_overlapping_partitions kernel(6) parameter. When this fix has been enabled, global will actively disconnect from nodes that reports that they have lost connections to other nodes. This will cause fully connected partitions to form instead of leaving the network in a state with overlapping partitions. Note that this fix has to be enabled on all nodes in the network in order to work properly. Since this quite substantially changes the behavior, this fix is currently disabled by default. Since you might get hard to detect issues without this fix you are, however, strongly advised to enable this fix in order to avoid issues such as the ones described above. As of OTP 25 this fix will become enabled by default.\n\n"
        Applications: "erts, kernel"
        RelatedIds: "ERIERL-732, PR-5611"
      OTP-17905:
        type: " --- Improvements and New Features ---"
        release_note: "A net_tickintensity kernel parameter has been introduced. It can be used to control the amount of ticks during a net_ticktime period.\n\nA new net_kernel:start/2 function has also been introduced in order to make it easier to add new options. The use of net_kernel:start/1 has been deprecated.\n\n"
        Applications: "kernel"
        RelatedIds: "ERIERL-732, PR-5740"
Application:
  - common_test-1.18.2.2
  - erts-10.7.2.17
  - kernel-6.5.2.5
Date: 2022-03-29
GitTag: OTP-22.3.4.25
PatchPackage: OTP 22.3.4.25
Predecessor: OTP 22.3.4.24
Release: 22
Seqnum:
  - ERIERL-732
  - ERIERL-757
  - GH-5554
System: OTP
TroubleReportId:
  - OTP-17843
  - OTP-17888
  - OTP-17904
  - OTP-17905
  - OTP-17998
---
## OTP-22.3.4.25
