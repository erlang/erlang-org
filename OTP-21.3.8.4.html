---
layout: patch
name: 21.3.8.4
release: 21
html_url: https://github.com/erlang/otp/releases/tag/OTP-21.3.8.4
published_at: 2020-09-25T11:39:04Z
tag_name: OTP-21.3.8.4
src: https://github.com/erlang/otp/releases/download/OTP-21.3.8.4/otp_src_21.3.8.4.tar.gz
erlang_download_readme: https://erlang.org/download/OTP-21.3.8.4.README
readme: https://github.com/erlang/otp/releases/download/OTP-21.3.8.4/OTP-21.3.8.4.README
html: https://github.com/erlang/otp/releases/download/OTP-21.3.8.4/otp_doc_html_21.3.8.4.tar.gz
man: https://github.com/erlang/otp/releases/download/OTP-21.3.8.4/otp_doc_man_21.3.8.4.tar.gz
Applications:
  common_test-1.17.2.1:
    pre: "The common_test-1.17.2.1 application can be applied independently of\n other applications on a full OTP 21 installation."
    post: "Full runtime dependencies of common_test-1.17.2.1: compiler-6.0,\n crypto-3.6, debugger-4.1, erts-7.0, ftp-1.0.0, inets-6.0, kernel-4.0,\n observer-2.1, runtime_tools-1.8.16, sasl-2.4.2, snmp-5.1.2, ssh-4.0,\n stdlib-3.5, syntax_tools-1.7, tools-2.8, xmerl-1.3.8"
    mode: "txt"
    tickets:
      OTP-15863:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "If a ct hook is installed in the suite/0 function in a test suite, then the hook's terminate/1 function would be called several times without it's init/2 function being called first. This is now corrected.\n\n"
        Applications: "common_test"
        RelatedIds: "ERIERL-370"
      OTP-15869:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "If init_per_testcase fails, the test itself is skipped. According to the documentation, it should be possible to change the result to failed in a hook function. The only available hook function in this case is post_init_per_testcase, but changing the return value there did not affect the test case result. This is now corrected.\n\n"
        Applications: "common_test"
        RelatedIds: "ERIERL-350"
  erts-10.3.5.3:
    pre: "Note! The erts-10.3.5.3 application *cannot* be applied independently\n       of other applications on an arbitrary OTP 21 installation.\n\n       On a full OTP 21 installation, also the following runtime\n       dependencies have to be satisfied:\n       -- kernel-6.1 (first satisfied in OTP 21.1)\n       -- sasl-3.3 (first satisfied in OTP 21.2)"
    post: "Full runtime dependencies of erts-10.3.5.3: kernel-6.1, sasl-3.3,\n stdlib-3.5"
    mode: "txt"
    tickets:
      OTP-15370:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "If you set {linger,{true,0}} on a gen_tcp listen socket, accept a connection on that socket, and then close the accepted socket, now the linger zero setting is transferred to the accepted socket. Before this correction that information was lost and the close behaviour on the accepted socket incorrect.\n\n"
        Applications: "erts"
        RelatedIds: "ERIERL-353"
      OTP-15865:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fixed process_info(Pid,reductions) to not categorically increase reduction count of the measured process Pid. Repeated reduction measure of an idle process will most often (but not guaranteed) return the same value, like it behaved before OTP 21.3.8.\n\n"
        Applications: "erts"
        RelatedIds: "ERL-964"
      OTP-15867:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "The runtime system disconnected a connection if it received an exit/2 signal where the recipient was a process on an old incarnation of the current node. That is, the receiving node had the same node name, but another \"creation\" number. The signal will now just be dropped since the receiving process no longer exists.\n\n"
        Applications: "erts"
        RelatedIds: "ERIERL-373"
      OTP-15747:
        type: " --- Improvements and New Features ---"
        release_note: "The possibility to send ancillary data, in particular the TOS field, has been added to gen_udp:send/4,5.\n\n"
        Applications: "erts, kernel"
        RelatedIds: "ERIERL-294"
  kernel-6.3.1.2:
    pre: "Note! The kernel-6.3.1.2 application *cannot* be applied\n       independently of other applications on an arbitrary OTP 21\n       installation.\n\n       On a full OTP 21 installation, also the following runtime\n       dependency has to be satisfied:\n       -- erts-10.2.5 (first satisfied in OTP 21.2.7)"
    post: "Full runtime dependencies of kernel-6.3.1.2: erts-10.2.5, sasl-3.0,\n stdlib-3.5"
    mode: "txt"
    tickets:
      OTP-15747:
        type: " --- Improvements and New Features ---"
        release_note: "The possibility to send ancillary data, in particular the TOS field, has been added to gen_udp:send/4,5.\n\n"
        Applications: "erts, kernel"
        RelatedIds: "ERIERL-294"
  public_key-1.6.6.1:
    pre: "The public_key-1.6.6.1 application can be applied independently of\n other applications on a full OTP 21 installation."
    post: "Full runtime dependencies of public_key-1.6.6.1: asn1-3.0,\n crypto-3.8, erts-6.0, kernel-3.0, stdlib-3.5"
    mode: "txt"
    tickets:
      OTP-15870:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Support Pasword based encryption with AES\n\n"
        Applications: "public_key"
        RelatedIds: "ERL-952"
  ssl-9.2.3.3:
    pre: "The ssl-9.2.3.3 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of ssl-9.2.3.3: crypto-4.2, erts-10.0,\n inets-5.10.7, kernel-6.0, public_key-1.5, stdlib-3.5"
    mode: "txt"
    tickets:
      OTP-15879:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Correct handshake handling, might cause strange symptoms such as ASN.1 certificate decoding issues.\n\n"
        Applications: "ssl"
        RelatedIds: "ERL-968"
  stdlib-3.8.2.2:
    pre: "The stdlib-3.8.2.2 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of stdlib-3.8.2.2: compiler-5.0,\n crypto-3.3, erts-10.0, kernel-6.0, sasl-3.0"
    mode: "txt"
    tickets:
      OTP-15875:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix a bug that could cause a loop when formatting terms using the control sequences p or P and limiting the output with the option chars_limit.\n\n"
        Applications: "stdlib"
        RelatedIds: "ERL-967"
Application:
  - common_test-1.17.2.1
  - erts-10.3.5.3
  - kernel-6.3.1.2
  - public_key-1.6.6.1
  - ssl-9.2.3.3
  - stdlib-3.8.2.2
Date: 2019-06-18
GitTag: OTP-21.3.8.4
PatchPackage: OTP 21.3.8.4
Predecessor: OTP 21.3.8.3
Release: 21
Seqnum:
  - ERIERL-294
  - ERIERL-350
  - ERIERL-353
  - ERIERL-370
  - ERIERL-373
  - ERL-952
  - ERL-964
  - ERL-967
  - ERL-968
System: OTP
TroubleReportId:
  - OTP-15370
  - OTP-15747
  - OTP-15863
  - OTP-15865
  - OTP-15867
  - OTP-15869
  - OTP-15870
  - OTP-15875
  - OTP-15879
---
## OTP-21.3.8.4
