---
layout: patch
name: 21.3.8
release: 21
html_url: https://github.com/erlang/otp/releases/tag/OTP-21.3.8
published_at: 2020-09-25T11:39:05Z
tag_name: OTP-21.3.8
src: https://github.com/erlang/otp/releases/download/OTP-21.3.8/otp_src_21.3.8.tar.gz
erlang_download_readme: https://erlang.org/download/OTP-21.3.8.README
readme: https://github.com/erlang/otp/releases/download/OTP-21.3.8/OTP-21.3.8.README
html: https://github.com/erlang/otp/releases/download/OTP-21.3.8/otp_doc_html_21.3.8.tar.gz
man: https://github.com/erlang/otp/releases/download/OTP-21.3.8/otp_doc_man_21.3.8.tar.gz
Applications:
  POTENTIALINCOMPATIBILITIES:
    pre: ""
    post: ""
    mode: "txt"
    tickets:
      OTP-15717:
        release_note: "The test result when a hook function fails is in general the same as if the function that the hook is associated with fails. For example, if post_init_per_testcase fails the result is that the test case is skipped, as is the case when init_per_testcase fails.This, however, was earlier not true for timetrap timeouts or other error situations where the process running the hook function was killed. This is now corrected, so the error handling should be the same no matter how the hook function fails.\n\n"
        Applications: "common_test"
        RelatedIds: "ERIERL-334"
  common_test-1.17.2:
    pre: "The common_test-1.17.2 application can be applied independently of\n other applications on a full OTP 21 installation."
    post: "Full runtime dependencies of common_test-1.17.2: compiler-6.0,\n crypto-3.6, debugger-4.1, erts-7.0, ftp-1.0.0, inets-6.0, kernel-4.0,\n observer-2.1, runtime_tools-1.8.16, sasl-2.4.2, snmp-5.1.2, ssh-4.0,\n stdlib-3.5, syntax_tools-1.7, tools-2.8, xmerl-1.3.8"
    mode: "txt"
    tickets:
      OTP-15717:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "*** POTENTIAL INCOMPATIBILITY ***\n\nThe test result when a hook function fails is in general the same as if the function that the hook is associated with fails. For example, if post_init_per_testcase fails the result is that the test case is skipped, as is the case when init_per_testcase fails.This, however, was earlier not true for timetrap timeouts or other error situations where the process running the hook function was killed. This is now corrected, so the error handling should be the same no matter how the hook function fails.\n\n"
        Applications: "common_test"
        RelatedIds: "ERIERL-334"
      OTP-15758:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "In some rare cases, when two common_test nodes used the same log directory, a timing problem could occur which caused common_test to crash because it's log cache file was unexpectedly empty. This is now corrected.\n\n"
        Applications: "common_test"
        RelatedIds: "ERIERL-342"
      OTP-14746:
        type: " --- Improvements and New Features ---"
        release_note: "Two new common_test hook functions are introduced:\n\npost_groups/2, which is called after Suite:groups/0 post_all/3, which is called after Suite:all/0\n\nThese functions allow modifying the return values from the groups/0 and all/0 functions, respectively.\n\nA new term, {testcase,TestCase,RepeatProperties} is now also allowed in the return from all/0. This can be used for repeating a single test case a specific number of times, or until it fails or succeeds once.\n\n"
        Applications: "common_test"
        RelatedIds: "ERIERL-143"
  eldap-1.2.7:
    pre: "The eldap-1.2.7 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of eldap-1.2.7: asn1-3.0, erts-6.0,\n kernel-3.0, ssl-5.3.4, stdlib-2.0"
    mode: "txt"
    tickets:
      OTP-15785:
        type: " --- Improvements and New Features ---"
        release_note: "Back port of bug fix ERL-893 from OTP-22 and document enhancements that will solve dialyzer warnings for users of the ssl application.\n\nThis change also affects public_key, eldap (and inet doc).\n\n"
        Applications: "eldap, public_key, ssl"
        RelatedIds: "ERL-893, ERL-929, PR-2215"
  erl_interface-3.11.3:
    pre: "The erl_interface-3.11.3 application can be applied independently of\n other applications on a full OTP 21 installation."
    post: ""
    mode: "txt"
    tickets:
      OTP-15781:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "erl_interface/ei refused to use node names with an alive name (the part of the node name preceding the @ sign) longer than 63 characters and a host name longer than 64 characters. The total amount of characters allowed in a node name (alivename@hostname) was thus limited to 128 characters. These limits applied both to the own node name as well as node names of other nodes. Ordinary Erlang nodes limit the node name length to 256 characters, which meant that you could not communicate with certain Erlang nodes due to their node name used.\n\nerl_interface/ei now allow the total amount of characters in a node name to be up to 256 characters. These characters may be distributed between alive name and host name in whatever way needed. That is, the maximum amount of characters in the alive name may be 254 and the maximum amount of characters in the host name may be 254, but in total the node name must not exceed 256 characters.\n\n"
        Applications: "erl_interface"
        RelatedIds: "ERIERL-356"
  erts-10.3.5:
    pre: "Note! The erts-10.3.5 application *cannot* be applied independently\n       of other applications on an arbitrary OTP 21 installation.\n\n       On a full OTP 21 installation, also the following runtime\n       dependencies have to be satisfied:\n       -- kernel-6.1 (first satisfied in OTP 21.1)\n       -- sasl-3.3 (first satisfied in OTP 21.2)"
    post: "Full runtime dependencies of erts-10.3.5: kernel-6.1, sasl-3.3,\n stdlib-3.5"
    mode: "txt"
    tickets:
      OTP-15793:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fixed more bugs in process_info(reductions) causing it to sometimes behave non-monotonic. That is, a subsequent call toward the same process could return a lower reduction value.\n\n"
        Applications: "erts"
        RelatedIds: "ERIERL-337, OTP-15709"
  public_key-1.6.6:
    pre: "The public_key-1.6.6 application can be applied independently of\n other applications on a full OTP 21 installation."
    post: "Full runtime dependencies of public_key-1.6.6: asn1-3.0, crypto-3.8,\n erts-6.0, kernel-3.0, stdlib-3.5"
    mode: "txt"
    tickets:
      OTP-15785:
        type: " --- Improvements and New Features ---"
        release_note: "Back port of bug fix ERL-893 from OTP-22 and document enhancements that will solve dialyzer warnings for users of the ssl application.\n\nThis change also affects public_key, eldap (and inet doc).\n\n"
        Applications: "eldap, public_key, ssl"
        RelatedIds: "ERL-893, ERL-929, PR-2215"
  ssl-9.2.3:
    pre: "The ssl-9.2.3 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of ssl-9.2.3: crypto-4.2, erts-10.0,\n inets-5.10.7, kernel-6.0, public_key-1.5, stdlib-3.5"
    mode: "txt"
    tickets:
      OTP-15802:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Missing check of size of user_data_buffer made internal socket behave as an active socket instead of active N. This could cause memory problems.\n\n"
        Applications: "ssl"
        RelatedIds: "ERL-934"
      OTP-15785:
        type: " --- Improvements and New Features ---"
        release_note: "Back port of bug fix ERL-893 from OTP-22 and document enhancements that will solve dialyzer warnings for users of the ssl application.\n\nThis change also affects public_key, eldap (and inet doc).\n\n"
        Applications: "eldap, public_key, ssl"
        RelatedIds: "ERL-893, ERL-929, PR-2215"
  stdlib-3.8.2:
    pre: "The stdlib-3.8.2 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of stdlib-3.8.2: compiler-5.0, crypto-3.3,\n erts-10.0, kernel-6.0, sasl-3.0"
    mode: "txt"
    tickets:
      OTP-15295:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "A bug in gen_statem has been fixed where the internal timeout message could arrive as an info to the callback module during high load due to incorrect use of asynchronous timer cancel.\n\n"
        Applications: "stdlib"
Application:
  - common_test-1.17.2
  - eldap-1.2.7
  - erl_interface-3.11.3
  - erts-10.3.5
  - public_key-1.6.6
  - ssl-9.2.3
  - stdlib-3.8.2
Date: 2019-05-07
GitTag: OTP-21.3.8
PatchPackage: OTP 21.3.8
Predecessor: OTP 21.3.7
Release: 21
Seqnum:
  - ERIERL-143
  - ERIERL-334
  - ERIERL-337
  - ERIERL-342
  - ERIERL-356
  - ERL-893
  - ERL-929
  - ERL-934
System: OTP
TroubleReportId:
  - OTP-14746
  - OTP-15295
  - OTP-15717
  - OTP-15758
  - OTP-15781
  - OTP-15785
  - OTP-15793
  - OTP-15802
---
## OTP-21.3.8
