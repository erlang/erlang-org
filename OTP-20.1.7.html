---
layout: patch
name: 20.1.7
release: 20
tag_name: OTP-20.1.7
src: https://api.github.com/repos/erlang/otp/tarball/refs/tags/OTP-20.1.7
erlang_download_readme: https://erlang.org/download/OTP-20.1.7.README
readme: https://erlang.org/download/OTP-20.1.7.README
Applications:
  public_key-1.5.1:
    pre: "The public_key-1.5.1 application can be applied independently of\n other applications on a full OTP 20 installation."
    post: "Full runtime dependencies of public_key-1.5.1: asn1-3.0, crypto-3.8,\n erts-6.0, kernel-3.0, stdlib-2.0"
    mode: "txt"
    tickets:
      OTP-14653:
        type: " --- Improvements and New Features ---"
        release_note: "Hostname verification: Add handling of the general name iPAddress in certificate's subject alternative name extension (subjAltName).\n\n"
        Applications: "public_key"
      OTP-14766:
        type: " --- Improvements and New Features ---"
        release_note: "Correct key handling in pkix_test_data/1 and use a generic example mail address instead of an existing one.\n\n"
        Applications: "public_key"
  ssl-8.2.2:
    pre: "Note! The ssl-8.2.2 application can *not* be applied independently of\n       other applications on an arbitrary OTP 20 installation.\n\n       On a full OTP 20 installation, also the following runtime\n       dependency has to be satisfied:\n       -- public_key-1.5 (first satisfied in OTP 20.1)"
    post: "Full runtime dependencies of ssl-8.2.2: crypto-3.3, erts-7.0,\n inets-5.10.7, kernel-3.0, public_key-1.5, stdlib-3.2"
    mode: "txt"
    tickets:
      OTP-14632:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "TLS sessions must be registered with SNI if provided, so that sessions where client hostname verification would fail can not connect reusing a session created when the server name verification succeeded.\n\nThanks to Graham Christensen for reporting this.\n\n"
        Applications: "ssl"
      OTP-14748:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "An erlang TLS server configured with cipher suites using rsa key exchange, may be vulnerable to an Adaptive Chosen Ciphertext attack (AKA Bleichenbacher attack) against RSA, which when exploited, may result in plaintext recovery of encrypted messages and/or a Man-in-the-middle (MiTM) attack, despite the attacker not having gained access to the server’s private key itself. CVE-2017-1000385\n\nExploiting this vulnerability to perform plaintext recovery of encrypted messages will, in most practical cases, allow an attacker to read the plaintext only after the session has completed. Only TLS sessions established using RSA key exchange are vulnerable to this attack.\n\nExploiting this vulnerability to conduct a MiTM attack requires the attacker to complete the initial attack, which may require thousands of server requests, during the handshake phase of the targeted session within the window of the configured handshake timeout. This attack may be conducted against any TLS session using RSA signatures, but only if cipher suites using RSA key exchange are also enabled on the server. The limited window of opportunity, limitations in bandwidth, and latency make this attack significantly more difficult to execute.\n\nRSA key exchange is enabled by default although least prioritized if server order is honored. For such a cipher suite to be chosen it must also be supported by the client and probably the only shared cipher suite.\n\nCaptured TLS sessions encrypted with ephemeral cipher suites (DHE or ECDHE) are not at risk for subsequent decryption due to this vulnerability.\n\nAs a workaround if default cipher suite configuration was used you can configure the server to not use vulnerable suites with the ciphers option like this:\n\n{ciphers, [Suite || Suite <- ssl:cipher_suites(), element(1,Suite) =/= rsa]}\n\nthat is your code will look somethingh like this:\n\nssl:listen(Port, [{ciphers, [Suite || Suite <- ssl:cipher_suites(), element(1,S) =/= rsa]} | Options]).\n\nThanks to Hanno Böck, Juraj Somorovsky and Craig Young for reporting this vulnerability.\n\n"
        Applications: "ssl"
      OTP-14655:
        type: " --- Improvements and New Features ---"
        release_note: "If no SNI is available and the hostname is an IP-address also check for IP-address match. This check is not as good as a DNS hostname check and certificates using IP-address are not recommended.\n\nThanks to Graham Christensen for reporting this.\n\n"
        Applications: "ssl"
Application:
  - public_key-1.5.1
  - ssl-8.2.2
Date: 2017-11-22
GitTag: OTP-20.1.7
PatchPackage: OTP 20.1.7
Predecessor: OTP 20.1.6
Release: 20
Seqnum: 
System: OTP
TroubleReportId:
  - OTP-14632
  - OTP-14653
  - OTP-14655
  - OTP-14748
  - OTP-14766
---
## OTP-20.1.7
