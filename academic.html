<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:fn="http://www.w3.org/2005/02/xpath-functions">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="./otp_doc.css" type="text/css">
<title>Erlang -- Academic and Historical Questions</title>
</head>
<body bgcolor="white" text="#000000" link="#0000ff" vlink="#ff00ff" alink="#ff0000"><div id="container">
<script id="js" type="text/javascript" language="JavaScript" src="./js/flipmenu/flipmenu.js"></script><script id="js2" type="text/javascript" src="./js/erlresolvelinks.js"></script><script language="JavaScript" type="text/javascript">
            <!--            
              function getWinHeight() {
                var myHeight = 0;
                if( typeof( window.innerHeight ) == 'number' ) {
                  //Non-IE
                  myHeight = window.innerHeight;
                } else if( document.documentElement && ( document.documentElement.clientWidth || 
                                                         document.documentElement.clientHeight ) ) {
                  //IE 6+ in 'standards compliant mode'
                  myHeight = document.documentElement.clientHeight;
                } else if( document.body && ( document.body.clientWidth || document.body.clientHeight ) ) {
                  //IE 4 compatible
                  myHeight = document.body.clientHeight;
                }
                return myHeight;            
              }

              function setscrollpos() {
                var objf=document.getElementById('loadscrollpos');
                 document.getElementById("leftnav").scrollTop = objf.offsetTop - getWinHeight()/2;
              }

              function addEvent(obj, evType, fn){ 
                if (obj.addEventListener){ 
                obj.addEventListener(evType, fn, true); 
                return true; 
              } else if (obj.attachEvent){ 
                var r = obj.attachEvent("on"+evType, fn); 
                return r; 
              } else { 
                return false; 
              } 
             }

             addEvent(window, 'load', setscrollpos);

             //--></script><div id="leftnav"><div class="innertube">
<img alt="Erlang logo" src="./erlang-logo.png"><br><p><strong>Academic and Historical Questions</strong><br><strong></strong><br></p>
<a href="faq.html">Cover</a><br><br><a href="javascript:openAllFlips()">Expand All</a><br><a href="javascript:closeAllFlips()">Contract All</a><p><small><strong>Table of Contents</strong></small></p>
<ul class="flipMenu" imagepath="./js/flipmenu">
<li id="no" title="What is Erlang" expanded="false">What is Erlang<ul>
<li><a href="introduction.html">
              Top of chapter
            </a></li>
<li title="In a nutshell, what is Erlang?"><a href="introduction.html#idm19">In a nutshell, what is Erlang?</a></li>
<li title="What is OTP?"><a href="introduction.html#idm24">What is OTP?</a></li>
<li title="What sort of applications is Erlang particularly suitable for?
"><a href="introduction.html#idm27">What sort of applications is Erlang particularly suitable for?
</a></li>
<li title="What sort of problems is Erlang not particularly suitable for?
"><a href="introduction.html#idm53">What sort of problems is Erlang not particularly suitable for?
</a></li>
<li title=" Who uses Erlang for product development?"><a href="introduction.html#idm60"> Who uses Erlang for product development?</a></li>
<li title=" Who uses Erlang for research and teaching?"><a href="introduction.html#idm148"> Who uses Erlang for research and teaching?</a></li>
<li title=" Can I get commercial support for Erlang?"><a href="introduction.html#idm214"> Can I get commercial support for Erlang?</a></li>
</ul>
</li>
<li id="no" title="Questions about this FAQ" expanded="false">Questions about this FAQ<ul>
<li><a href="faq_questions.html">
              Top of chapter
            </a></li>
<li title="Where can I get the latest version of the FAQ?"><a href="faq_questions.html#idm226">Where can I get the latest version of the FAQ?</a></li>
<li title="What's new?"><a href="faq_questions.html#idm230">What's new?</a></li>
<li title="Where do I ask questions which are not answered in this FAQ?"><a href="faq_questions.html#idm234">Where do I ask questions which are not answered in this FAQ?</a></li>
<li title="The answer to question 2.4 is wrong!"><a href="faq_questions.html#idm240">The answer to question 2.4 is wrong!</a></li>
<li title="Disclaimer/Distribution"><a href="faq_questions.html#idm248">Disclaimer/Distribution</a></li>
</ul>
</li>
<li id="no" title="Obtaining Erlang/OTP and books/articles about it" expanded="false">Obtaining Erlang/OTP and books/articles about it<ul>
<li><a href="obtaining.html">
              Top of chapter
            </a></li>
<li title="Where can I get Erlang/OTP?"><a href="obtaining.html#idm260">Where can I get Erlang/OTP?</a></li>
<li title="What's the current version of (Open Source) Erlang?"><a href="obtaining.html#idm273">What's the current version of (Open Source) Erlang?</a></li>
<li title=" Which licence is Open Source Erlang shipped with?"><a href="obtaining.html#idm279"> Which licence is Open Source Erlang shipped with?</a></li>
<li title="Where is the Erlang documentation?"><a href="obtaining.html#idm284">Where is the Erlang documentation?</a></li>
<li title="Which book about Erlang should I read?"><a href="obtaining.html#idm291">Which book about Erlang should I read?</a></li>
<li title=" What advanced Erlang documentation is there?"><a href="obtaining.html#idm323"> What advanced Erlang documentation is there?</a></li>
<li title=" What documentation is there in related subjects?"><a href="obtaining.html#idm352"> What documentation is there in related subjects?</a></li>
<li title="Is there public repository for the Erlang source?"><a href="obtaining.html#idm365">Is there public repository for the Erlang source?</a></li>
<li title="How can I contribute to Erlang?"><a href="obtaining.html#idm371">How can I contribute to Erlang?</a></li>
<li title="How can I propose changes to the language itself?"><a href="obtaining.html#idm385">How can I propose changes to the language itself?</a></li>
<li title="How do I report a bug?"><a href="obtaining.html#idm389">How do I report a bug?</a></li>
<li title="Where is Erlang discussed in the real world?"><a href="obtaining.html#idm393">Where is Erlang discussed in the real world?</a></li>
<li title="Where is Erlang discussed online?"><a href="obtaining.html#idm408">Where is Erlang discussed online?</a></li>
<li title="Where can I find Erlang programmers/employers?"><a href="obtaining.html#idm432">Where can I find Erlang programmers/employers?</a></li>
</ul>
</li>
<li id="no" title="Getting Started" expanded="false">Getting Started<ul>
<li><a href="getting_started.html">
              Top of chapter
            </a></li>
<li title="How long does it take to learn Erlang?"><a href="getting_started.html#idm457">How long does it take to learn Erlang?</a></li>
<li title="How can I learn Erlang?"><a href="getting_started.html#idm462">How can I learn Erlang?</a></li>
<li title='What does "hello world" look like?'><a href="getting_started.html#idm479">What does "hello world" look like?</a></li>
<li title="How do I quit the Erlang shell?"><a href="getting_started.html#idm488">How do I quit the Erlang shell?</a></li>
<li title="Why does Erlang print &quot;ok&quot; after my program's output?"><a href="getting_started.html#idm498">Why does Erlang print "ok" after my program's output?</a></li>
</ul>
</li>
<li id="no" title="How do I..." expanded="false">How do I...<ul>
<li><a href="how_do_i.html">
              Top of chapter
            </a></li>
<li title="...compare numbers?"><a href="how_do_i.html#idm523">...compare numbers?</a></li>
<li title="...represent a text-string?"><a href="how_do_i.html#idm529">...represent a text-string?</a></li>
<li title="...convert a string to lower case?"><a href="how_do_i.html#idm544">...convert a string to lower case?</a></li>
<li title="...convert a text string representation of a term to a term?"><a href="how_do_i.html#idm550">...convert a text string representation of a term to a term?</a></li>
<li title="...use unicode/UTF-8?"><a href="how_do_i.html#idm555">...use unicode/UTF-8?</a></li>
<li title="...destructively update data, like in C"><a href="how_do_i.html#idm559">...destructively update data, like in C</a></li>
<li title="...run an Erlang program directly from the unix shell?"><a href="how_do_i.html#idm566">...run an Erlang program directly from the unix shell?</a></li>
<li title="...communicate with non-Erlang programs?"><a href="how_do_i.html#idm575">...communicate with non-Erlang programs?</a></li>
<li title="...write a unix pipe program in Erlang?"><a href="how_do_i.html#idm603">...write a unix pipe program in Erlang?</a></li>
<li title="...communicate with a DBMS?"><a href="how_do_i.html#idm609">...communicate with a DBMS?</a></li>
<li title="...decode binary Erlang terms"><a href="how_do_i.html#idm613">...decode binary Erlang terms</a></li>
<li title="...decode Erlang crash dumps"><a href="how_do_i.html#idm619">...decode Erlang crash dumps</a></li>
<li title="...estimate performance of an Erlang system?"><a href="how_do_i.html#idm623">...estimate performance of an Erlang system?</a></li>
<li title="...measure performance of an Erlang system?"><a href="how_do_i.html#idm638">...measure performance of an Erlang system?</a></li>
<li title="...measure memory consumption in an Erlang system?"><a href="how_do_i.html#idm645">...measure memory consumption in an Erlang system?</a></li>
<li title="...estimate productivity in an Erlang project?"><a href="how_do_i.html#idm673">...estimate productivity in an Erlang project?</a></li>
<li title="...use multiple CPUs (or cores) in one server?"><a href="how_do_i.html#idm678">...use multiple CPUs (or cores) in one server?</a></li>
<li title="...run distributed Erlang through a firewall?"><a href="how_do_i.html#idm681">...run distributed Erlang through a firewall?</a></li>
<li title="...distribute the Erlang programs I write to my friends/colleagues/users?"><a href="how_do_i.html#idm688">...distribute the Erlang programs I write to my friends/colleagues/users?</a></li>
<li title="...write to standard error (stderr)?"><a href="how_do_i.html#idm694">...write to standard error (stderr)?</a></li>
</ul>
</li>
<li id="no" title="Erlang Libraries" expanded="false">Erlang Libraries<ul>
<li><a href="libraries.html">
              Top of chapter
            </a></li>
<li title=" What's in the OTP libraries?"><a href="libraries.html#idm710"> What's in the OTP libraries?</a></li>
<li title=" Is there a collection of data structures, e.g. balanced trees?"><a href="libraries.html#idm736"> Is there a collection of data structures, e.g. balanced trees?</a></li>
<li title="Is there a serial port driver for Erlang?"><a href="libraries.html#idm768">Is there a serial port driver for Erlang?</a></li>
<li title="Is there a toolkit for building GUIs?"><a href="libraries.html#idm773">Is there a toolkit for building GUIs?</a></li>
<li title="I've written an application/library. How do I package it so others can use it?"><a href="libraries.html#idm786">I've written an application/library. How do I package it so others can use it?</a></li>
<li title="I've written a library to handle XYZ. How do I get it into the standard Erlang distribution?"><a href="libraries.html#idm797">I've written a library to handle XYZ. How do I get it into the standard Erlang distribution?</a></li>
</ul>
</li>
<li id="no" title="Erlang Tools" expanded="false">Erlang Tools<ul>
<li><a href="tools.html">
              Top of chapter
            </a></li>
<li title="Is there a pretty printer for Erlang?"><a href="tools.html#idm811">Is there a pretty printer for Erlang?</a></li>
<li title="Is there an erlang formatter for CI?"><a href="tools.html#idm815">Is there an erlang formatter for CI?</a></li>
<li title="Where is the source for LEEX (the erlang lexer)?"><a href="tools.html#idm819">Where is the source for LEEX (the erlang lexer)?</a></li>
<li title="Is there a diagram tool specifically for Erlang?"><a href="tools.html#idm828">Is there a diagram tool specifically for Erlang?</a></li>
<li title="What code testing tools and suites exist for and in Erlang/OTP?"><a href="tools.html#idm836">What code testing tools and suites exist for and in Erlang/OTP?</a></li>
<li title="Is there a way to benchmark an Erlang implementation?"><a href="tools.html#idm848">Is there a way to benchmark an Erlang implementation?</a></li>
<li title="Does anyone have a magic file for Erlang?"><a href="tools.html#idm852">Does anyone have a magic file for Erlang?</a></li>
<li title="Which IDE should I use for Erlang development?"><a href="tools.html#idm856">Which IDE should I use for Erlang development?</a></li>
<li title="Are there Erlang Coding Guidelines?"><a href="tools.html#idm877">Are there Erlang Coding Guidelines?</a></li>
<li title="What refactoring tools are there for Erlang"><a href="tools.html#idm881">What refactoring tools are there for Erlang</a></li>
<li title="What static code analysis tools are there?"><a href="tools.html#idm890">What static code analysis tools are there?</a></li>
<li title='Is there a "reverse compiler" for BEAM files?'><a href="tools.html#idm900">Is there a "reverse compiler" for BEAM files?</a></li>
</ul>
</li>
<li id="no" title="Implementations and Ports of Erlang" expanded="false">Implementations and Ports of Erlang<ul>
<li><a href="implementations.html">
              Top of chapter
            </a></li>
<li title="Open Source Erlang"><a href="implementations.html#idm922">Open Source Erlang</a></li>
<li title="What Experimental, Research and Historical
Implementations are there?"><a href="implementations.html#idm926">What Experimental, Research and Historical
Implementations are there?</a></li>
<li title=" Which version of Erlang am I running?"><a href="implementations.html#idm944"> Which version of Erlang am I running?</a></li>
<li title=" What operating systems does Erlang run on?"><a href="implementations.html#idm950"> What operating systems does Erlang run on?</a></li>
<li title=" What implementations of the Erlang Virtual Machine are there?"><a href="implementations.html#idm969"> What implementations of the Erlang Virtual Machine are there?</a></li>
<li title="Can Erlang be compiled under Microsoft Windows?"><a href="implementations.html#idm980">Can Erlang be compiled under Microsoft Windows?</a></li>
<li title="How can I cross-compile Erlang?"><a href="implementations.html#idm983">How can I cross-compile Erlang?</a></li>
<li title="Is Erlang small enough for embedded systems?"><a href="implementations.html#idm987">Is Erlang small enough for embedded systems?</a></li>
</ul>
</li>
<li id="no" title="Troubleshooting, Problems and 'Gotchas'" expanded="false">Troubleshooting, Problems and 'Gotchas'<ul>
<li><a href="problems.html">
              Top of chapter
            </a></li>
<li title="Why can't I write a = 3 (badmatch)?"><a href="problems.html#idm1004">Why can't I write a = 3 (badmatch)?</a></li>
<li title="Why can't I change the value of a variable?"><a href="problems.html#idm1017">Why can't I change the value of a variable?</a></li>
<li title="Why do lists of numbers get printed incorrectly?"><a href="problems.html#idm1024">Why do lists of numbers get printed incorrectly?</a></li>
<li title=" Why can't I call arbitrary functions in a guard?"><a href="problems.html#idm1035"> Why can't I call arbitrary functions in a guard?</a></li>
<li title=" Why can't I use &quot;or&quot; in a guard?"><a href="problems.html#idm1047"> Why can't I use "or" in a guard?</a></li>
<li title=" Why does 'catch' give me a syntax error?"><a href="problems.html#idm1063"> Why does 'catch' give me a syntax error?</a></li>
<li title=" What is a sticky directory?"><a href="problems.html#idm1069"> What is a sticky directory?</a></li>
<li title="Why won't my distributed Erlang nodes communicate?"><a href="problems.html#idm1076">Why won't my distributed Erlang nodes communicate?</a></li>
<li title="When distribution won't work"><a href="problems.html#idm1099">When distribution won't work</a></li>
<li title="Avoiding DNS"><a href="problems.html#idm1114">Avoiding DNS</a></li>
<li title="
Why does my application die every second time I load new code into it?
"><a href="problems.html#idm1120">
Why does my application die every second time I load new code into it?
</a></li>
<li title="Why can't I open devices (e.g. a serial port) like normal files?
"><a href="problems.html#idm1127">Why can't I open devices (e.g. a serial port) like normal files?
</a></li>
<li title="
Why doesn't the stack backtrace show the right functions for
this code:
"><a href="problems.html#idm1132">
Why doesn't the stack backtrace show the right functions for
this code:
</a></li>
<li title="What do I do if I get an error when compiling Open Source Erlang?
"><a href="problems.html#idm1136">What do I do if I get an error when compiling Open Source Erlang?
</a></li>
<li title="Why do errors in the shell kill other processes?"><a href="problems.html#idm1149">Why do errors in the shell kill other processes?</a></li>
<li title="Why do I get incorrect answers for floating-point operations?"><a href="problems.html#idm1157">Why do I get incorrect answers for floating-point operations?</a></li>
</ul>
</li>
<li id="loadscrollpos" title="Academic and Historical Questions" expanded="true">Academic and Historical Questions<ul>
<li><a href="academic.html">
              Top of chapter
            </a></li>
<li title=' Why is Erlang called "Erlang"?'><a href="academic.html#idm1175"> Why is Erlang called "Erlang"?</a></li>
<li title="Who invented Erlang?"><a href="academic.html#idm1178">Who invented Erlang?</a></li>
<li title="Where does Erlang syntax come from?"><a href="academic.html#idm1183">Where does Erlang syntax come from?</a></li>
<li title="Why is Ericsson giving away Erlang?"><a href="academic.html#idm1186">Why is Ericsson giving away Erlang?</a></li>
<li title="What does soft realtime mean?"><a href="academic.html#idm1197">What does soft realtime mean?</a></li>
<li title=" How did the first Erlang compiler get written?"><a href="academic.html#idm1211"> How did the first Erlang compiler get written?</a></li>
<li title=" Erlang Syntax and Semantics Details"><a href="academic.html#idm1225"> Erlang Syntax and Semantics Details</a></li>
<li title=" Is the order of message reception guaranteed?"><a href="academic.html#idm1229"> Is the order of message reception guaranteed?</a></li>
<li title="If I send a message, is it guaranteed to reach the receiver?
"><a href="academic.html#idm1234">If I send a message, is it guaranteed to reach the receiver?
</a></li>
<li title=" What limits does Erlang have?"><a href="academic.html#idm1276"> What limits does Erlang have?</a></li>
<li title="Do funs behave during a code change?"><a href="academic.html#idm1280">Do funs behave during a code change?</a></li>
<li title="Examples of bound funs causing surprises"><a href="academic.html#idm1288">Examples of bound funs causing surprises</a></li>
<li title="Is it just me, or are records ugly?"><a href="academic.html#idm1301">Is it just me, or are records ugly?</a></li>
<li title="Can a process receive messages with varying priorities?"><a href="academic.html#idm1312">Can a process receive messages with varying priorities?</a></li>
<li title="What's the history of static type checking in Erlang?"><a href="academic.html#idm1316">What's the history of static type checking in Erlang?</a></li>
<li title="How does type checking in Erlang compare to
Java/Python/C/C++/Haskell?"><a href="academic.html#idm1321">How does type checking in Erlang compare to
Java/Python/C/C++/Haskell?</a></li>
<li title="What's Erlang's relation to 'object oriented' programming?"><a href="academic.html#idm1328">What's Erlang's relation to 'object oriented' programming?</a></li>
<li title="How are strings implemented and how can I speed up my string code?"><a href="academic.html#idm1338">How are strings implemented and how can I speed up my string code?</a></li>
<li title=" How does the Garbage Collector (GC) work?"><a href="academic.html#idm1357"> How does the Garbage Collector (GC) work?</a></li>
<li title="Can I exploit knowledge about my program to make the GC more efficient?"><a href="academic.html#idm1362">Can I exploit knowledge about my program to make the GC more efficient?</a></li>
<li title="Could the Java Virtual Machine be used to run Erlang?"><a href="academic.html#idm1376">Could the Java Virtual Machine be used to run Erlang?</a></li>
<li title="Is it possible to prove the correctness of Erlang programs?
"><a href="academic.html#idm1381">Is it possible to prove the correctness of Erlang programs?
</a></li>
<li title="I've heard it's a bad idea to program defensively in Erlang. Why?"><a href="academic.html#idm1387">I've heard it's a bad idea to program defensively in Erlang. Why?</a></li>
</ul>
</li>
<li id="no" title="Mnesia Database Questions" expanded="false">Mnesia Database Questions<ul>
<li><a href="mnesia.html">
              Top of chapter
            </a></li>
<li title="What is Mnesia good at?"><a href="mnesia.html#idm1411">What is Mnesia good at?</a></li>
<li title="What is Mnesia not so good at?"><a href="mnesia.html#idm1425">What is Mnesia not so good at?</a></li>
<li title="Is Mnesia good for storing blobs?"><a href="mnesia.html#idm1429">Is Mnesia good for storing blobs?</a></li>
<li title="Is there an SQL interface for mnesia?"><a href="mnesia.html#idm1444">Is there an SQL interface for mnesia?</a></li>
<li title="How much data can be stored in Mnesia?"><a href="mnesia.html#idm1448">How much data can be stored in Mnesia?</a></li>
</ul>
</li>
</ul>
</div></div>
<div id="content">
<div class="innertube">
<h1>10 Academic and Historical Questions</h1>
  

<h3><a name="idm1175">10.1 
         Why is Erlang called "Erlang"?</a></h3>
<p>

	Erlang is named after the mathematician Agner Erlang. Among other
	things, he worked on queueing theory. The original implementors
	also tend to avoid denying that Erlang sounds a little like
	"ERicsson LANGuage".

</p>
<h3><a name="idm1178">10.2 
        Who invented Erlang?</a></h3>
<p>
	During the 1980s there was a project at the Ericsson
	<span class="bold_code"><a href="http://www.cs-lab.org/">
	Computer Science Laboratory</a></span>
	which aimed to find out what aspects of computer languages
	made it easier to program telecommunications systems. Erlang
	emerged in the second half of the 80s was the result of
	taking those features which made writing such systems
	simpler and avoiding those which made them more complex
	or error prone.
	</p>
<p>

	The people involved at the start were Joe Armstrong,
	Robert Virding and Mike Williams. Others joined later
	and added things like distribution and OTP.

</p>
<h3><a name="idm1183">10.3 
        Where does Erlang syntax come from?</a></h3>
<p>

	Mostly from prolog. Erlang started life as a modified prolog.
	! as the send-message operator comes from CSP. Eripascal
	was probably responsible for , and ; being separators and
	not terminators.

</p>
<h3><a name="idm1186">10.4 
        Why is Ericsson giving away Erlang?</a></h3>
<p>
	(The following is my personal impression. I don't speak
	for Ericsson!)
	</p>
<p>

	<strong>Nothing to lose</strong>: Ericsson's core business is
	telecommunications products, selling programming
	tools is not really a business Ericsson	is interested in.
	</p>
<p>

	<strong>Stimulate adoption</strong>: Erlang is a great
	language for many sorts of systems. Releasing a
	good, free development environment is likely to
	make Erlang catch on faster.
	</p>
<p>

	<strong>Generate goodwill</strong>: Giving away cool software can
	only improve Ericsson's image, especially given the
	current level of media attention around "open software".
	</p>
<p>

</p>

<h3><a name="idm1197">10.5 
        What does soft realtime mean?</a></h3>
<a name="soft-realtime"></a>

<p>

	Cynics will say "basically nothing".
	</p>
<p>

	A <strong>hard realtime</strong>
	system is one which can guarantee that a certain action will
	always be carried out in less than a certain time. Many simple
	embedded systems can make hard realtime guarantees, e.g.
	it is possible to guarantee that a particular interrupt
	service routine on a Z80 CPU will never take more than
	34us. It gets progressively harder to make such guarantees for
	more complex systems.
	</p>
<p>

	Many telecomms systems have less strict requirements, for
	instance they might require a statistical guarantee
	along the lines of "a database lookup takes less than 20ms
	in 97% of cases". Soft realtime
	systems, such as Erlang, let you make that sort of guarantee.

	</p>
<p>
	A rule of thumb is that it is straightforward to write
	Erlang programs which can respond to
	external events within a few milliseconds.
	The parts of Erlang which help with this are:
        </p>

	<ul>
	<li><p>Language features which make it hard(er)
		for programmers to roughly estimate performance were
		never added to Erlang.
		For instance, Erlang doesn't have lazy evaluation.
		</p></li>

	<li><p>Erlang processes are very lightweight, much lighter
		than an operating system thread. Switching
		between Erlang processes is typically an order
		of magnitude or two faster than switching between
		OS threads.
		</p></li>

	<li><p>Each Erlang process is garbage collected separately.
		This avoids the (relatively) long delay which would
		occur if there was a single large heap for all
		processes.
		</p></li>

	</ul>


<h3><a name="idm1211">10.6 
         How did the first Erlang compiler get written?</a></h3>
<p>

	(or: <strong>how was Erlang bootstrapped?</strong>) In Joe's words:
</p>
	
	<p>
	First I designed an abstract machine to execute Erlang.
	This was called the JAM machine; JAM = Joe's
	Abstract Machine.
	</p>
	

	
	<p>
	Then I wrote a compiler from Erlang to JAM
	and an emulator to see if the machine worked.
	Both these were written in prolog.
	</p>
	

	
	<p>
	At the same time Mike Williams wrote a C emulator for the JAM.
	</p>
	

	
	<p>
	Then I rewrote the erlang-to-jam compiler in Erlang and
	used the prolog compiler to compile it. The resultant
	object code was run in the C emulator. Then we threw away prolog.
	</p>
        
<p>
	Some of this is described in <span class="bold_code"><a href="http://www.erlang.se/publications/prac_appl_prolog.ps">
	an old paper</a></span>

</p>
<h3><a name="idm1225">10.7 
         Erlang Syntax and Semantics Details</a></h3>
<p>

	When in doubt about exactly what the language allows or does,
	the best place to start is the
	<span class="bold_code"><a href="http://www.erlang.org/download/erl_spec47.ps.gz">
	Erlang Specification</a></span>. This is still a work
	in progress, but it covers most of the language.

</p>
<h3><a name="idm1229">10.8 
         Is the order of message reception guaranteed?</a></h3>
<p>

	Yes, but only within one process.
	</p>
<p>
	If there is a live process and you send it message A and then
	message B, it's guaranteed that if message B arrived, message
	A arrived before it.
	</p>
<p>

	On the other hand, imagine processes P, Q and R. P sends
	message A to Q, and then message B to R. There is no
	guarantee that A arrives before B. (Distributed Erlang would
	have a pretty tough time if this was required!)
</p>


<h3><a name="idm1234">10.9 
        If I send a message, is it guaranteed to reach the receiver?
</a></h3>
<p>

	Most people find it simplest to program as though the answer
	was <strong>"yes, always"</strong>.
	</p>
<p>

	Per Hedeland covered the issues on the mailing list (edited a bit):
</p>

	
	<p>
	"Delivery is guaranteed if nothing breaks" - and if something
	breaks, you will find
	out provided you've used <span class="code">link/1</span>. I.e.
	you will get an <span class="code">EXIT</span> signal
	not only if the linked process dies, but
	also if the entire remote node crashes, or the network is
	broken, or if any of these happen <strong>before</strong>
	you do the link.
	</p>
<p>

	It seems this issue of "guaranteed delivery" comes up every
	now and	then, but I've never managed to find out exactly what
	it is those that are asking for it actually want:
        </p>
        

	<ul>
	<li><p>
		A guarantee that the message is put into the receiver's
		input queue? But if the receiver dies before extracting
		it from there, that guarantee is useless, as the message
		is lost anyway.
		</p></li>

	<li><p> A guarantee that the receiver extracts the message from its
		input queue? Well, besides the obvious problem that
		depending on how the receiver is written, even if
		it lives happily ever after it may <strong>never
		</strong> extract
		that particular message, it suffers from a variant of
	 	the previous problem: Even if you "know" that the
		receiver has "consumed" the message, it may die before
		acting on it in any way, and then again it may as well
		never have been sent.
		</p></li>

	<li><p> A guarantee that the receiver actually
		<strong>processes</strong>
		the message? Just kidding of course, hopefully it's
		obvious to everyone that the only way to obtain such
		a guarantee, regardless of what programming and
		communication system you use, is that the receiver
		is programmed to send an explicit acknowledgment
		when the processing is complete (of course this may
		be hidden below an abstraction such as RPC, but the
		fundamental principle holds).
             </p></li>
	</ul>

        
        <p>
	Add to this that any guarantee would <strong>have</strong>
	to entail some
	form of ack from the remote in at least a distributed
	system, even if it wasn't directly visible to the
	programmer. E.g. you could have '!' block until the ack
	comes back from the remote saying that the message had
	progressed however far you required - i.e. synchronous
	communication of sorts. But this would penalize those that
	<strong>don't</strong> require the "guarantee" and
	<strong>want</strong> asynchronous communication.
	</p>
<p>

	So, depending on your requirements, Erlang offers you
	<strong>at least</strong> these levels of "guarantee":
	</p>
        

	<h4>Super-safe</h4>
	
        <p>

		Receiver sends ack after processing;
		sender links, sends, waits for <span class="code">ack</span>
		or <span class="code">EXIT</span>.
		This means the sender knows, for each message, whether
		it was fully processed or not.
        </p>
        

        <h4>Medium-safe</h4>
	
        <p>
		Receiver doesn't send acks; Sender links,
		sends message(s). This means an <span class="code">EXIT</span>
		signal informs the sender that some messages may never have
		been processed.
        </p>
        

        <h4>Pretty-safe</h4>
	
        <p>
		Receiver doesn't send acks; sender sends messages. :-)
        </p>
	

        
        <p>
	There are any number of combinations of these (e.g. receiver sends
	ack not after each message but at some critical points in the
	processing).
        </p>
	

<p>
	Per concluded by pointing out that "if you think TCP guarantees
	delivery, which most people probably do, then so does Erlang".

</p>
<h3><a name="idm1276">10.10 
         What limits does Erlang have?</a></h3>
<p>

	The Erlang language doesn't specify any limits, but
	different implementations have different limits on the
	number of processes, the maximum amount of RAM and so on.
	These are
	<span class="bold_code"><a href="http://erlang.org/doc/efficiency_guide/advanced.html#9.2">documented for each implementation</a></span>.

</p>
<h3><a name="idm1280">10.11 
        Do funs behave during a code change?</a></h3>
<p>
	Yes and no. A fun is a reference to code; it is not the
	code itself. Thus a fun can only be evaluated if the code
	it refers to is actually loaded on the evaluating node.

	In some cases, we can be sure that execution will never
	return to a fun. In these cases the old code can be purged
	without	problems. The following code causes no surprises:
</p>

	<div class="example"><pre>
	Parent = self(),
	F = fun() -&gt; loop(Parent) end,
	spawn(F).
	</pre></div>

<p>
	On the other hand, a bound fun will not be replaced.
	In the following example, the old verson of F is
	executed even after a code change:
</p>

<div class="example"><pre>
	-module(cc).
	-export([go/0, loop/1]).

	go() -&gt;
		F = fun() -&gt; 5 end,
		spawn(fun() -&gt; loop(F) end).

	loop(F) -&gt;
		timer:sleep(1000),
		F(),
		cc:loop(F).
</pre></div>

<p>
	This type of problem can be solved in the
	<span class="code">code_change/2</span> function in the standard behaviours.

</p>
<h3><a name="idm1288">10.12 
        Examples of bound funs causing surprises</a></h3>
<p>
	Some typical ways to get in trouble are:
</p>

	<ul>
	<li><p>Mnesia. If you store funs in mnesia, you need to
		have a way to update the table (i.e. replace the
		fun references) when you load code.</p></li>

	<li><p>Serialisation. The same deal. If you serialise a
		fun (e.g. <span class="code">term_to_binary/1</span>) and
		then unserialise it, you can only evaluate the fun
		if the code it refers to still exists. In general,
		serialising a fun, saving it to a file and then
		loading it in another emulator will not do what you
		hoped.</p></li>

	<li><p>Message passing. Sending a fun to a remote node
		always works, but the fun can only be evaluated on
		a node where the same version of the same module is
		available.</p></li>
	</ul>
<p>
	A general way to avoid problems with funs which refer to code
	which doesn't exist is to store the function by name instead
	of by reference, e.g. by writing <span class="code">fun M:F/A</span>.

</p>
<h3><a name="idm1301">10.13 
        Is it just me, or are records ugly?</a></h3>
<p>
	Compared to the rest of Erlang, records are rather
	ugly and error prone. They're ugly because they
	require an awful lot of typing (no pun intended).
	They're error prone because the usual method of defining
	records, the <span class="code">-include</span> directive,
	provides no protection against multiple, incompatible
	definitions of records.
	</p>
<p>

	Several ways forward have been explored. One is lisp-like
	<strong>structs</strong> which have been discussed on <span class="bold_code"><a href="http://erlang.org/pipermail/erlang-questions/2003-January/006684.html">the
	mailing list.</a></span>

	Another is Richard O'Keefe's <strong>abstract patterns</strong> which
	is an <span class="bold_code"><a href="http://www.erlang.org/eeps/eep-0029.html">Erlang Enhancement
	Proposal</a></span>.

        Then there is also a suggestion for <span class="bold_code"><a href="http://erlang.org/pipermail/erlang-questions/2005-September/017201.html">making records more reliable</a></span>.

</p>

<h3><a name="idm1312">10.14 
        Can a process receive messages with varying priorities?</a></h3>
    <a name="priority-receive"></a>
    
<p>


        Sure. Here's an example of how to do it using nested receives:
</p>

        <div class="example"><pre>
        receive -&gt;
           {priority_msg, Data1} -&gt; priority(Data1)
        after
           0 -&gt;
             receive
        	{priority_msg, Data1} -&gt; priority(Data1)
                {normal_msg, Data2} -&gt; normal(Data2)
             end
        end.
        </pre></div>



<h3><a name="idm1316">10.15 
        What's the history of static type checking in Erlang?</a></h3>
<p>
        Erlang ships with a static type analysis system called the
        <span class="bold_code"><a href="http://www.it.uu.se/research/group/hipe/dialyzer/">Dialyzer</a></span>.
        Using the dialyzer is optional, though many or most serious
        projects use it. The Dialyzer does not require source code to
        be modified or annotated, though annotations increase the
        number of problems the Dialyzer can find.
</p>

<p>
	Prior to about 2005, static type checking was used rarely in
	commercial Erlang-based systems. Several people experimented
	with various approaches to the problem, including Sven-Olof
	Nyström, Joe Armstrong, Philip Wadler, Simon Marlow and Thomas
	Arts.
</p>



<h3><a name="idm1321">10.16 
        How does type checking in Erlang compare to
Java/Python/C/C++/Haskell?</a></h3>
<p>
        Erlang itself, i.e. <strong>ignoring</strong> the Dialyzer, uses a
	dynamic type system. All type checking is done
	at run-time, the compiler does not check types at compile
	time. The run-time type system cannot be defeated. This is
	comparable to the type systems in Lisp, Smalltalk, Python,
	Javascript, Prolog and others.
</p>
<p>
        Java, Eiffel and some other languages have type systems which
	are mostly checked at compile time, but with some remaining
	checking done at run time. The combination of checking cannot
	be defeated. Such type systems provide some guarantees about
	types which can be exploited by the compiler, this can be
	useful for optimisation.
</p>
<p>
        Haskell, Mercury and some other languages have type systems
	which are completely checked at compile time. This type system
	cannot be defeated. The type system in this type of language
	is also a design tool, it increases the language's
	expressiveness.
</p>
<p>
        C, pascal and C++ have type systems which are checked at
	compile time, but can be defeated by straightforward means
	provided by the language.
</p>


<h3><a name="idm1328">10.17 
        What's Erlang's relation to 'object oriented' programming?</a></h3>

<p>
  Many people think of Erlang as a language oriented towards
  concurrency and message passing, which happens to be
  functional. I.e. object-oriented isn't mentioned.
</p>

<p>
  Another common point of view is to try and define 'object oriented'
  and then look at how Erlang fits that definition. For instance, a
  relatively noncontroversial list of OO features is: dynamic
  dispatch, encapsulation, subtype polymorphism, inheritance and open
  recursion. If you regard an Erlang process as an object, then three
  of the five features are clearly there---e.g. 'open recursion' is
  just sending a message to self(). The two others, subtype
  polymorphism and inheritance, are less naturally modelled.
</p>

<p>
  Still another approach is to elevate the importance of message
  passing in OO. Alan Kay is often brought up in such discussions for
  three reasons: he's credited with cointing the term 'object
  oriented' and message passing is the first thing he mentions when
  explaining what he means by 'object oriented' (for instance in
  <span class="bold_code"><a href="http://www.purl.org/stefan_ram/pub/doc_kay_oop_en">
    this email</a></span>) and he doesn't specify a rigid interpretation of
    how <strong>inheritance</strong> should work.
</p>

<p>
  Various people have published papers on 'how to do OO in Erlang",
  the first book (now defunct) about Erlang featured a whole chapter
  on the subject. In practice, few, if any, real Erlang systems
  attempt to follow those 'OO Erlang' conventions. The <span class="bold_code"><a href="http://wooper.esperide.org/">
  WOOPER</a></span> project is one example of a serious effort to put an OO
  layer on top of Erlang.
</p>


<h3><a name="idm1338">10.18 
        How are strings implemented and how can I speed up my string code?</a></h3>
    <a name="string-performance"></a>
    
<p>
	Strings are represented as linked lists, so each character
	takes 8 octets of memory on a 32 bit machine, twice as much on a 64
        bit machine. Access to the Nth element is O(N). This makes it
        easy to accidentally write O(N^2) code. Here's an example of
        how that can happen:
</p>

	<div class="example"><pre>
	slurp(Socket) -&gt; slurp(Socket, "").

	slurp(Socket, Acc) -&gt;
	  case gen_tcp:recv(Socket, 1) of
	    {ok, [Byte]} -&gt; slurp(Socket, Acc ++ Byte);
	    _ -&gt; Acc
          end.
	</pre></div>

<p>
	The bit-syntax provides an alternative way of handling
	strings with different space/time tradeoffs to the
	list implementation.
</p>

        <p>Some techniques for improving performance of string-related
        code:
</p>

	<ul>
	<li><p>Avoid O(N^2) operations. Sometimes this means building
		a longer string backwards and then using <span class="code">reverse
		</span>
		in the final step. Other times, it's better to build
		up a string as a list of lists and then let the io
		functions flatten the list.
		</p></li>

        <li><p>Consider using an alternative representation of
                your data, e.g. instead of representing the text as a
                list of characters, it may be better to represent it as
                a tree of words.
		</p></li>

	<li><p>If you're reading and writing data from sockets,
		consider using binaries instead of lists of bytes. If
		all you're doing is copying data from one socket to
		another, this will be (much) faster. More generally,
                the bit-syntax provides an alternative way of handling
                strings with different space/time tradeoffs to the list
                implementation.

		</p></li>

	<li><p>Write speed-critical (profile first!) code in C,
		and then put it in your erlang system as a port-driver or a
		linked-in driver.
		</p></li>

	<li>
<p>Ports (and sockets) flatten lists for you,
		so flattening lists yourself slows things down.
		This can also be used to create more readable code:
              </p>
<div class="example"><pre>
gen_tcp:send(Socket, ["GET ", Url, " HTTP/1.0", "\r\n\r\n"]).
</pre></div>

        </li>
	</ul>


<h3><a name="idm1357">10.19 
         How does the Garbage Collector (GC) work?</a></h3>
<p>
  GC in Erlang works independently on each Erlang process, i.e.
  each Erlang process has its own heap, and that heap is GCed
  independently of other processes' heaps.
</p>

<p>
  The current default GC is a "stop the world" generational mark-sweep
  collector. On Erlang systems running with multiple threads (the
  default on systems with more than one core), GC stops work on the
  Erlang process being GCed, but other Erlang processes on other OS
  threads within the same VM continue to run. The time the process
  spends stopped is normally short because the size of one process'
  heap is normally relatively small; much smaller than the combined
  size of all processes heaps.
</p>

<p>
  The GC strategy for a newly started Erlang process is
  full-sweep. Once the process' live data grows above a certain size,
  the GC switches to a generational strategy. If the generational
  strategy reclaims less than a certain amount, the GC reverts to a
  full sweep. If the full sweep also fails to recover enough space,
  then the heap size is increased.
</p>



<h3><a name="idm1362">10.20 
        Can I exploit knowledge about my program to make the GC more efficient?</a></h3>
<p>
	Maybe, but you might be better off expending effort on
	thinking of other ways to make your system go faster.
	</p>
<p>

	One version of <span class="code">spawn/4</span> accepts a list of
	options as the last argument. Ulf Wiger (AXD301) says
	that the <span class="code">gc_switch</span> and <span class="code">min_heap_size</span> can be
	used to obtain better performance if you do some measuring,
	benchmarking and thinking. One 'win' happens when you can
	completely avoid GC in short-lived processes by setting their
	initial heap large enough to avoid all GC during the
	process' life.
	</p>
<p>

	<span class="code">min_heap_size</span> can be useful when you <strong>know</strong> that a
	certain process will rapidly grow its heap to well above
	the system's default size. Under such circumstances you get
	particularly bad GC performance with the current GC
	implementation.
	</p>
<p>

	<span class="code">gc_switch</span> affects the point at
	which the garbage collector
	changes from its full-sweep algorithm to its generational
	algorithm. Again, in a rapidly growing heap which doesn't
	contain many binaries, GC <strong>might</strong> perform
	better with a higher threshold.
	</p>
<p>

</p>
<h3><a name="idm1376">10.21 
        Could the Java Virtual Machine be used to run Erlang?</a></h3>
<p>
	Yes.</p>

	<p><span class="bold_code"><a href="http://www.erjang.org/">Erjang</a></span> does exactly
	that. It's an experimental system with some impressive results.

</p>
<h3><a name="idm1381">10.22 
        Is it possible to prove the correctness of Erlang programs?
</a></h3>
<p>

	One of the touted advantages of functional programming
	languages is that it is easier to formally reason about
	programs and prove certain properties of a given program.
	</p>
<p>

	Two tools used to do that are
	<span class="bold_code"><a href="https://github.com/fredlund/McErlang">
	  MCErlang</a></span> and
	<span class="bold_code"><a href="https://github.com/parapluu/Concuerror">
	  Concuerror</a></span>.


</p>
<h3><a name="idm1387">10.23 
        I've heard it's a bad idea to program defensively in Erlang. Why?</a></h3>

<p>
	The <span class="bold_code"><a href="http://www.erlang.se/doc/programming_rules.shtml">
	Erlang coding guidelines</a></span> suggest avoiding defensive
	programming. The choice of the term "defensive programming"
	is unfortunate, because it is usually associated with good
	practice. The point of the recommendation is that allowing
	an Erlang process to exit when things go wrong inside the
	Erlang program is a <strong>good</strong> approach, i.e.
	writing code which attempts to avoid an exit is usually a bad idea.
</p>
<p>
	For example, when parsing an integer it makes perfect
	sense to just write
</p>

	<div class="example"><pre>
	I = list_to_integer(L)
	</pre></div>
<p>
	if L is not an integer, the process will exit and a supervisor
	somewhere will restart that part of the system, reporting an
	error:
</p>

	<div class="example"><pre>
	=ERROR REPORT==== 12-Mar-2003::13:04:08 ===
	Error in process &lt;0.25.0&gt; with exit value: {badarg,[{erlang,list_to_integer,[bla]},{erl_eval,expr,3},{erl_eval,exprs,4},{shell,eval_loop,2}]}
** exited: {badarg,[{erlang,list_to_integer,[bla]},
                    {erl_eval,expr,3},
                    {erl_eval,exprs,4},
                    {shell,eval_loop,2}]} **

	</pre></div>

<p>
	If a more descriptive diagnostic is required, use a manual exit:
</p>

	<div class="example"><pre>
	uppercase_ascii(C) when C &gt;= $a, C =&lt; $z -&gt;
          C - ($a - $A);
        uppercase_ascii(X) -&gt;
          exit({"uppercase_ascii given non-lowercase argument", X}).
	</pre></div>
<p>
	This separation of error detection and error handling is a key
	part of Erlang. It reduces complexity in fault-tolerant systems
	by keeping the normal and error-handling code separate.
</p>
<p>
	As for most most advice, there are exceptions to the recommendation. One
	example is the case where input is coming from an untrusted
	interface, e.g. a user or an external program.
</p>
<p>
	Joe's
	<span class="bold_code"><a href="http://erlang.org/pipermail/erlang-questions/2003-March/007870.html">original explanation</a></span> is available online.

</p>

</div>
<div class="footer">
<hr>
<p><br></p>
</div>
</div>
</div></body>
</html>
