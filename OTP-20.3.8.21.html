---
layout: patch
name: 20.3.8.21
release: 20
tag_name: OTP-20.3.8.21
src: https://api.github.com/repos/erlang/otp/tarball/refs/tags/OTP-20.3.8.21
erlang_download_readme: https://erlang.org/download/OTP-20.3.8.21.README
readme: https://erlang.org/download/OTP-20.3.8.21.README
Applications:
  HIGHLIGHTS:
    pre: ""
    post: ""
    mode: "txt"
    tickets:
      OTP-15691:
        release_note: "[snmp|agent] Add a get-mechanism callback module (and a corresponding behaviour). The agent calls this module to handle each get (get, get-next and get-bulk) request.\n\n"
        Applications: "snmp"
        RelatedIds: "ERIERL-324"
  POTENTIALINCOMPATIBILITIES:
    pre: ""
    post: ""
    mode: "txt"
    tickets:
      OTP-15717:
        release_note: "The test result when a hook function fails is in general the same as if the function that the hook is associated with fails. For example, if post_init_per_testcase fails the result is that the test case is skipped, as is the case when init_per_testcase fails.This, however, was earlier not true for timetrap timeouts or other error situations where the process running the hook function was killed. This is now corrected, so the error handling should be the same no matter how the hook function fails.\n\n"
        Applications: "common_test"
        RelatedIds: "ERIERL-334"
  OTP-20.3.8.21:
    pre: ""
    post: ""
    mode: "txt"
    tickets:
      OTP-15551:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fixes of install/release phase in build system.\n\n-- The source tree was modified when installing/releasing and/or applying a patch.\n\n-- Some files were installed with wrong access rights.\n\n-- If applying a patch (using otp_patch_apply) as another user (except root) than the user that built the source, the documentation was not properly updated.\n\n"
        Applications: "erts, otp"
      OTP-15657:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Minor fixes for make clean.\n\n"
        Applications: "erts, otp, tools"
  common_test-1.15.4.2:
    pre: "The common_test-1.15.4.2 application can be applied independently of\n other applications on a full OTP 20 installation."
    post: "Full runtime dependencies of common_test-1.15.4.2: compiler-6.0,\n crypto-3.6, debugger-4.1, erts-7.0, inets-6.0, kernel-4.0,\n observer-2.1, runtime_tools-1.8.16, sasl-2.4.2, snmp-5.1.2, ssh-4.0,\n stdlib-3.4, syntax_tools-1.7, tools-2.8, xmerl-1.3.8"
    mode: "txt"
    tickets:
      OTP-15717:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "*** POTENTIAL INCOMPATIBILITY ***\n\nThe test result when a hook function fails is in general the same as if the function that the hook is associated with fails. For example, if post_init_per_testcase fails the result is that the test case is skipped, as is the case when init_per_testcase fails.This, however, was earlier not true for timetrap timeouts or other error situations where the process running the hook function was killed. This is now corrected, so the error handling should be the same no matter how the hook function fails.\n\n"
        Applications: "common_test"
        RelatedIds: "ERIERL-334"
      OTP-15758:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "In some rare cases, when two common_test nodes used the same log directory, a timing problem could occur which caused common_test to crash because it's log cache file was unexpectedly empty. This is now corrected.\n\n"
        Applications: "common_test"
        RelatedIds: "ERIERL-342"
      OTP-14746:
        type: " --- Improvements and New Features ---"
        release_note: "Two new common_test hook functions are introduced:\n\npost_groups/2, which is called after Suite:groups/0 post_all/3, which is called after Suite:all/0\n\nThese functions allow modifying the return values from the groups/0 and all/0 functions, respectively.\n\nA new term, {testcase,TestCase,RepeatProperties} is now also allowed in the return from all/0. This can be used for repeating a single test case a specific number of times, or until it fails or succeeds once.\n\n"
        Applications: "common_test"
        RelatedIds: "ERIERL-143"
      OTP-15716:
        type: " --- Improvements and New Features ---"
        release_note: "OTP internal test improvements.\n\n"
        Applications: "common_test"
  erl_interface-3.10.2.2:
    pre: "The erl_interface-3.10.2.2 application can be applied independently\n of other applications on a full OTP 20 installation."
    post: ""
    mode: "txt"
    tickets:
      OTP-15757:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix handling of Makefile dependencies so that parallel make works properly.\n\n"
        Applications: "erl_interface"
  erts-9.3.3.10:
    pre: "The erts-9.3.3.10 application can be applied independently of other\n applications on a full OTP 20 installation."
    post: "Full runtime dependencies of erts-9.3.3.10: kernel-5.0, sasl-3.0.1,\n stdlib-3.0"
    mode: "txt"
    tickets:
      OTP-15551:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fixes of install/release phase in build system.\n\n-- The source tree was modified when installing/releasing and/or applying a patch.\n\n-- Some files were installed with wrong access rights.\n\n-- If applying a patch (using otp_patch_apply) as another user (except root) than the user that built the source, the documentation was not properly updated.\n\n"
        Applications: "erts, otp"
      OTP-15657:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Minor fixes for make clean.\n\n"
        Applications: "erts, otp, tools"
      OTP-15660:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fixed a bug in all ets:select* and ets:match* functions that could in some rare cases lead to very poor performance.\n\n"
        Applications: "erts"
        RelatedIds: "ERL-869"
      OTP-15690:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix a possible deadlock when terminating the ERTS caused by a dirty scheduler not releasing it's run-queue lock when terminating.\n\n"
        Applications: "erts"
        RelatedIds: "PR-2172"
      OTP-15766:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Add missing documentation of new external tags NEW_PID, NEW_PORT and NEWER_REFERENCE introduced in OTP 19.\n\nThese new tags are planned to be \"activated\" in OTP 23 when distribution capability flag DFLAG_BIG_CREATION becomes mandatory. Older nodes (>= 19) are able to decode these new tags and send them back to the new node. Nodes older than OTP 23 will however never encode their own local pids, ports and references using the new tags.\n\n"
        Applications: "erts"
  snmp-5.2.11.1:
    pre: "The snmp-5.2.11.1 application can be applied independently of other\n applications on a full OTP 20 installation."
    post: "Full runtime dependencies of snmp-5.2.11.1: crypto-3.3, erts-6.0,\n kernel-3.0, mnesia-4.12, runtime_tools-1.8.14, stdlib-2.5"
    mode: "txt"
    tickets:
      OTP-15691:
        type: " --- Improvements and New Features ---"
        release_note: "*** HIGHLIGHT ***\n\n[snmp|agent] Add a get-mechanism callback module (and a corresponding behaviour). The agent calls this module to handle each get (get, get-next and get-bulk) request.\n\n"
        Applications: "snmp"
        RelatedIds: "ERIERL-324"
  ssh-4.6.9.4:
    pre: "Note! The ssh-4.6.9.4 application *cannot* be applied independently\n       of other applications on an arbitrary OTP 20 installation.\n\n       On a full OTP 20 installation, also the following runtime\n       dependencies have to be satisfied:\n       -- crypto-4.2 (first satisfied in OTP 20.2)\n       -- public_key-1.5.2 (first satisfied in OTP 20.2)"
    post: "Full runtime dependencies of ssh-4.6.9.4: crypto-4.2, erts-6.0,\n kernel-3.0, public_key-1.5.2, stdlib-3.3"
    mode: "txt"
    tickets:
      OTP-15763:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "If a client was connected to an server on an already open socket, the callback fun(PeerName,FingerPrint) in the accept_callback option passed the local name in the argument PeerName instead of the remote name.\n\n"
        Applications: "ssh"
  tools-2.11.2.1:
    pre: "Note! The tools-2.11.2.1 application *cannot* be applied\n       independently of other applications on an arbitrary OTP 20\n       installation.\n\n       On a full OTP 20 installation, also the following runtime\n       dependencies have to be satisfied:\n       -- erts-9.1 (first satisfied in OTP 20.1)\n       -- kernel-5.4 (first satisfied in OTP 20.1)"
    post: "Full runtime dependencies of tools-2.11.2.1: compiler-5.0, erts-9.1,\n kernel-5.4, runtime_tools-1.8.14, stdlib-3.4"
    mode: "txt"
    tickets:
      OTP-15657:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Minor fixes for make clean.\n\n"
        Applications: "erts, otp, tools"
Application:
  - common_test-1.15.4.2
  - erl_interface-3.10.2.2
  - erts-9.3.3.10
  - snmp-5.2.11.1
  - ssh-4.6.9.4
  - tools-2.11.2.1
Date: 2019-04-17
GitTag: OTP-20.3.8.21
PatchPackage: OTP 20.3.8.21
Predecessor: OTP 20.3.8.20
Release: 20
Seqnum:
  - ERIERL-143
  - ERIERL-324
  - ERIERL-334
  - ERIERL-342
  - ERL-869
System: OTP
TroubleReportId:
  - OTP-14746
  - OTP-15551
  - OTP-15657
  - OTP-15660
  - OTP-15690
  - OTP-15691
  - OTP-15716
  - OTP-15717
  - OTP-15757
  - OTP-15758
  - OTP-15763
  - OTP-15766
---
## OTP-20.3.8.21
