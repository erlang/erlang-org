<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.1">
    <meta name="project" content="erts v16.1.2">


<meta name="major-vsn" content="28">
<meta name="exdoc:full-text-search-url" content="/doc/search.html?v=28&q=">
<link rel="canonical" href="https://www.erlang.org/doc/apps/erts/escript_cmd.html" />
    <title>escript — erts v16.1.2</title>

    <link rel="stylesheet" href="dist/html-erlang-ZK43ZOAC.css" />

    <script defer src="dist/sidebar_items-E03DE236.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-DPJLHKSM.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="../../index.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="erts" />
        </a>

      <div>
        <a href="../../index.html" class="sidebar-projectName" translate="no">
erts
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v16.1.2
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-extra" id="main" data-type="extras">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of erts</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>escript</h1>


      <a href="https://github.com/erlang/otp/blob/OTP-28.2/erts/doc/references/escript_cmd.md#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


<p>Run a script written in Erlang.</p><h2 id="synopsis" class="section-heading"><a href="#synopsis" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Synopsis</span></h2><pre><code class="makeup erlang" translate="no"><span class="ss">script</span><span class="o">-</span><span class="ss">name</span><span class="w"> </span><span class="p" data-group-id="0963797615-1">[</span><span class="ss">arg1</span><span class="w"> </span><span class="ss">arg2</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="p" data-group-id="0963797615-1">]</span></code></pre><h2 id="description" class="section-heading"><a href="#description" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Description</span></h2><p><code class="inline">escript</code> provides support for running short Erlang programs without having to
compile them first, and an easy way to retrieve the command-line arguments.
<code class="inline">escript</code>s are created by either writing them by hand or using <a href="../../apps/stdlib/escript.html#create/2"><code class="inline">escript:create/2</code></a>.</p><p>escripts are run by directly invoking them (does not work on Windows):</p><pre><code class="text">script-name [arg1 arg2...]</code></pre><p>or by calling the <code class="inline">escript</code> program (works on all platforms):</p><pre><code class="text">escript [escript-flags] script-name.escript [arg1 arg2...]</code></pre><p>For example:</p><pre><code class="text">$ chmod u+x factorial
$ cat factorial</code></pre><pre><code class="makeup erlang" translate="no"><span class="ch">#!/usr/bin/env escript
</span><span class="c1">%% -*- erlang -*-</span><span class="w">
</span><span class="c1">%%! -sname factorial -mnesia debug verbose</span><span class="w">
</span><span class="nf">main</span><span class="p" data-group-id="3650636069-1">(</span><span class="p" data-group-id="3650636069-2">[</span><span class="n">String</span><span class="p" data-group-id="3650636069-2">]</span><span class="p" data-group-id="3650636069-1">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="k">try</span><span class="w">
        </span><span class="n">N</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list_to_integer</span><span class="p" data-group-id="3650636069-3">(</span><span class="n">String</span><span class="p" data-group-id="3650636069-3">)</span><span class="p">,</span><span class="w">
        </span><span class="n">F</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">fac</span><span class="p" data-group-id="3650636069-4">(</span><span class="n">N</span><span class="p" data-group-id="3650636069-4">)</span><span class="p">,</span><span class="w">
        </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="3650636069-5">(</span><span class="s">&quot;factorial </span><span class="si">~w</span><span class="s"> = </span><span class="si">~w</span><span class="s">\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3650636069-6">[</span><span class="n">N</span><span class="p">,</span><span class="n">F</span><span class="p" data-group-id="3650636069-6">]</span><span class="p" data-group-id="3650636069-5">)</span><span class="w">
    </span><span class="k">catch</span><span class="w">
        </span><span class="p">_</span><span class="p">:</span><span class="p">_</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
            </span><span class="nf">usage</span><span class="p" data-group-id="3650636069-7">(</span><span class="p" data-group-id="3650636069-7">)</span><span class="w">
    </span><span class="k">end</span><span class="p">;</span><span class="w">
</span><span class="nf">main</span><span class="p" data-group-id="3650636069-8">(</span><span class="p">_</span><span class="p" data-group-id="3650636069-8">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nf">usage</span><span class="p" data-group-id="3650636069-9">(</span><span class="p" data-group-id="3650636069-9">)</span><span class="p">.</span><span class="w">

</span><span class="nf">usage</span><span class="p" data-group-id="3650636069-10">(</span><span class="p" data-group-id="3650636069-10">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="3650636069-11">(</span><span class="s">&quot;usage: factorial integer\n&quot;</span><span class="p" data-group-id="3650636069-11">)</span><span class="p">,</span><span class="w">
    </span><span class="nf">halt</span><span class="p" data-group-id="3650636069-12">(</span><span class="mi">1</span><span class="p" data-group-id="3650636069-12">)</span><span class="p">.</span><span class="w">

</span><span class="nf">fac</span><span class="p" data-group-id="3650636069-13">(</span><span class="mi">0</span><span class="p" data-group-id="3650636069-13">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">
</span><span class="nf">fac</span><span class="p" data-group-id="3650636069-14">(</span><span class="n">N</span><span class="p" data-group-id="3650636069-14">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nf">fac</span><span class="p" data-group-id="3650636069-15">(</span><span class="n">N</span><span class="o">-</span><span class="mi">1</span><span class="p" data-group-id="3650636069-15">)</span><span class="p">.</span></code></pre><pre><code class="text">$ ./factorial 5
factorial 5 = 120
$ ./factorial
usage: factorial integer
$ ./factorial five
usage: factorial integer</code></pre><p>The header of the Erlang script in the example differs from a normal Erlang
module. The first line is intended to be the interpreter line, which invokes
<code class="inline">escript</code>.</p><p>However, if you invoke the <code class="inline">escript</code> as follows, the contents of the first line
do not matter, but it cannot contain Erlang code as it will be ignored:</p><pre><code class="text">$ escript factorial 5</code></pre><p>The second line in the example contains an optional directive to the <code class="inline">Emacs</code>
editor, which causes it to enter the major mode for editing Erlang source files.
If the directive is present, it must be located on the second line.</p><p>If a comment selecting the <a href="../../apps/stdlib/epp.html#encoding">encoding</a> exists, it can be
located on the second line.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>The encoding specified by the above mentioned comment applies to the script
itself. The encoding of the I/O-server, however, must be set explicitly as
follows:</p><pre><code class="makeup erlang" translate="no"><span class="nc">io</span><span class="p">:</span><span class="nf">setopts</span><span class="p" data-group-id="8484201705-1">(</span><span class="p" data-group-id="8484201705-2">[</span><span class="p" data-group-id="8484201705-3">{</span><span class="ss">encoding</span><span class="p">,</span><span class="w"> </span><span class="ss">latin1</span><span class="p" data-group-id="8484201705-3">}</span><span class="p" data-group-id="8484201705-2">]</span><span class="p" data-group-id="8484201705-1">)</span></code></pre><p>The default encoding of the I/O-server for
<a href="../../apps/stdlib/io.html#t:standard_io/0"><code class="inline">standard_io</code></a> is <code class="inline">unicode</code> if its supported. (see
section
<a href="../../apps/stdlib/unicode_usage.html#unicode_options_summary">Summary of Options</a>) in
the STDLIB User's Guide.</p></section><p>On the third line (or second line depending on the presence of the Emacs
directive), arguments can be specified to the emulator, for example:</p><pre><code class="text">%%! -sname factorial -mnesia debug verbose</code></pre><p>Such an argument line must start with <code class="inline">%%!</code> and the remaining line is
interpreted as arguments to the emulator.</p><p>If you know the location of the <code class="inline">escript</code> executable, the first line can
directly give the path to <code class="inline">escript</code>, for example:</p><pre><code class="text">#!/usr/local/bin/escript</code></pre><p>As any other type of scripts, Erlang scripts do not work on Unix platforms if
the execution bit for the script file is not set. (To turn on the execution bit,
use <code class="inline">chmod +x script-name</code>.)</p><p>The remaining Erlang script file can either contain Erlang <em>source code</em>, an
<em>inlined beam file</em>, or an <em>inlined archive file</em>.</p><p>An Erlang script file must always contain the <code class="inline">main/1</code> function. When the script
is run, the <code class="inline">main/1</code> function is called with a list of strings representing the
arguments specified to the script (not changed or interpreted in any way).</p><p>If the <code class="inline">main/1</code> function in the script returns successfully, the exit status for
the script is <code class="inline">0</code>. If an exception is generated during execution, a short
message is printed and the script terminates with exit status <code class="inline">127</code>.</p><p>To return your own non-zero exit code, call <a href="erlang.html#halt/1"><code class="inline">halt(ExitCode)</code></a>, for
example:</p><pre><code class="text">halt(1).</code></pre><p>To retrieve the pathname of the script, call <a href="../../apps/stdlib/escript.html#script_name/0"><code class="inline">escript:script_name/0</code></a> from your
script (the pathname is usually, but not always, absolute).</p><p>If the file contains source code (as in the example above), it is processed by
the <a href="../../apps/stdlib/epp.html"><code class="inline">epp</code></a> preprocessor. This means that you, for example, can use predefined
macros (such as <code class="inline">?MODULE</code>) and include directives like the <code class="inline">-include_lib</code>
directive. For example, use</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">include_lib</span><span class="p" data-group-id="5622418308-1">(</span><span class="s">&quot;kernel/include/file.hrl&quot;</span><span class="p" data-group-id="5622418308-1">)</span><span class="p">.</span></code></pre><p>to include the record definitions for the records used by function
<a href="../../apps/kernel/file.html#read_link_info/1"><code class="inline">file:read_link_info/1</code></a>. You can also select encoding by including an encoding
comment here, but if a valid encoding comment exists on the second line, it
takes precedence.</p><p>The script is checked for syntactic and semantic correctness before it is run.
If there are warnings (such as unused variables), they are printed and the
script will still be run. If there are errors, they are printed and the script
will not be run and its exit status is <code class="inline">127</code>.</p><p>Both the module declaration and the export declaration of the <code class="inline">main/1</code> function
are optional.</p><p>By default, the script will be compiled by the Erlang compiler.</p><p>It is possible to force it to be interpreted by including the following line
somewhere in the script file:</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">mode</span><span class="p" data-group-id="2695545153-1">(</span><span class="ss">interpret</span><span class="p" data-group-id="2695545153-1">)</span><span class="p">.</span></code></pre><p>Execution of interpreted code is slower than compiled code, and some language
constructs will not work, but there is no requirement for the Erlang compiler
application to be available.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Change</h4><p>Before Erlang/OTP 27 the script would be interpreted by default.</p></section><h2 id="precompiled-escripts" class="section-heading"><a href="#precompiled-escripts" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Precompiled escripts</span></h2><p>A script can also contains precompiled <code class="inline">beam</code> code. To create a precompiled
escript it is recommended that you use <a href="../../apps/stdlib/escript.html#create/2"><code class="inline">escript:create/2</code></a>. In a
precompiled script, the interpretation of the script header is the same as in a
script containing source code. This means that you can make a <code class="inline">beam</code> file
executable by prepending the file with the lines starting with <code class="inline">#!</code> and <code class="inline">%%!</code>
mentioned above. In a precompiled script, the <code class="inline">main/1</code> function must be
exported.</p><p>Another option is to have an entire Erlang archive in the script. In an archive
script, the interpretation of the script header is the same as in a script
containing source code. This means that you can make an archive file executable
by prepending the file with the lines starting with <code class="inline">#!</code> and <code class="inline">%%!</code> mentioned
above. In an archive script, the <code class="inline">main/1</code> function must be exported. By default
the <code class="inline">main/1</code> function in the module with the same name as the basename of the
<code class="inline">escript</code> file is invoked. This behavior can be overridden by setting flag
<code class="inline">-escript main Module</code> as one of the emulator flags. <code class="inline">Module</code> must be the name
of a module that has an exported <code class="inline">main/1</code> function. For more information about
archives and code loading, see <a href="../../apps/stdlib/escript.html"><code class="inline">escript</code></a> and <a href="../../apps/kernel/code.html"><code class="inline">code</code></a>.</p><p>It is often very convenient to have a header in the escript, especially on Unix
platforms. However, the header is optional, so you directly can &quot;execute&quot; an
Erlang module, Beam file, or archive file without adding any header to them. But
then you have to invoke the script as follows:</p><pre><code class="text">$ escript factorial.erl 5
factorial 5 = 120
$ escript factorial.beam 5
factorial 5 = 120
$ escript factorial.zip 5
factorial 5 = 120</code></pre><h2 id="bundling-escripts" class="section-heading"><a href="#bundling-escripts" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Bundling escripts</span></h2><p>It is possible to bundle <code class="inline">escript</code>(s) with an Erlang runtime system to make it
self-sufficient and relocatable. In such a standalone system, the <code class="inline">escript</code>(s)
should be located in the top <code class="inline">bin</code> directory of the standalone system and given
<code class="inline">.escript</code> as file extension. Further the (built-in) <code class="inline">escript</code> program should be
copied to the same directory and given the script's original name (without the
<code class="inline">.escript</code> extension). This will enable use of the bundled Erlang runtime
system.</p><p>The (built-in) <code class="inline">escript</code> program first determines which Erlang runtime system to
use and then starts it to execute your script. Usually the runtime system is
located in the same Erlang installation as the <code class="inline">escript</code> program itself. But for
standalone systems with one or more escripts it may be the case that the
<code class="inline">escript</code> program in your path actually starts the runtime system bundled with
the escript. This is intentional, and typically happens when the standalone
system <code class="inline">bin</code> directory is not in the execution path (as it may cause its <code class="inline">erl</code>
program to override the desired one) and the <code class="inline">escript</code>(s) are referred to via
symbolic links from a <code class="inline">bin</code> directory in the path.</p><h2 id="options-accepted-by-escript" class="section-heading"><a href="#options-accepted-by-escript" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Options Accepted By escript</span></h2><ul><li><p><strong><code class="inline">-c</code></strong> - Compiles the escript regardless of the value of the mode attribute.</p></li><li><p><strong><code class="inline">-d</code></strong> - Debugs the escript. Starts the debugger, loads the module
containing the <code class="inline">main/1</code> function into the debugger, sets a breakpoint in
<code class="inline">main/1</code>, and invokes <code class="inline">main/1</code>. If the module is precompiled, it must be
explicitly compiled with option <code class="inline">debug_info</code>.</p></li><li><p><strong><code class="inline">-i</code></strong> - Interprets the escript regardless of the value of the mode
attribute.</p></li><li><p><strong><code class="inline">-s</code></strong> - Performs a syntactic and semantic check of the script file.
Warnings and errors (if any) are written to the standard output, but the
script will not be run. The exit status is <code class="inline">0</code> if any errors are found,
otherwise <code class="inline">127</code>.</p></li></ul><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>The configuration of the Erlang emulator invoked by <code class="inline">escript</code> can also be
controlled using the
<a href="erl_cmd.html#environment-variables">environment variables understood by <code class="inline">erl</code></a>.</p></section>

</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

      <a href="erlsrv_cmd.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
erlsrv
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="run_erl_cmd.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
run_erl
        </span>
      </a>

  </div>
</div>
    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.1) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>
<p>Copyright © 1996-2025 <a href="https://www.ericsson.com">Ericsson AB</a></p>
    </footer>
  </div>
</main>
</div>
  <script defer src="https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.min.js"></script>
  <script>
  let initialized = false;

  window.addEventListener("exdoc:loaded", () => {
      if (!initialized) {
      mermaid.initialize({
          startOnLoad: false,
          theme: document.body.className.includes("dark") ? "dark" : "default"
      });
      initialized = true;
      }

      let id = 0;
      for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
          graphEl.innerHTML = svg;
          bindFunctions?.(graphEl);
          preEl.insertAdjacentElement("afterend", graphEl);
          preEl.remove();
      });
      }
  });
  </script>

  </body>
</html>
