<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.1">
    <meta name="project" content="parsetools v2.7">


<meta name="major-vsn" content="28">
<meta name="exdoc:full-text-search-url" content="/doc/search.html?v=28&q=">
<link rel="canonical" href="https://www.erlang.org/doc/apps/parsetools/yecc.html" />
    <title>yecc â€” parsetools v2.7</title>

    <link rel="stylesheet" href="dist/html-erlang-ZK43ZOAC.css" />

    <script defer src="dist/sidebar_items-54E776FB.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-DPJLHKSM.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="../../index.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="parsetools" />
        </a>

      <div>
        <a href="../../index.html" class="sidebar-projectName" translate="no">
parsetools
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v2.7
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-module" id="main" data-type="modules">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of parsetools</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>
      <span translate="no">yecc</span> 
      <small class="app-vsn" translate="no">(parsetools v2.7)</small>

    </h1>

      <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/parsetools/src/yecc.erl#L27" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


    <section id="moduledoc">
<p>LALR-1 Parser Generator</p><p>An LALR-1 parser generator for Erlang, similar to <code class="inline">yacc</code>. Takes a BNF grammar
definition as input, and produces Erlang code for a parser.</p><p>To understand this text, you also have to look at the <code class="inline">yacc</code> documentation in
the UNIX(TM) manual. This is most probably necessary in order to understand the
idea of a parser generator, and the principle and problems of LALR parsing with
finite look-ahead.</p><p>An nice introduction to <code class="inline">yacc</code> can be found in chapter 8 of &quot;The UNIX
Programming Environment&quot; by Brian W. Kernighan and Rob Pike.</p><h2 id="module-default-yecc-options" class="section-heading"><a href="#module-default-yecc-options" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Default Yecc Options</span></h2><p>The (host operating system) environment variable <code class="inline">ERL_COMPILER_OPTIONS</code> can be
used to give default Yecc options. Its value must be a valid Erlang term. If the
value is a list, it is used as is. If it is not a list, it is put into a list.</p><p>The list is appended to any options given to <a href="#file/2"><code class="inline">file/2</code></a>.</p><p>The list can be retrieved with <a href="../../apps/compiler/compile.html#env_compiler_options/0"><code class="inline">compile:env_compiler_options/0</code></a>.</p><h2 id="module-pre-processing" class="section-heading"><a href="#module-pre-processing" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Pre-Processing</span></h2><p>A <code class="inline">scanner</code> to pre-process the text (program) to be parsed is not provided
in the <code class="inline">yecc</code> module. The scanner serves as a kind of lexicon look-up routine.
It is possible to write a grammar that uses only character tokens as terminal
symbols, thereby eliminating the need for a scanner, but this would make the
parser larger and slower.</p><p>The user should implement a scanner that segments the input text, and turns it
into one or more lists of tokens. Each token should be a tuple containing
information about syntactic category, position in the text (for example
line number), and the actual terminal symbol found in the text:
<code class="inline">{Category, Position, Symbol}</code>.</p><p>If a terminal symbol is the only member of a category, and the symbol name is
identical to the category name, the token format can be <code class="inline">{Symbol, Position}</code>.</p><p>A list of tokens produced by the scanner should end with a special
<code class="inline">end_of_input</code> tuple which the parser is looking for. The format of this tuple
should be <code class="inline">{Endsymbol, EndPosition}</code>, where <code class="inline">Endsymbol</code> is an identifier that is
distinguished from all the terminal and non-terminal categories of the syntax
rules. The <code class="inline">Endsymbol</code> can be declared in the grammar file.</p><p>The simplest case is to segment the input string into a list of identifiers
(atoms) and use those atoms both as categories and values of the tokens. For
example, the input string <code class="inline">aaa bbb 777, X</code> may be scanned (tokenized) as:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="8232147077-1">[</span><span class="p" data-group-id="8232147077-2">{</span><span class="ss">aaa</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="8232147077-2">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8232147077-3">{</span><span class="ss">bbb</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="8232147077-3">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8232147077-4">{</span><span class="mi">777</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="8232147077-4">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8232147077-5">{</span><span class="ss">&#39;,&#39;</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="8232147077-5">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8232147077-6">{</span><span class="ss">&#39;X&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="8232147077-6">}</span><span class="p">,</span><span class="w">
 </span><span class="p" data-group-id="8232147077-7">{</span><span class="ss">&#39;$end&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="8232147077-7">}</span><span class="p" data-group-id="8232147077-1">]</span><span class="p">.</span></code></pre><p>This assumes that this is the first line of the input text, and that <code class="inline">'$end'</code> is
the distinguished <code class="inline">end_of_input</code> symbol.</p><p>The Erlang scanner in the <code class="inline">io</code> module can be used as a starting point when
writing a new scanner. Study <code class="inline">yeccscan.erl</code> in order to see how a filter can be
added on top of <a href="../../apps/stdlib/io.html#scan_erl_form/3"><code class="inline">io:scan_erl_form/3</code></a> to provide a scanner for Yecc that
tokenizes grammar files before parsing them with the Yecc parser. A more general
approach to scanner implementation is to use a scanner generator such as
<a href="leex.html"><code class="inline">leex</code></a>.</p><h2 id="module-grammar-definition-format" class="section-heading"><a href="#module-grammar-definition-format" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Grammar Definition Format</span></h2><p>Erlang style <code class="inline">comments</code>, starting with a <code class="inline">'%'</code>, are allowed in grammar files.</p><p>Each <code class="inline">declaration</code> or <code class="inline">rule</code> ends with a dot (the character <code class="inline">'.'</code>).</p><p>The grammar starts with an optional <code class="inline">header</code> section. The header is put first in
the generated file, before the module declaration. The purpose of the header is
to provide a means to make the documentation generated by <a href="../../apps/edoc/edoc.html">EDoc</a>
look nicer. Each header line should be enclosed in double quotes, and newlines
will be inserted between the lines. For example:</p><pre><code class="makeup erlang" translate="no"><span class="n">Header</span><span class="w"> </span><span class="s">&quot;%% Copyright (C)&quot;</span><span class="w">
</span><span class="s">&quot;%% @private&quot;</span><span class="w">
</span><span class="s">&quot;%% @Author John&quot;</span><span class="p">.</span></code></pre><p>Next comes a declaration of the <code class="inline">nonterminal categories</code> to be used in the
rules. For example:</p><pre><code class="text">Nonterminals sentence nounphrase verbphrase.</code></pre><p>A non-terminal category can be used at the left-hand side (= <code class="inline">lhs</code>, or <code class="inline">head</code>)
of a grammar rule. It can also appear at the right-hand side of rules.</p><p>Next comes a declaration of the <code class="inline">terminal categories</code>, which are the categories
of tokens produced by the scanner. For example:</p><pre><code class="text">Terminals article adjective noun verb.</code></pre><p>Terminal categories may only appear in the right hand sides (= <code class="inline">rhs</code>) of grammar
rules.</p><p>Next comes a declaration of the <code class="inline">rootsymbol</code>, or start category of the grammar.
For example:</p><pre><code class="text">Rootsymbol sentence.</code></pre><p>This symbol should appear in the lhs of at least one grammar rule. This is the
most general syntactic category which the parser ultimately will parse every
input string into.</p><p>After the rootsymbol declaration comes an optional declaration of the
<code class="inline">end_of_input</code> symbol that your scanner is expected to use. For example:</p><pre><code class="text">Endsymbol '$end'.</code></pre><p>Next comes one or more declarations of <em>operator precedences</em>, if needed. These
are used to resolve shift/reduce conflicts (see <code class="inline">yacc</code> documentation).</p><p>Examples of operator declarations:</p><pre><code class="text">Right 100 '='.
Nonassoc 200 '==' '=/='.
Left 300 '+'.
Left 400 '*'.
Unary 500 '-'.</code></pre><p>These declarations mean that <code class="inline">'='</code> is defined as a <code class="inline">right associative binary</code>
operator with precedence 100, <code class="inline">'=='</code> and <code class="inline">'=/='</code> are operators with
<code class="inline">no associativity</code>, <code class="inline">'+'</code> and <code class="inline">'*'</code> are <code class="inline">left associative binary</code> operators,
where <code class="inline">'*'</code> takes precedence over <code class="inline">'+'</code> (the normal case), and <code class="inline">'-'</code> is a
<code class="inline">unary</code> operator of higher precedence than <code class="inline">'*'</code>. The fact that '==' has no
associativity means that an expression like <code class="inline">a == b == c</code> is considered a syntax
error.</p><p>Certain rules are assigned precedence: each rule gets its precedence from the
last terminal symbol mentioned in the right hand side of the rule. It is also
possible to declare precedence for non-terminals, &quot;one level up&quot;. This is
practical when an operator is overloaded (see also example 3 below).</p><p>Next come the <em>grammar rules</em>. Each rule has the general form</p><pre><code class="makeup erlang" translate="no"><span class="n">Left_hand_side</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="n">Right_hand_side</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">Associated_code</span><span class="p">.</span></code></pre><p>The left hand side is a non-terminal category. The right hand side is a sequence
of one or more non-terminal or terminal symbols with spaces between. The
associated code is a sequence of zero or more Erlang expressions (with commas
<code class="inline">','</code> as separators). If the associated code is empty, the separating colon
<code class="inline">':'</code> is also omitted. A final dot marks the end of the rule.</p><p>Symbols such as <code class="inline">'{'</code>, <code class="inline">'.'</code>, and so on, have to be enclosed in single quotes
when used as terminal or non-terminal symbols in grammar rules. The use of the
symbols <code class="inline">'$empty'</code>, <code class="inline">'$end'</code>, and <code class="inline">'$undefined'</code> should be avoided.</p><p>The last part of the grammar file is an optional section with Erlang code (=
function definitions) which is included 'as is' in the resulting parser file.
This section must start with the pseudo declaration, or key words</p><pre><code class="text">Erlang code.</code></pre><p>No syntax rule definitions or other declarations must follow this section. To
avoid conflicts with internal variables, do not use variable names beginning
with two underscore characters (<code class="inline">'__'</code>) in the Erlang code in this section, or
in the code associated with the individual syntax rules.</p><p>The optional <code class="inline">expect</code> declaration can be placed anywhere before the last
optional section with Erlang code. It is used for suppressing the warning about
conflicts that is ordinarily given if the grammar is ambiguous. An example:</p><pre><code class="text">Expect 2.</code></pre><p>The warning is given if the number of shift/reduce conflicts differs from 2, or
if there are reduce/reduce conflicts.</p><h2 id="module-examples" class="section-heading"><a href="#module-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Examples</span></h2><p>A grammar to parse list expressions (with empty associated code):</p><pre><code class="text">Nonterminals list elements element.
Terminals atom '(' ')'.
Rootsymbol list.
list -&gt; '(' ')'.
list -&gt; '(' elements ')'.
elements -&gt; element.
elements -&gt; element elements.
element -&gt; atom.
element -&gt; list.</code></pre><p>This grammar can be used to generate a parser which parses list expressions,
such as <code class="inline">(), (a), (peter charles), (a (b c) d (())), ...</code> provided that your
scanner tokenizes, for example, the input <code class="inline">(peter charles)</code> as follows:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="1475160682-1">[</span><span class="p" data-group-id="1475160682-2">{</span><span class="ss">&#39;(&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="1475160682-2">}</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1475160682-3">{</span><span class="ss">atom</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">peter</span><span class="p" data-group-id="1475160682-3">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1475160682-4">{</span><span class="ss">atom</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">charles</span><span class="p" data-group-id="1475160682-4">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1475160682-5">{</span><span class="ss">&#39;)&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="1475160682-5">}</span><span class="p">,</span><span class="w">
 </span><span class="p" data-group-id="1475160682-6">{</span><span class="ss">&#39;$end&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="1475160682-6">}</span><span class="p" data-group-id="1475160682-1">]</span></code></pre><p>When a grammar rule is used by the parser to parse (part of) the input string as
a grammatical phrase, the associated code is evaluated, and the value of the
last expression becomes the value of the parsed phrase. This value may be used
by the parser later to build structures that are values of higher phrases of
which the current phrase is a part. The values initially associated with
terminal category phrases, i.e. input tokens, are the token tuples themselves.</p><p>Below is an example of the grammar above with structure building code added:</p><pre><code class="text">list -&gt; '(' ')' : nil.
list -&gt; '(' elements ')' : '$2'.
elements -&gt; element : {cons, '$1', nil}.
elements -&gt; element elements : {cons, '$1', '$2'}.
element -&gt; atom : '$1'.
element -&gt; list : '$1'.</code></pre><p>With this code added to the grammar rules, the parser produces the following
value (structure) when parsing the input string <code class="inline">(a b c).</code>. This still assumes
that this was the first input line that the scanner tokenized:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="1499186795-1">{</span><span class="ss">cons</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1499186795-2">{</span><span class="ss">atom</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">a</span><span class="p" data-group-id="1499186795-2">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1499186795-3">{</span><span class="ss">cons</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1499186795-4">{</span><span class="ss">atom</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">b</span><span class="p" data-group-id="1499186795-4">}</span><span class="p">,</span><span class="w">
                            </span><span class="p" data-group-id="1499186795-5">{</span><span class="ss">cons</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1499186795-6">{</span><span class="ss">atom</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="ss">c</span><span class="p" data-group-id="1499186795-6">}</span><span class="p">,</span><span class="w"> </span><span class="ss">nil</span><span class="p" data-group-id="1499186795-5">}</span><span class="p" data-group-id="1499186795-3">}</span><span class="p" data-group-id="1499186795-1">}</span></code></pre><p>The associated code contains <code class="inline">pseudo variables</code> <code class="inline">'$1'</code>, <code class="inline">'$2'</code>,
<code class="inline">'$3'</code>, and so on.  which refer to (are bound to) the values
associated previously by the parser with the symbols of the right-hand
side of the rule. When these symbols are terminal categories, the
values are token tuples of the input string (see above).</p><p>The associated code may not only be used to build structures
associated with phrases, but may also be used for syntactic and
semantic tests, printout actions (for example for tracing), and so on
during the parsing process. Since tokens contain positional (line
number) information, it is possible to produce error messages which
contain line numbers. If there is no associated code after the
right-hand side of the rule, the value <code class="inline">'$undefined'</code> is associated
with the phrase.</p><p>The right-hand side of a grammar rule can be empty. This is indicated by using
the special symbol <code class="inline">'$empty'</code> as rhs. Then the list grammar above can be
simplified to:</p><pre><code class="text">list -&gt; '(' elements ')' : '$2'.
elements -&gt; element elements : {cons, '$1', '$2'}.
elements -&gt; '$empty' : nil.
element -&gt; atom : '$1'.
element -&gt; list : '$1'.</code></pre><h2 id="module-generating-a-parser" class="section-heading"><a href="#module-generating-a-parser" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Generating a Parser</span></h2><p>To call the parser generator, use the following command:</p><pre><code class="makeup erlang" translate="no"><span class="nc">yecc</span><span class="p">:</span><span class="nf">file</span><span class="p" data-group-id="5536211323-1">(</span><span class="n">Grammarfile</span><span class="p" data-group-id="5536211323-1">)</span><span class="p">.</span></code></pre><p>An error message from Yecc will be shown if the grammar is not of the LALR type
(for example too ambiguous). Shift/reduce conflicts are resolved in favor of
shifting if there are no operator precedence declarations. Refer to the <code class="inline">yacc</code>
documentation on the use of operator precedence.</p><p>The output file contains Erlang source code for a parser module with module name
equal to the <code class="inline">Parserfile</code> parameter. After compilation, the parser can be called
as follows (the module name is assumed to be <code class="inline">myparser</code>):</p><pre><code class="makeup erlang" translate="no"><span class="nc">myparser</span><span class="p">:</span><span class="nf">parse</span><span class="p" data-group-id="9001341230-1">(</span><span class="nc">myscanner</span><span class="p">:</span><span class="nf">scan</span><span class="p" data-group-id="9001341230-2">(</span><span class="n">Inport</span><span class="p" data-group-id="9001341230-2">)</span><span class="p" data-group-id="9001341230-1">)</span></code></pre><p>The call format can be different if a customized prologue file has been included
when generating the parser instead of the default file
<code class="inline">lib/parsetools/include/yeccpre.hrl</code>.</p><p>With the standard prologue, this call will return either <code class="inline">{ok, Result}</code>, where
<code class="inline">Result</code> is a structure that the Erlang code of the grammar file has built, or
<code class="inline">{error, {Position, Module, Message}}</code> if there was a syntax error in the input.</p><p><code class="inline">Message</code> is something which may be converted into a string by calling
<code class="inline">Module:format_error(Message)</code> and printed with <a href="../../apps/stdlib/io.html#format/3"><code class="inline">io:format/3</code></a>.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>By default, the parser that was generated will not print out error messages to
the screen. The user will have to do this either by printing the returned
error messages, or by inserting tests and print instructions in the Erlang
code associated with the syntax rules of the grammar file.</p></section><p>It is also possible to make the parser ask for more input tokens when needed if
the following call format is used:</p><pre><code class="makeup erlang" translate="no"><span class="nc">myparser</span><span class="p">:</span><span class="nf">parse_and_scan</span><span class="p" data-group-id="0382766236-1">(</span><span class="p" data-group-id="0382766236-2">{</span><span class="n">Function</span><span class="p">,</span><span class="w"> </span><span class="n">Args</span><span class="p" data-group-id="0382766236-2">}</span><span class="p" data-group-id="0382766236-1">)</span><span class="w">
</span><span class="nc">myparser</span><span class="p">:</span><span class="nf">parse_and_scan</span><span class="p" data-group-id="0382766236-3">(</span><span class="p" data-group-id="0382766236-4">{</span><span class="n">Mod</span><span class="p">,</span><span class="w"> </span><span class="n">Tokenizer</span><span class="p">,</span><span class="w"> </span><span class="n">Args</span><span class="p" data-group-id="0382766236-4">}</span><span class="p" data-group-id="0382766236-3">)</span></code></pre><p>The tokenizer <code class="inline">Function</code> is either a fun or a tuple <code class="inline">{Mod, Tokenizer}</code>. The call
<a href="../../apps/erts/erlang.html#apply/2"><code class="inline">apply(Function, Args)</code></a> or
<a href="../../apps/erts/erlang.html#apply/2"><code class="inline">apply({Mod, Tokenizer}, Args)</code></a> is executed whenever a new token is
needed. This, for example, makes it possible to parse from a file, token by
token.</p><p>The tokenizer used above has to be implemented so as to return one of the
following:</p><pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="1886386568-1">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="n">Tokens</span><span class="p">,</span><span class="w"> </span><span class="n">EndPosition</span><span class="p" data-group-id="1886386568-1">}</span><span class="w">
</span><span class="p" data-group-id="1886386568-2">{</span><span class="ss">eof</span><span class="p">,</span><span class="w"> </span><span class="n">EndPosition</span><span class="p" data-group-id="1886386568-2">}</span><span class="w">
</span><span class="p" data-group-id="1886386568-3">{</span><span class="ss">error</span><span class="p">,</span><span class="w"> </span><span class="n">Error_description</span><span class="p">,</span><span class="w"> </span><span class="n">EndPosition</span><span class="p" data-group-id="1886386568-3">}</span></code></pre><p>This conforms to the format used by the scanner in the Erlang <code class="inline">io</code> library
module.</p><p>If <code class="inline">{eof, EndPosition}</code> is returned immediately, the call to <code class="inline">parse_and_scan/1</code>
returns <code class="inline">{ok, eof}</code>. If <code class="inline">{eof, EndPosition}</code> is returned before the parser
expects end of input, <code class="inline">parse_and_scan/1</code> will, of course, return an error
message (see above). Otherwise <code class="inline">{ok, Result}</code> is returned.</p><h2 id="module-more-examples" class="section-heading"><a href="#module-more-examples" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">More Examples</span></h2><p>1. A grammar for parsing infix arithmetic expressions into prefix notation,
without operator precedence:</p><pre><code class="text">Nonterminals E T F.
Terminals '+' '*' '(' ')' number.
Rootsymbol E.
E -&gt; E '+' T: {'$2', '$1', '$3'}.
E -&gt; T : '$1'.
T -&gt; T '*' F: {'$2', '$1', '$3'}.
T -&gt; F : '$1'.
F -&gt; '(' E ')' : '$2'.
F -&gt; number : '$1'.</code></pre><p>2. The same with operator precedence becomes simpler:</p><pre><code class="text">Nonterminals E.
Terminals '+' '*' '(' ')' number.
Rootsymbol E.
Left 100 '+'.
Left 200 '*'.
E -&gt; E '+' E : {'$2', '$1', '$3'}.
E -&gt; E '*' E : {'$2', '$1', '$3'}.
E -&gt; '(' E ')' : '$2'.
E -&gt; number : '$1'.</code></pre><p>3. An overloaded minus operator:</p><pre><code class="text">Nonterminals E uminus.
Terminals '*' '-' number.
Rootsymbol E.

Left 100 '-'.
Left 200 '*'.
Unary 300 uminus.

E -&gt; E '-' E.
E -&gt; E '*' E.
E -&gt; uminus.
E -&gt; number.

uminus -&gt; '-' E.</code></pre><p>4. The Yecc grammar that is used for parsing grammar files, including itself:</p><pre><code class="makeup erlang" translate="no"><span class="n">Nonterminals</span><span class="w">
</span><span class="ss">grammar</span><span class="w"> </span><span class="ss">declaration</span><span class="w"> </span><span class="ss">rule</span><span class="w"> </span><span class="ss">head</span><span class="w"> </span><span class="ss">symbol</span><span class="w"> </span><span class="ss">symbols</span><span class="w"> </span><span class="ss">attached_code</span><span class="w">
</span><span class="ss">token</span><span class="w"> </span><span class="ss">tokens</span><span class="p">.</span><span class="w">
</span><span class="n">Terminals</span><span class="w">
</span><span class="ss">atom</span><span class="w"> </span><span class="nb">float</span><span class="w"> </span><span class="ss">integer</span><span class="w"> </span><span class="ss">reserved_symbol</span><span class="w"> </span><span class="ss">reserved_word</span><span class="w"> </span><span class="ss">string</span><span class="w"> </span><span class="ss">char</span><span class="w"> </span><span class="ss">var</span><span class="w">
</span><span class="ss">&#39;-&gt;&#39;</span><span class="w"> </span><span class="ss">&#39;:&#39;</span><span class="w"> </span><span class="ss">dot</span><span class="p">.</span><span class="w">
</span><span class="n">Rootsymbol</span><span class="w"> </span><span class="ss">grammar</span><span class="p">.</span><span class="w">
</span><span class="n">Endsymbol</span><span class="w"> </span><span class="ss">&#39;$end&#39;</span><span class="p">.</span><span class="w">
</span><span class="ss">grammar</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="ss">declaration</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="ss">&#39;$1&#39;</span><span class="p">.</span><span class="w">
</span><span class="ss">grammar</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="ss">rule</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="ss">&#39;$1&#39;</span><span class="p">.</span><span class="w">
</span><span class="ss">declaration</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="ss">symbol</span><span class="w"> </span><span class="ss">symbols</span><span class="w"> </span><span class="nc">dot</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="3328993632-1">{</span><span class="ss">&#39;$1&#39;</span><span class="p">,</span><span class="w"> </span><span class="ss">&#39;$2&#39;</span><span class="p" data-group-id="3328993632-1">}</span><span class="p">.</span><span class="w">
</span><span class="ss">rule</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="ss">head</span><span class="w"> </span><span class="ss">&#39;-&gt;&#39;</span><span class="w"> </span><span class="ss">symbols</span><span class="w"> </span><span class="ss">attached_code</span><span class="w"> </span><span class="nc">dot</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="3328993632-2">{</span><span class="ss">rule</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="3328993632-3">[</span><span class="ss">&#39;$1&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="ss">&#39;$3&#39;</span><span class="p" data-group-id="3328993632-3">]</span><span class="p">,</span><span class="w">
        </span><span class="ss">&#39;$4&#39;</span><span class="p" data-group-id="3328993632-2">}</span><span class="p">.</span><span class="w">
</span><span class="ss">head</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="ss">symbol</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="ss">&#39;$1&#39;</span><span class="p">.</span><span class="w">
</span><span class="ss">symbols</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="ss">symbol</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="3328993632-4">[</span><span class="ss">&#39;$1&#39;</span><span class="p" data-group-id="3328993632-4">]</span><span class="p">.</span><span class="w">
</span><span class="ss">symbols</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="ss">symbol</span><span class="w"> </span><span class="ss">symbols</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="3328993632-5">[</span><span class="ss">&#39;$1&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="ss">&#39;$2&#39;</span><span class="p" data-group-id="3328993632-5">]</span><span class="p">.</span><span class="w">
</span><span class="ss">attached_code</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="ss">&#39;:&#39;</span><span class="w"> </span><span class="ss">tokens</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="3328993632-6">{</span><span class="ss">erlang_code</span><span class="p">,</span><span class="w"> </span><span class="ss">&#39;$2&#39;</span><span class="p" data-group-id="3328993632-6">}</span><span class="p">.</span><span class="w">
</span><span class="ss">attached_code</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="ss">&#39;$empty&#39;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="3328993632-7">{</span><span class="ss">erlang_code</span><span class="p">,</span><span class="w">
                 </span><span class="p" data-group-id="3328993632-8">[</span><span class="p" data-group-id="3328993632-9">{</span><span class="ss">atom</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ss">&#39;$undefined&#39;</span><span class="p" data-group-id="3328993632-9">}</span><span class="p" data-group-id="3328993632-8">]</span><span class="p" data-group-id="3328993632-7">}</span><span class="p">.</span><span class="w">
</span><span class="ss">tokens</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="ss">token</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="3328993632-10">[</span><span class="ss">&#39;$1&#39;</span><span class="p" data-group-id="3328993632-10">]</span><span class="p">.</span><span class="w">
</span><span class="ss">tokens</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="ss">token</span><span class="w"> </span><span class="ss">tokens</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="3328993632-11">[</span><span class="ss">&#39;$1&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="ss">&#39;$2&#39;</span><span class="p" data-group-id="3328993632-11">]</span><span class="p">.</span><span class="w">
</span><span class="ss">symbol</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="ss">var</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nf">value_of</span><span class="p" data-group-id="3328993632-12">(</span><span class="ss">&#39;$1&#39;</span><span class="p" data-group-id="3328993632-12">)</span><span class="p">.</span><span class="w">
</span><span class="ss">symbol</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="ss">atom</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nf">value_of</span><span class="p" data-group-id="3328993632-13">(</span><span class="ss">&#39;$1&#39;</span><span class="p" data-group-id="3328993632-13">)</span><span class="p">.</span><span class="w">
</span><span class="ss">symbol</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="ss">integer</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nf">value_of</span><span class="p" data-group-id="3328993632-14">(</span><span class="ss">&#39;$1&#39;</span><span class="p" data-group-id="3328993632-14">)</span><span class="p">.</span><span class="w">
</span><span class="ss">symbol</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="ss">reserved_word</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nf">value_of</span><span class="p" data-group-id="3328993632-15">(</span><span class="ss">&#39;$1&#39;</span><span class="p" data-group-id="3328993632-15">)</span><span class="p">.</span><span class="w">
</span><span class="ss">token</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="ss">var</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="ss">&#39;$1&#39;</span><span class="p">.</span><span class="w">
</span><span class="ss">token</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="ss">atom</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="ss">&#39;$1&#39;</span><span class="p">.</span><span class="w">
</span><span class="ss">token</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nb">float</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="ss">&#39;$1&#39;</span><span class="p">.</span><span class="w">
</span><span class="ss">token</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="ss">integer</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="ss">&#39;$1&#39;</span><span class="p">.</span><span class="w">
</span><span class="ss">token</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="ss">string</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="ss">&#39;$1&#39;</span><span class="p">.</span><span class="w">
</span><span class="ss">token</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="ss">char</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="ss">&#39;$1&#39;</span><span class="p">.</span><span class="w">
</span><span class="ss">token</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="ss">reserved_symbol</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="3328993632-16">{</span><span class="nf">value_of</span><span class="p" data-group-id="3328993632-17">(</span><span class="ss">&#39;$1&#39;</span><span class="p" data-group-id="3328993632-17">)</span><span class="p">,</span><span class="w"> </span><span class="nf">line_of</span><span class="p" data-group-id="3328993632-18">(</span><span class="ss">&#39;$1&#39;</span><span class="p" data-group-id="3328993632-18">)</span><span class="p" data-group-id="3328993632-16">}</span><span class="p">.</span><span class="w">
</span><span class="ss">token</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="ss">reserved_word</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="3328993632-19">{</span><span class="nf">value_of</span><span class="p" data-group-id="3328993632-20">(</span><span class="ss">&#39;$1&#39;</span><span class="p" data-group-id="3328993632-20">)</span><span class="p">,</span><span class="w"> </span><span class="nf">line_of</span><span class="p" data-group-id="3328993632-21">(</span><span class="ss">&#39;$1&#39;</span><span class="p" data-group-id="3328993632-21">)</span><span class="p" data-group-id="3328993632-19">}</span><span class="p">.</span><span class="w">
</span><span class="ss">token</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="ss">&#39;-&gt;&#39;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="3328993632-22">{</span><span class="ss">&#39;-&gt;&#39;</span><span class="p">,</span><span class="w"> </span><span class="nf">line_of</span><span class="p" data-group-id="3328993632-23">(</span><span class="ss">&#39;$1&#39;</span><span class="p" data-group-id="3328993632-23">)</span><span class="p" data-group-id="3328993632-22">}</span><span class="p">.</span><span class="w">
</span><span class="ss">token</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="ss">&#39;:&#39;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="3328993632-24">{</span><span class="ss">&#39;:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nf">line_of</span><span class="p" data-group-id="3328993632-25">(</span><span class="ss">&#39;$1&#39;</span><span class="p" data-group-id="3328993632-25">)</span><span class="p" data-group-id="3328993632-24">}</span><span class="p">.</span><span class="w">
</span><span class="n">Erlang</span><span class="w"> </span><span class="ss">code</span><span class="p">.</span><span class="w">
</span><span class="nf">value_of</span><span class="p" data-group-id="3328993632-26">(</span><span class="n">Token</span><span class="p" data-group-id="3328993632-26">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nf">element</span><span class="p" data-group-id="3328993632-27">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">Token</span><span class="p" data-group-id="3328993632-27">)</span><span class="p">.</span><span class="w">
</span><span class="nf">line_of</span><span class="p" data-group-id="3328993632-28">(</span><span class="n">Token</span><span class="p" data-group-id="3328993632-28">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nf">element</span><span class="p" data-group-id="3328993632-29">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">Token</span><span class="p" data-group-id="3328993632-29">)</span><span class="p">.</span></code></pre><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>The symbols <code class="inline">'-&gt;'</code>, and <code class="inline">':'</code> have to be treated in a special way, as they are
meta symbols of the grammar notation, as well as terminal symbols of the Yecc
grammar.</p></section><p>5. The file <code class="inline">erl_parse.yrl</code> in the <code class="inline">lib/stdlib/src</code> directory contains the
grammar for Erlang.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>Syntactic tests are used in the code associated with some rules, and an error
is thrown (and caught by the generated parser to produce an error message)
when a test fails. The same effect can be achieved with a call to
<code class="inline">return_error(ErrorPosition, Message_string)</code>, which is defined in the
<code class="inline">yeccpre.hrl</code> default header file.</p></section><h2 id="module-files" class="section-heading"><a href="#module-files" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Files</span></h2><pre><code class="text">lib/parsetools/include/yeccpre.hrl</code></pre><h2 id="module-see-also" class="section-heading"><a href="#module-see-also" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">See Also</span></h2><ul><li><p>Aho &amp; Johnson: 'LR Parsing', ACM Computing Surveys, vol. 6:2, 1974.</p></li><li><p>Kernighan &amp; Pike: The UNIX programming environment, 1984.</p></li></ul>
    </section>

</div>

  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-types summary">
  <h2>
    <a href="#types">Types</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:error_info/0" data-no-tooltip="" translate="no">error_info()</a>

      </div>

        <div class="summary-synopsis"><p>The standard <a><code class="inline">error_info/0</code></a> structure that is returned from all I/O modules.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:error_ret/0" data-no-tooltip="" translate="no">error_ret()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:errors/0" data-no-tooltip="" translate="no">errors()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:ok_ret/0" data-no-tooltip="" translate="no">ok_ret()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:option/0" data-no-tooltip="" translate="no">option()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:warnings/0" data-no-tooltip="" translate="no">warnings()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:yecc_ret/0" data-no-tooltip="" translate="no">yecc_ret()</a>

      </div>

    </div>

</div>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#file/1" data-no-tooltip="" translate="no">file(GrammarFile)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a><code class="inline">file(GrammarFile, [report_errors, report_warnings])</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#file/2" data-no-tooltip="" translate="no">file(GrammarFile, Options)</a>

      </div>

        <div class="summary-synopsis"><p>Generates an Erlang file with the parser for the language described by <code class="inline">GrammarFile</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#format_error/1" data-no-tooltip="" translate="no">format_error(ErrorDescriptor)</a>

      </div>

        <div class="summary-synopsis"><p>Returns a descriptive string in English of an error reason <code class="inline">ErrorDescriptor</code>
returned by <code class="inline">yecc:file/1,2</code>.</p></div>

    </div>

</div>

  </section>


  <section id="types" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types</span>
    </h1>
    <div class="types-list">
<section class="detail" id="t:error_info/0">

  <div class="detail-header">
    <a href="#t:error_info/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">error_info()</h1>

        <span class="note">(not exported)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/parsetools/src/yecc.erl#L716" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> error_info() :: {<a href="../../apps/stdlib/erl_anno.html#t:location/0">erl_anno:location</a>() | none, <a href="../../apps/erts/erlang.html#t:module/0">module</a>(), ErrorDescriptor :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>()}.</pre>

      </div>

<p>The standard <a href="#t:error_info/0"><code class="inline">error_info/0</code></a> structure that is returned from all I/O modules.</p><p><code class="inline">ErrorDescriptor</code> is formattable by <a href="#format_error/1"><code class="inline">format_error/1</code></a>.</p>
  </section>
</section>
<section class="detail" id="t:error_ret/0">

  <div class="detail-header">
    <a href="#t:error_ret/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">error_ret()</h1>

        <span class="note">(not exported)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/parsetools/src/yecc.erl#L722" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> error_ret() :: error | {error, Errors :: <a href="#t:errors/0">errors</a>(), Warnings :: <a href="#t:warnings/0">warnings</a>()}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:errors/0">

  <div class="detail-header">
    <a href="#t:errors/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">errors()</h1>

        <span class="note">(not exported)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/parsetools/src/yecc.erl#L718" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> errors() :: [{<a href="../../apps/kernel/file.html#t:filename/0">file:filename</a>(), [<a href="#t:error_info/0">error_info</a>()]}].</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:ok_ret/0">

  <div class="detail-header">
    <a href="#t:ok_ret/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">ok_ret()</h1>

        <span class="note">(not exported)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/parsetools/src/yecc.erl#L720" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> ok_ret() :: {ok, Parserfile :: <a href="../../apps/kernel/file.html#t:filename/0">file:filename</a>()} | {ok, Parserfile :: <a href="../../apps/kernel/file.html#t:filename/0">file:filename</a>(), <a href="#t:warnings/0">warnings</a>()}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:option/0">

  <div class="detail-header">
    <a href="#t:option/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">option()</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/parsetools/src/yecc.erl#L725" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> option() ::
          {error_location, column | line} |
          {includefile, Includefile :: <a href="../../apps/kernel/file.html#t:filename/0">file:filename</a>()} |
          {report_errors, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
          {report_warnings, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
          {report, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
          {return_errors, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
          {return_warnings, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
          {return, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
          {parserfile, Parserfile :: <a href="../../apps/kernel/file.html#t:filename/0">file:filename</a>()} |
          {verbose, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
          {warnings_as_errors, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
          {deterministic, <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>()} |
          report_errors | report_warnings | report | return_errors | return_warnings | return |
          verbose | warnings_as_errors.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:warnings/0">

  <div class="detail-header">
    <a href="#t:warnings/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">warnings()</h1>

        <span class="note">(not exported)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/parsetools/src/yecc.erl#L719" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> warnings() :: [{<a href="../../apps/kernel/file.html#t:filename/0">file:filename</a>(), [<a href="#t:error_info/0">error_info</a>()]}].</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:yecc_ret/0">

  <div class="detail-header">
    <a href="#t:yecc_ret/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">yecc_ret()</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/parsetools/src/yecc.erl#L724" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> yecc_ret() :: <a href="#t:ok_ret/0">ok_ret</a>() | <a href="#t:error_ret/0">error_ret</a>().</pre>

      </div>


  </section>
</section>

    </div>
  </section>

  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Functions</span>
    </h1>
    <div class="functions-list">
<section class="detail" id="file/1">

  <div class="detail-header">
    <a href="#file/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">file(GrammarFile)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/parsetools/src/yecc.erl#L745" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> file(GrammarFile) -> <a href="#t:yecc_ret/0">yecc_ret</a>() when GrammarFile :: <a href="../../apps/kernel/file.html#t:filename/0">file:filename</a>().</pre>

      </div>

<p>Equivalent to <a href="#file/2"><code class="inline">file(GrammarFile, [report_errors, report_warnings])</code></a>.</p>
  </section>
</section>
<section class="detail" id="file/2">

  <div class="detail-header">
    <a href="#file/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">file(GrammarFile, Options)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/parsetools/src/yecc.erl#L820" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> file(GrammarFile, Options) -> <a href="#t:yecc_ret/0">yecc_ret</a>()
              when GrammarFile :: <a href="../../apps/kernel/file.html#t:filename/0">file:filename</a>(), Options :: Option | [Option], Option :: <a href="#t:option/0">option</a>().</pre>

      </div>

<p>Generates an Erlang file with the parser for the language described by <code class="inline">GrammarFile</code>.</p><p><code class="inline">Grammarfile</code> is the file of declarations and grammar rules. Returns <code class="inline">ok</code> upon
success, or <code class="inline">error</code> if there are errors. An Erlang file containing the parser is
created if there are no errors.</p><p>The options are:</p><ul><li><p><strong><code class="inline">{includefile, Includefile}</code>.</strong> - Indicates a customized prologue file which
the user may want to use instead of the default file
<code class="inline">lib/parsetools/include/yeccpre.hrl</code> which is otherwise included at the
beginning of the resulting parser file. Note taht <code class="inline">Includefile</code> is included
as is in the parser file, so it must not have a module declaration of its
own, and it should not be compiled. It must, however, contain the necessary
export declarations. The default is indicated by <code class="inline">&quot;&quot;</code>.</p></li><li><p><strong><code class="inline">{parserfile, Parserfile}</code>.</strong> - <code class="inline">Parserfile</code> is the name of the file that
will contain the Erlang parser code that is generated. The default (<code class="inline">&quot;&quot;</code>) is
to add the extension <code class="inline">.erl</code> to <code class="inline">Grammarfile</code> stripped of the <code class="inline">.yrl</code> extension.</p></li><li><p><strong><code class="inline">{report_errors, boolean()}</code>.</strong> - Causes errors to be printed as they occur.
Default is <code class="inline">true</code>.</p></li><li><p><strong><code class="inline">{report_warnings, boolean()}</code>.</strong> - Causes warnings to be printed as they
occur. Default is <code class="inline">true</code>.</p></li><li><p><strong><code class="inline">{report, boolean()}</code>.</strong> - This is a short form for both <code class="inline">report_errors</code> and
<code class="inline">report_warnings</code>.</p></li><li><p><strong><code class="inline">{return_errors, boolean()}</code>.</strong> - If this flag is set,
<code class="inline">{error, Errors, Warnings}</code> is returned when there are errors. Default is
<code class="inline">false</code>.</p></li><li><p><strong><code class="inline">{return_warnings, boolean()}</code>.</strong> - If this flag is set, an extra field
containing <code class="inline">Warnings</code> is added to the tuple returned upon success. Default is
<code class="inline">false</code>.</p></li><li><p><strong><code class="inline">{return, boolean()}</code>.</strong> - This is a short form for both <code class="inline">return_errors</code> and
<code class="inline">return_warnings</code>.</p></li><li><p><strong><code class="inline">{verbose, boolean()}</code>.</strong> - Determines whether the parser generator should
give full information about resolved and unresolved parse action conflicts
(<code class="inline">true</code>), or only about those conflicts that prevent a parser from being
generated from the input grammar (<code class="inline">false</code>, the default).</p></li><li><p><strong><code class="inline">{warnings_as_errors, boolean()}</code></strong> - Causes warnings to be treated as
errors.</p></li><li><p><strong><code class="inline">{error_location, column | line}</code>.</strong> - If the value of this flag is <code class="inline">line</code>,
the location of warnings and errors is a line number. If the value is
<code class="inline">column</code>, the location includes a line number and a column number. Default is
<code class="inline">column</code>.</p></li><li><p><strong><code class="inline">{deterministic, boolean()}</code></strong> - Causes generated <code class="inline">-file()</code> attributes to only
include the basename of the file path.</p></li></ul><p>Any of the Boolean options can be set to <code class="inline">true</code> by stating the name of the
option. For example, <code class="inline">verbose</code> is equivalent to <code class="inline">{verbose, true}</code>.</p><p>The value of the <code class="inline">Parserfile</code> option stripped of the <code class="inline">.erl</code> extension is used by
Yecc as the module name of the generated parser file.</p><p>Yecc will add the extension <code class="inline">.yrl</code> to the <code class="inline">Grammarfile</code> name, the extension
<code class="inline">.hrl</code> to the <code class="inline">Includefile</code> name, and the extension <code class="inline">.erl</code> to the <code class="inline">Parserfile</code>
name, unless the extension is already there.</p>
  </section>
</section>
<section class="detail" id="format_error/1">

  <div class="detail-header">
    <a href="#format_error/1" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">format_error(ErrorDescriptor)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/parsetools/src/yecc.erl#L630" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> format_error(ErrorDescriptor) -> <a href="../../apps/stdlib/io_lib.html#t:chars/0">io_lib:chars</a>() when ErrorDescriptor :: <a href="../../apps/erts/erlang.html#t:term/0">term</a>().</pre>

      </div>

<p>Returns a descriptive string in English of an error reason <code class="inline">ErrorDescriptor</code>
returned by <code class="inline">yecc:file/1,2</code>.</p><p>This function is mainly used by the compiler invoking Yecc.</p>
  </section>
</section>

    </div>
  </section>

    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="parsetools.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.1) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>
<p>Copyright Â© 1996-2025 <a href="https://www.ericsson.com">Ericsson AB</a></p>
    </footer>
  </div>
</main>
</div>
  <script defer src="https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.min.js"></script>
  <script>
  let initialized = false;

  window.addEventListener("exdoc:loaded", () => {
      if (!initialized) {
      mermaid.initialize({
          startOnLoad: false,
          theme: document.body.className.includes("dark") ? "dark" : "default"
      });
      initialized = true;
      }

      let id = 0;
      for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
          graphEl.innerHTML = svg;
          bindFunctions?.(graphEl);
          preEl.insertAdjacentElement("afterend", graphEl);
          preEl.remove();
      });
      }
  });
  </script>

  </body>
</html>
