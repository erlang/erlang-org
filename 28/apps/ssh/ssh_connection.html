<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.1">
    <meta name="project" content="ssh v5.3.4">


<meta name="major-vsn" content="28">
<meta name="exdoc:full-text-search-url" content="/doc/search.html?v=28&q=">
<link rel="canonical" href="https://www.erlang.org/doc/apps/ssh/ssh_connection.html" />
    <title>ssh_connection â€” ssh v5.3.4</title>

    <link rel="stylesheet" href="dist/html-erlang-ZK43ZOAC.css" />

    <script defer src="dist/sidebar_items-8DF6FD17.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-DPJLHKSM.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="../../index.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="ssh" />
        </a>

      <div>
        <a href="../../index.html" class="sidebar-projectName" translate="no">
ssh
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v5.3.4
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-module" id="main" data-type="modules">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of ssh</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>
      <span translate="no">ssh_connection</span> 
      <small class="app-vsn" translate="no">(ssh v5.3.4)</small>

    </h1>

      <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L29" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


    <section id="moduledoc">
<p>This module provides API functions to send SSH Connection Protocol events to the
other side of an SSH channel.</p><p>The <a href="http://www.ietf.org/rfc/rfc4254.txt">SSH Connection Protocol (RFC 4254)</a> is used by
clients and servers, that is, SSH channels, to communicate over the SSH
connection. The API functions in this module send SSH Connection Protocol
events, which are received as messages by the remote channel handling the remote
channel. The Erlang format of thoose messages is (see also
<a href="#t:event/0">below</a>):</p><p><code class="inline">{ssh_cm,</code> <a href="ssh.html#t:connection_ref/0"><code class="inline">ssh:connection_ref/0</code></a> <code class="inline">,</code> <a href="#t:channel_msg/0"><code class="inline">channel_msg/0</code></a> <code class="inline">}</code></p><p>If the <a href="ssh_client_channel.html"><code class="inline">ssh_client_channel</code></a> behavior is used to implement the channel process,
these messages are handled by
<a href="ssh_client_channel.html#c:handle_ssh_msg/2">handle_ssh_msg/2</a>.</p>
    </section>

</div>

  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-types-closing-a-channel summary">
  <h2>
    <a href="#types-closing-a-channel">Types: Closing a Channel</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:closed_ch_msg/0" data-no-tooltip="" translate="no">closed_ch_msg()</a>

      </div>

        <div class="summary-synopsis"><p>This event is sent as a result of calling <a>ssh_connection:close/2</a>.
Both the handling of this event and sending it are taken care of by the
<a><code class="inline">ssh_client_channel</code></a> behavior.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:eof_ch_msg/0" data-no-tooltip="" translate="no">eof_ch_msg()</a>

      </div>

        <div class="summary-synopsis"><p>Indicates that the other side sends no more data. This event is sent as a result
of calling <a>ssh_connection:send_eof/2</a>.</p></div>

    </div>

</div>
<div class="summary-types-data-transfer summary">
  <h2>
    <a href="#types-data-transfer">Types: Data Transfer</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:data_ch_msg/0" data-no-tooltip="" translate="no">data_ch_msg()</a>

      </div>

        <div class="summary-synopsis"><p>Data has arrived on the channel. This event is sent as a result of calling
<a>ssh_connection:send/3,4,5</a>.</p></div>

    </div>

</div>
<div class="summary-types-environment-variable summary">
  <h2>
    <a href="#types-environment-variable">Types: Environment Variable</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:env_ch_msg/0" data-no-tooltip="" translate="no">env_ch_msg()</a>

      </div>

        <div class="summary-synopsis"><p>Environment variables can be passed to the shell/command to be started later.
This event is sent as a result of calling <a>ssh_connection:setenv/5</a>.</p></div>

    </div>

</div>
<div class="summary-types-exit-status summary">
  <h2>
    <a href="#types-exit-status">Types: Exit Status</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:exit_signal_ch_msg/0" data-no-tooltip="" translate="no">exit_signal_ch_msg()</a>

      </div>

        <div class="summary-synopsis"><p>A remote execution can terminate violently because of a signal. Then this
message can be received. For details on valid string values, see
<a>RFC 4254</a> Section 6.10, which
shows a special case of these signals.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:exit_status_ch_msg/0" data-no-tooltip="" translate="no">exit_status_ch_msg()</a>

      </div>

        <div class="summary-synopsis"><p>When the command running at the other end terminates, the following message can
be sent to return the exit status of the command. A zero <code class="inline">exit_status</code> usually
means that the command terminated successfully. This event is sent as a result
of calling <a>ssh_connection:exit_status/3</a>.</p></div>

    </div>

</div>
<div class="summary-types-general summary">
  <h2>
    <a href="#types-general">Types: General</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:channel_msg/0" data-no-tooltip="" translate="no">channel_msg()</a>

      </div>

        <div class="summary-synopsis"><p>As mentioned in the introduction, the
<a>SSH Connection Protocol</a> events are
handled as messages. When writing a channel handling process without using the
support by the <a><code class="inline">ssh_client_channel</code></a> behavior the process must handle thoose
messages.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:event/0" data-no-tooltip="" translate="no">event()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:want_reply/0" data-no-tooltip="" translate="no">want_reply()</a>

      </div>

        <div class="summary-synopsis"><p>Messages that include a <code class="inline">WantReply</code> expect the channel handling process to call
<a>ssh_connection:reply_request/4</a> with the boolean value of
<code class="inline">WantReply</code> as the second argument.</p></div>

    </div>

</div>
<div class="summary-types-pseudo-terminal summary">
  <h2>
    <a href="#types-pseudo-terminal">Types: Pseudo-Terminal</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:pty_ch_msg/0" data-no-tooltip="" translate="no">pty_ch_msg()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:term_mode/0" data-no-tooltip="" translate="no">term_mode()</a>

      </div>

        <div class="summary-synopsis"><p>A pseudo-terminal has been requested for the session. <code class="inline">Terminal</code> is the value of
the TERM environment variable value, that is, <code class="inline">vt100</code>. Zero dimension parameters
must be ignored. The character/row dimensions override the pixel dimensions
(when non-zero). Pixel dimensions refer to the drawable area of the window.
<code class="inline">Opcode</code> in the <code class="inline">TerminalModes</code> list is the mnemonic name, represented as a
lowercase Erlang atom, defined in
<a>RFC 4254</a>, Section 8. It can
also be an <code class="inline">Opcode</code> if the mnemonic name is not listed in the RFC. Example:
<code class="inline">OP code: 53, mnemonic name ECHO erlang atom: echo</code>. This event is sent as a
result of calling <a>ssh_connection:ptty_alloc/4</a>.</p></div>

    </div>

</div>
<div class="summary-types-shell-or-command summary">
  <h2>
    <a href="#types-shell-or-command">Types: Shell or Command</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:exec_ch_msg/0" data-no-tooltip="" translate="no">exec_ch_msg()</a>

      </div>

        <div class="summary-synopsis"><p>This message requests that the server starts execution of the given command.
This event is sent as a result of calling <a>ssh_connection:exec/4 </a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:shell_ch_msg/0" data-no-tooltip="" translate="no">shell_ch_msg()</a>

      </div>

        <div class="summary-synopsis"><p>This message requests that the user default shell is started at the other end.
This event is sent as a result of calling <a>ssh_connection:shell/2</a>.</p></div>

    </div>

</div>
<div class="summary-types-signals summary">
  <h2>
    <a href="#types-signals">Types: Signals</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:signal_ch_msg/0" data-no-tooltip="" translate="no">signal_ch_msg()</a>

      </div>

        <div class="summary-synopsis"><p>A signal can be delivered to the remote process/service using the following
message. Some systems do not support signals, in which case they are to ignore
this message. There is currently no function to generate this event as the
signals referred to are on OS-level and not something generated by an Erlang
program.</p></div>

    </div>

</div>
<div class="summary-types-window-change summary">
  <h2>
    <a href="#types-window-change">Types: Window Change</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:window_change_ch_msg/0" data-no-tooltip="" translate="no">window_change_ch_msg()</a>

      </div>

        <div class="summary-synopsis"><p>When the window (terminal) size changes on the client side, it <em>can</em> send a
message to the server side to inform it of the new dimensions. No API function
generates this event.</p></div>

    </div>

</div>
<div class="summary-types summary">
  <h2>
    <a href="#types">Types</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:channel_id/0" data-no-tooltip="" translate="no">channel_id()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:connection_ref/0" data-no-tooltip="" translate="no">connection_ref()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:reason/0" data-no-tooltip="" translate="no">reason()</a>

      </div>

        <div class="summary-synopsis"><p>The result of a call.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:req_status/0" data-no-tooltip="" translate="no">req_status()</a>

      </div>

        <div class="summary-synopsis"><p>The status of a request. Corresponds to the <code class="inline">SSH_MSG_CHANNEL_SUCCESS</code> and
<code class="inline">SSH_MSG_CHANNEL_FAILURE</code> values in
<a>RFC 4254, Section 5.4</a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:result/0" data-no-tooltip="" translate="no">result()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:ssh_data_type_code/0" data-no-tooltip="" translate="no">ssh_data_type_code()</a>

      </div>

        <div class="summary-synopsis"><p>The valid values are <code class="inline">0</code> (&quot;normal&quot;) and <code class="inline">1</code> (&quot;stderr&quot;), see
<a>RFC 4254, Section 5.2</a>.</p></div>

    </div>

</div>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#adjust_window/3" data-no-tooltip="" translate="no">adjust_window(ConnectionRef, ChannelId, NumOfBytes)</a>

      </div>

        <div class="summary-synopsis"><p>Adjusts the SSH flow control window. This is to be done by both the client- and
server-side channel processes.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#close/2" data-no-tooltip="" translate="no">close(ConnectionRef, ChannelId)</a>

      </div>

        <div class="summary-synopsis"><p>A server- or client-channel process can choose to close their session by sending
a close event.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#exec/4" data-no-tooltip="" translate="no">exec(ConnectionRef, ChannelId, Command, Timeout)</a>

      </div>

        <div class="summary-synopsis"><p>Is to be called by a client-channel process to request that the server starts
executing the given command. The result is several messages according to the
following pattern. The last message is a channel close message, as the <code class="inline">exec</code>
request is a one-time execution that closes the channel when it is done.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#exit_status/3" data-no-tooltip="" translate="no">exit_status(ConnectionRef, ChannelId, Status)</a>

      </div>

        <div class="summary-synopsis"><p>Is to be called by a server-channel process to send the exit status of a command
to the client.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#ptty_alloc/3" data-no-tooltip="" translate="no">ptty_alloc(ConnectionRef, ChannelId, Options)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a><code class="inline">ptty_alloc/4</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#ptty_alloc/4" data-no-tooltip="" translate="no">ptty_alloc(ConnectionRef, ChannelId, Options, Timeout)</a>

      </div>

        <div class="summary-synopsis"><p>Sends an SSH Connection Protocol <code class="inline">pty_req</code>, to allocate a pseudo-terminal. Is to
be called by an SSH client process.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#reply_request/4" data-no-tooltip="" translate="no">reply_request(ConnectionRef, WantReply, Status, ChannelId)</a>

      </div>

        <div class="summary-synopsis"><p>Sends status replies to requests where the requester has stated that it wants a
status report, that is, <code class="inline">WantReply = true</code>. If <code class="inline">WantReply</code> is <code class="inline">false</code>, calling
this function becomes a &quot;noop&quot;. Is to be called while handling an SSH Connection
Protocol message containing a <code class="inline">WantReply</code> boolean value.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#send/3" data-no-tooltip="" translate="no">send(ConnectionRef, ChannelId, Data)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a><code class="inline">send/5</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#send/4" data-no-tooltip="" translate="no">send(ConnectionRef, ChannelId, Type, Data)</a>

      </div>

        <div class="summary-synopsis"><p>Depending on input arguments equivalent to one of <a><code class="inline">send/5</code></a> calls specified below.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#send/5" data-no-tooltip="" translate="no">send(ConnectionRef, ChannelId, Type, Data, TimeOut)</a>

      </div>

        <div class="summary-synopsis"><p>Is to be called by client- and server-channel processes to send data to each
other.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#send_eof/2" data-no-tooltip="" translate="no">send_eof(ConnectionRef, ChannelId)</a>

      </div>

        <div class="summary-synopsis"><p>Sends EOF on channel <code class="inline">ChannelId</code>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#session_channel/2" data-no-tooltip="" translate="no">session_channel(ConnectionRef, Timeout)</a>

      </div>

        <div class="summary-synopsis"><p>Equivalent to <a><code class="inline">session_channel/4</code></a>.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#session_channel/4" data-no-tooltip="" translate="no">session_channel(ConnectionRef, InitialWindowSize, MaxPacketSize, Timeout)</a>

      </div>

        <div class="summary-synopsis"><p>Opens a channel for an SSH session. The channel id returned from this function
is the id used as input to the other functions in this module.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#setenv/5" data-no-tooltip="" translate="no">setenv(ConnectionRef, ChannelId, Var, Value, Timeout)</a>

      </div>

        <div class="summary-synopsis"><p>Environment variables can be passed before starting the shell/command. Is to be
called by a client channel processes.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#shell/2" data-no-tooltip="" translate="no">shell(ConnectionRef, ChannelId)</a>

      </div>

        <div class="summary-synopsis"><p>Is to be called by a client channel process to request that the user default
shell (typically defined in /etc/passwd in Unix systems) is executed at the
server end.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#subsystem/4" data-no-tooltip="" translate="no">subsystem(ConnectionRef, ChannelId, Subsystem, Timeout)</a>

      </div>

        <div class="summary-synopsis"><p>Is to be called by a client-channel process for requesting to execute a
predefined subsystem on the server.</p></div>

    </div>

</div>

  </section>


  <section id="types-closing-a-channel" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types-closing-a-channel">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types: Closing a Channel</span>
    </h1>
    <div class="types-closing-a-channel-list">
<section class="detail" id="t:closed_ch_msg/0">

  <div class="detail-header">
    <a href="#t:closed_ch_msg/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">closed_ch_msg()</h1>

        <span class="note">(RFC 4254, section 5.3)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L241" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> closed_ch_msg() :: {closed, <a href="ssh.html#t:channel_id/0">ssh:channel_id</a>()}.</pre>

      </div>

<p>This event is sent as a result of calling <a href="#close/2">ssh_connection:close/2</a>.
Both the handling of this event and sending it are taken care of by the
<a href="ssh_client_channel.html"><code class="inline">ssh_client_channel</code></a> behavior.</p>
  </section>
</section>
<section class="detail" id="t:eof_ch_msg/0">

  <div class="detail-header">
    <a href="#t:eof_ch_msg/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">eof_ch_msg()</h1>

        <span class="note">(RFC 4254, section 5.3)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L194" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> eof_ch_msg() :: {eof, <a href="ssh.html#t:channel_id/0">ssh:channel_id</a>()}.</pre>

      </div>

<p>Indicates that the other side sends no more data. This event is sent as a result
of calling <a href="#send_eof/2">ssh_connection:send_eof/2</a>.</p>
  </section>
</section>

    </div>
  </section>

  <section id="types-data-transfer" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types-data-transfer">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types: Data Transfer</span>
    </h1>
    <div class="types-data-transfer-list">
<section class="detail" id="t:data_ch_msg/0">

  <div class="detail-header">
    <a href="#t:data_ch_msg/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">data_ch_msg()</h1>

        <span class="note">(RFC 4254, section 5.2)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L183" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> data_ch_msg() :: {data, <a href="ssh.html#t:channel_id/0">ssh:channel_id</a>(), <a href="#t:ssh_data_type_code/0">ssh_data_type_code</a>(), Data :: <a href="../../apps/erts/erlang.html#t:binary/0">binary</a>()}.</pre>

      </div>

<p>Data has arrived on the channel. This event is sent as a result of calling
<a href="#send/3">ssh_connection:send/3,4,5</a>.</p>
  </section>
</section>

    </div>
  </section>

  <section id="types-environment-variable" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types-environment-variable">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types: Environment Variable</span>
    </h1>
    <div class="types-environment-variable-list">
<section class="detail" id="t:env_ch_msg/0">

  <div class="detail-header">
    <a href="#t:env_ch_msg/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">env_ch_msg()</h1>

        <span class="note">(RFC 4254, section 6.4)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L250" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> env_ch_msg() :: {env, <a href="ssh.html#t:channel_id/0">ssh:channel_id</a>(), <a href="#t:want_reply/0">want_reply</a>(), Var :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>(), Value :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>()}.</pre>

      </div>

<p>Environment variables can be passed to the shell/command to be started later.
This event is sent as a result of calling <a href="#setenv/5">ssh_connection:setenv/5</a>.</p>
  </section>
</section>

    </div>
  </section>

  <section id="types-exit-status" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types-exit-status">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types: Exit Status</span>
    </h1>
    <div class="types-exit-status-list">
<section class="detail" id="t:exit_signal_ch_msg/0">

  <div class="detail-header">
    <a href="#t:exit_signal_ch_msg/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">exit_signal_ch_msg()</h1>

        <span class="note">(RFC 4254, section 6.10)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L218" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> exit_signal_ch_msg() ::
          {exit_signal,
           <a href="ssh.html#t:channel_id/0">ssh:channel_id</a>(),
           ExitSignal :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>(),
           ErrorMsg :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>(),
           LanguageString :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>()}.</pre>

      </div>

<p>A remote execution can terminate violently because of a signal. Then this
message can be received. For details on valid string values, see
<a href="https://tools.ietf.org/html/rfc4254#section-6.10">RFC 4254</a> Section 6.10, which
shows a special case of these signals.</p>
  </section>
</section>
<section class="detail" id="t:exit_status_ch_msg/0">

  <div class="detail-header">
    <a href="#t:exit_status_ch_msg/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">exit_status_ch_msg()</h1>

        <span class="note">(RFC 4254, section 6.10)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L230" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> exit_status_ch_msg() :: {exit_status, <a href="ssh.html#t:channel_id/0">ssh:channel_id</a>(), ExitStatus :: <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()}.</pre>

      </div>

<p>When the command running at the other end terminates, the following message can
be sent to return the exit status of the command. A zero <code class="inline">exit_status</code> usually
means that the command terminated successfully. This event is sent as a result
of calling <a href="#exit_status/3">ssh_connection:exit_status/3</a>.</p>
  </section>
</section>

    </div>
  </section>

  <section id="types-general" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types-general">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types: General</span>
    </h1>
    <div class="types-general-list">
<section class="detail" id="t:channel_msg/0">

  <div class="detail-header">
    <a href="#t:channel_msg/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">channel_msg()</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L156" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> channel_msg() ::
          <a href="#t:data_ch_msg/0">data_ch_msg</a>() |
          <a href="#t:eof_ch_msg/0">eof_ch_msg</a>() |
          <a href="#t:closed_ch_msg/0">closed_ch_msg</a>() |
          <a href="#t:pty_ch_msg/0">pty_ch_msg</a>() |
          <a href="#t:env_ch_msg/0">env_ch_msg</a>() |
          <a href="#t:shell_ch_msg/0">shell_ch_msg</a>() |
          <a href="#t:exec_ch_msg/0">exec_ch_msg</a>() |
          <a href="#t:signal_ch_msg/0">signal_ch_msg</a>() |
          <a href="#t:window_change_ch_msg/0">window_change_ch_msg</a>() |
          <a href="#t:exit_status_ch_msg/0">exit_status_ch_msg</a>() |
          <a href="#t:exit_signal_ch_msg/0">exit_signal_ch_msg</a>().</pre>

      </div>

<p>As mentioned in the introduction, the
<a href="https://tools.ietf.org/html/rfc4254">SSH Connection Protocol</a> events are
handled as messages. When writing a channel handling process without using the
support by the <a href="ssh_client_channel.html"><code class="inline">ssh_client_channel</code></a> behavior the process must handle thoose
messages.</p>
  </section>
</section>
<section class="detail" id="t:event/0">

  <div class="detail-header">
    <a href="#t:event/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">event()</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L147" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> event() :: {ssh_cm, <a href="ssh.html#t:connection_ref/0">ssh:connection_ref</a>(), <a href="#t:channel_msg/0">channel_msg</a>()}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:want_reply/0">

  <div class="detail-header">
    <a href="#t:want_reply/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">want_reply()</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L175" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> want_reply() :: <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>().</pre>

      </div>

<p>Messages that include a <code class="inline">WantReply</code> expect the channel handling process to call
<a href="#reply_request/4">ssh_connection:reply_request/4</a> with the boolean value of
<code class="inline">WantReply</code> as the second argument.</p>
  </section>
</section>

    </div>
  </section>

  <section id="types-pseudo-terminal" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types-pseudo-terminal">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types: Pseudo-Terminal</span>
    </h1>
    <div class="types-pseudo-terminal-list">
<section class="detail" id="t:pty_ch_msg/0">

  <div class="detail-header">
    <a href="#t:pty_ch_msg/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">pty_ch_msg()</h1>

        <span class="note">(RFC 4254, section 6.2)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L258" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> pty_ch_msg() ::
          {pty,
           <a href="ssh.html#t:channel_id/0">ssh:channel_id</a>(),
           <a href="#t:want_reply/0">want_reply</a>(),
           {Terminal :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>(),
            CharWidth :: <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>(),
            RowHeight :: <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>(),
            PixelWidth :: <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>(),
            PixelHeight :: <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>(),
            TerminalModes :: [<a href="#t:term_mode/0">term_mode</a>()]}}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:term_mode/0">

  <div class="detail-header">
    <a href="#t:term_mode/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">term_mode()</h1>

        <span class="note">(RFC 4254, section 6.2)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L284" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> term_mode() :: {Opcode :: <a href="../../apps/erts/erlang.html#t:atom/0">atom</a>() | <a href="../../apps/erts/erlang.html#t:byte/0">byte</a>(), Value :: <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()}.</pre>

      </div>

<p>A pseudo-terminal has been requested for the session. <code class="inline">Terminal</code> is the value of
the TERM environment variable value, that is, <code class="inline">vt100</code>. Zero dimension parameters
must be ignored. The character/row dimensions override the pixel dimensions
(when non-zero). Pixel dimensions refer to the drawable area of the window.
<code class="inline">Opcode</code> in the <code class="inline">TerminalModes</code> list is the mnemonic name, represented as a
lowercase Erlang atom, defined in
<a href="https://tools.ietf.org/html/rfc4254#section/8">RFC 4254</a>, Section 8. It can
also be an <code class="inline">Opcode</code> if the mnemonic name is not listed in the RFC. Example:
<code class="inline">OP code: 53, mnemonic name ECHO erlang atom: echo</code>. This event is sent as a
result of calling <a href="#ptty_alloc/4">ssh_connection:ptty_alloc/4</a>.</p>
  </section>
</section>

    </div>
  </section>

  <section id="types-shell-or-command" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types-shell-or-command">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types: Shell or Command</span>
    </h1>
    <div class="types-shell-or-command-list">
<section class="detail" id="t:exec_ch_msg/0">

  <div class="detail-header">
    <a href="#t:exec_ch_msg/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">exec_ch_msg()</h1>

        <span class="note">(RFC 4254, section 6.5)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L317" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> exec_ch_msg() :: {exec, <a href="ssh.html#t:channel_id/0">ssh:channel_id</a>(), <a href="#t:want_reply/0">want_reply</a>(), Command :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>()}.</pre>

      </div>

<p>This message requests that the server starts execution of the given command.
This event is sent as a result of calling <a href="#exec/4">ssh_connection:exec/4 </a>.</p>
  </section>
</section>
<section class="detail" id="t:shell_ch_msg/0">

  <div class="detail-header">
    <a href="#t:shell_ch_msg/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">shell_ch_msg()</h1>

        <span class="note">(RFC 4254, section 6.5)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L293" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> shell_ch_msg() :: {shell, <a href="ssh.html#t:channel_id/0">ssh:channel_id</a>(), <a href="#t:want_reply/0">want_reply</a>()}.</pre>

      </div>

<p>This message requests that the user default shell is started at the other end.
This event is sent as a result of calling <a href="#shell/2">ssh_connection:shell/2</a>.</p>
  </section>
</section>

    </div>
  </section>

  <section id="types-signals" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types-signals">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types: Signals</span>
    </h1>
    <div class="types-signals-list">
<section class="detail" id="t:signal_ch_msg/0">

  <div class="detail-header">
    <a href="#t:signal_ch_msg/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">signal_ch_msg()</h1>

        <span class="note">(RFC 4254, section 6.9)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L206" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> signal_ch_msg() :: {signal, <a href="ssh.html#t:channel_id/0">ssh:channel_id</a>(), SignalName :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>()}.</pre>

      </div>

<p>A signal can be delivered to the remote process/service using the following
message. Some systems do not support signals, in which case they are to ignore
this message. There is currently no function to generate this event as the
signals referred to are on OS-level and not something generated by an Erlang
program.</p>
  </section>
</section>

    </div>
  </section>

  <section id="types-window-change" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types-window-change">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types: Window Change</span>
    </h1>
    <div class="types-window-change-list">
<section class="detail" id="t:window_change_ch_msg/0">

  <div class="detail-header">
    <a href="#t:window_change_ch_msg/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">window_change_ch_msg()</h1>

        <span class="note">(RFC 4254, section 6.7)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L304" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> window_change_ch_msg() ::
          {window_change,
           <a href="ssh.html#t:channel_id/0">ssh:channel_id</a>(),
           CharWidth :: <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>(),
           RowHeight :: <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>(),
           PixelWidth :: <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>(),
           PixelHeight :: <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>()}.</pre>

      </div>

<p>When the window (terminal) size changes on the client side, it <em>can</em> send a
message to the server side to inform it of the new dimensions. No API function
generates this event.</p>
  </section>
</section>

    </div>
  </section>

  <section id="types" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types</span>
    </h1>
    <div class="types-list">
<section class="detail" id="t:channel_id/0">

  <div class="detail-header">
    <a href="#t:channel_id/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">channel_id()</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L96" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> channel_id() :: <a href="ssh.html#t:channel_id/0">ssh:channel_id</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:connection_ref/0">

  <div class="detail-header">
    <a href="#t:connection_ref/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">connection_ref()</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L95" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> connection_ref() :: <a href="ssh.html#t:connection_ref/0">ssh:connection_ref</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:reason/0">

  <div class="detail-header">
    <a href="#t:reason/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">reason()</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L117" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> reason() :: closed | timeout.</pre>

      </div>

<p>The result of a call.</p><p>If the request reached the peer, was handled and the response reached the
requesting node the <a href="#t:req_status/0"><code class="inline">req_status/0</code></a> is the status reported from the peer.</p><p>If not, the <a href="#t:reason/0"><code class="inline">reason/0</code></a> indicates what went wrong:</p><ul><li><p><strong><code class="inline">closed</code></strong> - indicates that the channel or connection was closed when trying
to send the request</p></li><li><p><strong><code class="inline">timeout</code></strong> - indicates that the operation exceeded a time limit</p></li></ul>
  </section>
</section>
<section class="detail" id="t:req_status/0">

  <div class="detail-header">
    <a href="#t:req_status/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">req_status()</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L103" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> req_status() :: success | failure.</pre>

      </div>

<p>The status of a request. Corresponds to the <code class="inline">SSH_MSG_CHANNEL_SUCCESS</code> and
<code class="inline">SSH_MSG_CHANNEL_FAILURE</code> values in
<a href="https://tools.ietf.org/html/rfc4254#section-5.4">RFC 4254, Section 5.4</a>.</p>
  </section>
</section>
<section class="detail" id="t:result/0">

  <div class="detail-header">
    <a href="#t:result/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">result()</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L119" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> result() :: <a href="#t:req_status/0">req_status</a>() | {error, <a href="#t:reason/0">reason</a>()}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:ssh_data_type_code/0">

  <div class="detail-header">
    <a href="#t:ssh_data_type_code/0" class="detail-link" data-no-tooltip="" aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">ssh_data_type_code()</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L125" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> ssh_data_type_code() :: <a href="../../apps/erts/erlang.html#t:non_neg_integer/0">non_neg_integer</a>().</pre>

      </div>

<p>The valid values are <code class="inline">0</code> (&quot;normal&quot;) and <code class="inline">1</code> (&quot;stderr&quot;), see
<a href="https://tools.ietf.org/html/rfc4254#page-8">RFC 4254, Section 5.2</a>.</p>
  </section>
</section>

    </div>
  </section>

  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Functions</span>
    </h1>
    <div class="functions-list">
<section class="detail" id="adjust_window/3">

  <div class="detail-header">
    <a href="#adjust_window/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">adjust_window(ConnectionRef, ChannelId, NumOfBytes)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L557" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> adjust_window(ConnectionRef, ChannelId, NumOfBytes) -> ok
                       when
                           ConnectionRef :: <a href="ssh.html#t:connection_ref/0">ssh:connection_ref</a>(),
                           ChannelId :: <a href="ssh.html#t:channel_id/0">ssh:channel_id</a>(),
                           NumOfBytes :: <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>().</pre>

      </div>

<p>Adjusts the SSH flow control window. This is to be done by both the client- and
server-side channel processes.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>Channels implemented with the <a href="ssh_client_channel.html"><code class="inline">ssh_client_channel</code></a> behavior do not normally
need to call this function as flow control is handled by the behavior. The
behavior adjusts the window every time the callback
<a href="ssh_client_channel.html#c:handle_ssh_msg/2">handle_ssh_msg/2</a> returns after
processing channel data.</p></section>
  </section>
</section>
<section class="detail" id="close/2">

  <div class="detail-header">
    <a href="#close/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">close(ConnectionRef, ChannelId)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L605" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> close(ConnectionRef, ChannelId) -> ok
               when ConnectionRef :: <a href="ssh.html#t:connection_ref/0">ssh:connection_ref</a>(), ChannelId :: <a href="ssh.html#t:channel_id/0">ssh:channel_id</a>().</pre>

      </div>

<p>A server- or client-channel process can choose to close their session by sending
a close event.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>This function is called by the <code class="inline">ssh_client_channel</code> behavior when the channel
is terminated, see <a href="ssh_client_channel.html"><code class="inline">ssh_client_channel</code></a>. Thus, channels implemented with the
behavior are not to call this function explicitly.</p></section>
  </section>
</section>
<section class="detail" id="exec/4">

  <div class="detail-header">
    <a href="#exec/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">exec(ConnectionRef, ChannelId, Command, Timeout)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L426" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> exec(ConnectionRef, ChannelId, Command, Timeout) -> <a href="#t:result/0">result</a>()
              when
                  ConnectionRef :: <a href="ssh.html#t:connection_ref/0">ssh:connection_ref</a>(),
                  ChannelId :: <a href="ssh.html#t:channel_id/0">ssh:channel_id</a>(),
                  Command :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>(),
                  Timeout :: <a href="../../apps/erts/erlang.html#t:timeout/0">timeout</a>().</pre>

      </div>

<p>Is to be called by a client-channel process to request that the server starts
executing the given command. The result is several messages according to the
following pattern. The last message is a channel close message, as the <code class="inline">exec</code>
request is a one-time execution that closes the channel when it is done.</p><ul><li><p><strong>N x <a href="#t:data_ch_msg/0">data message(s)</a></strong> - The result of executing the
command can be only one line or thousands of lines depending on the command.</p></li><li><p><strong>0 or 1 x <a href="#t:eof_ch_msg/0">eof message</a></strong> - Indicates that no more data is
to be sent.</p></li><li><p><strong>0 or 1 x <a href="#t:exit_signal_ch_msg/0">exit signal message</a></strong> - Not all systems
send signals. For details on valid string values, see RFC 4254, Section 6.10</p></li><li><p><strong>0 or 1 x <a href="#t:exit_status_ch_msg/0">exit status message</a></strong> - It is
recommended by the SSH Connection Protocol to send this message, but that is
not always the case.</p></li><li><p><strong>1 x <a href="#t:closed_ch_msg/0">closed status message</a></strong> - Indicates that the
<code class="inline">ssh_client_channel</code> started for the execution of the command has now been
shut down.</p></li></ul><p>See the User's Guide section on
<a href="using_ssh.html#one-time-execution">One-Time Execution</a> for examples.</p><section role="note" class="admonition info"><h4 class="admonition-title info">Note</h4><p>In case when command generates large amount of output data, manual
window adjustment might be necessary in order to receive it.
see <a href="#adjust_window/3"><code class="inline">ssh_connectino:adjust_window/3</code></a></p></section>
  </section>
</section>
<section class="detail" id="exit_status/3">

  <div class="detail-header">
    <a href="#exit_status/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">exit_status(ConnectionRef, ChannelId, Status)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L714" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> exit_status(ConnectionRef, ChannelId, Status) -> ok
                     when
                         ConnectionRef :: <a href="ssh.html#t:connection_ref/0">ssh:connection_ref</a>(),
                         ChannelId :: <a href="ssh.html#t:channel_id/0">ssh:channel_id</a>(),
                         Status :: <a href="../../apps/erts/erlang.html#t:integer/0">integer</a>().</pre>

      </div>

<p>Is to be called by a server-channel process to send the exit status of a command
to the client.</p>
  </section>
</section>
<section class="detail" id="ptty_alloc/3">

  <div class="detail-header">
    <a href="#ptty_alloc/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">ptty_alloc(ConnectionRef, ChannelId, Options)</h1>

        <span class="note">(since OTP 17.5)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L639" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> ptty_alloc(ConnectionRef, ChannelId, Options) -> <a href="#t:result/0">result</a>()
                    when
                        ConnectionRef :: <a href="ssh.html#t:connection_ref/0">ssh:connection_ref</a>(),
                        ChannelId :: <a href="ssh.html#t:channel_id/0">ssh:channel_id</a>(),
                        Options :: <a href="../../apps/stdlib/proplists.html#t:proplist/0">proplists:proplist</a>().</pre>

      </div>

<p>Equivalent to <a href="#ptty_alloc/4"><code class="inline">ptty_alloc/4</code></a>.</p>
  </section>
</section>
<section class="detail" id="ptty_alloc/4">

  <div class="detail-header">
    <a href="#ptty_alloc/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">ptty_alloc(ConnectionRef, ChannelId, Options, Timeout)</h1>

        <span class="note">(since OTP 17.4)</span>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L671" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> ptty_alloc(ConnectionRef, ChannelId, Options, Timeout) -> <a href="#t:result/0">result</a>()
                    when
                        ConnectionRef :: <a href="ssh.html#t:connection_ref/0">ssh:connection_ref</a>(),
                        ChannelId :: <a href="ssh.html#t:channel_id/0">ssh:channel_id</a>(),
                        Options :: <a href="../../apps/stdlib/proplists.html#t:proplist/0">proplists:proplist</a>(),
                        Timeout :: <a href="../../apps/erts/erlang.html#t:timeout/0">timeout</a>().</pre>

      </div>

<p>Sends an SSH Connection Protocol <code class="inline">pty_req</code>, to allocate a pseudo-terminal. Is to
be called by an SSH client process.</p><p>Options:</p><ul><li><p><strong>{term, string()}</strong> - Defaults to <em>os:getenv(&quot;TERM&quot;)</em> or <em>vt100</em> if it is
undefined.</p></li><li><p><strong>{width, integer()}</strong> - Defaults to 80 if <code class="inline">pixel_width</code> is not defined.</p></li><li><p><strong>{height, integer()}</strong> - Defaults to 24 if <code class="inline">pixel_height</code> is not defined.</p></li><li><p><strong>{pixel_width, integer()}</strong> - Is disregarded if <code class="inline">width</code> is defined.</p></li><li><p><strong>{pixel_height, integer()}</strong> - Is disregarded if <code class="inline">height</code> is defined.</p></li><li><p><strong>{pty_opts, [{posix_atom(), integer()}]}</strong> - Option can be an empty
list. Otherwise, see possible <em>POSIX</em> names in Section 8 in
<a href="http://www.ietf.org/rfc/rfc4254.txt">RFC 4254</a>.</p></li></ul>
  </section>
</section>
<section class="detail" id="reply_request/4">

  <div class="detail-header">
    <a href="#reply_request/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">reply_request(ConnectionRef, WantReply, Status, ChannelId)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L624" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> reply_request(ConnectionRef, WantReply, Status, ChannelId) -> ok
                       when
                           ConnectionRef :: <a href="ssh.html#t:connection_ref/0">ssh:connection_ref</a>(),
                           WantReply :: <a href="../../apps/erts/erlang.html#t:boolean/0">boolean</a>(),
                           Status :: <a href="#t:req_status/0">req_status</a>(),
                           ChannelId :: <a href="ssh.html#t:channel_id/0">ssh:channel_id</a>().</pre>

      </div>

<p>Sends status replies to requests where the requester has stated that it wants a
status report, that is, <code class="inline">WantReply = true</code>. If <code class="inline">WantReply</code> is <code class="inline">false</code>, calling
this function becomes a &quot;noop&quot;. Is to be called while handling an SSH Connection
Protocol message containing a <code class="inline">WantReply</code> boolean value.</p>
  </section>
</section>
<section class="detail" id="send/3">

  <div class="detail-header">
    <a href="#send/3" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">send(ConnectionRef, ChannelId, Data)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L480" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> send(<a href="#t:connection_ref/0">connection_ref</a>(), <a href="#t:channel_id/0">channel_id</a>(), <a href="../../apps/erts/erlang.html#t:iodata/0">iodata</a>()) -> ok | {error, <a href="#t:reason/0">reason</a>()}.</pre>

      </div>

<p>Equivalent to <a href="#send/5"><code class="inline">send/5</code></a>.</p>
  </section>
</section>
<section class="detail" id="send/4">

  <div class="detail-header">
    <a href="#send/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">send(ConnectionRef, ChannelId, Type, Data)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L502" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> send(<a href="#t:connection_ref/0">connection_ref</a>(), <a href="#t:channel_id/0">channel_id</a>(), <a href="../../apps/erts/erlang.html#t:iodata/0">iodata</a>(), <a href="../../apps/erts/erlang.html#t:timeout/0">timeout</a>()) -> ok | {error, <a href="#t:reason/0">reason</a>()};
          (<a href="#t:connection_ref/0">connection_ref</a>(), <a href="#t:channel_id/0">channel_id</a>(), <a href="#t:ssh_data_type_code/0">ssh_data_type_code</a>(), <a href="../../apps/erts/erlang.html#t:iodata/0">iodata</a>()) -> ok | {error, <a href="#t:reason/0">reason</a>()}.</pre>

      </div>

<p>Depending on input arguments equivalent to one of <a href="#send/5"><code class="inline">send/5</code></a> calls specified below.</p><p>Equivalent to <a href="#send/5">send(ConnectionRef, ChannelId, 0, Data, TimeOut)</a> if
called with TimeOut being integer.</p><p>Equivalent to <a href="#send/5">send(ConnectionRef, ChannelId, 0, Data, infinity)</a> if
called with TimeOut being infinity atom.</p><p>Equivalent to <a href="#send/5">send(ConnectionRef, ChannelId, Type, Data, infinity)</a> if
called with last argument which is not integer or infinity atom.</p>
  </section>
</section>
<section class="detail" id="send/5">

  <div class="detail-header">
    <a href="#send/5" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">send(ConnectionRef, ChannelId, Type, Data, TimeOut)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L521" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> send(<a href="#t:connection_ref/0">connection_ref</a>(), <a href="#t:channel_id/0">channel_id</a>(), <a href="#t:ssh_data_type_code/0">ssh_data_type_code</a>(), <a href="../../apps/erts/erlang.html#t:iodata/0">iodata</a>(), <a href="../../apps/erts/erlang.html#t:timeout/0">timeout</a>()) ->
              ok | {error, <a href="#t:reason/0">reason</a>()}.</pre>

      </div>

<p>Is to be called by client- and server-channel processes to send data to each
other.</p><p>The function <a href="#subsystem/4"><code class="inline">subsystem/4</code></a> and subsequent calls of <code class="inline">send/3,4,5</code> must be executed
in the same process.</p>
  </section>
</section>
<section class="detail" id="send_eof/2">

  <div class="detail-header">
    <a href="#send_eof/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">send_eof(ConnectionRef, ChannelId)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L533" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> send_eof(ConnectionRef, ChannelId) -> ok | {error, closed}
                  when ConnectionRef :: <a href="ssh.html#t:connection_ref/0">ssh:connection_ref</a>(), ChannelId :: <a href="ssh.html#t:channel_id/0">ssh:channel_id</a>().</pre>

      </div>

<p>Sends EOF on channel <code class="inline">ChannelId</code>.</p>
  </section>
</section>
<section class="detail" id="session_channel/2">

  <div class="detail-header">
    <a href="#session_channel/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">session_channel(ConnectionRef, Timeout)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L346" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> session_channel(ConnectionRef, Timeout) -> Result
                         when
                             ConnectionRef :: <a href="ssh.html#t:connection_ref/0">ssh:connection_ref</a>(),
                             Timeout :: <a href="../../apps/erts/erlang.html#t:timeout/0">timeout</a>(),
                             Result :: {ok, <a href="ssh.html#t:channel_id/0">ssh:channel_id</a>()} | {error, <a href="#t:reason/0">reason</a>()}.</pre>

      </div>

<p>Equivalent to <a href="#session_channel/4"><code class="inline">session_channel/4</code></a>.</p>
  </section>
</section>
<section class="detail" id="session_channel/4">

  <div class="detail-header">
    <a href="#session_channel/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">session_channel(ConnectionRef, InitialWindowSize, MaxPacketSize, Timeout)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L361" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> session_channel(ConnectionRef, InitialWindowSize, MaxPacketSize, Timeout) -> Result
                         when
                             ConnectionRef :: <a href="ssh.html#t:connection_ref/0">ssh:connection_ref</a>(),
                             InitialWindowSize :: <a href="../../apps/erts/erlang.html#t:pos_integer/0">pos_integer</a>() | undefined,
                             MaxPacketSize :: <a href="../../apps/erts/erlang.html#t:pos_integer/0">pos_integer</a>() | undefined,
                             Timeout :: <a href="../../apps/erts/erlang.html#t:timeout/0">timeout</a>(),
                             Result :: {ok, <a href="ssh.html#t:channel_id/0">ssh:channel_id</a>()} | {error, <a href="#t:reason/0">reason</a>()}.</pre>

      </div>

<p>Opens a channel for an SSH session. The channel id returned from this function
is the id used as input to the other functions in this module.</p>
  </section>
</section>
<section class="detail" id="setenv/5">

  <div class="detail-header">
    <a href="#setenv/5" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">setenv(ConnectionRef, ChannelId, Var, Value, Timeout)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L575" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> setenv(ConnectionRef, ChannelId, Var, Value, Timeout) -> success
                when
                    ConnectionRef :: <a href="ssh.html#t:connection_ref/0">ssh:connection_ref</a>(),
                    ChannelId :: <a href="ssh.html#t:channel_id/0">ssh:channel_id</a>(),
                    Var :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>(),
                    Value :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>(),
                    Timeout :: <a href="../../apps/erts/erlang.html#t:timeout/0">timeout</a>().</pre>

      </div>

<p>Environment variables can be passed before starting the shell/command. Is to be
called by a client channel processes.</p>
  </section>
</section>
<section class="detail" id="shell/2">

  <div class="detail-header">
    <a href="#shell/2" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">shell(ConnectionRef, ChannelId)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L449" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> shell(ConnectionRef, ChannelId) -> Result
               when
                   ConnectionRef :: <a href="ssh.html#t:connection_ref/0">ssh:connection_ref</a>(),
                   ChannelId :: <a href="ssh.html#t:channel_id/0">ssh:channel_id</a>(),
                   Result :: ok | success | failure | {error, timeout}.</pre>

      </div>

<p>Is to be called by a client channel process to request that the user default
shell (typically defined in /etc/passwd in Unix systems) is executed at the
server end.</p><p>Note: the return value is <code class="inline">ok</code> instead of <code class="inline">success</code> unlike in other functions in
this module. This is a fault that was introduced so long ago that any change
would break a large number of existing software.</p>
  </section>
</section>
<section class="detail" id="subsystem/4">

  <div class="detail-header">
    <a href="#subsystem/4" class="detail-link" data-no-tooltip="" aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <div class="heading-with-actions">
      <h1 class="signature" translate="no">subsystem(ConnectionRef, ChannelId, Subsystem, Timeout)</h1>


        <a href="https://github.com/erlang/otp/blob/OTP-28.2/lib/ssh/src/ssh_connection.erl#L469" class="icon-action" rel="help" aria-label="View Source">
          <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        </a>

    </div>
  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> subsystem(ConnectionRef, ChannelId, Subsystem, Timeout) -> <a href="#t:result/0">result</a>()
                   when
                       ConnectionRef :: <a href="ssh.html#t:connection_ref/0">ssh:connection_ref</a>(),
                       ChannelId :: <a href="ssh.html#t:channel_id/0">ssh:channel_id</a>(),
                       Subsystem :: <a href="../../apps/erts/erlang.html#t:string/0">string</a>(),
                       Timeout :: <a href="../../apps/erts/erlang.html#t:timeout/0">timeout</a>().</pre>

      </div>

<p>Is to be called by a client-channel process for requesting to execute a
predefined subsystem on the server.</p><p>The function <a href="#subsystem/4"><code class="inline">subsystem/4</code></a> and subsequent calls of
<a href="#send/3">send/3,4,5</a> must be executed in the same process.</p>
  </section>
</section>

    </div>
  </section>

    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="ssh.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.1) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>
<p>Copyright Â© 1996-2025 <a href="https://www.ericsson.com">Ericsson AB</a></p>
    </footer>
  </div>
</main>
</div>
  <script defer src="https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.min.js"></script>
  <script>
  let initialized = false;

  window.addEventListener("exdoc:loaded", () => {
      if (!initialized) {
      mermaid.initialize({
          startOnLoad: false,
          theme: document.body.className.includes("dark") ? "dark" : "default"
      });
      initialized = true;
      }

      let id = 0;
      for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
          graphEl.innerHTML = svg;
          bindFunctions?.(graphEl);
          preEl.insertAdjacentElement("afterend", graphEl);
          preEl.remove();
      });
      }
  });
  </script>

  </body>
</html>
