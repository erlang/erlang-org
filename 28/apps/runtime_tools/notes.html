<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.1">
    <meta name="project" content="runtime_tools v2.2">


<meta name="exdoc:full-text-search-url" content="/doc/search.html?v=28&q=">
<meta name="major-vsn" content="28">
<link rel="canonical" href="https://www.erlang.org/doc/apps/runtime_tools/notes.html" />
    <title>Runtime_Tools Release Notes — runtime_tools v2.2</title>

    <link rel="stylesheet" href="dist/html-erlang-ZK43ZOAC.css" />

    <script defer src="dist/sidebar_items-EC3B5298.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-DPJLHKSM.js"></script>

  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="../../index.html" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="runtime_tools" />
        </a>

      <div>
        <a href="../../index.html" class="sidebar-projectName" translate="no">
runtime_tools
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v2.2
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras=""></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-extra" id="main" data-type="extras">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of runtime_tools</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>Runtime_Tools Release Notes</h1>


      <a href="https://github.com/erlang/otp/blob/OTP-28.0.1/lib/runtime_tools/doc/notes.md#L1" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

  </div>


<p>This document describes the changes made to the Runtime_Tools application.</p><h2 id="runtime_tools-2-2" class="section-heading"><a href="#runtime_tools-2-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 2.2</span></h2><h3 id="improvements-and-new-features" class="section-heading"><a href="#improvements-and-new-features" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p><a href="https://www.erlang.org/eeps/eep-0069">EEP-69: Nominal Types</a> has been implemented. As a side effect, nominal types can encode opaque types. We changed all opaque-handling logic and improved opaque warnings in Dialyzer.</p><p>All existing Erlang type systems are structural: two types are seen as equivalent if their structures are the same. Type comparisons are based on the structures of the types, not on how the user explicitly defines them. For example, in the following example, <code class="inline">meter()</code> and <code class="inline">foot()</code> are equivalent. The two types can be used interchangeably. Neither of them differ from the basic type <code class="inline">integer()</code>.</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">type</span><span class="w"> </span><span class="nf">meter</span><span class="p" data-group-id="0419415497-1">(</span><span class="p" data-group-id="0419415497-1">)</span><span class="w"> </span><span class="p">:</span><span class="p">:</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="0419415497-2">(</span><span class="p" data-group-id="0419415497-2">)</span><span class="p">.</span><span class="w">
</span><span class="p">-</span><span class="na">type</span><span class="w"> </span><span class="nf">foot</span><span class="p" data-group-id="0419415497-3">(</span><span class="p" data-group-id="0419415497-3">)</span><span class="w"> </span><span class="p">:</span><span class="p">:</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="0419415497-4">(</span><span class="p" data-group-id="0419415497-4">)</span><span class="p">.</span></code></pre><p>Nominal typing is an alternative type system, where two types are equivalent if and only if they are declared with the same type name. The EEP proposes one new syntax -nominal for declaring nominal types. Under nominal typing, <code class="inline">meter()</code> and <code class="inline">foot()</code> are no longer compatible. Whenever a function expects type <code class="inline">meter()</code>, passing in type <code class="inline">foot()</code> would result in a Dialyzer error.</p><pre><code class="makeup erlang" translate="no"><span class="p">-</span><span class="na">nominal</span><span class="w"> </span><span class="nf">meter</span><span class="p" data-group-id="3951853144-1">(</span><span class="p" data-group-id="3951853144-1">)</span><span class="w"> </span><span class="p">:</span><span class="p">:</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="3951853144-2">(</span><span class="p" data-group-id="3951853144-2">)</span><span class="p">.</span><span class="w">
</span><span class="p">-</span><span class="na">nominal</span><span class="w"> </span><span class="nf">foot</span><span class="p" data-group-id="3951853144-3">(</span><span class="p" data-group-id="3951853144-3">)</span><span class="w"> </span><span class="p">:</span><span class="p">:</span><span class="w"> </span><span class="nf">integer</span><span class="p" data-group-id="3951853144-4">(</span><span class="p" data-group-id="3951853144-4">)</span><span class="p">.</span></code></pre><p>More nominal type-checking rules can be found in the EEP. It is worth noting that most work for adding nominal types and type-checking is in <code class="inline">erl_types.erl</code>. The rest are changes that removed the previous opaque type-checking, and added an improved version of it using nominal type-checking with reworked warnings.</p><p>Backwards compatibility for opaque type-checking is not preserved by this PR. Previous opaque warnings can appear with slightly different wordings. A new kind of opaque warning <code class="inline">opaque_union</code> is added, together with a Dialyzer option <code class="inline">no_opaque_union</code> to turn this kind of warnings off.</p><p>Own Id: OTP-19364 Aux Id: <a href="https://github.com/erlang/otp/pull/9079" title="">PR-9079</a></p></li><li><p>When compiling C/C++ code on Unix systems, the compiler hardening flags suggested by the <a href="https://github.com/ossf/wg-best-practices-os-developers/blob/main/docs/Compiler-Hardening-Guides/Compiler-Options-Hardening-Guide-for-C-and-C%2B%2B.md">Open Source Security Foundation</a> are now enabled by default. To disable them, pass <code class="inline">--disable-security-hardening-flags</code> to <code class="inline">configure</code>.</p><p>Own Id: OTP-19519 Aux Id: <a href="https://github.com/erlang/otp/pull/9441" title="">PR-9441</a></p></li><li><p>The license and copyright header has changed format to include an <code class="inline">SPDX-License-Identifier</code>. At the same time, most files have been updated to follow a uniform standard for license headers.</p><p>Own Id: OTP-19575 Aux Id: <a href="https://github.com/erlang/otp/pull/9670" title="">PR-9670</a></p></li><li><p>With this change observer will use cheaper iterators to avoid locking when not necessary.</p><p>Own Id: OTP-19584 Aux Id: <a href="https://github.com/erlang/otp/pull/9711" title="">PR-9711</a></p></li></ul><h2 id="runtime_tools-2-1-1" class="section-heading"><a href="#runtime_tools-2-1-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 2.1.1</span></h2><h3 id="fixed-bugs-and-malfunctions" class="section-heading"><a href="#fixed-bugs-and-malfunctions" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fixed a bug where dbg sessions on remote nodes were terminated prematurely.</p><p>Own Id: OTP-19188 Aux Id: <a href="https://github.com/erlang/otp/pull/8692" title="">PR-8692</a></p></li></ul><h2 id="runtime_tools-2-1" class="section-heading"><a href="#runtime_tools-2-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 2.1</span></h2><h3 id="improvements-and-new-features-1" class="section-heading"><a href="#improvements-and-new-features-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The <a href="instrument.html"><code class="inline">instrument</code></a> module can now track allocations on a per-process or per-port basis.</p><p>Own Id: OTP-18577 Aux Id: <a href="https://github.com/erlang/otp/pull/7236" title="">PR-7236</a></p></li><li><p>The new function <a href="../../apps/stdlib/proc_lib.html#set_label/1"><code class="inline">proc_lib:set_label/1</code></a> can be used to add a descriptive term to any process that does not have a registered name. The name will be shown by tools such as <a href="../../apps/stdlib/c.html#i/0"><code class="inline">c:i/0</code></a>, <a href="../../apps/observer/observer.html"><code class="inline">observer</code></a>, and it will be included in crash reports produced by processes using <a href="../../apps/stdlib/gen_server.html"><code class="inline">gen_server</code></a>, <a href="../../apps/stdlib/gen_statem.html"><code class="inline">gen_statem</code></a>, <a href="../../apps/stdlib/gen_event.html"><code class="inline">gen_event</code></a>, and <a href="../../apps/stdlib/gen_fsm.html"><code class="inline">gen_fsm</code></a>.</p><p>The label for a process can be retrieved by calling <a href="../../apps/stdlib/proc_lib.html#get_label/1"><code class="inline">proc_lib:get_label/1</code></a>.</p><p>Note that those functions work on any process, not only processes that use <a href="../../apps/stdlib/proc_lib.html"><code class="inline">proc_lib</code></a>.</p><p>Example:</p><pre><code class="text">1&gt; self().
&lt;0.90.0&gt;
2&gt; proc_lib:set_label(my_label).
ok
3&gt; i().
    .
    .
    .
&lt;0.90.0&gt;              erlang:apply/2                        2586    75011    0
my_label              c:pinfo/2                               51
4&gt; proc_lib:get_label(self()).
my_label</code></pre><p>Own Id: OTP-18789 Aux Id: <a href="https://github.com/erlang/otp/pull/7720" title="">PR-7720</a>, <a href="https://github.com/erlang/otp/pull/8003" title="">PR-8003</a></p></li><li><p>Type specs had been added to all <a href="dbg.html"><code class="inline">dbg</code></a> functions.</p><p>Own Id: OTP-18859 Aux Id: <a href="https://github.com/erlang/otp/pull/7782" title="">PR-7782</a></p></li><li><p>The documentation has been migrated to use Markdown and ExDoc.</p><p>Own Id: OTP-18955 Aux Id: <a href="https://github.com/erlang/otp/pull/8026" title="">PR-8026</a></p></li><li><p><a href="dbg.html"><code class="inline">dbg</code></a> have been updated to use <a href="../../apps/kernel/trace.html#t:session/0">trace sessions</a>.</p><p><a href="dbg.html#session_create/1"><code class="inline">dbg:session_create/1</code></a>, <a href="dbg.html#session/2"><code class="inline">dbg:session/2</code></a>, and <a href="dbg.html#session_destroy/1"><code class="inline">dbg:session_destroy/1</code></a> have been added to work sessions. See the documentation for details.</p><p>Own Id: OTP-19081 Aux Id: <a href="https://github.com/erlang/otp/pull/8363" title="">PR-8363</a></p></li></ul><h2 id="runtime_tools-2-0-1" class="section-heading"><a href="#runtime_tools-2-0-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 2.0.1</span></h2><h3 id="fixed-bugs-and-malfunctions-1" class="section-heading"><a href="#fixed-bugs-and-malfunctions-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fixed issue with fetching port information for observer could crash if port
had died.</p><p>Own Id: OTP-18868 Aux Id: GH-7735</p></li><li><p>Fixed some benign compile warnings on Windows.</p><p>Own Id: OTP-18895</p></li></ul><h2 id="runtime_tools-2-0" class="section-heading"><a href="#runtime_tools-2-0" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 2.0</span></h2><h3 id="fixed-bugs-and-malfunctions-2" class="section-heading"><a href="#fixed-bugs-and-malfunctions-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fixed the type specification for <code class="inline">instrument:carriers/0,1</code></p><p>Own Id: OTP-18499 Aux Id: PR-6946</p></li></ul><h3 id="improvements-and-new-features-2" class="section-heading"><a href="#improvements-and-new-features-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Add <code class="inline">dbg:tracer(file, Filename)</code> as a convenient way to trace to a file in
clean text.</p><p>Own Id: OTP-18211 Aux Id: PR-6143</p></li><li><p>Handling of <code class="inline">on_load</code> modules during boot has been improved by adding an extra
step in the boot order for embedded mode that runs all <code class="inline">on_load</code> handlers,
instead of relying on explicit invocation of them, later, when the kernel
supervision tree starts.</p><p>This is mostly a code improvement and OTP internal simplification to avoid
future bugs and to simplify code maintenance.</p><p>Own Id: OTP-18447</p></li><li><p>Deprecates <code class="inline">dbg:stop_clear/0</code> because it is simply a function alias to
<a href="dbg.html#stop/0"><code class="inline">dbg:stop/0</code></a></p><p>Own Id: OTP-18478 Aux Id: GH-6903</p></li><li><p>The <code class="inline">instrument</code> module has been moved from <code class="inline">tools</code> to <code class="inline">runtime_tools</code>.</p><p>Own Id: OTP-18487 Aux Id: PR-6829</p></li><li><p>Removed the experimental <code class="inline">erts_alloc_config</code> module. It no longer produced
good configurations and cannot be fixed in a reasonably backwards compatible
manner. It has since OTP 25 been deprecated and scheduled for removal in
OTP 26.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-18549 Aux Id: PR-7105</p></li></ul><h2 id="runtime_tools-1-19" class="section-heading"><a href="#runtime_tools-1-19" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.19</span></h2><h3 id="fixed-bugs-and-malfunctions-3" class="section-heading"><a href="#fixed-bugs-and-malfunctions-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Reading port socket options on macOS and Windows &quot;skips&quot; invalid options.</p><p>Own Id: OTP-18012 Aux Id: #5798</p></li></ul><h3 id="improvements-and-new-features-3" class="section-heading"><a href="#improvements-and-new-features-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p><a href="dbg.html#stop/0"><code class="inline">dbg:stop/0</code></a> now behaves like <code class="inline">dbg:stop_clear/0</code>, clearing all global trace
patterns for all functions.</p><p>Own Id: OTP-17909 Aux Id: ERIERL-760</p></li><li><p><code class="inline">erts_alloc_config</code> has been scheduled for removal in OTP 26. It has not
produced good configurations for a very long time, and unfortunately it cannot
be fixed in a backwards compatible manner.</p><p>Own Id: OTP-17939</p></li></ul><h2 id="runtime_tools-1-18" class="section-heading"><a href="#runtime_tools-1-18" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.18</span></h2><h3 id="fixed-bugs-and-malfunctions-4" class="section-heading"><a href="#fixed-bugs-and-malfunctions-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fixed bug in <code class="inline">scheduler:utilization(Seconds)</code> that would leave the
<code class="inline">scheduler_wall_time</code> system flag incorrectly enabled.</p><p>Own Id: OTP-17800 Aux Id: PR-5425</p></li></ul><h3 id="improvements-and-new-features-4" class="section-heading"><a href="#improvements-and-new-features-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Add <a href="scheduler.html#get_sample/0"><code class="inline">scheduler:get_sample/0</code></a> and <code class="inline">get_sample_all/0</code>. Also clarify <code class="inline">scheduler</code>
module documentation about how it depends on system flag
<code class="inline">scheduler_wall_time</code>.</p><p>Own Id: OTP-17830 Aux Id: GH-5425, PR-5444</p></li></ul><h2 id="runtime_tools-1-17" class="section-heading"><a href="#runtime_tools-1-17" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.17</span></h2><h3 id="improvements-and-new-features-5" class="section-heading"><a href="#improvements-and-new-features-5" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Observer now has a sectiion for new socket.</p><p>Own Id: OTP-17346</p></li><li><p>The dbg docs have been expanded to include the meaning of all the function
name acronyms.</p><p>Own Id: OTP-17572 Aux Id: PR-5117</p></li></ul><h2 id="runtime_tools-1-16-2" class="section-heading"><a href="#runtime_tools-1-16-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.16.2</span></h2><h3 id="improvements-and-new-features-6" class="section-heading"><a href="#improvements-and-new-features-6" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The experimental HiPE application has been removed, together with all related
functionality in other applications.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-16963</p></li></ul><h2 id="runtime_tools-1-16-1" class="section-heading"><a href="#runtime_tools-1-16-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.16.1</span></h2><h3 id="fixed-bugs-and-malfunctions-5" class="section-heading"><a href="#fixed-bugs-and-malfunctions-5" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>The function <a href="dbg.html#n/1"><code class="inline">dbg:n/1</code></a> used a local fun to set up a tracer on a remote node.
This works fine as long as the remote node is running exactly the same version
of Erlang/OTP but does not work at all otherwise. This is fixed by exporting
the relevant function and by calling this function on the remote node to set
up remote tracing.</p><p>Own Id: OTP-16930 Aux Id: ERL-1371, GH-4396</p></li></ul><h2 id="runtime_tools-1-16" class="section-heading"><a href="#runtime_tools-1-16" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.16</span></h2><h3 id="improvements-and-new-features-7" class="section-heading"><a href="#improvements-and-new-features-7" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Clarify documentation of module 'scheduler'.</p><p>Own Id: OTP-17208 Aux Id: GH-4502, PR-4532</p></li></ul><h2 id="runtime_tools-1-15-1" class="section-heading"><a href="#runtime_tools-1-15-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.15.1</span></h2><h3 id="fixed-bugs-and-malfunctions-6" class="section-heading"><a href="#fixed-bugs-and-malfunctions-6" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fixed a crash in <code class="inline">appmon_info</code> triggered by trying to read port info from a
port that was in the process of terminating.</p><p><code class="inline">appmon_info</code> is used by <code class="inline">observer</code> to get information from the observed node.</p><p>Own Id: OTP-16787 Aux Id: PR-2673</p></li></ul><h2 id="runtime_tools-1-15" class="section-heading"><a href="#runtime_tools-1-15" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.15</span></h2><h3 id="improvements-and-new-features-8" class="section-heading"><a href="#improvements-and-new-features-8" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Improved the presentation of allocations and carriers in the <code class="inline">instrument</code>
module.</p><p>Own Id: OTP-16327</p></li><li><p>Minor updates due to the new spawn improvements made.</p><p>Own Id: OTP-16368 Aux Id: OTP-15251</p></li></ul><h2 id="runtime_tools-1-14-0-1" class="section-heading"><a href="#runtime_tools-1-14-0-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.14.0.1</span></h2><h3 id="fixed-bugs-and-malfunctions-7" class="section-heading"><a href="#fixed-bugs-and-malfunctions-7" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>The function <a href="dbg.html#n/1"><code class="inline">dbg:n/1</code></a> used a local fun to set up a tracer on a remote node.
This works fine as long as the remote node is running exactly the same version
of Erlang/OTP but does not work at all otherwise. This is fixed by exporting
the relevant function and by calling this function on the remote node to set
up remote tracing.</p><p>Own Id: OTP-16930 Aux Id: ERL-1371, GH-4396</p></li></ul><h2 id="runtime_tools-1-14" class="section-heading"><a href="#runtime_tools-1-14" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.14</span></h2><h3 id="improvements-and-new-features-9" class="section-heading"><a href="#improvements-and-new-features-9" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Fix <code class="inline">dbg:stop_clear/0</code> to also clear trace events (<code class="inline">send</code> and <code class="inline">'receive'</code>).</p><p>Own Id: OTP-16044</p></li></ul><h2 id="runtime_tools-1-13-3" class="section-heading"><a href="#runtime_tools-1-13-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.13.3</span></h2><h3 id="improvements-and-new-features-10" class="section-heading"><a href="#improvements-and-new-features-10" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Minor updates to build system necessary due to move of configuration of
<code class="inline">crypto</code> application.</p><p>Own Id: OTP-15262 Aux Id: OTP-15129</p></li></ul><h2 id="runtime_tools-1-13-2-1" class="section-heading"><a href="#runtime_tools-1-13-2-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.13.2.1</span></h2><h3 id="fixed-bugs-and-malfunctions-8" class="section-heading"><a href="#fixed-bugs-and-malfunctions-8" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>The function <a href="dbg.html#n/1"><code class="inline">dbg:n/1</code></a> used a local fun to set up a tracer on a remote node.
This works fine as long as the remote node is running exactly the same version
of Erlang/OTP but does not work at all otherwise. This is fixed by exporting
the relevant function and by calling this function on the remote node to set
up remote tracing.</p><p>Own Id: OTP-16930 Aux Id: ERL-1371, GH-4396</p></li></ul><h2 id="runtime_tools-1-13-2" class="section-heading"><a href="#runtime_tools-1-13-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.13.2</span></h2><h3 id="improvements-and-new-features-11" class="section-heading"><a href="#improvements-and-new-features-11" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Update of systemtap trace example scripts.</p><p>Own Id: OTP-15670</p></li></ul><h2 id="runtime_tools-1-13-1" class="section-heading"><a href="#runtime_tools-1-13-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.13.1</span></h2><h3 id="improvements-and-new-features-12" class="section-heading"><a href="#improvements-and-new-features-12" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Optimize <code class="inline">observer</code> by using new <code class="inline">system_info(ets_count)</code> instead of more
expensive <a href="../../apps/erts/erlang.html#length/1"><code class="inline">length(ets:all())</code></a>.</p><p>Own Id: OTP-15163 Aux Id: PR-1844</p></li></ul><h2 id="runtime_tools-1-13" class="section-heading"><a href="#runtime_tools-1-13" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.13</span></h2><h3 id="improvements-and-new-features-13" class="section-heading"><a href="#improvements-and-new-features-13" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>New utility module <code class="inline">scheduler</code> which makes it easier to measure scheduler
utilization.</p><p>Own Id: OTP-14904</p></li></ul><h2 id="runtime_tools-1-12-5" class="section-heading"><a href="#runtime_tools-1-12-5" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.12.5</span></h2><h3 id="fixed-bugs-and-malfunctions-9" class="section-heading"><a href="#fixed-bugs-and-malfunctions-9" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p><a href="system_information.html#to_file/1"><code class="inline">system_information:to_file/1</code></a> will now use slightly less memory.</p><p>Own Id: OTP-14816</p></li></ul><h2 id="runtime_tools-1-12-4" class="section-heading"><a href="#runtime_tools-1-12-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.12.4</span></h2><h3 id="improvements-and-new-features-14" class="section-heading"><a href="#improvements-and-new-features-14" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>New family of <code class="inline">erts_alloc</code> strategies: Age Order First Fit. Similar to
&quot;address order&quot;, but instead the oldest possible carrier is always chosen for
allocation.</p><p>Own Id: OTP-14917 Aux Id: ERIERL-88</p></li></ul><h2 id="runtime_tools-1-12-3" class="section-heading"><a href="#runtime_tools-1-12-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.12.3</span></h2><h3 id="fixed-bugs-and-malfunctions-10" class="section-heading"><a href="#fixed-bugs-and-malfunctions-10" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Removed all old unused files in the documentation.</p><p>Own Id: OTP-14475 Aux Id: ERL-409, PR-1493</p></li></ul><h2 id="runtime_tools-1-12-2" class="section-heading"><a href="#runtime_tools-1-12-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.12.2</span></h2><h3 id="improvements-and-new-features-15" class="section-heading"><a href="#improvements-and-new-features-15" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>General Unicode improvements.</p><p>Own Id: OTP-14462</p></li></ul><h2 id="runtime_tools-1-12-1" class="section-heading"><a href="#runtime_tools-1-12-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.12.1</span></h2><h3 id="fixed-bugs-and-malfunctions-11" class="section-heading"><a href="#fixed-bugs-and-malfunctions-11" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>A faulty encoding comment was added when saving trace patterns to file. This
is now corrected.</p><p>Own Id: OTP-14479</p></li></ul><h2 id="runtime_tools-1-12" class="section-heading"><a href="#runtime_tools-1-12" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.12</span></h2><h3 id="fixed-bugs-and-malfunctions-12" class="section-heading"><a href="#fixed-bugs-and-malfunctions-12" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Add compile option <code class="inline">-compile(no_native)</code> in modules with <code class="inline">on_load</code> directive
which is not yet supported by HiPE.</p><p>Own Id: OTP-14316 Aux Id: PR-1390</p></li></ul><h3 id="improvements-and-new-features-16" class="section-heading"><a href="#improvements-and-new-features-16" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Miscellaneous updates due to atoms containing arbitrary Unicode characters.</p><p>Own Id: OTP-14285</p></li><li><p>Sockets can now be bound to device (SO_BINDTODEVICE) on platforms where it is
supported.</p><p>This has been implemented e.g to support VRF-Lite under Linux; see
<a href="https://www.kernel.org/doc/Documentation/networking/vrf.txt">VRF </a>, and
GitHub pull request <a href="https://github.com/erlang/otp/pull/1326">#1326</a>.</p><p>Own Id: OTP-14357 Aux Id: PR-1326</p></li></ul><h2 id="runtime_tools-1-11-1" class="section-heading"><a href="#runtime_tools-1-11-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.11.1</span></h2><h3 id="fixed-bugs-and-malfunctions-13" class="section-heading"><a href="#fixed-bugs-and-malfunctions-13" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>etop erroneously reported the average scheduler utilization since the tool was
first started instead of the scheduler utilization since last update. This is
now corrected.</p><p>Own Id: OTP-14090 Aux Id: seq13232</p></li></ul><h2 id="runtime_tools-1-11" class="section-heading"><a href="#runtime_tools-1-11" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.11</span></h2><h3 id="improvements-and-new-features-17" class="section-heading"><a href="#improvements-and-new-features-17" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Add option <code class="inline">queue_size</code> to ttb:tracer/2. This sets the maximum queue size for
the IP trace driver which is used when tracing to shell and/or <code class="inline">{local,File}</code>.</p><p>The default value for <code class="inline">queue_size</code> is specified by <code class="inline">dbg</code>, and it is now
changed from 50 to 200.</p><p>Own Id: OTP-13829 Aux Id: seq13171</p></li><li><p>The port information page is updated to show more information per port.</p><p>Own Id: OTP-13948 Aux Id: ERL-272</p></li></ul><h2 id="runtime_tools-1-10-1" class="section-heading"><a href="#runtime_tools-1-10-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.10.1</span></h2><h3 id="improvements-and-new-features-18" class="section-heading"><a href="#improvements-and-new-features-18" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Correct some minor documentation issues.</p><p>Own Id: OTP-13891</p></li></ul><h2 id="runtime_tools-1-10" class="section-heading"><a href="#runtime_tools-1-10" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.10</span></h2><h3 id="fixed-bugs-and-malfunctions-14" class="section-heading"><a href="#fixed-bugs-and-malfunctions-14" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix bug in dbg:trace_port/2 that could cause the trace ip driver to produce
faulty error reports &quot;...(re)selected before stop_select was called for driver
trace_ip_drv&quot;.</p><p>Own Id: OTP-13576 Aux Id: ERL-119</p></li></ul><h3 id="improvements-and-new-features-19" class="section-heading"><a href="#improvements-and-new-features-19" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Add microstate accounting</p><p>Microstate accounting is a way to track which state the different threads
within ERTS are in. The main usage area is to pin point performance
bottlenecks by checking which states the threads are in and then from there
figuring out why and where to optimize.</p><p>Since checking whether microstate accounting is on or off is relatively
expensive only a few of the states are enabled by default and more states can
be enabled through configure.</p><p>There is a convenience module called msacc that has been added to
runtime_tools that can assist in gathering and interpreting the data from
Microstate accounting.</p><p>For more information see
<a href="../../apps/erts/erlang.html#statistics_microstate_accounting">erlang:statistics(microstate<em>accounting, </em>)</a>
and the <a href="msacc.html"><code class="inline">msacc</code></a> module in runtime_tools.</p><p>Own Id: OTP-12345</p></li><li><p>Update observer GUI to support tracing on ports, and to set matchspecs for
send/receive. This required some minor bugfixes in runtime_tools/dbg.</p><p>Own Id: OTP-13481</p></li><li><p>Update dbg and ttb to work with a tracer module as tracer and tracing on
ports.</p><p>Own Id: OTP-13500</p></li><li><p>Updated dbg to accept the new trace options <code class="inline">monotonic_timestamp</code> and
<code class="inline">strict_monotonic_timestamp</code>.</p><p>Own Id: OTP-13502</p></li><li><p>Introduce LTTng tracing via Erlang tracing.</p><p>For LTTng to be enabled OTP needs to be built with configure option
<code class="inline">--with-dynamic-trace=lttng</code>.</p><p>The dynamic trace module <code class="inline">dyntrace</code> is now capable to be used as a LTTng sink
for Erlang tracing. For a list of all tracepoints, see
<a href="lttng.html">Runtime Tools User's Guide</a> .</p><p>This feature also introduces an incompatible change in trace tags. The trace
tags <code class="inline">gc_start</code> and <code class="inline">gc_end</code> has been split into <code class="inline">gc_minor_start</code>,
<code class="inline">gc_minor_end</code> and <code class="inline">gc_major_start</code>, <code class="inline">gc_major_end</code>.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-13532</p></li></ul><h2 id="runtime_tools-1-9-3" class="section-heading"><a href="#runtime_tools-1-9-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.9.3</span></h2><h3 id="improvements-and-new-features-20" class="section-heading"><a href="#improvements-and-new-features-20" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p><code class="inline">dbg:trace_client()</code> now uses a read buffer to speed up reading of trace
files.</p><p>Own Id: OTP-13279</p></li></ul><h2 id="runtime_tools-1-9-2" class="section-heading"><a href="#runtime_tools-1-9-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.9.2</span></h2><h3 id="improvements-and-new-features-21" class="section-heading"><a href="#improvements-and-new-features-21" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Clarified dbg:stop documentation</p><p>Own Id: OTP-13078</p></li></ul><h2 id="runtime_tools-1-9-1" class="section-heading"><a href="#runtime_tools-1-9-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.9.1</span></h2><h3 id="fixed-bugs-and-malfunctions-15" class="section-heading"><a href="#fixed-bugs-and-malfunctions-15" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>The <code class="inline">trace_file_drv</code> did not handle <code class="inline">EINTR</code> correct which caused it to fail
when the runtime system received a signal.</p><p>Own Id: OTP-12890 Aux Id: seq12885</p></li></ul><h2 id="runtime_tools-1-9" class="section-heading"><a href="#runtime_tools-1-9" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.9</span></h2><h3 id="improvements-and-new-features-22" class="section-heading"><a href="#improvements-and-new-features-22" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Change license text from Erlang Public License to Apache Public License v2</p><p>Own Id: OTP-12845</p></li></ul><h2 id="runtime_tools-1-8-16" class="section-heading"><a href="#runtime_tools-1-8-16" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.8.16</span></h2><h3 id="fixed-bugs-and-malfunctions-16" class="section-heading"><a href="#fixed-bugs-and-malfunctions-16" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>The trace process started by <code class="inline">dbg</code> would not always terminate when
<a href="dbg.html#stop/0"><code class="inline">dbg:stop/0</code></a> was called.</p><p>Own Id: OTP-12517</p></li></ul><h2 id="runtime_tools-1-8-15" class="section-heading"><a href="#runtime_tools-1-8-15" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.8.15</span></h2><h3 id="fixed-bugs-and-malfunctions-17" class="section-heading"><a href="#fixed-bugs-and-malfunctions-17" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Add <code class="inline">nif_version</code> to <a href="../../apps/erts/erlang.html#system_info/1"><code class="inline">erlang:system_info/1</code></a> in order to get the NIF API
version of the runtime system in a way similar to <code class="inline">driver_version</code>.</p><p>Own Id: OTP-12298</p></li></ul><h2 id="runtime_tools-1-8-14" class="section-heading"><a href="#runtime_tools-1-8-14" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.8.14</span></h2><h3 id="fixed-bugs-and-malfunctions-18" class="section-heading"><a href="#fixed-bugs-and-malfunctions-18" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>The documentation for the return value of dbg:{stop,stop_clear} functions
are now correct (Thanks to Luca Favatella)</p><p>Own Id: OTP-11603</p></li><li><p>Fix DTrace build on Illumos. (Thanks to Ryan Zezeski.)</p><p>Own Id: OTP-11622</p></li><li><p>Do not turn off scheduler_wall_time, as it can interfere with other
applications usage.</p><p>Own Id: OTP-11693 Aux Id: seq12528</p></li><li><p>Application upgrade (appup) files are corrected for the following
applications:</p><p><code class="inline">asn1, common_test, compiler, crypto, debugger, dialyzer, edoc, eldap, erl_docgen, et, eunit, gs, hipe, inets, observer, odbc, os_mon, otp_mibs, parsetools, percept, public_key, reltool, runtime_tools, ssh, syntax_tools, test_server, tools, typer, webtool, wx, xmerl</code></p><p>A new test utility for testing appup files is added to test_server. This is
now used by most applications in OTP.</p><p>(Thanks to Tobias Schlager)</p><p>Own Id: OTP-11744</p></li></ul><h3 id="improvements-and-new-features-23" class="section-heading"><a href="#improvements-and-new-features-23" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Allow install path to have unicode characters.</p><p>Own Id: OTP-10877</p></li><li><p>The <code class="inline">erts_alloc_config</code> tool has been updated to produce configurations that
better fit todays SMP support in the VM.</p><p>Own Id: OTP-11662</p></li><li><p>The <a href="../../apps/kernel/app.html"><code class="inline">app</code></a>-file key
<a href="../../apps/kernel/app.html#runtime_dependencies"><code class="inline">runtime_dependencies</code></a> has been
introduced.</p><p>Runtime dependencies have been added to all app-files in OTP. Note that these
may not be completely correct during OTP 17, but this is actively being worked
on.</p><p>The function <a href="system_information.html#sanity_check/0"><code class="inline">system_information:sanity_check/0</code></a> will verify all declared
runtime dependencies in the system when called.</p><p>Own Id: OTP-11773</p></li></ul><h2 id="runtime_tools-1-8-13" class="section-heading"><a href="#runtime_tools-1-8-13" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.8.13</span></h2><h3 id="fixed-bugs-and-malfunctions-19" class="section-heading"><a href="#fixed-bugs-and-malfunctions-19" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Observer did not produce correct result when ERTS internal memory allocators
had been disabled.</p><p>Own Id: OTP-11520</p></li></ul><h2 id="runtime_tools-1-8-12" class="section-heading"><a href="#runtime_tools-1-8-12" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.8.12</span></h2><h3 id="fixed-bugs-and-malfunctions-20" class="section-heading"><a href="#fixed-bugs-and-malfunctions-20" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>The process trace flag 'silent' is now allowed in call to dbg:p/2.</p><p>Own Id: OTP-11222</p></li></ul><h3 id="improvements-and-new-features-24" class="section-heading"><a href="#improvements-and-new-features-24" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Introduced functionality for inspection of system and build configuration.</p><p>Own Id: OTP-11196</p></li></ul><h2 id="runtime_tools-1-8-11" class="section-heading"><a href="#runtime_tools-1-8-11" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.8.11</span></h2><h3 id="fixed-bugs-and-malfunctions-21" class="section-heading"><a href="#fixed-bugs-and-malfunctions-21" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Some bugs related to calculation of CPU/scheduler utilization in observer are
corrected.</p><p>Current function for a process is accepted to be 'undefined' when running
hipe.</p><p>Own Id: OTP-10894</p></li></ul><h3 id="improvements-and-new-features-25" class="section-heading"><a href="#improvements-and-new-features-25" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Erlang source files with non-ASCII characters are now encoded in UTF-8
(instead of latin1).</p><p>Own Id: OTP-11041 Aux Id: OTP-10907</p></li></ul><h2 id="runtime_tools-1-8-10" class="section-heading"><a href="#runtime_tools-1-8-10" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.8.10</span></h2><h3 id="fixed-bugs-and-malfunctions-22" class="section-heading"><a href="#fixed-bugs-and-malfunctions-22" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fix Table Viewer refresh crash on no more existing ets tables (Thanks to Peti
Gömori)</p><p>Own Id: OTP-10635</p></li></ul><h3 id="improvements-and-new-features-26" class="section-heading"><a href="#improvements-and-new-features-26" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>User Guides for the dynamic tracing tools dtrace and systemtap have been added
to the documentation.</p><p>Own Id: OTP-10155</p></li><li><p>Where necessary a comment stating encoding has been added to Erlang files. The
comment is meant to be removed in Erlang/OTP R17B when UTF-8 becomes the
default encoding.</p><p>Own Id: OTP-10630</p></li><li><p>Some examples overflowing the width of PDF pages have been corrected.</p><p>Own Id: OTP-10665</p></li><li><p>The backend module appmon_info.erl is moved from appmon application to
runtime_tools. This allows appmon to be run from a remote erlang node towards
a target node which does not have appmon (and its dependencies) installed, as
long as runtime_tools is installed there.</p><p>Own Id: OTP-10786</p></li></ul><h2 id="runtime_tools-1-8-9" class="section-heading"><a href="#runtime_tools-1-8-9" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.8.9</span></h2><h3 id="fixed-bugs-and-malfunctions-23" class="section-heading"><a href="#fixed-bugs-and-malfunctions-23" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Change the module-level docs to give complete step-by-step instructions for
using the `dyntrace:p()` trace function. (Thanks to Scott Lystig Fritchie)</p><p>Own Id: OTP-10141</p></li><li><p>Add 1024 separate USDT probes to dyntrace.erl and dyntrace.c (Thanks to Scott
Lystig Fritchie)</p><p>Own Id: OTP-10143</p></li><li><p>Relocate bodies of DTrace probes to the statically-linked VM.</p><p>Due to various operating systems (in both the DTrace and SystemTap worlds) not
fully supporting DTrace probes (or SystemTap-compatibility mode probes) in
shared libraries, we relocate those probes to the statically-linked virtual
machine. This could be seen as pollution of the pristine VM by a (yet)
experimental feature. However:</p><p>1. This code can be eliminated completely by the C preprocessor. 2. Leaving
the probes in the dyntrace NIF shared library simply does not work correctly
on too many platforms. <em>Many</em> thanks to Macneil Shonle at Basho for assisting
when my RSI-injured fingers gave out. (note: Solaris 10 and FreeBSD
9.0-RELEASE can take a long time to compile)</p><p>Own Id: OTP-10189</p></li></ul><h2 id="runtime_tools-1-8-8" class="section-heading"><a href="#runtime_tools-1-8-8" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.8.8</span></h2><h3 id="improvements-and-new-features-27" class="section-heading"><a href="#improvements-and-new-features-27" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The DTrace source patch from Scott Lystig Fritchie is integrated in the source
tree. Using an emulator with dtrace probe is still not supported for
production use, but may be a valuable debugging tool. Configure with
--with-dynamic-trace=dtrace (or --with-dynamic-trace=systemtap) to create a
build with dtrace probes enabled. See runtime_tools for documentation and
examples.</p><p>Own Id: OTP-10017</p></li></ul><h2 id="runtime_tools-1-8-7" class="section-heading"><a href="#runtime_tools-1-8-7" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.8.7</span></h2><h3 id="fixed-bugs-and-malfunctions-24" class="section-heading"><a href="#fixed-bugs-and-malfunctions-24" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Earlier dbg:stop only did erlang:trace_delivered and did not flush the trace
file driver. Therefore there could still be trace messages that were delivered
to the driver (guaranteed by erlang:trace_delivered) but not yet written to
the file when dbg:stop returned. Flushing is now added on each node before the
dbg process terminates.</p><p>Own Id: OTP-9651</p></li><li><p>File handles created by the trace_file_drv driver was inherited to child
processes. This is now corrected.</p><p>Own Id: OTP-9658</p></li></ul><h3 id="improvements-and-new-features-28" class="section-heading"><a href="#improvements-and-new-features-28" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Erlang/OTP can now be built using parallel make if you limit the number of
jobs, for instance using '<code class="inline">make -j6</code>' or '<code class="inline">make -j10</code>'. '<code class="inline">make -j</code>' does not
work at the moment because of some missing dependencies.</p><p>Own Id: OTP-9451</p></li><li><p>Two new built-in trace pattern aliases have been added: caller_trace (c) and
caller_exception_trace (cx). See the dbg:ltp/0 documentation for more info.</p><p>Own Id: OTP-9458</p></li></ul><h2 id="runtime_tools-1-8-6" class="section-heading"><a href="#runtime_tools-1-8-6" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.8.6</span></h2><h3 id="improvements-and-new-features-29" class="section-heading"><a href="#improvements-and-new-features-29" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Two new built-in trace pattern aliases have been added: caller_trace (c) and
caller_exception_trace (cx). See the dbg:ltp/0 documentation for more info.</p><p>Own Id: OTP-9458</p></li></ul><h2 id="runtime_tools-1-8-5" class="section-heading"><a href="#runtime_tools-1-8-5" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.8.5</span></h2><h3 id="improvements-and-new-features-30" class="section-heading"><a href="#improvements-and-new-features-30" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>When a big number of trace patterns are set by inviso the Erlang VM could get
unresponsive for several seconds. This is now corrected.</p><p>Own Id: OTP-9048 Aux Id: seq11480</p></li></ul><h2 id="runtime_tools-1-8-4-1" class="section-heading"><a href="#runtime_tools-1-8-4-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.8.4.1</span></h2><h3 id="fixed-bugs-and-malfunctions-25" class="section-heading"><a href="#fixed-bugs-and-malfunctions-25" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Minor corrections and removal of a temporary workaround.</p><p>Own Id: OTP-8755 Aux Id: seq-11628, seq-11639</p></li><li><p>Small fix in inviso_autostart_server.</p><p>Own Id: OTP-8783 Aux Id: seq11628</p></li></ul><h2 id="runtime_tools-1-8-4" class="section-heading"><a href="#runtime_tools-1-8-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.8.4</span></h2><h3 id="improvements-and-new-features-31" class="section-heading"><a href="#improvements-and-new-features-31" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Miscellaneous updates.</p><p>Own Id: OTP-8705</p></li></ul><h2 id="runtime_tools-1-8-3" class="section-heading"><a href="#runtime_tools-1-8-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.8.3</span></h2><h3 id="improvements-and-new-features-32" class="section-heading"><a href="#improvements-and-new-features-32" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Cross compilation improvements and other build system improvements.</p><p>Most notable:</p><ul><li>Lots of cross compilation improvements. The old cross compilation support
was more or less non-existing as well as broken. Please, note that the cross
compilation support should still be considered as experimental. Also note
that old cross compilation configurations cannot be used without
modifications. For more information on cross compiling Erlang/OTP see the
<code class="inline">$ERL_TOP/INSTALL-CROSS.md</code> file.</li><li>Support for staged install using
<a href="http://www.gnu.org/prep/standards/html_node/DESTDIR.html">DESTDIR</a>. The old
broken <code class="inline">INSTALL_PREFIX</code> has also been fixed. For more information see the
<code class="inline">$ERL_TOP/INSTALL.md</code> file.</li><li>Documentation of the <code class="inline">release</code> target of the top <code class="inline">Makefile</code>. For more
information see the <code class="inline">$ERL_TOP/INSTALL.md</code> file.</li><li><code class="inline">make install</code> now by default creates relative symbolic links instead of
absolute ones. For more information see the <code class="inline">$ERL_TOP/INSTALL.md</code> file.</li><li><code class="inline">$ERL_TOP/configure --help=recursive</code> now works and prints help for all
applications with <code class="inline">configure</code> scripts.</li><li>Doing <code class="inline">make install</code>, or <code class="inline">make release</code> directly after <code class="inline">make all</code> no longer
triggers miscellaneous rebuilds.</li><li>Existing bootstrap system is now used when doing <code class="inline">make install</code>, or
<code class="inline">make release</code> without a preceding <code class="inline">make all</code>.</li><li>The <code class="inline">crypto</code> and <code class="inline">ssl</code> applications use the same runtime library path when
dynamically linking against <code class="inline">libssl.so</code> and <code class="inline">libcrypto.so</code>. The runtime
library search path has also been extended.</li><li>The <code class="inline">configure</code> scripts of <code class="inline">erl_interface</code> and <code class="inline">odbc</code> now search for thread
libraries and thread library quirks the same way as ERTS do.</li><li>The <code class="inline">configure</code> script of the <code class="inline">odbc</code> application now also looks for odbc
libraries in <code class="inline">lib64</code> and <code class="inline">lib/64</code> directories when building on a 64-bit
system.</li><li>The <code class="inline">config.h.in</code> file in the <code class="inline">erl_interface</code> application is now
automatically generated in instead of statically updated which reduces the
risk of <code class="inline">configure</code> tests without any effect.</li></ul><p>(Thanks to Henrik Riomar for suggestions and testing)</p><p>(Thanks to Winston Smith for the AVR32-Linux cross configuration and testing)</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-8323</p></li><li><p>Cleanups suggested by tidier and modernization of types and specs.</p><p>Own Id: OTP-8455</p></li></ul><h2 id="runtime_tools-1-8-2" class="section-heading"><a href="#runtime_tools-1-8-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.8.2</span></h2><h3 id="improvements-and-new-features-33" class="section-heading"><a href="#improvements-and-new-features-33" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The documentation is now built with open source tools (xsltproc and fop) that
exists on most platforms. One visible change is that the frames are removed.</p><p>Own Id: OTP-8201</p></li></ul><h2 id="runtime_tools-1-8-1" class="section-heading"><a href="#runtime_tools-1-8-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.8.1</span></h2><h3 id="fixed-bugs-and-malfunctions-26" class="section-heading"><a href="#fixed-bugs-and-malfunctions-26" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p><code class="inline">Makefile.in</code> has been updated to use the LDFLAGS environment variable (if
set). (Thanks to Davide Pesavento.)</p><p>Own Id: OTP-8157</p></li></ul><h2 id="runtime_tools-1-8" class="section-heading"><a href="#runtime_tools-1-8" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.8</span></h2><h3 id="improvements-and-new-features-34" class="section-heading"><a href="#improvements-and-new-features-34" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p><code class="inline">etop</code> would crash if the emulator's custom allocators had been turned off
(e.g. using the <code class="inline">+Meamin</code> option).</p><p>Own Id: OTP-7519</p></li><li><p>The copyright notices have been updated.</p><p>Own Id: OTP-7851</p></li><li><p>Now, dbg:p/2 accepts {X,Y,Z} process specification as stated in the
documentation. It also now accepts &quot;&lt;X.Y.Z&gt;&quot; like from erlang:pid_to_list/1.</p><p>There is now a pre-saved match spec in dbg that saves a lot of typing. Use
dbg:ltp/0 to find out more...</p><p>Own Id: OTP-7867</p></li></ul><h2 id="runtime_tools-1-7-3" class="section-heading"><a href="#runtime_tools-1-7-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.7.3</span></h2><h3 id="fixed-bugs-and-malfunctions-27" class="section-heading"><a href="#fixed-bugs-and-malfunctions-27" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Fixed a timestamp problem where some events could be sent out of order. Minor
fixes to presentation of data.</p><p>Own Id: OTP-7544 Aux Id: otp-7442</p></li></ul><h2 id="runtime_tools-1-7-2" class="section-heading"><a href="#runtime_tools-1-7-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.7.2</span></h2><h3 id="fixed-bugs-and-malfunctions-28" class="section-heading"><a href="#fixed-bugs-and-malfunctions-28" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p><code class="inline">etop</code> now collects process information faster and more reliably than before
(a race condition reported by Igor Goryachev has been eliminated).</p><p>Trace messages could be lost when <a href="../../apps/observer/ttb.html#stop/0"><code class="inline">ttb:stop/0</code></a> was called.</p><p>Own Id: OTP-7164</p></li></ul><h2 id="runtime_tools-1-7-1" class="section-heading"><a href="#runtime_tools-1-7-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.7.1</span></h2><h3 id="improvements-and-new-features-35" class="section-heading"><a href="#improvements-and-new-features-35" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The documentation has been updated so as to reflect the last updates of the
Erlang shell as well as the minor modifications of the control sequence <code class="inline">p</code> of
the <code class="inline">io_lib</code> module.</p><p>Superfluous empty lines have been removed from code examples and from Erlang
shell examples.</p><p>Own Id: OTP-6944 Aux Id: OTP-6554, OTP-6911</p></li><li><p>Memory management improvements especially for the runtime system with SMP
support:</p><ul><li>The runtime system with SMP support can now use multiple, thread specific
instances of most memory allocators. This improves performance since it
reduces lock contention in the memory allocators. It may however increase
memory usage for some applications. The runtime system with SMP support will
by default enable this feature on most allocators. The amount of instances
used can be configured.</li><li><code class="inline">driver_alloc()</code>, <code class="inline">driver_realloc()</code>, and <code class="inline">driver_free()</code> now use their own
erts specific memory allocator instead of the default <code class="inline">malloc()</code>
implementation on the system.</li><li>The default configuration of some allocators have been changed to fit
applications that use much memory better.</li><li>Some new <code class="inline">erts_alloc</code> configuration parameters have been added.</li><li><code class="inline">erts_alloc_config</code> has been modified to be able to create configurations
suitable for multiple instances of allocators.</li><li>The returned value from <code class="inline">erlang:system_info({allocator, Alloc})</code> has been
changed. This since an allocator may now run in multiple instances.</li></ul><p>If you for some reason want the memory allocators to be configured as before,
you can pass the <code class="inline">+Mea r11b</code> command-line argument to <code class="inline">erl</code>.</p><p>For more information see the <code class="inline">erts_alloc(3)</code>, the <code class="inline">m:erts_alloc_config</code>, and
the <a href="../../apps/erts/erlang.html"><code class="inline">erlang</code></a> documentation.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-7100</p></li></ul><h2 id="runtime_tools-1-7" class="section-heading"><a href="#runtime_tools-1-7" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.7</span></h2><h3 id="fixed-bugs-and-malfunctions-29" class="section-heading"><a href="#fixed-bugs-and-malfunctions-29" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p><code class="inline">dbg</code> could leave traced processes in a suspended state if the tracer process
was killed with exit reason <code class="inline">kill</code>.</p><p><a href="../../apps/erts/erlang.html#suspend_process/2"><code class="inline">erlang:suspend_process/2</code></a> has been introduced which accepts an option list as
second argument. For more information see the <a href="../../apps/erts/erlang.html"><code class="inline">erlang</code></a> documentation.</p><p>Processes suspended via <code class="inline">erlang:suspend_process/[1,2]</code> will now be
automatically resumed if the process that called
<code class="inline">erlang:suspend_process/[1,2]</code> terminates.</p><p>Processes could previously be suspended by one process and resumed by another
unless someone was tracing the suspendee. This is <em>not</em> possible anymore. The
process resuming a process <em>has</em> to be the one that suspended it.</p><p>*<strong> POTENTIAL INCOMPATIBILITY *</strong></p><p>Own Id: OTP-6946</p></li></ul><h3 id="improvements-and-new-features-36" class="section-heading"><a href="#improvements-and-new-features-36" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The undocumented and unsupported function <code class="inline">dbg:tracer/1</code> has been removed. The
undocumented, unsupported, and broken function <code class="inline">dbg:i/1</code> has been removed.</p><p>Own Id: OTP-6939</p></li></ul><h2 id="runtime_tools-1-6-8" class="section-heading"><a href="#runtime_tools-1-6-8" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.6.8</span></h2><h3 id="fixed-bugs-and-malfunctions-30" class="section-heading"><a href="#fixed-bugs-and-malfunctions-30" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>In this release the following has been fixed and enhanced: Autostart: It is
now possible to configure modules that shall be loaded by the autostart
mechanism. This because it is not certain that all application systems make
use of the OTP boot script to set up paths to all Erlang modules.
Runtime_tools/Inviso: A bug in the fetch_log functionality has been fixed.
Further a bug that was (supposedly) fixed in a previous patch concerning
meta-tracer write_ti has been fixed (again) in this patch. A bug in
inviso_as_lib making remote autostart config file updates fail has been fixed.
Inviso: inviso_tool has been given a flush API.</p><p>Own Id: OTP-6918</p></li></ul><h2 id="runtime_tools-1-6-7" class="section-heading"><a href="#runtime_tools-1-6-7" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.6.7</span></h2><h3 id="improvements-and-new-features-37" class="section-heading"><a href="#improvements-and-new-features-37" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The following bugs/improvements have been done: Internal interworking between
inviso_rt and inviso_rt_meta. The call function used by inviso_rt to call
inviso_rt_meta is now protected with a monitor. Inviso_rt_meta now includes
the timestamp of the incoming meta trace message when calling the
call-callback. (Makes it possible to add a &quot;better&quot; timestamp to the ti-file.)
Bug in inviso_tool making it not remove trace patterns when terminating. Bug
in internal function h_start_session making inviso_tool crash if there were no
active nodes to start the session on. The user-inviso_tool and inviso
API-inviso control component request/response gen_server protocols had default
time-out. Since many trace operations can be time consuming, a longer time-out
is necessary. Improved overload protection. It is now possible to let the
overload protection renew itself (e.g after an exit from an external overload
protector). Inviso_rt_meta now fully uses the exception_trace match spec
action term. Run Trace Case API (as in contrast to activate and deactivate
trace case APIs) in inviso_tool. Flush trace-port API added to inviso.
Get_session_data API added to inviso_tool. Improved inviso_tool:stop making it
possible to name nodes which shall not have their trace patterns removed when
inviso_tool terminates. Bug in handling of writing multiple ti-entries if
returned from a call/return_from call-back in inviso_rt_meta Process trace
flags are no longer explicitly removed by the inviso_tool when it terminates.
Not necessary. Inviso_tool get_autostart_data adopted to standard autostarter.</p><p>*<strong> INCOMPATIBILITY with Meta trace call-backs are called with different
arguments now. *</strong></p><p>Own Id: OTP-6881</p></li></ul><h2 id="runtime_tools-1-6-6" class="section-heading"><a href="#runtime_tools-1-6-6" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.6.6</span></h2><h3 id="fixed-bugs-and-malfunctions-31" class="section-heading"><a href="#fixed-bugs-and-malfunctions-31" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>A bug in inviso_rt_meta caused an ETS table containing information on
initiated (init_tpm) functions to be lost when suspending tracing. Further an
enhancement to inviso_rt has been introduced making it possible to activate
process trace flags based on globally registered names. It is then not an
error to activate a global name on a node where the name does not reside. The
process count in the return value will simply be set to zero (hence exactly
one node in the NodeResult part of the return value will indicate one matching
process found). A bug was found in fetch_log API. At the same time the
fetch_log functionality was enhanced to also offer flow control making fetcher
processes send chunks of transferred file data at a slower pace.</p><p>Own Id: OTP-6703</p></li></ul><h3 id="improvements-and-new-features-38" class="section-heading"><a href="#improvements-and-new-features-38" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Minor Makefile changes.</p><p>Own Id: OTP-6689 Aux Id: OTP-6742</p></li><li><p>An experimental tool called <code class="inline">erts_alloc_config</code> has been added.
<code class="inline">erts_alloc_config</code> is intended to be used to aid creation of an <code class="inline">erts_alloc</code>
configuration that is suitable for a limited number of runtime scenarios. For
more information see the <code class="inline">m:erts_alloc_config</code> documentation.</p><p>Own Id: OTP-6700</p></li></ul><h2 id="runtime_tools-1-6-5" class="section-heading"><a href="#runtime_tools-1-6-5" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.6.5</span></h2><h3 id="improvements-and-new-features-39" class="section-heading"><a href="#improvements-and-new-features-39" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>Misc improvements.</p><p>Own Id: OTP-6576</p></li></ul><h2 id="runtime_tools-1-6-4" class="section-heading"><a href="#runtime_tools-1-6-4" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.6.4</span></h2><h3 id="improvements-and-new-features-40" class="section-heading"><a href="#improvements-and-new-features-40" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>This application has been updated to eliminate warnings by Dialyzer.</p><p>Own Id: OTP-6551</p></li></ul><h2 id="runtime_tools-1-6-3" class="section-heading"><a href="#runtime_tools-1-6-3" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.6.3</span></h2><h3 id="fixed-bugs-and-malfunctions-32" class="section-heading"><a href="#fixed-bugs-and-malfunctions-32" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>This ticket includes several improvements and bugfixes to both runtime_tools
and inviso. The overload mechanism can now also react to incoming messages.
This is useful if an external overload watch-dog is used. Some improvements of
variable bindings has been done to the default autostart mechanism -
inviso_autostart_server. Autostart &quot;jobs&quot; can now be done in parallel,
allowing for some jobs to hang waiting for some parts of the traced system to
become ready before proceeding. Previously when using named meta-match-specs
(tpm_ms) ending up with zero match-specs still kept the meta trace pattern
active. This caused zero match-specs to be equal to unlimited meta tracing on
that particular function. If the internal database becomes empty of meta match
specs, meta trace pattern is removed for that function. Standard public loop
data in the inviso runtime meta tracer process is now extended to a 2-tuple.
The functions ctp/1 and ctpl/1 are added making it possible to remove trace
patterns for a list of functions rather than one by one. Inviso_rt_meta will
now accept a list of binaries to be output into the trace information file, in
additions to a single binary. Further it is also possible to make own output
to the trace information file using the write_ti/1 function. An error was
discovered in inviso_rt making the inviso_rt_meta remain rather than terminate
if the inviso_rt terminated due to &quot;running alone&quot; (not allowed to run without
a control component). A new tool, inviso_tool, has been added to the inviso
application.</p><p>Own Id: OTP-6426</p></li></ul><h2 id="runtime_tools-1-6-2" class="section-heading"><a href="#runtime_tools-1-6-2" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.6.2</span></h2><h3 id="fixed-bugs-and-malfunctions-33" class="section-heading"><a href="#fixed-bugs-and-malfunctions-33" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Several minor bugs and race conditions eliminated in the runtime_tools and
observer applications.</p><p>Own Id: OTP-6265</p></li></ul><h2 id="runtime_tools-1-6-1" class="section-heading"><a href="#runtime_tools-1-6-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.6.1</span></h2><h3 id="improvements-and-new-features-41" class="section-heading"><a href="#improvements-and-new-features-41" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>There are new BIFs <code class="inline">erlang:spawn_monitor/1,3</code>, and the new option <code class="inline">monitor</code>
for <code class="inline">spawn_opt/2,3,4,5</code>.</p><p>The <code class="inline">observer_backend</code> module has been updated to handle the new BIFs.</p><p>Own Id: OTP-6281</p></li></ul><h2 id="runtime_tools-1-6" class="section-heading"><a href="#runtime_tools-1-6" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.6</span></h2><p>Added the runtime part of the Inviso tracer, see the new Inviso application for
more information. This also meant adding an application callback module and an
application supervisor tree for Runtime_Tools.</p><h2 id="runtime_tools-1-5-1-1" class="section-heading"><a href="#runtime_tools-1-5-1-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.5.1.1</span></h2><h3 id="improvements-and-new-features-42" class="section-heading"><a href="#improvements-and-new-features-42" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Improvements and New Features</span></h3><ul><li><p>The <code class="inline">dbg</code> manual page has been updated with information about how to avoid
deadlock when tracing.</p><p>Own Id: OTP-5373 Aux Id: seq9729</p></li></ul><h2 id="runtime_tools-1-5-1" class="section-heading"><a href="#runtime_tools-1-5-1" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Runtime_Tools 1.5.1</span></h2><h3 id="fixed-bugs-and-malfunctions-34" class="section-heading"><a href="#fixed-bugs-and-malfunctions-34" class="hover-link"><i class="ri-link-m" aria-hidden="true"></i></a><span class="text">Fixed Bugs and Malfunctions</span></h3><ul><li><p>Linked in drivers in the Crypto, and Asn1 applications are now compiled with
the <code class="inline">-D_THREAD_SAFE</code> and <code class="inline">-D_REENTRANT</code> switches on unix when the emulator has
thread support enabled.</p><p>Linked in drivers on MacOSX are not compiled with the undocumented
<code class="inline">-lbundle1.o</code> switch anymore. Thanks to Sean Hinde who sent us a patch.</p><p>Linked in driver in Crypto, and port programs in SSL, now compiles on OSF1.</p><p>Minor <code class="inline">Makefile</code> improvements in Runtime_Tools.</p><p>Own Id: OTP-5346</p></li></ul>

</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

      <a href="runtime_tools_app.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
Runtime tools Application
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="lttng.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
LTTng and Erlang/OTP
        </span>
      </a>

  </div>
</div>
    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="runtime_tools.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.1) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>
<p>Copyright © 1996-2025 <a href="https://www.ericsson.com">Ericsson AB</a></p>
    </footer>
  </div>
</main>
</div>
  <script defer src="https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.min.js"></script>
  <script>
  let initialized = false;

  window.addEventListener("exdoc:loaded", () => {
      if (!initialized) {
      mermaid.initialize({
          startOnLoad: false,
          theme: document.body.className.includes("dark") ? "dark" : "default"
      });
      initialized = true;
      }

      let id = 0;
      for (const codeEl of document.querySelectorAll("pre code.mermaid")) {
      const preEl = codeEl.parentElement;
      const graphDefinition = codeEl.textContent;
      const graphEl = document.createElement("div");
      const graphId = "mermaid-graph-" + id++;
      mermaid.render(graphId, graphDefinition).then(({svg, bindFunctions}) => {
          graphEl.innerHTML = svg;
          bindFunctions?.(graphEl);
          preEl.insertAdjacentElement("afterend", graphEl);
          preEl.remove();
      });
      }
  });
  </script>

  </body>
</html>
