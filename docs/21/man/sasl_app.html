<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:erl="http://erlang.org" xmlns:fn="http://www.w3.org/2005/02/xpath-functions">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="../otp_doc.css" type="text/css">
<title>Erlang -- sasl</title>
</head>
<body>
<div id="container">
<script id="js" type="text/javascript" language="JavaScript" src="../js/flipmenu/flipmenu.js"></script><script id="js2" type="text/javascript" src="../js/erlresolvelinks.js"></script><script language="JavaScript" type="text/javascript">
            <!--
              function getWinHeight() {
                var myHeight = 0;
                if( typeof( window.innerHeight ) == 'number' ) {
                  //Non-IE
                  myHeight = window.innerHeight;
                } else if( document.documentElement && ( document.documentElement.clientWidth ||
                                                         document.documentElement.clientHeight ) ) {
                  //IE 6+ in 'standards compliant mode'
                  myHeight = document.documentElement.clientHeight;
                } else if( document.body && ( document.body.clientWidth || document.body.clientHeight ) ) {
                  //IE 4 compatible
                  myHeight = document.body.clientHeight;
                }
                return myHeight;
              }

              function setscrollpos() {
                var objf=document.getElementById('loadscrollpos');
                 document.getElementById("leftnav").scrollTop = objf.offsetTop - getWinHeight()/2;
              }

              function addEvent(obj, evType, fn){
                if (obj.addEventListener){
                obj.addEventListener(evType, fn, true);
                return true;
              } else if (obj.attachEvent){
                var r = obj.attachEvent("on"+evType, fn);
                return r;
              } else {
                return false;
              }
             }

             addEvent(window, 'load', setscrollpos);

             //--></script><div id="leftnav"><div class="innertube">
<div class="erlang-logo-wrapper"><a href="../index.html"><img alt="Erlang Logo" src="../erlang-logo.png" class="erlang-logo"></a></div>
<p class="section-title">System Architecture Support Libraries (SASL)</p>
<p class="section-subtitle">Reference Manual</p>
<p class="section-version">Version 3.3</p>
<ul class="panel-sections">
<li><a href="../apps/sasl/users_guide.html">User's Guide</a></li>
<li><a href="../apps/sasl/index.html">Reference Manual</a></li>
<li><a href="../apps/sasl/release_notes.html">Release Notes</a></li>
<li><a href="../apps/sasl/sasl.pdf">PDF</a></li>
<li><a href="../index.html">Top</a></li>
</ul>
<ul class="expand-collapse-items">
<li><a href="javascript:openAllFlips()">Expand All</a></li>
<li><a href="javascript:closeAllFlips()">Contract All</a></li>
</ul>
<h3>Table of Contents</h3>
<ul class="flipMenu">
<li title="sasl (App)"><a href="sasl_app.html">sasl (App)
                </a></li>
<li id="no" title="alarm_handler " expanded="false">alarm_handler<ul>
<li><a href="alarm_handler.html">
                  Top of manual page
                </a></li>
    <li title="clear_alarm-1"><a href="alarm_handler.html#clear_alarm-1">clear_alarm/1</a></li>
    <li title="get_alarms-0"><a href="alarm_handler.html#get_alarms-0">get_alarms/0</a></li>
    <li title="set_alarm-1"><a href="alarm_handler.html#set_alarm-1">set_alarm/1</a></li>
    </ul>
</li>
<li id="no" title="rb " expanded="false">rb<ul>
<li><a href="rb.html">
                  Top of manual page
                </a></li>
    <li title="filter-1"><a href="rb.html#filter-1">filter/1</a></li>
    <li title="filter-2"><a href="rb.html#filter-2">filter/2</a></li>
    <li title="grep-1"><a href="rb.html#grep-1">grep/1</a></li>
    <li title="h-0"><a href="rb.html#h-0">h/0</a></li>
    <li title="help-0"><a href="rb.html#help-0">help/0</a></li>
    <li title="list-0"><a href="rb.html#list-0">list/0</a></li>
    <li title="list-1"><a href="rb.html#list-1">list/1</a></li>
    <li title="log_list-0"><a href="rb.html#log_list-0">log_list/0</a></li>
    <li title="log_list-1"><a href="rb.html#log_list-1">log_list/1</a></li>
    <li title="rescan-0"><a href="rb.html#rescan-0">rescan/0</a></li>
    <li title="rescan-1"><a href="rb.html#rescan-1">rescan/1</a></li>
    <li title="show-0"><a href="rb.html#show-0">show/0</a></li>
    <li title="show-1"><a href="rb.html#show-1">show/1</a></li>
    <li title="start-0"><a href="rb.html#start-0">start/0</a></li>
    <li title="start-1"><a href="rb.html#start-1">start/1</a></li>
    <li title="start_log-1"><a href="rb.html#start_log-1">start_log/1</a></li>
    <li title="stop-0"><a href="rb.html#stop-0">stop/0</a></li>
    <li title="stop_log-0"><a href="rb.html#stop_log-0">stop_log/0</a></li>
    </ul>
</li>
<li id="no" title="release_handler " expanded="false">release_handler<ul>
<li><a href="release_handler.html">
                  Top of manual page
                </a></li>
    <li title="check_install_release-1"><a href="release_handler.html#check_install_release-1">check_install_release/1</a></li>
    <li title="check_install_release-2"><a href="release_handler.html#check_install_release-2">check_install_release/2</a></li>
    <li title="create_RELEASES-4"><a href="release_handler.html#create_RELEASES-4">create_RELEASES/4</a></li>
    <li title="downgrade_app-2"><a href="release_handler.html#downgrade_app-2">downgrade_app/2</a></li>
    <li title="downgrade_app-3"><a href="release_handler.html#downgrade_app-3">downgrade_app/3</a></li>
    <li title="downgrade_script-3"><a href="release_handler.html#downgrade_script-3">downgrade_script/3</a></li>
    <li title="eval_appup_script-4"><a href="release_handler.html#eval_appup_script-4">eval_appup_script/4</a></li>
    <li title="install_file-2"><a href="release_handler.html#install_file-2">install_file/2</a></li>
    <li title="install_release-1"><a href="release_handler.html#install_release-1">install_release/1</a></li>
    <li title="install_release-2"><a href="release_handler.html#install_release-2">install_release/2</a></li>
    <li title="make_permanent-1"><a href="release_handler.html#make_permanent-1">make_permanent/1</a></li>
    <li title="reboot_old_release-1"><a href="release_handler.html#reboot_old_release-1">reboot_old_release/1</a></li>
    <li title="remove_release-1"><a href="release_handler.html#remove_release-1">remove_release/1</a></li>
    <li title="set_removed-1"><a href="release_handler.html#set_removed-1">set_removed/1</a></li>
    <li title="set_unpacked-2"><a href="release_handler.html#set_unpacked-2">set_unpacked/2</a></li>
    <li title="unpack_release-1"><a href="release_handler.html#unpack_release-1">unpack_release/1</a></li>
    <li title="upgrade_app-2"><a href="release_handler.html#upgrade_app-2">upgrade_app/2</a></li>
    <li title="upgrade_script-2"><a href="release_handler.html#upgrade_script-2">upgrade_script/2</a></li>
    <li title="which_releases-0"><a href="release_handler.html#which_releases-0">which_releases/0</a></li>
    <li title="which_releases-1"><a href="release_handler.html#which_releases-1">which_releases/1</a></li>
    </ul>
</li>
<li id="no" title="systools " expanded="false">systools<ul>
<li><a href="systools.html">
                  Top of manual page
                </a></li>
    <li title="make_relup-3"><a href="systools.html#make_relup-3">make_relup/3</a></li>
    <li title="make_relup-4"><a href="systools.html#make_relup-4">make_relup/4</a></li>
    <li title="make_script-1"><a href="systools.html#make_script-1">make_script/1</a></li>
    <li title="make_script-2"><a href="systools.html#make_script-2">make_script/2</a></li>
    <li title="make_tar-1"><a href="systools.html#make_tar-1">make_tar/1</a></li>
    <li title="make_tar-2"><a href="systools.html#make_tar-2">make_tar/2</a></li>
    <li title="script2boot-1"><a href="systools.html#script2boot-1">script2boot/1</a></li>
    </ul>
</li>
<li title="appup"><a href="appup.html">appup</a></li>
<li title="rel"><a href="rel.html">rel</a></li>
<li title="relup"><a href="relup.html">relup</a></li>
<li title="script"><a href="script.html">script</a></li>
</ul>
</div></div>
<div id="content">
<div class="innertube">
<!-- refpage --><center><h1>sasl</h1></center>
  
    <h3><span onMouseOver="document.getElementById('ghlink-application-idm268').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-application-idm268').style.visibility = 'hidden';"><span id="ghlink-application-idm268"></span><a class="title_link" name="application" href="#application">Application</a></span></h3>
<div class="REFBODY application-body">sasl</div>
    <h3><span onMouseOver="document.getElementById('ghlink-application-summary-idm269').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-application-summary-idm269').style.visibility = 'hidden';"><span id="ghlink-application-summary-idm269"></span><a class="title_link" name="application-summary" href="#application-summary">Application Summary</a></span></h3>
<div class="REFBODY application-summary-body">The SASL application</div>
    <h3><span onMouseOver="document.getElementById('ghlink-description-idm270').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-description-idm270').style.visibility = 'hidden';"><span id="ghlink-description-idm270" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/sasl/doc/src/sasl_app.xml#L33" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="description" href="#description">Description</a></span></h3>
<div class="REFBODY description-body"><p>
    <p>The SASL application provides the following services:</p>
    <ul>
      <li><span class="code">alarm_handler</span></li>
      <li><span class="code">release_handler</span></li>
      <li><span class="code">systools</span></li>
    </ul>
    <div class="note">
<div class="label">Note</div>
<div class="content"><p>
       <p>The SASL application in OTP has nothing to do with
          "Simple Authentication and Security Layer" (RFC 4422).</p>
    </p></div>
</div>
  </p></div>

  <h3><span onMouseOver="document.getElementById('ghlink-configuration-idm281').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-configuration-idm281').style.visibility = 'hidden';"><span id="ghlink-configuration-idm281" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/sasl/doc/src/sasl_app.xml#L46" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="configuration" href="#configuration">Configuration</a></span></h3>
<div class="REFBODY rb-3">
    
    <p>The following configuration parameters are defined for the SASL
      application. For more information about configuration parameters, see
      <span class="bold_code bc-18"><a href="app.html"><span class="code">app(4)</span></a></span> in Kernel.</p>
    <p>All configuration parameters are optional.</p>
    <dl>
      <dt><strong><span class="code">start_prg = string() </span></strong></dt>
      <dd>
        <p>Specifies the program to be used when restarting the system
          during release installation. Default is
          <span class="code">$OTP_ROOT/bin/start</span>.</p>
      </dd>
      <dt><strong><span class="code">masters = [atom()] </span></strong></dt>
      <dd>
        <p>Specifies the nodes used by this node to read/write release
          information. This parameter is ignored if parameter
          <span class="code">client_directory</span> is not set.</p>
      </dd>
      <dt><strong><span class="code">client_directory = string() </span></strong></dt>
      <dd>
        <p>This parameter specifies the client directory at the master
          nodes. For details, see
          <span class="bold_code bc-18"><a href="../design_principles/release_handling.html">Release Handling</a></span>
          in <strong>OTP Design Principles</strong>. This parameter is
          ignored if parameter <span class="code">masters</span> is not set.</p>
      </dd>
      <dt><strong><span class="code">static_emulator = true | false </span></strong></dt>
      <dd>
        <p>Indicates if the Erlang emulator is statically installed. A
          node with a static emulator cannot switch dynamically to a
          new emulator, as the executable files are written into memory
          statically. This parameter is ignored if parameters <span class="code">masters</span>
          and <span class="code">client_directory</span> are not set.</p>
      </dd>
      <dt><strong><span class="code">releases_dir = string() </span></strong></dt>
      <dd>
        <p>Indicates where the <span class="code">releases</span> directory is located.
          The release handler writes all its files to this directory.
          If this parameter is not set, the OS environment parameter
          <span class="code">RELDIR</span> is used. By default, this is
          <span class="code">$OTP_ROOT/releases</span>.</p>
      </dd>
    </dl>
  </div>

  <h3>
<a name="deprecated_error_logger_config"></a><span onMouseOver="document.getElementById('ghlink-deprecated-error-logger-event-handlers-and-configuration-idm318').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-deprecated-error-logger-event-handlers-and-configuration-idm318').style.visibility = 'hidden';"><span id="ghlink-deprecated-error-logger-event-handlers-and-configuration-idm318" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/sasl/doc/src/sasl_app.xml#L92" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="deprecated-error-logger-event-handlers-and-configuration" href="#deprecated-error-logger-event-handlers-and-configuration">Deprecated Error Logger Event Handlers and Configuration</a></span>
</h3>
<div class="REFBODY rb-3">
    
    
    <p>In Erlang/OTP 21.0, a new API for logging was added. The
      old <span class="code">error_logger</span> event manager, and event handlers
      running on this manager, still work, but they are not used
      by default.</p>
    <p>The error logger event handlers <span class="code">sasl_report_tty_h</span>
      and <span class="code">sasl_report_file_h</span>, were earlier used for printing
      the so called SASL reports, i.e. <strong>supervisor
      reports</strong>, <strong>crash reports</strong>, and <strong>progress
      reports</strong>. These reports are now also printed by the default
      logger handler started by the Kernel application. Progress
      reports are by default stopped by the primary log level, but can
      be enabled by setting this level to <span class="code">info</span>, for example by
      using the Kernel configuration
      parameter <span class="bold_code bc-13"><a href="kernel_app.html#logger_level"><span class="code">logger_level</span></a></span>.</p>
    <p>If the old error logger event handlers are still desired, they
      must be added by
      calling <span class="code">error_logger:add_report_handler/1,2</span>.</p>
    <dl>
      <dt><strong><span class="code">sasl_report_tty_h</span></strong></dt>
      <dd>
        <p>Formats and writes <strong>supervisor reports</strong>, <strong>crash
        reports</strong>, and <strong>progress reports</strong> to <span class="code">stdio</span>.
        This error logger event handler uses
	<span class="bold_code bc-13"><a href="kernel_app.html#deprecated-configuration-parameters"><span class="code">error_logger_format_depth</span></a></span>
	in the Kernel application to limit how much detail is printed
	in crash and supervisor reports.</p>
      </dd>
      <dt><strong><span class="code">sasl_report_file_h</span></strong></dt>
      <dd>
        <p>Formats and writes <strong>supervisor reports</strong>, <strong>crash
        report</strong>, and <strong>progress report</strong> to a single file.
        This error logger event handler uses
	<span class="bold_code bc-13"><a href="kernel_app.html#deprecated-configuration-parameters"><span class="code">error_logger_format_depth</span></a></span>
	in the Kernel application to limit the details printed in
	crash and supervisor reports.</p>
      </dd>
    </dl>
    <p>A similar behaviour, but still using the new logger API, can be
      obtained by setting the Kernel application environment
      variable <span class="bold_code bc-13"><a href="kernel_app.html#logger_sasl_compatible"><span class="code">logger_sasl_compatible</span></a></span> to <span class="code">true</span>. This
      adds a second instance of the standard Logger handler,
      named <span class="code">sasl</span>, which only prints the SASL reports. No SASL
      reports are then printed by the Kernel logger handler.</p>
    <p>The <span class="code">sasl</span> handler is configured according to the values
      of the following SASL application environment variables.</p>
    <dl>
      <dt><strong><span class="code">sasl_error_logger = Value </span></strong></dt>
      <dd>
        <p><span class="code">Value</span> is one of the following:</p>
        <dl>
          <dt><strong><span class="code">tty</span></strong></dt>
          <dd><p>Installs <span class="code">sasl_report_tty_h</span> in the error logger.
            This is the default option.</p></dd>
          <dt><strong><span class="code">{file,FileName}</span></strong></dt>
          <dd><p>Installs <span class="code">sasl_report_file_h</span> in the error logger.
            All reports go to file <span class="code">FileName</span>, which is a
            string. The file is opened in <span class="code">write</span> mode with encoding
	    <span class="code">utf8</span>.</p></dd>
          <dt><strong><span class="code">{file,FileName,Modes}</span></strong></dt>
          <dd><p>Same as <span class="code">{file,FileName}</span>, except that <span class="code">Modes</span>
            allows you to specify the modes used for opening the <span class="code">FileName</span>
            given to the <span class="bold_code bc-13"><a href="file.html#open-2">file:open/2</a></span>
            call. By default, the file is opened in <span class="code">write</span> mode
            with encoding <span class="code">utf8</span>. Use <span class="code">[append]</span> to have
            the <span class="code">FileName</span> open in append mode. A different
            encoding can also be specified.
            <span class="code">FileName</span> is a string.</p></dd>
          <dt><strong><span class="code">false</span></strong></dt>
          <dd><p>No SASL error logger handler is installed.</p></dd>
        </dl>
      </dd>
      <dt><strong><span class="code">errlog_type = error | progress | all </span></strong></dt>
      <dd>
        <p>Restricts the error logging performed by the specified
          <span class="code">sasl_error_logger</span> to error reports or progress reports,
          or both. Default is <span class="code">all</span>.</p>
      </dd>
      <dt><strong><a name="utc_log"></a><span class="code">utc_log = true | false </span></strong></dt>
      <dd>
        <p>If set to <span class="code">true</span>, all dates in textual log outputs are
          displayed in Universal Coordinated Time with the string
          <span class="code">UTC</span> appended.</p>
      </dd>
    </dl>

    <p>The error logger event handler <span class="code">log_mf_h</span> can also still
      be used. This event handler writes <strong>all</strong> events sent to
      the error logger to disk. Multiple files and log rotation are
      used. For efficiency reasons, each event is written as a
      binary. For more information about this handler,
      see <span class="bold_code bc-18"><a href="log_mf_h.html">the STDLIB Reference Manual</a></span>.</p>
    <p>To activate this event handler, three SASL configuration
      parameters must be
      set:</p>
    <dl>
      <dt><strong><span class="code">error_logger_mf_dir = string() | false </span></strong></dt>
      <dd>
        <p>Specifies in which directory <span class="code">log_mf_h</span> is to store
          its files. If this parameter is undefined or <span class="code">false</span>,
          the <span class="code">log_mf_h</span> handler is not installed.</p>
      </dd>
      <dt><strong><span class="code">error_logger_mf_maxbytes = integer() </span></strong></dt>
      <dd>
        <p>Specifies the maximum size of each individual file written
          by <span class="code">log_mf_h</span>. If this parameter is undefined,
          the <span class="code">log_mf_h</span> handler is not installed.</p>
      </dd>
      <dt><strong><span class="code">error_logger_mf_maxfiles = 0&lt;integer()&lt;256 </span></strong></dt>
      <dd>
        <p>Specifies the number of files used by <span class="code">log_mf_h</span>. If
          this parameter is undefined, the <span class="code">log_mf_h</span> handler is
          not installed.</p>
      </dd>
    </dl>
    <p>The new <span class="bold_code bc-18"><a href="logger_disk_log_h.html"><span class="code">logger_disk_log_h</span></a></span> might be an alternative
      to <span class="code">log_mf_h</span> if log rotation is desired. This does,
      however, write the log events in clear text and not as binaries.</p>

  </div>

  <h3><span onMouseOver="document.getElementById('ghlink-see-also-idm440').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-see-also-idm440').style.visibility = 'hidden';"><span id="ghlink-see-also-idm440" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/sasl/doc/src/sasl_app.xml#L219" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="see-also" href="#see-also">See Also</a></span></h3>
<div class="REFBODY rb-3">
    
    <p><span class="bold_code bc-19"><a href="alarm_handler.html"><span class="code">alarm_handler(3)</span></a></span>,
      <span class="bold_code bc-18"><a href="error_logger.html"><span class="code">error_logger(3)</span></a></span>,
      <span class="bold_code bc-18"><a href="logger.html"><span class="code">logger(3)</span></a></span>,
      <span class="bold_code bc-18"><a href="log_mf_h.html"><span class="code">log_mf_h(3)</span></a></span>,
      <span class="bold_code bc-19"><a href="rb.html"><span class="code">rb(3)</span></a></span>,
      <span class="bold_code bc-19"><a href="release_handler.html"><span class="code">release_handler(3)</span></a></span>,
      <span class="bold_code bc-19"><a href="systools.html"><span class="code">systools(3)</span></a></span></p>
  </div>
</div>
<div class="footer">
<hr>
<p>Copyright Â© 1997-2021 Ericsson AB. All Rights Reserved.</p>
</div>
</div>
</div>
<script type="text/javascript">window.__otpTopDocDir = '../js/';</script><script type="text/javascript" src="../js/highlight.js"></script>
</body>
</html>
