<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:erl="http://erlang.org" xmlns:fn="http://www.w3.org/2005/02/xpath-functions">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="../../otp_doc.css" type="text/css">
<title>Erlang -- Definition of Instrumentation Functions</title>
</head>
<body>
<div id="container">
<script id="js" type="text/javascript" language="JavaScript" src="../../js/flipmenu/flipmenu.js"></script><script id="js2" type="text/javascript" src="../../js/erlresolvelinks.js"></script><script language="JavaScript" type="text/javascript">
            <!--
              function getWinHeight() {
                var myHeight = 0;
                if( typeof( window.innerHeight ) == 'number' ) {
                  //Non-IE
                  myHeight = window.innerHeight;
                } else if( document.documentElement && ( document.documentElement.clientWidth ||
                                                         document.documentElement.clientHeight ) ) {
                  //IE 6+ in 'standards compliant mode'
                  myHeight = document.documentElement.clientHeight;
                } else if( document.body && ( document.body.clientWidth || document.body.clientHeight ) ) {
                  //IE 4 compatible
                  myHeight = document.body.clientHeight;
                }
                return myHeight;
              }

              function setscrollpos() {
                var objf=document.getElementById('loadscrollpos');
                 document.getElementById("leftnav").scrollTop = objf.offsetTop - getWinHeight()/2;
              }

              function addEvent(obj, evType, fn){
                if (obj.addEventListener){
                obj.addEventListener(evType, fn, true);
                return true;
              } else if (obj.attachEvent){
                var r = obj.attachEvent("on"+evType, fn);
                return r;
              } else {
                return false;
              }
             }

             addEvent(window, 'load', setscrollpos);

             //--></script><div id="leftnav"><div class="innertube">
<div class="erlang-logo-wrapper"><a href="../../index.html"><img alt="Erlang Logo" src="../../erlang-logo.png" class="erlang-logo"></a></div>
<p class="section-title">Simple Network Management Protocol (SNMP)</p>
<p class="section-subtitle">User's Guide</p>
<p class="section-version">Version 5.2.12</p>
<ul class="panel-sections">
<li><a href="users_guide.html">User's Guide</a></li>
<li><a href="index.html">Reference Manual</a></li>
<li><a href="release_notes.html">Release Notes</a></li>
<li><a href="snmp.pdf">PDF</a></li>
<li><a href="../../index.html">Top</a></li>
</ul>
<ul class="expand-collapse-items">
<li><a href="javascript:openAllFlips()">Expand All</a></li>
<li><a href="javascript:closeAllFlips()">Contract All</a></li>
</ul>
<h3>Chapters</h3>
<ul class="flipMenu" imagePath="../../js/flipmenu">
<li id="no" title="SNMP Introduction" expanded="false">SNMP Introduction<ul>
<li><a href="snmp_intro.html">
              Top of chapter
            </a></li>
<li title="Scope and Purpose"><a href="snmp_intro.html#scope-and-purpose">Scope and Purpose</a></li>
<li title="Prerequisites"><a href="snmp_intro.html#prerequisites">Prerequisites</a></li>
<li title="Definitions"><a href="snmp_intro.html#definitions">Definitions</a></li>
<li title="About This Manual"><a href="snmp_intro.html#about-this-manual">About This Manual</a></li>
<li title="Where to Find More Information"><a href="snmp_intro.html#where-to-find-more-information">Where to Find More Information</a></li>
</ul>
</li>
<li id="no" title="Agent Functional Description" expanded="false">Agent Functional Description<ul>
<li><a href="snmp_agent_funct_descr.html">
              Top of chapter
            </a></li>
<li title="Features"><a href="snmp_agent_funct_descr.html#features">Features</a></li>
<li title="SNMPv1, SNMPv2 and SNMPv3"><a href="snmp_agent_funct_descr.html#snmpv1,-snmpv2-and-snmpv3">SNMPv1, SNMPv2 and SNMPv3</a></li>
<li title="Operation"><a href="snmp_agent_funct_descr.html#operation">Operation</a></li>
<li title="Sub-agents and MIB Loading"><a href="snmp_agent_funct_descr.html#sub-agents-and-mib-loading">Sub-agents and MIB Loading</a></li>
<li title="Contexts and Communities"><a href="snmp_agent_funct_descr.html#contexts-and-communities">Contexts and Communities</a></li>
<li title="Management of the Agent"><a href="snmp_agent_funct_descr.html#management-of-the-agent">Management of the Agent</a></li>
<li title="Notifications"><a href="snmp_agent_funct_descr.html#notifications">Notifications</a></li>
<li title="Discovery"><a href="snmp_agent_funct_descr.html#discovery">Discovery</a></li>
</ul>
</li>
<li id="no" title="Manager Functional Description" expanded="false">Manager Functional Description<ul>
<li><a href="snmp_manager_funct_descr.html">
              Top of chapter
            </a></li>
<li title="Features"><a href="snmp_manager_funct_descr.html#features">Features</a></li>
<li title="Operation"><a href="snmp_manager_funct_descr.html#operation">Operation</a></li>
<li title="MIB loading"><a href="snmp_manager_funct_descr.html#mib-loading">MIB loading</a></li>
</ul>
</li>
<li id="no" title="The MIB Compiler" expanded="false">The MIB Compiler<ul>
<li><a href="snmp_mib_compiler.html">
              Top of chapter
            </a></li>
<li title="Operation"><a href="snmp_mib_compiler.html#operation">Operation</a></li>
<li title="Importing MIBs"><a href="snmp_mib_compiler.html#importing-mibs">Importing MIBs</a></li>
<li title="MIB Consistency Checking"><a href="snmp_mib_compiler.html#mib-consistency-checking">MIB Consistency Checking</a></li>
<li title=".hrl File Generation"><a href="snmp_mib_compiler.html#.hrl-file-generation">.hrl File Generation</a></li>
<li title="Emacs Integration"><a href="snmp_mib_compiler.html#emacs-integration">Emacs Integration</a></li>
<li title="Compiling from a Shell or a Makefile"><a href="snmp_mib_compiler.html#compiling-from-a-shell-or-a-makefile">Compiling from a Shell or a Makefile</a></li>
<li title="Deviations from the Standard"><a href="snmp_mib_compiler.html#deviations-from-the-standard">Deviations from the Standard</a></li>
</ul>
</li>
<li id="no" title="Running the application" expanded="false">Running the application<ul>
<li><a href="snmp_config.html">
              Top of chapter
            </a></li>
<li title="Configuring the application"><a href="snmp_config.html#configuring-the-application">Configuring the application</a></li>
<li title="Modifying the Configuration Files"><a href="snmp_config.html#modifying-the-configuration-files">Modifying the Configuration Files</a></li>
<li title="Starting the application"><a href="snmp_config.html#starting-the-application">Starting the application</a></li>
<li title="Debugging the application"><a href="snmp_config.html#debugging-the-application">Debugging the application</a></li>
</ul>
</li>
<li id="no" title="Definition of Agent Configuration Files" expanded="false">Definition of Agent Configuration Files<ul>
<li><a href="snmp_agent_config_files.html">
              Top of chapter
            </a></li>
<li title="Agent Information"><a href="snmp_agent_config_files.html#agent-information">Agent Information</a></li>
<li title="Contexts"><a href="snmp_agent_config_files.html#contexts">Contexts</a></li>
<li title="System Information"><a href="snmp_agent_config_files.html#system-information">System Information</a></li>
<li title="Communities"><a href="snmp_agent_config_files.html#communities">Communities</a></li>
<li title="MIB Views for VACM"><a href="snmp_agent_config_files.html#mib-views-for-vacm">MIB Views for VACM</a></li>
<li title="Security data for USM"><a href="snmp_agent_config_files.html#security-data-for-usm">Security data for USM</a></li>
<li title="Notify Definitions"><a href="snmp_agent_config_files.html#notify-definitions">Notify Definitions</a></li>
<li title="Target Address Definitions"><a href="snmp_agent_config_files.html#target-address-definitions">Target Address Definitions</a></li>
<li title="Target Parameters Definitions"><a href="snmp_agent_config_files.html#target-parameters-definitions">Target Parameters Definitions</a></li>
</ul>
</li>
<li id="no" title="Definition of Manager Configuration Files" expanded="false">Definition of Manager Configuration Files<ul>
<li><a href="snmp_manager_config_files.html">
              Top of chapter
            </a></li>
<li title="Manager Information"><a href="snmp_manager_config_files.html#manager-information">Manager Information</a></li>
<li title="Users"><a href="snmp_manager_config_files.html#users">Users</a></li>
<li title="Agents"><a href="snmp_manager_config_files.html#agents">Agents</a></li>
<li title="Security data for USM"><a href="snmp_manager_config_files.html#security-data-for-usm">Security data for USM</a></li>
</ul>
</li>
<li id="no" title="Agent Implementation Example" expanded="false">Agent Implementation Example<ul>
<li><a href="snmp_impl_example_agent.html">
              Top of chapter
            </a></li>
<li title="MIB"><a href="snmp_impl_example_agent.html#mib">MIB</a></li>
<li title="Default Implementation"><a href="snmp_impl_example_agent.html#default-implementation">Default Implementation</a></li>
<li title="Manual Implementation"><a href="snmp_impl_example_agent.html#manual-implementation">Manual Implementation</a></li>
</ul>
</li>
<li id="no" title="Manager Implementation Example" expanded="false">Manager Implementation Example<ul>
<li><a href="snmp_impl_example_manager.html">
              Top of chapter
            </a></li>
<li title="The example manager"><a href="snmp_impl_example_manager.html#the-example-manager">The example manager</a></li>
<li title="A simple standard test"><a href="snmp_impl_example_manager.html#a-simple-standard-test">A simple standard test</a></li>
</ul>
</li>
<li id="no" title="Instrumentation Functions" expanded="false">Instrumentation Functions<ul>
<li><a href="snmp_instr_functions.html">
              Top of chapter
            </a></li>
<li title="Instrumentation Functions"><a href="snmp_instr_functions.html#instrumentation-functions">Instrumentation Functions</a></li>
<li title="Using the ExtraArgument"><a href="snmp_instr_functions.html#using-the-extraargument">Using the ExtraArgument</a></li>
<li title="Default Instrumentation"><a href="snmp_instr_functions.html#default-instrumentation">Default Instrumentation</a></li>
<li title="Atomic Set"><a href="snmp_instr_functions.html#atomic-set">Atomic Set</a></li>
</ul>
</li>
<li id="loadscrollpos" title="Definition of Instrumentation Functions" expanded="true">Definition of Instrumentation Functions<ul>
<li><a href="snmp_def_instr_functions.html">
              Top of chapter
            </a></li>
<li title="Variable Instrumentation"><a href="snmp_def_instr_functions.html#variable-instrumentation">Variable Instrumentation</a></li>
<li title="Table Instrumentation"><a href="snmp_def_instr_functions.html#table-instrumentation">Table Instrumentation</a></li>
</ul>
</li>
<li id="no" title="Definition of Agent Net if" expanded="false">Definition of Agent Net if<ul>
<li><a href="snmp_agent_netif.html">
              Top of chapter
            </a></li>
<li title="Mandatory Functions"><a href="snmp_agent_netif.html#mandatory-functions">Mandatory Functions</a></li>
<li title="Messages"><a href="snmp_agent_netif.html#messages">Messages</a></li>
</ul>
</li>
<li id="no" title="Definition of Manager Net if" expanded="false">Definition of Manager Net if<ul>
<li><a href="snmp_manager_netif.html">
              Top of chapter
            </a></li>
<li title="Mandatory Functions"><a href="snmp_manager_netif.html#mandatory-functions">Mandatory Functions</a></li>
<li title="Messages"><a href="snmp_manager_netif.html#messages">Messages</a></li>
</ul>
</li>
<li id="no" title="Audit Trail Log" expanded="false">Audit Trail Log<ul>
<li><a href="snmp_audit_trail_log.html">
              Top of chapter
            </a></li>
<li title="Agent Logging"><a href="snmp_audit_trail_log.html#agent-logging">Agent Logging</a></li>
<li title="Manager Logging"><a href="snmp_audit_trail_log.html#manager-logging">Manager Logging</a></li>
</ul>
</li>
<li id="no" title="Advanced Agent Topics" expanded="false">Advanced Agent Topics<ul>
<li><a href="snmp_advanced_agent.html">
              Top of chapter
            </a></li>
<li title="When to use a Sub-agent"><a href="snmp_advanced_agent.html#when-to-use-a-sub-agent">When to use a Sub-agent</a></li>
<li title="Agent Semantics"><a href="snmp_advanced_agent.html#agent-semantics">Agent Semantics</a></li>
<li title="Sub-agents and Dependencies "><a href="snmp_advanced_agent.html#sub-agents-and-dependencies-">Sub-agents and Dependencies </a></li>
<li title="Distributed Tables"><a href="snmp_advanced_agent.html#distributed-tables">Distributed Tables</a></li>
<li title="Fault Tolerance"><a href="snmp_advanced_agent.html#fault-tolerance">Fault Tolerance</a></li>
<li title="Using Mnesia Tables as SNMP Tables"><a href="snmp_advanced_agent.html#using-mnesia-tables-as-snmp-tables">Using Mnesia Tables as SNMP Tables</a></li>
<li title="Deviations from the Standard"><a href="snmp_advanced_agent.html#deviations-from-the-standard">Deviations from the Standard</a></li>
</ul>
</li>
<li id="no" title="SNMP Appendix A" expanded="false">SNMP Appendix A<ul>
<li><a href="snmp_app_a.html">
              Top of chapter
            </a></li>
<li title="Appendix A"><a href="snmp_app_a.html#appendix-a">Appendix A</a></li>
</ul>
</li>
<li id="no" title="SNMP Appendix B" expanded="false">SNMP Appendix B<ul>
<li><a href="snmp_app_b.html">
              Top of chapter
            </a></li>
<li title="Appendix B"><a href="snmp_app_b.html#appendix-b">Appendix B</a></li>
</ul>
</li>
</ul>
</div></div>
<div id="content">
<div class="innertube">
<h1>11 Definition of Instrumentation Functions</h1>
  
  <p>The section <strong>Definition of Instrumentation Functions</strong> describes
    the user defined functions, which the agent calls at different times.
    </p>

  <h3><span onMouseOver="document.getElementById('ghlink-variable-instrumentation-idm2696').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-variable-instrumentation-idm2696').style.visibility = 'hidden';"><span id="ghlink-variable-instrumentation-idm2696" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/snmp/doc/src/snmp_def_instr_functions.xml#L39" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="variable-instrumentation" href="#variable-instrumentation">11.1 
          Variable Instrumentation</a></span></h3>
    
    <p>For scalar variables, a function <span class="code">f(Operation, ...)</span> must
      be defined.
      </p>
    <p>The <span class="code">Operation</span> can be <span class="code">new</span>, <span class="code">delete</span>,
      <span class="code">get</span>, <span class="code">is_set_ok</span>, <span class="code">set</span>, or <span class="code">undo</span>.
      </p>
    <p>In case of an error, all instrumentation functions may return
      either an SNMPv1 or an SNMPv2 error code. If it returns an SNMPv2
      code, it is converted into an SNMPv1 code before it is sent to a
      SNMPv1 manager.  It is  recommended to use the SNMPv2 error codes
      for all instrumentation functions, as these provide more
      details. See <span class="bold_code bc-19"><a href="snmp_app_a.html">Appendix A</a></span> for a
      description of error code conversions.
      </p>

    <h4><span onMouseOver="document.getElementById('ghlink-f-new-[,-extraargs]--idm2710').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-f-new-[,-extraargs]--idm2710').style.visibility = 'hidden';"><span id="ghlink-f-new-[,-extraargs]--idm2710" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/snmp/doc/src/snmp_def_instr_functions.xml#L56" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="f-new-%5B,-extraargs%5D-" href="#f-new-%5B,-extraargs%5D-">f(new [, ExtraArgs])</a></span></h4>
      
      <p>The function <span class="code">f(new [, ExtraArgs])</span> is called for each
        variable in the MIB when the
        MIB is loaded into the agent. This makes it possible to perform
        necessary initialization.
        </p>
      <p>This function is optional. The return value is discarded.</p>
    

    <h4><span onMouseOver="document.getElementById('ghlink-f-delete-[,-extraargs]--idm2715').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-f-delete-[,-extraargs]--idm2715').style.visibility = 'hidden';"><span id="ghlink-f-delete-[,-extraargs]--idm2715" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/snmp/doc/src/snmp_def_instr_functions.xml#L66" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="f-delete-%5B,-extraargs%5D-" href="#f-delete-%5B,-extraargs%5D-">f(delete [, ExtraArgs])</a></span></h4>
      
      <p>The function <span class="code">f(delete [, ExtraArgs])</span> is called
        for each object in an MIB when the
        MIB is unloaded from the agent. This makes it possible to
        perform necessary clean-up.
        </p>
      <p>This function is optional. The return value is discarded.</p>
    

    <h4><span onMouseOver="document.getElementById('ghlink-f-get-[,-extraargs]--idm2720').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-f-get-[,-extraargs]--idm2720').style.visibility = 'hidden';"><span id="ghlink-f-get-[,-extraargs]--idm2720" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/snmp/doc/src/snmp_def_instr_functions.xml#L76" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="f-get-%5B,-extraargs%5D-" href="#f-get-%5B,-extraargs%5D-">f(get [, ExtraArgs])</a></span></h4>
      
      <p>The function <span class="code">f(get [, ExtraArgs])</span> is called when a
        get-request or a get-next
        request refers to the variable.
        </p>
      <p>This function is mandatory.
        </p>

      <h5>Valid Return Values</h5>
        
        <ul>
          <li>
<span class="code">{value, Value}</span>. The <span class="code">Value</span> must be of
           correct type, length and within ranges, otherwise
          <span class="code">genErr</span> is returned in the response PDU.  If the
           object is an enumerated integer, the symbolic enum value
           may be used as an atom. If the object is of type BITS, the
           return value shall be an integer or a list of bits that
           are set.
          </li>
          <li>
<span class="code">{noValue, noSuchName}</span>(SNMPv1)
          </li>
          <li>
<span class="code">{noValue, noSuchObject | noSuchInstance} </span>(SNMPv2)
          </li>
          <li>
<span class="code">genErr</span>.  Used if an error occurred.  Note,
           this should be an internal processing error, e.g. a caused
           by a programing fault somewhere.  If the variable does not
           exist, use <span class="code">{noValue, noSuchName}</span> or
          <span class="code">{noValue, noSuchInstance}</span>.
          </li>
        </ul>
      
    

    <h4><span onMouseOver="document.getElementById('ghlink-f-is_set_ok,-newvalue-[,-extraargs]--idm2740').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-f-is_set_ok,-newvalue-[,-extraargs]--idm2740').style.visibility = 'hidden';"><span id="ghlink-f-is_set_ok,-newvalue-[,-extraargs]--idm2740" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/snmp/doc/src/snmp_def_instr_functions.xml#L110" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="f-is_set_ok,-newvalue-%5B,-extraargs%5D-" href="#f-is_set_ok,-newvalue-%5B,-extraargs%5D-">f(is_set_ok, NewValue [, ExtraArgs])</a></span></h4>
      
      <p>The function <span class="code">f(is_set_ok, NewValue [, ExtraArgs])</span> is
        called in phase one of the set-request
        processing so that the new value can be checked for
        inconsistencies.
        </p>
      <p><span class="code">NewValue</span> is guaranteed to be of the correct type,
        length and within ranges, as specified in the MIB.  If the
        object is an enumerated integer or of type BITS, the integer
        value is used.
        </p>
      <p>This function is optional.
        </p>
      <p>If this function is called, it will be called again, either
        with <span class="code">undo</span> or with <span class="code">set</span> as first argument.
        </p>

      <h5>Valid return values</h5>
        
        <ul>
          <li><span class="code">noError</span></li>
          <li>
<span class="code">badValue | noSuchName | genErr</span>(SNMPv1)
          </li>
          <li>
<span class="code">noAccess | noCreation | inconsistentValue | resourceUnavailable | inconsistentName | genErr</span>(SNMPv2)</li>
        </ul>
      
    

    <h4><span onMouseOver="document.getElementById('ghlink-f-undo,-newvalue-[,-extraargs]--idm2759').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-f-undo,-newvalue-[,-extraargs]--idm2759').style.visibility = 'hidden';"><span id="ghlink-f-undo,-newvalue-[,-extraargs]--idm2759" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/snmp/doc/src/snmp_def_instr_functions.xml#L139" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="f-undo,-newvalue-%5B,-extraargs%5D-" href="#f-undo,-newvalue-%5B,-extraargs%5D-">f(undo, NewValue [, ExtraArgs])</a></span></h4>
      
      <p>If an error occurred, this function is called after the
        <span class="code">is_set_ok</span> function is called. If <span class="code">set</span> is called for
        this object, <span class="code">undo</span> is not called.
        </p>
      <p><span class="code">NewValue</span> is guaranteed to be of the correct type,
        length and within ranges, as specified in the MIB.  If the
        object is an enumerated integer or of type BITS, the integer
        value is used.
        </p>
      <p>This function is optional.
        </p>

      <h5>Valid return values</h5>
        
        <ul>
          <li><span class="code">noError</span></li>
          <li>
<span class="code">genErr</span>(SNMPv1)
          </li>
          <li>
<span class="code">undoFailed | genErr</span>(SNMPv2)</li>
        </ul>
      
    

    <h4><span onMouseOver="document.getElementById('ghlink-f-set,-newvalue-[,-extraargs]--idm2777').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-f-set,-newvalue-[,-extraargs]--idm2777').style.visibility = 'hidden';"><span id="ghlink-f-set,-newvalue-[,-extraargs]--idm2777" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/snmp/doc/src/snmp_def_instr_functions.xml#L164" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="f-set,-newvalue-%5B,-extraargs%5D-" href="#f-set,-newvalue-%5B,-extraargs%5D-">f(set, NewValue [, ExtraArgs])</a></span></h4>
      
      <p>This function is called to perform the set in phase two of
        the set-request processing. It is only called if the
        corresponding <span class="code">is_set_ok</span> function is present and returns
        <span class="code">noError</span>.
        </p>
      <p><span class="code">NewValue</span> is guaranteed to be of the correct type,
        length and within ranges, as specified in the MIB.  If the
        object is an enumerated integer or of type BITS, the integer
        value is used.
        </p>
      <p>This function is mandatory.
        </p>

      <h5>Valid return values</h5>
        
        <ul>
          <li><span class="code">noError</span></li>
          <li>
<span class="code">genErr</span>(SNMPv1)
          </li>
          <li>
<span class="code">commitFailed | undoFailed | genErr</span>(SNMPv2)</li>
        </ul>
      
    
  

  <h3><span onMouseOver="document.getElementById('ghlink-table-instrumentation-idm2794').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-table-instrumentation-idm2794').style.visibility = 'hidden';"><span id="ghlink-table-instrumentation-idm2794" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/snmp/doc/src/snmp_def_instr_functions.xml#L191" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="table-instrumentation" href="#table-instrumentation">11.2 
          Table Instrumentation</a></span></h3>
    
    <p>For tables, a <span class="code">f(Operation, ...)</span> function should be
      defined (the function shown is exemplified with <span class="code">f</span>).
      </p>
    <p>The <span class="code">Operation</span> can be <span class="code">new</span>, <span class="code">delete</span>,
      <span class="code">get</span>, <span class="code">next</span>, <span class="code">is_set_ok</span>, <span class="code">undo</span> or
      <span class="code">set</span>.
      </p>
    <p>In case of an error, all instrumentation functions may return
      either an SNMPv1 or an SNMPv2 error code. If it returns an SNMPv2
      code, it is converted into an SNMPv1 code before it is sent to a
      SNMPv1 manager. It is  recommended to use the SNMPv2 error codes
      for all instrumentation functions, as these provide more
      details. See <span class="bold_code bc-19"><a href="snmp_app_a.html">Appendix A</a></span> for a
      description of error code conversions.</p>

    <h4><span onMouseOver="document.getElementById('ghlink-f-new-[,-extraargs]--idm2810').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-f-new-[,-extraargs]--idm2810').style.visibility = 'hidden';"><span id="ghlink-f-new-[,-extraargs]--idm2810" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/snmp/doc/src/snmp_def_instr_functions.xml#L208" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="f-new-%5B,-extraargs%5D-" href="#f-new-%5B,-extraargs%5D-">f(new [, ExtraArgs])</a></span></h4>
      
      <p>The function <span class="code">f(new [, ExtraArgs])</span> is called for each object in an MIB when the
        MIB is loaded into the agent. This makes it possible to perform
        the necessary initialization.
        </p>
      <p>This function is optional. The return value is discarded.</p>
    

    <h4><span onMouseOver="document.getElementById('ghlink-f-delete-[,-extraargs]--idm2815').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-f-delete-[,-extraargs]--idm2815').style.visibility = 'hidden';"><span id="ghlink-f-delete-[,-extraargs]--idm2815" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/snmp/doc/src/snmp_def_instr_functions.xml#L217" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="f-delete-%5B,-extraargs%5D-" href="#f-delete-%5B,-extraargs%5D-">f(delete [, ExtraArgs])</a></span></h4>
      
      <p>The function <span class="code">f(delete [, ExtraArgs])</span> is called for each object in an MIB when the
        MIB is unloaded from the agent. This makes it possible to
        perform any necessary clean-up.
        </p>
      <p>This function is optional. The return value is discarded.</p>
    

    <h4><span onMouseOver="document.getElementById('ghlink-f-get,-rowindex,-cols-[,-extraargs]--idm2820').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-f-get,-rowindex,-cols-[,-extraargs]--idm2820').style.visibility = 'hidden';"><span id="ghlink-f-get,-rowindex,-cols-[,-extraargs]--idm2820" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/snmp/doc/src/snmp_def_instr_functions.xml#L226" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="f-get,-rowindex,-cols-%5B,-extraargs%5D-" href="#f-get,-rowindex,-cols-%5B,-extraargs%5D-">f(get, RowIndex, Cols [, ExtraArgs])</a></span></h4>
      
      <p>The function <span class="code">f(get, RowIndex, Cols [, ExtraArgs])</span> is
        called when a get-request refers to a table.
        </p>
      <p>This function is mandatory.
        </p>

      <h5>Arguments</h5>
        
        <ul>
          <li>
<span class="code">RowIndex</span> is a list of integers which define the
           key values for the row. The <span class="code">RowIndex</span> is the list
           representation (list of integers) which follow the
          <span class="code">Cols</span> integer in the OBJECT IDENTIFIER.
          </li>
          <li>
<span class="code">Cols</span> is a list of integers which represent the
           column numbers. The <span class="code">Cols</span> are sorted by increasing
           value and are guaranteed to be valid column numbers.</li>
        </ul>
      

      <h5>Valid Return Values</h5>
        
        <ul>
          <li>
            <p>A list with as many elements as the <span class="code">Cols</span> list,
              where each element is the value of the corresponding
              column.  Each element can be:</p>
            <ul>
              <li>
<span class="code">{value, Value}</span>. The <span class="code">Value</span> must be of
               correct type, length and within ranges, otherwise
              <span class="code">genErr</span> is returned in the response PDU.  If the
               object is an enumerated integer, the symbolic enum
               value may be used (as an atom). If the object is of
               type BITS, the return value shall be an integer or a
               list of bits that are set.
              </li>
              <li>
<span class="code">{noValue, noSuchName}</span>(SNMPv1)
              </li>
              <li>
<span class="code">{noValue, noSuchObject | noSuchInstance}</span>(SNMPv2)
              </li>
            </ul>
          </li>
          <li>
<span class="code">{noValue, Error}</span>. If the row does not exist,
           because all columns have <span class="code">{noValue, Error}</span>), the
           single tuple <span class="code">{noValue, Error}</span> can be returned.
           This is a shorthand for a list with all elements
          <span class="code">{noValue, Error}</span>.
          </li>
          <li>
<span class="code">genErr</span>.  Used if an error occurred.  Note that
           this should be an internal processing error, e.g. a caused
           by a programing fault somewhere.  If some column does not
           exist, use <span class="code">{noValue, noSuchName}</span> or
          <span class="code">{noValue, noSuchInstance}</span>.
          </li>
        </ul>
      
    

    <h4><span onMouseOver="document.getElementById('ghlink-f-get_next,-rowindex,-cols-[,-extraargs]--idm2859').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-f-get_next,-rowindex,-cols-[,-extraargs]--idm2859').style.visibility = 'hidden';"><span id="ghlink-f-get_next,-rowindex,-cols-[,-extraargs]--idm2859" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/snmp/doc/src/snmp_def_instr_functions.xml#L286" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="f-get_next,-rowindex,-cols-%5B,-extraargs%5D-" href="#f-get_next,-rowindex,-cols-%5B,-extraargs%5D-">f(get_next, RowIndex, Cols [, ExtraArgs])</a></span></h4>
      
      <p>The function <span class="code">f(get_next, RowIndex, Cols [, ExtraArgs])</span> is 
        called when a get-next- or a
        get-bulk-request refers to the table.
        </p>
      <p>The <span class="code">RowIndex</span> argument may refer to an existing row or a
        non-existing row, or it may be unspecified. The <span class="code">Cols</span> list
        may refer to inaccessible columns or non-existing columns. For
        each column in the <span class="code">Cols</span> list, the corresponding next
        instance is determined, and the last part of its OBJECT
        IDENTIFIER and its value is returned.
        </p>
      <p>This function is mandatory.
        </p>

      <h5>Arguments</h5>
        
        <ul>
          <li>
<span class="code">RowIndex</span> is a list of integers (possibly empty)
           that defines the key values for a row. The <span class="code">RowIndex</span>
           is the list representation (list of integers), which follow
           the <span class="code">Cols</span> integer in the OBJECT IDENTIFIER.
          </li>
          <li>
<span class="code">Cols</span> is a list of integers, greater than or
           equal to zero, which represents the column numbers.</li>
        </ul>
      

      <h5>Valid Return Values</h5>
        
        <ul>
          <li>
            <p>A list with as many elements as the <span class="code">Cols</span> list
              Each element can be:</p>
            <ul>
              <li>
<span class="code">{NextOid, NextValue}</span>, where <span class="code">NextOid</span>
               is the lexicographic next OBJECT IDENTIFIER for the
               corresponding column. This should be specified as the
               OBJECT IDENTIFER part following the table entry. This
               means that the first integer is the column number and
               the rest is a specification of the keys.
              <span class="code">NextValue</span> is the value of this element.
              </li>
              <li>
<span class="code">endOfTable</span> if there are no accessible
               elements after this one.
              </li>
            </ul>
          </li>
          <li>
<span class="code">{genErr, Column}</span> where <span class="code">Column</span> denotes
           the column that caused the error.  <span class="code">Column</span> must be
           one of the columns in the <span class="code">Cols</span> list.  Note that
           this should be an internal processing error, e.g. a caused
           by a programing fault somewhere.  If some column does not
           exist, you must return the next accessible element (or
          <span class="code">endOfTable</span>). 
          </li>
        </ul>
      
    

    <h4><span onMouseOver="document.getElementById('ghlink-f-is_set_ok,-rowindex,-cols-[,-extraargs]--idm2896').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-f-is_set_ok,-rowindex,-cols-[,-extraargs]--idm2896').style.visibility = 'hidden';"><span id="ghlink-f-is_set_ok,-rowindex,-cols-[,-extraargs]--idm2896" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/snmp/doc/src/snmp_def_instr_functions.xml#L347" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="f-is_set_ok,-rowindex,-cols-%5B,-extraargs%5D-" href="#f-is_set_ok,-rowindex,-cols-%5B,-extraargs%5D-">f(is_set_ok, RowIndex, Cols [, ExtraArgs])</a></span></h4>
      
      <p>The function <span class="code">f(is_set_ok, RowIndex, Cols [, ExtraArgs])</span>
        is called in phase one of the set-request
        processing so that new values can be checked for
        inconsistencies.
        </p>
      <p>If the function is called, it will be called again with
        <span class="code">undo</span>, or with <span class="code">set</span> as first argument.
        </p>
      <p>This function is optional.
        </p>

      <h5>Arguments</h5>
        
        <ul>
          <li>
<span class="code">RowIndex</span> is a list of integers which define the
           key values for the row. The <span class="code">RowIndex</span> is the list
           representation (list of integers) which follow the
          <span class="code">Cols</span> integer in the OBJECT IDENTIFIER.
          </li>
          <li>
<span class="code">Cols</span> is a list of <span class="code">{Column, NewValue}</span>,
           where <span class="code">Column</span> is an integer, and <span class="code">NewValue</span> is
           guaranteed to be of the correct type, length and within
           ranges, as specified in the MIB.  If the object is an
           enumerated integer or of type BITS, the integer value is
           used.  The list is sorted by <span class="code">Column</span> (increasing) and
           each <span class="code">Column</span> is guaranteed to be a valid column
           number.</li>
        </ul>
      

      <h5>Valid Return Values</h5>
        
        <ul>
          <li><span class="code">{noError, 0}</span></li>
          <li>
<span class="code">{Error, Column}</span>, where <span class="code">Error</span> is the same
           as for <span class="code">is_set_ok</span> for variables, and <span class="code">Column</span>
           denotes the faulty column.  <span class="code">Column</span> must be one of the
           columns in the <span class="code">Cols</span> list.</li>
        </ul>
      
    

    <h4><span onMouseOver="document.getElementById('ghlink-f-undo,-rowindex,-cols-[,-extraargs]--idm2930').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-f-undo,-rowindex,-cols-[,-extraargs]--idm2930').style.visibility = 'hidden';"><span id="ghlink-f-undo,-rowindex,-cols-[,-extraargs]--idm2930" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/snmp/doc/src/snmp_def_instr_functions.xml#L391" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="f-undo,-rowindex,-cols-%5B,-extraargs%5D-" href="#f-undo,-rowindex,-cols-%5B,-extraargs%5D-">f(undo, RowIndex, Cols [, ExtraArgs])</a></span></h4>
      
      <p>If an error occurs, The function
        <span class="code">f(undo, RowIndex, Cols [, ExtraArgs])</span> is called after the
        <span class="code">is_set_ok</span> function. If <span class="code">set</span> is called for this
        object, <span class="code">undo</span> is not called.
        </p>
      <p>This function is optional.
        </p>

      <h5>Arguments</h5>
        
        <ul>
          <li>
<span class="code">RowIndex</span> is a list of integers which define the
           key values for the row. The <span class="code">RowIndex</span> is the list
           representation (list of integers) which follow the
          <span class="code">Cols</span> integer in the OBJECT IDENTIFIER.
          </li>
          <li>
<span class="code">Cols</span> is a list of <span class="code">{Column, NewValue}</span>,
           where <span class="code">Column</span> is an integer, and <span class="code">NewValue</span> is
           guaranteed to be of the correct type, length and within
           ranges, as specified in the MIB.  If the object is an
           enumerated integer or of type BITS, the integer value is
           used.  The list is sorted by <span class="code">Column</span> (increasing) and
           each <span class="code">Column</span> is guaranteed to be a valid column
           number.
          </li>
        </ul>
      

      <h5>Valid Return Values</h5>
        
        <ul>
          <li><span class="code">{noError, 0}</span></li>
          <li>
<span class="code">{Error, Column}</span> where <span class="code">Error</span> is the same
           as for <span class="code">undo</span> for variables, and <span class="code">Column</span> denotes
           the faulty column.  <span class="code">Column</span> must be one of the columns
           in the <span class="code">Cols</span> list.
          </li>
        </ul>
      
    

    <h4><span onMouseOver="document.getElementById('ghlink-f-set,-rowindex,-cols-[,-extraargs]--idm2964').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-f-set,-rowindex,-cols-[,-extraargs]--idm2964').style.visibility = 'hidden';"><span id="ghlink-f-set,-rowindex,-cols-[,-extraargs]--idm2964" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/snmp/doc/src/snmp_def_instr_functions.xml#L434" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="f-set,-rowindex,-cols-%5B,-extraargs%5D-" href="#f-set,-rowindex,-cols-%5B,-extraargs%5D-">f(set, RowIndex, Cols [, ExtraArgs])</a></span></h4>
      
      <p>The function <span class="code">f(set, RowIndex, Cols [, ExtraArgs])</span> is
        called to perform the set in phase two of
        the set-request processing. It is only called if the
        corresponding <span class="code">is_set_ok</span> function did not exist, or
        returned <span class="code">{noError, 0}</span>.
        </p>
      <p>This function is mandatory.
        </p>

      <h5>Arguments</h5>
        
        <ul>
          <li>
<span class="code">RowIndex</span> is a list of integers that define the
           key values for the row. The <span class="code">RowIndex</span> is the list
           representation (list of integers) which follow the
          <span class="code">Cols</span> integer in the OBJECT IDENTIFIER.
          </li>
          <li>
<span class="code">Cols</span> is a list of <span class="code">{Column, NewValue}</span>,
           where <span class="code">Column</span> is an integer, and <span class="code">NewValue</span> is
           guaranteed to be of the correct type, length and within
           ranges, as specified in the MIB.  If the object is an
           enumerated integer or of type BITS, the integer value is
           used.  The list is sorted by <span class="code">Column</span> (increasing) and
           each <span class="code">Column</span> is guaranteed to be a valid column
           number.
          </li>
        </ul>
      

      <h5>Valid Return Values</h5>
        
        <ul>
          <li><span class="code">{noError, 0}</span></li>
          <li>
<span class="code">{Error, Column}</span> where <span class="code">Error</span> is the same
           as <span class="code">set</span> for variables, and <span class="code">Column</span> denotes
           the faulty column.  <span class="code">Column</span> must be one of the columns
           in the <span class="code">Cols</span> list.</li>
        </ul>
      
    
  
</div>
<div class="footer">
<hr>
<p>Copyright © 1997-2021 Ericsson AB. All Rights Reserved.</p>
</div>
</div>
</div>
<script type="text/javascript">window.__otpTopDocDir = '../../js/';</script><script type="text/javascript" src="../../js/highlight.js"></script>
</body>
</html>
