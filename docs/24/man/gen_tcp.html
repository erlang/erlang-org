<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:erl="http://erlang.org" xmlns:fn="http://www.w3.org/2005/02/xpath-functions">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="utf-8">
<link rel="stylesheet" href="../otp_doc.css" type="text/css">
<title>Erlang -- gen_tcp</title>
</head>
<body>
<div id="container">
<script id="js" type="text/javascript" language="JavaScript" src="../js/flipmenu/flipmenu.js"></script><script id="js2" type="text/javascript" src="../js/erlresolvelinks.js"></script><script id="js3" type="text/javascript" src="../../../../doc/js/topbar.js"></script><script language="JavaScript" type="text/javascript">
            <!--
              function setscrollpos() {
                var objf = document.getElementById('loadscrollpos');
                if (objf) {
                  document.getElementById("leftnav").firstChild.scrollTop = objf.offsetTop - 10;
                }
              }

              function addEvent(obj, evType, fn){
                if (obj.addEventListener){
                obj.addEventListener(evType, fn, true);
                return true;
              } else if (obj.attachEvent){
                var r = obj.attachEvent("on"+evType, fn);
                return r;
              } else {
                return false;
              }
             }

             addEvent(window, 'load', setscrollpos);

             //-->
</script><div class="topbar">
<div class="topbar-expand "><button onclick="toggleDisplay();"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="Capa_1" viewBox="0 0 54 54" width="24" height="24"><g><path style="fill:#000000;" d="M27,54c-0.552,0-1-0.448-1-1V8c0-0.552,0.448-1,1-1s1,0.448,1,1v45C28,53.552,27.552,54,27,54z"></path><path style="fill:#000000;" d="M11,25c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414l16-16                                      c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414l-16,16C11.512,24.902,11.256,25,11,25z"></path><path style="fill:#000000;" d="M43,25c-0.256,0-0.512-0.098-0.707-0.293l-16-16c-0.391-0.391-0.391-1.023,0-1.414                                      s1.023-0.391,1.414,0l16,16c0.391,0.391,0.391,1.023,0,1.414C43.512,24.902,43.256,25,43,25z"></path><path style="fill:#000000;" d="M43,2H11c-0.552,0-1-0.448-1-1s0.448-1,1-1h32c0.552,0,1,0.448,1,1S43.552,2,43,2z"></path></g></svg></button></div>
<div class="topbar-title"><h1 id="gen_tcp">gen_tcp</h1></div>
<div class="search-expand "></div>
</div>
<aside class="hide-mobile" id="leftnav"><nav class="leftnav-tube"><div class="erlang-logo-wrapper"><a href="../index.html"><img alt="Erlang Logo" src="../erlang-logo.png" class="erlang-logo"></a></div>
<p class="section-title">Kernel</p>
<p class="section-subtitle">Reference Manual</p>
<p class="section-version">Version 8.1.2</p>
<ul class="panel-sections">
<li><a href="../apps/kernel/users_guide.html">User's Guide</a></li>
<li><a href="../apps/kernel/index.html">Reference Manual</a></li>
<li><a href="../apps/kernel/notes.html">Release Notes</a></li>
<li><a href="../apps/kernel/kernel.pdf">PDF</a></li>
<li><a href="../index.html">Top</a></li>
</ul>
<ul class="expand-collapse-items">
<li><a href="javascript:openAllFlips()">Expand All</a></li>
<li><a href="javascript:closeAllFlips()">Contract All</a></li>
</ul>
<h3 id="toc">Table of Contents</h3>
<ul class="flipMenu">
<li title="kernel (App)"><a href="kernel_app.html">kernel (App)
                </a></li>
<li title="app"><a href="app.html">app</a></li>
<li id="no" title="application " expanded="false">application<ul>
<li><a href="application.html">
                  Top of manual page
                </a></li>
    <li title="ensure_all_started-1"><a href="application.html#ensure_all_started-1">ensure_all_started/1</a></li>
    <li title="ensure_all_started-2"><a href="application.html#ensure_all_started-2">ensure_all_started/2</a></li>
    <li title="ensure_started-1"><a href="application.html#ensure_started-1">ensure_started/1</a></li>
    <li title="ensure_started-2"><a href="application.html#ensure_started-2">ensure_started/2</a></li>
    <li title="get_all_env-0"><a href="application.html#get_all_env-0">get_all_env/0</a></li>
    <li title="get_all_env-1"><a href="application.html#get_all_env-1">get_all_env/1</a></li>
    <li title="get_all_key-0"><a href="application.html#get_all_key-0">get_all_key/0</a></li>
    <li title="get_all_key-1"><a href="application.html#get_all_key-1">get_all_key/1</a></li>
    <li title="get_application-0"><a href="application.html#get_application-0">get_application/0</a></li>
    <li title="get_application-1"><a href="application.html#get_application-1">get_application/1</a></li>
    <li title="get_env-1"><a href="application.html#get_env-1">get_env/1</a></li>
    <li title="get_env-2"><a href="application.html#get_env-2">get_env/2</a></li>
    <li title="get_env-3"><a href="application.html#get_env-3">get_env/3</a></li>
    <li title="get_key-1"><a href="application.html#get_key-1">get_key/1</a></li>
    <li title="get_key-2"><a href="application.html#get_key-2">get_key/2</a></li>
    <li title="load-1"><a href="application.html#load-1">load/1</a></li>
    <li title="load-2"><a href="application.html#load-2">load/2</a></li>
    <li title="loaded_applications-0"><a href="application.html#loaded_applications-0">loaded_applications/0</a></li>
    <li title="permit-2"><a href="application.html#permit-2">permit/2</a></li>
    <li title="set_env-1"><a href="application.html#set_env-1">set_env/1</a></li>
    <li title="set_env-2"><a href="application.html#set_env-2">set_env/2</a></li>
    <li title="set_env-3"><a href="application.html#set_env-3">set_env/3</a></li>
    <li title="set_env-4"><a href="application.html#set_env-4">set_env/4</a></li>
    <li title="start-1"><a href="application.html#start-1">start/1</a></li>
    <li title="start-2"><a href="application.html#start-2">start/2</a></li>
    <li title="start_type-0"><a href="application.html#start_type-0">start_type/0</a></li>
    <li title="stop-1"><a href="application.html#stop-1">stop/1</a></li>
    <li title="takeover-2"><a href="application.html#takeover-2">takeover/2</a></li>
    <li title="unload-1"><a href="application.html#unload-1">unload/1</a></li>
    <li title="unset_env-2"><a href="application.html#unset_env-2">unset_env/2</a></li>
    <li title="unset_env-3"><a href="application.html#unset_env-3">unset_env/3</a></li>
    <li title="which_applications-0"><a href="application.html#which_applications-0">which_applications/0</a></li>
    <li title="which_applications-1"><a href="application.html#which_applications-1">which_applications/1</a></li>
    <li title="Module:config_change-3"><a href="application.html#Module:config_change-3">Module:config_change/3</a></li>
    <li title="Module:prep_stop-1"><a href="application.html#Module:prep_stop-1">Module:prep_stop/1</a></li>
    <li title="Module:start-2"><a href="application.html#Module:start-2">Module:start/2</a></li>
    <li title="Module:start_phase-3"><a href="application.html#Module:start_phase-3">Module:start_phase/3</a></li>
    <li title="Module:stop-1"><a href="application.html#Module:stop-1">Module:stop/1</a></li>
    </ul>
</li>
<li id="no" title="auth " expanded="false">auth<ul>
<li><a href="auth.html">
                  Top of manual page
                </a></li>
    <li title="cookie-0"><a href="auth.html#cookie-0">cookie/0</a></li>
    <li title="cookie-1"><a href="auth.html#cookie-1">cookie/1</a></li>
    <li title="is_auth-1"><a href="auth.html#is_auth-1">is_auth/1</a></li>
    <li title="node_cookie-1"><a href="auth.html#node_cookie-1">node_cookie/1</a></li>
    <li title="node_cookie-2"><a href="auth.html#node_cookie-2">node_cookie/2</a></li>
    </ul>
</li>
<li id="no" title="code " expanded="false">code<ul>
<li><a href="code.html">
                  Top of manual page
                </a></li>
    <li title="add_path-1"><a href="code.html#add_path-1">add_path/1</a></li>
    <li title="add_patha-1"><a href="code.html#add_patha-1">add_patha/1</a></li>
    <li title="add_paths-1"><a href="code.html#add_paths-1">add_paths/1</a></li>
    <li title="add_pathsa-1"><a href="code.html#add_pathsa-1">add_pathsa/1</a></li>
    <li title="add_pathsz-1"><a href="code.html#add_pathsz-1">add_pathsz/1</a></li>
    <li title="add_pathz-1"><a href="code.html#add_pathz-1">add_pathz/1</a></li>
    <li title="all_available-0"><a href="code.html#all_available-0">all_available/0</a></li>
    <li title="all_loaded-0"><a href="code.html#all_loaded-0">all_loaded/0</a></li>
    <li title="atomic_load-1"><a href="code.html#atomic_load-1">atomic_load/1</a></li>
    <li title="clash-0"><a href="code.html#clash-0">clash/0</a></li>
    <li title="compiler_dir-0"><a href="code.html#compiler_dir-0">compiler_dir/0</a></li>
    <li title="del_path-1"><a href="code.html#del_path-1">del_path/1</a></li>
    <li title="delete-1"><a href="code.html#delete-1">delete/1</a></li>
    <li title="ensure_loaded-1"><a href="code.html#ensure_loaded-1">ensure_loaded/1</a></li>
    <li title="ensure_modules_loaded-1"><a href="code.html#ensure_modules_loaded-1">ensure_modules_loaded/1</a></li>
    <li title="finish_loading-1"><a href="code.html#finish_loading-1">finish_loading/1</a></li>
    <li title="get_doc-1"><a href="code.html#get_doc-1">get_doc/1</a></li>
    <li title="get_mode-0"><a href="code.html#get_mode-0">get_mode/0</a></li>
    <li title="get_object_code-1"><a href="code.html#get_object_code-1">get_object_code/1</a></li>
    <li title="get_path-0"><a href="code.html#get_path-0">get_path/0</a></li>
    <li title="is_loaded-1"><a href="code.html#is_loaded-1">is_loaded/1</a></li>
    <li title="is_module_native-1"><a href="code.html#is_module_native-1">is_module_native/1</a></li>
    <li title="is_sticky-1"><a href="code.html#is_sticky-1">is_sticky/1</a></li>
    <li title="lib_dir-0"><a href="code.html#lib_dir-0">lib_dir/0</a></li>
    <li title="lib_dir-1"><a href="code.html#lib_dir-1">lib_dir/1</a></li>
    <li title="lib_dir-2"><a href="code.html#lib_dir-2">lib_dir/2</a></li>
    <li title="load_abs-1"><a href="code.html#load_abs-1">load_abs/1</a></li>
    <li title="load_binary-3"><a href="code.html#load_binary-3">load_binary/3</a></li>
    <li title="load_file-1"><a href="code.html#load_file-1">load_file/1</a></li>
    <li title="modified_modules-0"><a href="code.html#modified_modules-0">modified_modules/0</a></li>
    <li title="module_status-0"><a href="code.html#module_status-0">module_status/0</a></li>
    <li title="module_status-1"><a href="code.html#module_status-1">module_status/1</a></li>
    <li title="objfile_extension-0"><a href="code.html#objfile_extension-0">objfile_extension/0</a></li>
    <li title="prepare_loading-1"><a href="code.html#prepare_loading-1">prepare_loading/1</a></li>
    <li title="priv_dir-1"><a href="code.html#priv_dir-1">priv_dir/1</a></li>
    <li title="purge-1"><a href="code.html#purge-1">purge/1</a></li>
    <li title="replace_path-2"><a href="code.html#replace_path-2">replace_path/2</a></li>
    <li title="root_dir-0"><a href="code.html#root_dir-0">root_dir/0</a></li>
    <li title="set_path-1"><a href="code.html#set_path-1">set_path/1</a></li>
    <li title="soft_purge-1"><a href="code.html#soft_purge-1">soft_purge/1</a></li>
    <li title="stick_dir-1"><a href="code.html#stick_dir-1">stick_dir/1</a></li>
    <li title="unstick_dir-1"><a href="code.html#unstick_dir-1">unstick_dir/1</a></li>
    <li title="where_is_file-1"><a href="code.html#where_is_file-1">where_is_file/1</a></li>
    <li title="which-1"><a href="code.html#which-1">which/1</a></li>
    </ul>
</li>
<li title="config"><a href="config.html">config</a></li>
<li id="no" title="disk_log " expanded="false">disk_log<ul>
<li><a href="disk_log.html">
                  Top of manual page
                </a></li>
    <li title="accessible_logs-0"><a href="disk_log.html#accessible_logs-0">accessible_logs/0</a></li>
    <li title="all-0"><a href="disk_log.html#all-0">all/0</a></li>
    <li title="alog-2"><a href="disk_log.html#alog-2">alog/2</a></li>
    <li title="alog_terms-2"><a href="disk_log.html#alog_terms-2">alog_terms/2</a></li>
    <li title="balog-2"><a href="disk_log.html#balog-2">balog/2</a></li>
    <li title="balog_terms-2"><a href="disk_log.html#balog_terms-2">balog_terms/2</a></li>
    <li title="bchunk-2"><a href="disk_log.html#bchunk-2">bchunk/2</a></li>
    <li title="bchunk-3"><a href="disk_log.html#bchunk-3">bchunk/3</a></li>
    <li title="block-1"><a href="disk_log.html#block-1">block/1</a></li>
    <li title="block-2"><a href="disk_log.html#block-2">block/2</a></li>
    <li title="blog-2"><a href="disk_log.html#blog-2">blog/2</a></li>
    <li title="blog_terms-2"><a href="disk_log.html#blog_terms-2">blog_terms/2</a></li>
    <li title="breopen-3"><a href="disk_log.html#breopen-3">breopen/3</a></li>
    <li title="btruncate-2"><a href="disk_log.html#btruncate-2">btruncate/2</a></li>
    <li title="change_header-2"><a href="disk_log.html#change_header-2">change_header/2</a></li>
    <li title="change_notify-3"><a href="disk_log.html#change_notify-3">change_notify/3</a></li>
    <li title="change_size-2"><a href="disk_log.html#change_size-2">change_size/2</a></li>
    <li title="chunk-2"><a href="disk_log.html#chunk-2">chunk/2</a></li>
    <li title="chunk-3"><a href="disk_log.html#chunk-3">chunk/3</a></li>
    <li title="chunk_info-1"><a href="disk_log.html#chunk_info-1">chunk_info/1</a></li>
    <li title="chunk_step-3"><a href="disk_log.html#chunk_step-3">chunk_step/3</a></li>
    <li title="close-1"><a href="disk_log.html#close-1">close/1</a></li>
    <li title="format_error-1"><a href="disk_log.html#format_error-1">format_error/1</a></li>
    <li title="inc_wrap_file-1"><a href="disk_log.html#inc_wrap_file-1">inc_wrap_file/1</a></li>
    <li title="info-1"><a href="disk_log.html#info-1">info/1</a></li>
    <li title="lclose-1"><a href="disk_log.html#lclose-1">lclose/1</a></li>
    <li title="lclose-2"><a href="disk_log.html#lclose-2">lclose/2</a></li>
    <li title="log-2"><a href="disk_log.html#log-2">log/2</a></li>
    <li title="log_terms-2"><a href="disk_log.html#log_terms-2">log_terms/2</a></li>
    <li title="open-1"><a href="disk_log.html#open-1">open/1</a></li>
    <li title="pid2name-1"><a href="disk_log.html#pid2name-1">pid2name/1</a></li>
    <li title="reopen-2"><a href="disk_log.html#reopen-2">reopen/2</a></li>
    <li title="reopen-3"><a href="disk_log.html#reopen-3">reopen/3</a></li>
    <li title="sync-1"><a href="disk_log.html#sync-1">sync/1</a></li>
    <li title="truncate-1"><a href="disk_log.html#truncate-1">truncate/1</a></li>
    <li title="truncate-2"><a href="disk_log.html#truncate-2">truncate/2</a></li>
    <li title="unblock-1"><a href="disk_log.html#unblock-1">unblock/1</a></li>
    </ul>
</li>
<li id="no" title="erl_boot_server " expanded="false">erl_boot_server<ul>
<li><a href="erl_boot_server.html">
                  Top of manual page
                </a></li>
    <li title="add_slave-1"><a href="erl_boot_server.html#add_slave-1">add_slave/1</a></li>
    <li title="delete_slave-1"><a href="erl_boot_server.html#delete_slave-1">delete_slave/1</a></li>
    <li title="start-1"><a href="erl_boot_server.html#start-1">start/1</a></li>
    <li title="start_link-1"><a href="erl_boot_server.html#start_link-1">start_link/1</a></li>
    <li title="which_slaves-0"><a href="erl_boot_server.html#which_slaves-0">which_slaves/0</a></li>
    </ul>
</li>
<li id="no" title="erl_ddll " expanded="false">erl_ddll<ul>
<li><a href="erl_ddll.html">
                  Top of manual page
                </a></li>
    <li title="demonitor-1"><a href="erl_ddll.html#demonitor-1">demonitor/1</a></li>
    <li title="format_error-1"><a href="erl_ddll.html#format_error-1">format_error/1</a></li>
    <li title="info-0"><a href="erl_ddll.html#info-0">info/0</a></li>
    <li title="info-1"><a href="erl_ddll.html#info-1">info/1</a></li>
    <li title="info-2"><a href="erl_ddll.html#info-2">info/2</a></li>
    <li title="load-2"><a href="erl_ddll.html#load-2">load/2</a></li>
    <li title="load_driver-2"><a href="erl_ddll.html#load_driver-2">load_driver/2</a></li>
    <li title="loaded_drivers-0"><a href="erl_ddll.html#loaded_drivers-0">loaded_drivers/0</a></li>
    <li title="monitor-2"><a href="erl_ddll.html#monitor-2">monitor/2</a></li>
    <li title="reload-2"><a href="erl_ddll.html#reload-2">reload/2</a></li>
    <li title="reload_driver-2"><a href="erl_ddll.html#reload_driver-2">reload_driver/2</a></li>
    <li title="try_load-3"><a href="erl_ddll.html#try_load-3">try_load/3</a></li>
    <li title="try_unload-2"><a href="erl_ddll.html#try_unload-2">try_unload/2</a></li>
    <li title="unload-1"><a href="erl_ddll.html#unload-1">unload/1</a></li>
    <li title="unload_driver-1"><a href="erl_ddll.html#unload_driver-1">unload_driver/1</a></li>
    </ul>
</li>
<li id="no" title="erl_epmd " expanded="false">erl_epmd<ul>
<li><a href="erl_epmd.html">
                  Top of manual page
                </a></li>
    <li title="address_please-3"><a href="erl_epmd.html#address_please-3">address_please/3</a></li>
    <li title="listen_port_please-2"><a href="erl_epmd.html#listen_port_please-2">listen_port_please/2</a></li>
    <li title="names-1"><a href="erl_epmd.html#names-1">names/1</a></li>
    <li title="port_please-2"><a href="erl_epmd.html#port_please-2">port_please/2</a></li>
    <li title="port_please-3"><a href="erl_epmd.html#port_please-3">port_please/3</a></li>
    <li title="register_node-2"><a href="erl_epmd.html#register_node-2">register_node/2</a></li>
    <li title="register_node-3"><a href="erl_epmd.html#register_node-3">register_node/3</a></li>
    <li title="start_link-0"><a href="erl_epmd.html#start_link-0">start_link/0</a></li>
    </ul>
</li>
<li title="erl_prim_loader"><a href="../apps/kernel/erl_prim_loader.html">erl_prim_loader</a></li>
<li title="erlang"><a href="../apps/kernel/erlang.html">erlang</a></li>
<li id="no" title="erpc " expanded="false">erpc<ul>
<li><a href="erpc.html">
                  Top of manual page
                </a></li>
    <li title="call-2"><a href="erpc.html#call-2">call/2</a></li>
    <li title="call-3"><a href="erpc.html#call-3">call/3</a></li>
    <li title="call-4"><a href="erpc.html#call-4">call/4</a></li>
    <li title="call-5"><a href="erpc.html#call-5">call/5</a></li>
    <li title="cast-2"><a href="erpc.html#cast-2">cast/2</a></li>
    <li title="cast-4"><a href="erpc.html#cast-4">cast/4</a></li>
    <li title="check_response-2"><a href="erpc.html#check_response-2">check_response/2</a></li>
    <li title="multicall-2"><a href="erpc.html#multicall-2">multicall/2</a></li>
    <li title="multicall-3"><a href="erpc.html#multicall-3">multicall/3</a></li>
    <li title="multicall-4"><a href="erpc.html#multicall-4">multicall/4</a></li>
    <li title="multicall-5"><a href="erpc.html#multicall-5">multicall/5</a></li>
    <li title="multicast-2"><a href="erpc.html#multicast-2">multicast/2</a></li>
    <li title="multicast-4"><a href="erpc.html#multicast-4">multicast/4</a></li>
    <li title="receive_response-1"><a href="erpc.html#receive_response-1">receive_response/1</a></li>
    <li title="receive_response-2"><a href="erpc.html#receive_response-2">receive_response/2</a></li>
    <li title="send_request-2"><a href="erpc.html#send_request-2">send_request/2</a></li>
    <li title="send_request-4"><a href="erpc.html#send_request-4">send_request/4</a></li>
    <li title="wait_response-1"><a href="erpc.html#wait_response-1">wait_response/1</a></li>
    <li title="wait_response-2"><a href="erpc.html#wait_response-2">wait_response/2</a></li>
    </ul>
</li>
<li id="no" title="error_handler " expanded="false">error_handler<ul>
<li><a href="error_handler.html">
                  Top of manual page
                </a></li>
    <li title="raise_undef_exception-3"><a href="error_handler.html#raise_undef_exception-3">raise_undef_exception/3</a></li>
    <li title="undefined_function-3"><a href="error_handler.html#undefined_function-3">undefined_function/3</a></li>
    <li title="undefined_lambda-3"><a href="error_handler.html#undefined_lambda-3">undefined_lambda/3</a></li>
    </ul>
</li>
<li id="no" title="error_logger " expanded="false">error_logger<ul>
<li><a href="error_logger.html">
                  Top of manual page
                </a></li>
    <li title="add_report_handler-1"><a href="error_logger.html#add_report_handler-1">add_report_handler/1</a></li>
    <li title="add_report_handler-2"><a href="error_logger.html#add_report_handler-2">add_report_handler/2</a></li>
    <li title="delete_report_handler-1"><a href="error_logger.html#delete_report_handler-1">delete_report_handler/1</a></li>
    <li title="error_msg-1"><a href="error_logger.html#error_msg-1">error_msg/1</a></li>
    <li title="error_msg-2"><a href="error_logger.html#error_msg-2">error_msg/2</a></li>
    <li title="error_report-1"><a href="error_logger.html#error_report-1">error_report/1</a></li>
    <li title="error_report-2"><a href="error_logger.html#error_report-2">error_report/2</a></li>
    <li title="format-2"><a href="error_logger.html#format-2">format/2</a></li>
    <li title="get_format_depth-0"><a href="error_logger.html#get_format_depth-0">get_format_depth/0</a></li>
    <li title="info_msg-1"><a href="error_logger.html#info_msg-1">info_msg/1</a></li>
    <li title="info_msg-2"><a href="error_logger.html#info_msg-2">info_msg/2</a></li>
    <li title="info_report-1"><a href="error_logger.html#info_report-1">info_report/1</a></li>
    <li title="info_report-2"><a href="error_logger.html#info_report-2">info_report/2</a></li>
    <li title="logfile-1"><a href="error_logger.html#logfile-1">logfile/1</a></li>
    <li title="tty-1"><a href="error_logger.html#tty-1">tty/1</a></li>
    <li title="warning_map-0"><a href="error_logger.html#warning_map-0">warning_map/0</a></li>
    <li title="warning_msg-1"><a href="error_logger.html#warning_msg-1">warning_msg/1</a></li>
    <li title="warning_msg-2"><a href="error_logger.html#warning_msg-2">warning_msg/2</a></li>
    <li title="warning_report-1"><a href="error_logger.html#warning_report-1">warning_report/1</a></li>
    <li title="warning_report-2"><a href="error_logger.html#warning_report-2">warning_report/2</a></li>
    </ul>
</li>
<li id="no" title="file " expanded="false">file<ul>
<li><a href="file.html">
                  Top of manual page
                </a></li>
    <li title="advise-4"><a href="file.html#advise-4">advise/4</a></li>
    <li title="allocate-3"><a href="file.html#allocate-3">allocate/3</a></li>
    <li title="change_group-2"><a href="file.html#change_group-2">change_group/2</a></li>
    <li title="change_mode-2"><a href="file.html#change_mode-2">change_mode/2</a></li>
    <li title="change_owner-2"><a href="file.html#change_owner-2">change_owner/2</a></li>
    <li title="change_owner-3"><a href="file.html#change_owner-3">change_owner/3</a></li>
    <li title="change_time-2"><a href="file.html#change_time-2">change_time/2</a></li>
    <li title="change_time-3"><a href="file.html#change_time-3">change_time/3</a></li>
    <li title="close-1"><a href="file.html#close-1">close/1</a></li>
    <li title="consult-1"><a href="file.html#consult-1">consult/1</a></li>
    <li title="copy-2"><a href="file.html#copy-2">copy/2</a></li>
    <li title="copy-3"><a href="file.html#copy-3">copy/3</a></li>
    <li title="datasync-1"><a href="file.html#datasync-1">datasync/1</a></li>
    <li title="del_dir-1"><a href="file.html#del_dir-1">del_dir/1</a></li>
    <li title="del_dir_r-1"><a href="file.html#del_dir_r-1">del_dir_r/1</a></li>
    <li title="delete-1"><a href="file.html#delete-1">delete/1</a></li>
    <li title="delete-2"><a href="file.html#delete-2">delete/2</a></li>
    <li title="eval-1"><a href="file.html#eval-1">eval/1</a></li>
    <li title="eval-2"><a href="file.html#eval-2">eval/2</a></li>
    <li title="format_error-1"><a href="file.html#format_error-1">format_error/1</a></li>
    <li title="get_cwd-0"><a href="file.html#get_cwd-0">get_cwd/0</a></li>
    <li title="get_cwd-1"><a href="file.html#get_cwd-1">get_cwd/1</a></li>
    <li title="list_dir-1"><a href="file.html#list_dir-1">list_dir/1</a></li>
    <li title="list_dir_all-1"><a href="file.html#list_dir_all-1">list_dir_all/1</a></li>
    <li title="make_dir-1"><a href="file.html#make_dir-1">make_dir/1</a></li>
    <li title="make_link-2"><a href="file.html#make_link-2">make_link/2</a></li>
    <li title="make_symlink-2"><a href="file.html#make_symlink-2">make_symlink/2</a></li>
    <li title="native_name_encoding-0"><a href="file.html#native_name_encoding-0">native_name_encoding/0</a></li>
    <li title="open-2"><a href="file.html#open-2">open/2</a></li>
    <li title="path_consult-2"><a href="file.html#path_consult-2">path_consult/2</a></li>
    <li title="path_eval-2"><a href="file.html#path_eval-2">path_eval/2</a></li>
    <li title="path_open-3"><a href="file.html#path_open-3">path_open/3</a></li>
    <li title="path_script-2"><a href="file.html#path_script-2">path_script/2</a></li>
    <li title="path_script-3"><a href="file.html#path_script-3">path_script/3</a></li>
    <li title="pid2name-1"><a href="file.html#pid2name-1">pid2name/1</a></li>
    <li title="position-2"><a href="file.html#position-2">position/2</a></li>
    <li title="pread-2"><a href="file.html#pread-2">pread/2</a></li>
    <li title="pread-3"><a href="file.html#pread-3">pread/3</a></li>
    <li title="pwrite-2"><a href="file.html#pwrite-2">pwrite/2</a></li>
    <li title="pwrite-3"><a href="file.html#pwrite-3">pwrite/3</a></li>
    <li title="read-2"><a href="file.html#read-2">read/2</a></li>
    <li title="read_file-1"><a href="file.html#read_file-1">read_file/1</a></li>
    <li title="read_file_info-1"><a href="file.html#read_file_info-1">read_file_info/1</a></li>
    <li title="read_file_info-2"><a href="file.html#read_file_info-2">read_file_info/2</a></li>
    <li title="read_line-1"><a href="file.html#read_line-1">read_line/1</a></li>
    <li title="read_link-1"><a href="file.html#read_link-1">read_link/1</a></li>
    <li title="read_link_all-1"><a href="file.html#read_link_all-1">read_link_all/1</a></li>
    <li title="read_link_info-1"><a href="file.html#read_link_info-1">read_link_info/1</a></li>
    <li title="read_link_info-2"><a href="file.html#read_link_info-2">read_link_info/2</a></li>
    <li title="rename-2"><a href="file.html#rename-2">rename/2</a></li>
    <li title="script-1"><a href="file.html#script-1">script/1</a></li>
    <li title="script-2"><a href="file.html#script-2">script/2</a></li>
    <li title="sendfile-2"><a href="file.html#sendfile-2">sendfile/2</a></li>
    <li title="sendfile-5"><a href="file.html#sendfile-5">sendfile/5</a></li>
    <li title="set_cwd-1"><a href="file.html#set_cwd-1">set_cwd/1</a></li>
    <li title="sync-1"><a href="file.html#sync-1">sync/1</a></li>
    <li title="truncate-1"><a href="file.html#truncate-1">truncate/1</a></li>
    <li title="write-2"><a href="file.html#write-2">write/2</a></li>
    <li title="write_file-2"><a href="file.html#write_file-2">write_file/2</a></li>
    <li title="write_file-3"><a href="file.html#write_file-3">write_file/3</a></li>
    <li title="write_file_info-2"><a href="file.html#write_file_info-2">write_file_info/2</a></li>
    <li title="write_file_info-3"><a href="file.html#write_file_info-3">write_file_info/3</a></li>
    </ul>
</li>
<li id="no" title="gen_sctp " expanded="false">gen_sctp<ul>
<li><a href="gen_sctp.html">
                  Top of manual page
                </a></li>
    <li title="abort-2"><a href="gen_sctp.html#abort-2">abort/2</a></li>
    <li title="close-1"><a href="gen_sctp.html#close-1">close/1</a></li>
    <li title="connect-4"><a href="gen_sctp.html#connect-4">connect/4</a></li>
    <li title="connect-5"><a href="gen_sctp.html#connect-5">connect/5</a></li>
    <li title="connect_init-4"><a href="gen_sctp.html#connect_init-4">connect_init/4</a></li>
    <li title="connect_init-5"><a href="gen_sctp.html#connect_init-5">connect_init/5</a></li>
    <li title="controlling_process-2"><a href="gen_sctp.html#controlling_process-2">controlling_process/2</a></li>
    <li title="eof-2"><a href="gen_sctp.html#eof-2">eof/2</a></li>
    <li title="error_string-1"><a href="gen_sctp.html#error_string-1">error_string/1</a></li>
    <li title="listen-2"><a href="gen_sctp.html#listen-2">listen/2</a></li>
    <li title="open-0"><a href="gen_sctp.html#open-0">open/0</a></li>
    <li title="open-1"><a href="gen_sctp.html#open-1">open/1</a></li>
    <li title="open-2"><a href="gen_sctp.html#open-2">open/2</a></li>
    <li title="peeloff-2"><a href="gen_sctp.html#peeloff-2">peeloff/2</a></li>
    <li title="recv-1"><a href="gen_sctp.html#recv-1">recv/1</a></li>
    <li title="recv-2"><a href="gen_sctp.html#recv-2">recv/2</a></li>
    <li title="send-3"><a href="gen_sctp.html#send-3">send/3</a></li>
    <li title="send-4"><a href="gen_sctp.html#send-4">send/4</a></li>
    </ul>
</li>
<li id="loadscrollpos" title="gen_tcp " expanded="true">gen_tcp<ul>
<li><a href="gen_tcp.html">
                  Top of manual page
                </a></li>
    <li title="accept-1"><a href="gen_tcp.html#accept-1">accept/1</a></li>
    <li title="accept-2"><a href="gen_tcp.html#accept-2">accept/2</a></li>
    <li title="close-1"><a href="gen_tcp.html#close-1">close/1</a></li>
    <li title="connect-3"><a href="gen_tcp.html#connect-3">connect/3</a></li>
    <li title="connect-4"><a href="gen_tcp.html#connect-4">connect/4</a></li>
    <li title="controlling_process-2"><a href="gen_tcp.html#controlling_process-2">controlling_process/2</a></li>
    <li title="listen-2"><a href="gen_tcp.html#listen-2">listen/2</a></li>
    <li title="recv-2"><a href="gen_tcp.html#recv-2">recv/2</a></li>
    <li title="recv-3"><a href="gen_tcp.html#recv-3">recv/3</a></li>
    <li title="send-2"><a href="gen_tcp.html#send-2">send/2</a></li>
    <li title="shutdown-2"><a href="gen_tcp.html#shutdown-2">shutdown/2</a></li>
    </ul>
</li>
<li id="no" title="gen_udp " expanded="false">gen_udp<ul>
<li><a href="gen_udp.html">
                  Top of manual page
                </a></li>
    <li title="close-1"><a href="gen_udp.html#close-1">close/1</a></li>
    <li title="controlling_process-2"><a href="gen_udp.html#controlling_process-2">controlling_process/2</a></li>
    <li title="open-1"><a href="gen_udp.html#open-1">open/1</a></li>
    <li title="open-2"><a href="gen_udp.html#open-2">open/2</a></li>
    <li title="recv-2"><a href="gen_udp.html#recv-2">recv/2</a></li>
    <li title="recv-3"><a href="gen_udp.html#recv-3">recv/3</a></li>
    <li title="send-3"><a href="gen_udp.html#send-3">send/3</a></li>
    <li title="send-4"><a href="gen_udp.html#send-4">send/4</a></li>
    <li title="send-5"><a href="gen_udp.html#send-5">send/5</a></li>
    </ul>
</li>
<li id="no" title="global " expanded="false">global<ul>
<li><a href="global.html">
                  Top of manual page
                </a></li>
    <li title="del_lock-1"><a href="global.html#del_lock-1">del_lock/1</a></li>
    <li title="del_lock-2"><a href="global.html#del_lock-2">del_lock/2</a></li>
    <li title="notify_all_name-3"><a href="global.html#notify_all_name-3">notify_all_name/3</a></li>
    <li title="random_exit_name-3"><a href="global.html#random_exit_name-3">random_exit_name/3</a></li>
    <li title="random_notify_name-3"><a href="global.html#random_notify_name-3">random_notify_name/3</a></li>
    <li title="re_register_name-2"><a href="global.html#re_register_name-2">re_register_name/2</a></li>
    <li title="re_register_name-3"><a href="global.html#re_register_name-3">re_register_name/3</a></li>
    <li title="register_name-2"><a href="global.html#register_name-2">register_name/2</a></li>
    <li title="register_name-3"><a href="global.html#register_name-3">register_name/3</a></li>
    <li title="registered_names-0"><a href="global.html#registered_names-0">registered_names/0</a></li>
    <li title="send-2"><a href="global.html#send-2">send/2</a></li>
    <li title="set_lock-1"><a href="global.html#set_lock-1">set_lock/1</a></li>
    <li title="set_lock-2"><a href="global.html#set_lock-2">set_lock/2</a></li>
    <li title="set_lock-3"><a href="global.html#set_lock-3">set_lock/3</a></li>
    <li title="sync-0"><a href="global.html#sync-0">sync/0</a></li>
    <li title="trans-2"><a href="global.html#trans-2">trans/2</a></li>
    <li title="trans-3"><a href="global.html#trans-3">trans/3</a></li>
    <li title="trans-4"><a href="global.html#trans-4">trans/4</a></li>
    <li title="unregister_name-1"><a href="global.html#unregister_name-1">unregister_name/1</a></li>
    <li title="whereis_name-1"><a href="global.html#whereis_name-1">whereis_name/1</a></li>
    </ul>
</li>
<li id="no" title="global_group " expanded="false">global_group<ul>
<li><a href="global_group.html">
                  Top of manual page
                </a></li>
    <li title="global_groups-0"><a href="global_group.html#global_groups-0">global_groups/0</a></li>
    <li title="info-0"><a href="global_group.html#info-0">info/0</a></li>
    <li title="monitor_nodes-1"><a href="global_group.html#monitor_nodes-1">monitor_nodes/1</a></li>
    <li title="own_nodes-0"><a href="global_group.html#own_nodes-0">own_nodes/0</a></li>
    <li title="registered_names-1"><a href="global_group.html#registered_names-1">registered_names/1</a></li>
    <li title="send-2"><a href="global_group.html#send-2">send/2</a></li>
    <li title="send-3"><a href="global_group.html#send-3">send/3</a></li>
    <li title="sync-0"><a href="global_group.html#sync-0">sync/0</a></li>
    <li title="whereis_name-1"><a href="global_group.html#whereis_name-1">whereis_name/1</a></li>
    <li title="whereis_name-2"><a href="global_group.html#whereis_name-2">whereis_name/2</a></li>
    </ul>
</li>
<li id="no" title="heart " expanded="false">heart<ul>
<li><a href="heart.html">
                  Top of manual page
                </a></li>
    <li title="clear_callback-0"><a href="heart.html#clear_callback-0">clear_callback/0</a></li>
    <li title="clear_cmd-0"><a href="heart.html#clear_cmd-0">clear_cmd/0</a></li>
    <li title="get_callback-0"><a href="heart.html#get_callback-0">get_callback/0</a></li>
    <li title="get_cmd-0"><a href="heart.html#get_cmd-0">get_cmd/0</a></li>
    <li title="get_options-0"><a href="heart.html#get_options-0">get_options/0</a></li>
    <li title="set_callback-2"><a href="heart.html#set_callback-2">set_callback/2</a></li>
    <li title="set_cmd-1"><a href="heart.html#set_cmd-1">set_cmd/1</a></li>
    <li title="set_options-1"><a href="heart.html#set_options-1">set_options/1</a></li>
    </ul>
</li>
<li id="no" title="inet " expanded="false">inet<ul>
<li><a href="inet.html">
                  Top of manual page
                </a></li>
    <li title="cancel_monitor-1"><a href="inet.html#cancel_monitor-1">cancel_monitor/1</a></li>
    <li title="close-1"><a href="inet.html#close-1">close/1</a></li>
    <li title="format_error-1"><a href="inet.html#format_error-1">format_error/1</a></li>
    <li title="get_rc-0"><a href="inet.html#get_rc-0">get_rc/0</a></li>
    <li title="getaddr-2"><a href="inet.html#getaddr-2">getaddr/2</a></li>
    <li title="getaddrs-2"><a href="inet.html#getaddrs-2">getaddrs/2</a></li>
    <li title="gethostbyaddr-1"><a href="inet.html#gethostbyaddr-1">gethostbyaddr/1</a></li>
    <li title="gethostbyname-1"><a href="inet.html#gethostbyname-1">gethostbyname/1</a></li>
    <li title="gethostbyname-2"><a href="inet.html#gethostbyname-2">gethostbyname/2</a></li>
    <li title="gethostname-0"><a href="inet.html#gethostname-0">gethostname/0</a></li>
    <li title="getifaddrs-0"><a href="inet.html#getifaddrs-0">getifaddrs/0</a></li>
    <li title="getifaddrs-1"><a href="inet.html#getifaddrs-1">getifaddrs/1</a></li>
    <li title="getopts-2"><a href="inet.html#getopts-2">getopts/2</a></li>
    <li title="getstat-1"><a href="inet.html#getstat-1">getstat/1</a></li>
    <li title="getstat-2"><a href="inet.html#getstat-2">getstat/2</a></li>
    <li title="i-0"><a href="inet.html#i-0">i/0</a></li>
    <li title="i-1"><a href="inet.html#i-1">i/1</a></li>
    <li title="i-2"><a href="inet.html#i-2">i/2</a></li>
    <li title="info-1"><a href="inet.html#info-1">info/1</a></li>
    <li title="ipv4_mapped_ipv6_address-1"><a href="inet.html#ipv4_mapped_ipv6_address-1">ipv4_mapped_ipv6_address/1</a></li>
    <li title="monitor-1"><a href="inet.html#monitor-1">monitor/1</a></li>
    <li title="ntoa-1"><a href="inet.html#ntoa-1">ntoa/1</a></li>
    <li title="parse_address-1"><a href="inet.html#parse_address-1">parse_address/1</a></li>
    <li title="parse_ipv4_address-1"><a href="inet.html#parse_ipv4_address-1">parse_ipv4_address/1</a></li>
    <li title="parse_ipv4strict_address-1"><a href="inet.html#parse_ipv4strict_address-1">parse_ipv4strict_address/1</a></li>
    <li title="parse_ipv6_address-1"><a href="inet.html#parse_ipv6_address-1">parse_ipv6_address/1</a></li>
    <li title="parse_ipv6strict_address-1"><a href="inet.html#parse_ipv6strict_address-1">parse_ipv6strict_address/1</a></li>
    <li title="parse_strict_address-1"><a href="inet.html#parse_strict_address-1">parse_strict_address/1</a></li>
    <li title="peername-1"><a href="inet.html#peername-1">peername/1</a></li>
    <li title="peernames-1"><a href="inet.html#peernames-1">peernames/1</a></li>
    <li title="peernames-2"><a href="inet.html#peernames-2">peernames/2</a></li>
    <li title="port-1"><a href="inet.html#port-1">port/1</a></li>
    <li title="setopts-2"><a href="inet.html#setopts-2">setopts/2</a></li>
    <li title="sockname-1"><a href="inet.html#sockname-1">sockname/1</a></li>
    <li title="socknames-1"><a href="inet.html#socknames-1">socknames/1</a></li>
    <li title="socknames-2"><a href="inet.html#socknames-2">socknames/2</a></li>
    </ul>
</li>
<li id="no" title="inet_res " expanded="false">inet_res<ul>
<li><a href="inet_res.html">
                  Top of manual page
                </a></li>
    <li title="getbyname-2"><a href="inet_res.html#getbyname-2">getbyname/2</a></li>
    <li title="getbyname-3"><a href="inet_res.html#getbyname-3">getbyname/3</a></li>
    <li title="gethostbyaddr-1"><a href="inet_res.html#gethostbyaddr-1">gethostbyaddr/1</a></li>
    <li title="gethostbyaddr-2"><a href="inet_res.html#gethostbyaddr-2">gethostbyaddr/2</a></li>
    <li title="gethostbyname-1"><a href="inet_res.html#gethostbyname-1">gethostbyname/1</a></li>
    <li title="gethostbyname-2"><a href="inet_res.html#gethostbyname-2">gethostbyname/2</a></li>
    <li title="gethostbyname-3"><a href="inet_res.html#gethostbyname-3">gethostbyname/3</a></li>
    <li title="lookup-3"><a href="inet_res.html#lookup-3">lookup/3</a></li>
    <li title="lookup-4"><a href="inet_res.html#lookup-4">lookup/4</a></li>
    <li title="lookup-5"><a href="inet_res.html#lookup-5">lookup/5</a></li>
    <li title="nnslookup-4"><a href="inet_res.html#nnslookup-4">nnslookup/4</a></li>
    <li title="nnslookup-5"><a href="inet_res.html#nnslookup-5">nnslookup/5</a></li>
    <li title="nslookup-3"><a href="inet_res.html#nslookup-3">nslookup/3</a></li>
    <li title="nslookup-4"><a href="inet_res.html#nslookup-4">nslookup/4</a></li>
    <li title="resolve-3"><a href="inet_res.html#resolve-3">resolve/3</a></li>
    <li title="resolve-4"><a href="inet_res.html#resolve-4">resolve/4</a></li>
    <li title="resolve-5"><a href="inet_res.html#resolve-5">resolve/5</a></li>
    </ul>
</li>
<li title="init"><a href="../apps/kernel/init.html">init</a></li>
<li id="no" title="logger " expanded="false">logger<ul>
<li><a href="logger.html">
                  Top of manual page
                </a></li>
    <li title="add_handler-3"><a href="logger.html#add_handler-3">add_handler/3</a></li>
    <li title="add_handler_filter-3"><a href="logger.html#add_handler_filter-3">add_handler_filter/3</a></li>
    <li title="add_handlers-1"><a href="logger.html#add_handlers-1">add_handlers/1</a></li>
    <li title="add_primary_filter-2"><a href="logger.html#add_primary_filter-2">add_primary_filter/2</a></li>
    <li title="alert-1"><a href="logger.html#alert-1">alert/1</a></li>
    <li title="alert-2"><a href="logger.html#alert-2">alert/2</a></li>
    <li title="alert-2"><a href="logger.html#alert-2">alert/2</a></li>
    <li title="compare_levels-2"><a href="logger.html#compare_levels-2">compare_levels/2</a></li>
    <li title="critical-1"><a href="logger.html#critical-1">critical/1</a></li>
    <li title="critical-2"><a href="logger.html#critical-2">critical/2</a></li>
    <li title="critical-2"><a href="logger.html#critical-2">critical/2</a></li>
    <li title="debug-1"><a href="logger.html#debug-1">debug/1</a></li>
    <li title="debug-2"><a href="logger.html#debug-2">debug/2</a></li>
    <li title="debug-2"><a href="logger.html#debug-2">debug/2</a></li>
    <li title="emergency-1"><a href="logger.html#emergency-1">emergency/1</a></li>
    <li title="emergency-2"><a href="logger.html#emergency-2">emergency/2</a></li>
    <li title="emergency-2"><a href="logger.html#emergency-2">emergency/2</a></li>
    <li title="error-1"><a href="logger.html#error-1">error/1</a></li>
    <li title="error-2"><a href="logger.html#error-2">error/2</a></li>
    <li title="error-2"><a href="logger.html#error-2">error/2</a></li>
    <li title="format_report-1"><a href="logger.html#format_report-1">format_report/1</a></li>
    <li title="get_config-0"><a href="logger.html#get_config-0">get_config/0</a></li>
    <li title="get_handler_config-0"><a href="logger.html#get_handler_config-0">get_handler_config/0</a></li>
    <li title="get_handler_config-1"><a href="logger.html#get_handler_config-1">get_handler_config/1</a></li>
    <li title="get_handler_ids-0"><a href="logger.html#get_handler_ids-0">get_handler_ids/0</a></li>
    <li title="get_module_level-0"><a href="logger.html#get_module_level-0">get_module_level/0</a></li>
    <li title="get_module_level-1"><a href="logger.html#get_module_level-1">get_module_level/1</a></li>
    <li title="get_primary_config-0"><a href="logger.html#get_primary_config-0">get_primary_config/0</a></li>
    <li title="get_process_metadata-0"><a href="logger.html#get_process_metadata-0">get_process_metadata/0</a></li>
    <li title="get_proxy_config-0"><a href="logger.html#get_proxy_config-0">get_proxy_config/0</a></li>
    <li title="i-0"><a href="logger.html#i-0">i/0</a></li>
    <li title="i-1"><a href="logger.html#i-1">i/1</a></li>
    <li title="info-1"><a href="logger.html#info-1">info/1</a></li>
    <li title="info-2"><a href="logger.html#info-2">info/2</a></li>
    <li title="info-2"><a href="logger.html#info-2">info/2</a></li>
    <li title="log-2"><a href="logger.html#log-2">log/2</a></li>
    <li title="log-3"><a href="logger.html#log-3">log/3</a></li>
    <li title="log-4"><a href="logger.html#log-4">log/4</a></li>
    <li title="notice-1"><a href="logger.html#notice-1">notice/1</a></li>
    <li title="notice-2"><a href="logger.html#notice-2">notice/2</a></li>
    <li title="notice-2"><a href="logger.html#notice-2">notice/2</a></li>
    <li title="remove_handler-1"><a href="logger.html#remove_handler-1">remove_handler/1</a></li>
    <li title="remove_handler_filter-2"><a href="logger.html#remove_handler_filter-2">remove_handler_filter/2</a></li>
    <li title="remove_primary_filter-1"><a href="logger.html#remove_primary_filter-1">remove_primary_filter/1</a></li>
    <li title="set_application_level-2"><a href="logger.html#set_application_level-2">set_application_level/2</a></li>
    <li title="set_handler_config-2"><a href="logger.html#set_handler_config-2">set_handler_config/2</a></li>
    <li title="set_handler_config-3"><a href="logger.html#set_handler_config-3">set_handler_config/3</a></li>
    <li title="set_module_level-2"><a href="logger.html#set_module_level-2">set_module_level/2</a></li>
    <li title="set_primary_config-1"><a href="logger.html#set_primary_config-1">set_primary_config/1</a></li>
    <li title="set_primary_config-2"><a href="logger.html#set_primary_config-2">set_primary_config/2</a></li>
    <li title="set_process_metadata-1"><a href="logger.html#set_process_metadata-1">set_process_metadata/1</a></li>
    <li title="set_proxy_config-1"><a href="logger.html#set_proxy_config-1">set_proxy_config/1</a></li>
    <li title="timestamp-0"><a href="logger.html#timestamp-0">timestamp/0</a></li>
    <li title="unset_application_level-1"><a href="logger.html#unset_application_level-1">unset_application_level/1</a></li>
    <li title="unset_module_level-0"><a href="logger.html#unset_module_level-0">unset_module_level/0</a></li>
    <li title="unset_module_level-1"><a href="logger.html#unset_module_level-1">unset_module_level/1</a></li>
    <li title="unset_process_metadata-0"><a href="logger.html#unset_process_metadata-0">unset_process_metadata/0</a></li>
    <li title="update_formatter_config-2"><a href="logger.html#update_formatter_config-2">update_formatter_config/2</a></li>
    <li title="update_formatter_config-3"><a href="logger.html#update_formatter_config-3">update_formatter_config/3</a></li>
    <li title="update_handler_config-2"><a href="logger.html#update_handler_config-2">update_handler_config/2</a></li>
    <li title="update_handler_config-3"><a href="logger.html#update_handler_config-3">update_handler_config/3</a></li>
    <li title="update_primary_config-1"><a href="logger.html#update_primary_config-1">update_primary_config/1</a></li>
    <li title="update_process_metadata-1"><a href="logger.html#update_process_metadata-1">update_process_metadata/1</a></li>
    <li title="update_proxy_config-1"><a href="logger.html#update_proxy_config-1">update_proxy_config/1</a></li>
    <li title="warning-1"><a href="logger.html#warning-1">warning/1</a></li>
    <li title="warning-2"><a href="logger.html#warning-2">warning/2</a></li>
    <li title="warning-2"><a href="logger.html#warning-2">warning/2</a></li>
    <li title="FModule:check_config-1"><a href="logger.html#FModule:check_config-1">FModule:check_config/1</a></li>
    <li title="FModule:format-2"><a href="logger.html#FModule:format-2">FModule:format/2</a></li>
    <li title="HModule:adding_handler-1"><a href="logger.html#HModule:adding_handler-1">HModule:adding_handler/1</a></li>
    <li title="HModule:changing_config-3"><a href="logger.html#HModule:changing_config-3">HModule:changing_config/3</a></li>
    <li title="HModule:filter_config-1"><a href="logger.html#HModule:filter_config-1">HModule:filter_config/1</a></li>
    <li title="HModule:log-2"><a href="logger.html#HModule:log-2">HModule:log/2</a></li>
    <li title="HModule:removing_handler-1"><a href="logger.html#HModule:removing_handler-1">HModule:removing_handler/1</a></li>
    </ul>
</li>
<li id="no" title="logger_filters " expanded="false">logger_filters<ul>
<li><a href="logger_filters.html">
                  Top of manual page
                </a></li>
    <li title="domain-2"><a href="logger_filters.html#domain-2">domain/2</a></li>
    <li title="level-2"><a href="logger_filters.html#level-2">level/2</a></li>
    <li title="progress-2"><a href="logger_filters.html#progress-2">progress/2</a></li>
    <li title="remote_gl-2"><a href="logger_filters.html#remote_gl-2">remote_gl/2</a></li>
    </ul>
</li>
<li id="no" title="logger_formatter " expanded="false">logger_formatter<ul>
<li><a href="logger_formatter.html">
                  Top of manual page
                </a></li>
    <li title="check_config-1"><a href="logger_formatter.html#check_config-1">check_config/1</a></li>
    <li title="format-2"><a href="logger_formatter.html#format-2">format/2</a></li>
    </ul>
</li>
<li id="no" title="logger_std_h " expanded="false">logger_std_h<ul>
<li><a href="logger_std_h.html">
                  Top of manual page
                </a></li>
    <li title="filesync-1"><a href="logger_std_h.html#filesync-1">filesync/1</a></li>
    </ul>
</li>
<li id="no" title="logger_disk_log_h " expanded="false">logger_disk_log_h<ul>
<li><a href="logger_disk_log_h.html">
                  Top of manual page
                </a></li>
    <li title="filesync-1"><a href="logger_disk_log_h.html#filesync-1">filesync/1</a></li>
    </ul>
</li>
<li id="no" title="net " expanded="false">net<ul>
<li><a href="net.html">
                  Top of manual page
                </a></li>
    <li title="getaddrinfo-1"><a href="net.html#getaddrinfo-1">getaddrinfo/1</a></li>
    <li title="getaddrinfo-2"><a href="net.html#getaddrinfo-2">getaddrinfo/2</a></li>
    <li title="gethostname-0"><a href="net.html#gethostname-0">gethostname/0</a></li>
    <li title="getifaddrs-0"><a href="net.html#getifaddrs-0">getifaddrs/0</a></li>
    <li title="getifaddrs-1"><a href="net.html#getifaddrs-1">getifaddrs/1</a></li>
    <li title="getifaddrs-2"><a href="net.html#getifaddrs-2">getifaddrs/2</a></li>
    <li title="getnameinfo-1"><a href="net.html#getnameinfo-1">getnameinfo/1</a></li>
    <li title="getnameinfo-2"><a href="net.html#getnameinfo-2">getnameinfo/2</a></li>
    <li title="if_index2name-1"><a href="net.html#if_index2name-1">if_index2name/1</a></li>
    <li title="if_name2index-1"><a href="net.html#if_name2index-1">if_name2index/1</a></li>
    <li title="if_names-0"><a href="net.html#if_names-0">if_names/0</a></li>
    </ul>
</li>
<li id="no" title="net_adm " expanded="false">net_adm<ul>
<li><a href="net_adm.html">
                  Top of manual page
                </a></li>
    <li title="dns_hostname-1"><a href="net_adm.html#dns_hostname-1">dns_hostname/1</a></li>
    <li title="host_file-0"><a href="net_adm.html#host_file-0">host_file/0</a></li>
    <li title="localhost-0"><a href="net_adm.html#localhost-0">localhost/0</a></li>
    <li title="names-0"><a href="net_adm.html#names-0">names/0</a></li>
    <li title="names-1"><a href="net_adm.html#names-1">names/1</a></li>
    <li title="ping-1"><a href="net_adm.html#ping-1">ping/1</a></li>
    <li title="world-0"><a href="net_adm.html#world-0">world/0</a></li>
    <li title="world-1"><a href="net_adm.html#world-1">world/1</a></li>
    <li title="world_list-1"><a href="net_adm.html#world_list-1">world_list/1</a></li>
    <li title="world_list-2"><a href="net_adm.html#world_list-2">world_list/2</a></li>
    </ul>
</li>
<li id="no" title="net_kernel " expanded="false">net_kernel<ul>
<li><a href="net_kernel.html">
                  Top of manual page
                </a></li>
    <li title="allow-1"><a href="net_kernel.html#allow-1">allow/1</a></li>
    <li title="connect_node-1"><a href="net_kernel.html#connect_node-1">connect_node/1</a></li>
    <li title="get_net_ticktime-0"><a href="net_kernel.html#get_net_ticktime-0">get_net_ticktime/0</a></li>
    <li title="getopts-2"><a href="net_kernel.html#getopts-2">getopts/2</a></li>
    <li title="monitor_nodes-1"><a href="net_kernel.html#monitor_nodes-1">monitor_nodes/1</a></li>
    <li title="monitor_nodes-2"><a href="net_kernel.html#monitor_nodes-2">monitor_nodes/2</a></li>
    <li title="set_net_ticktime-1"><a href="net_kernel.html#set_net_ticktime-1">set_net_ticktime/1</a></li>
    <li title="set_net_ticktime-2"><a href="net_kernel.html#set_net_ticktime-2">set_net_ticktime/2</a></li>
    <li title="setopts-2"><a href="net_kernel.html#setopts-2">setopts/2</a></li>
    <li title="start-1"><a href="net_kernel.html#start-1">start/1</a></li>
    <li title="start-1"><a href="net_kernel.html#start-1">start/1</a></li>
    <li title="start-1"><a href="net_kernel.html#start-1">start/1</a></li>
    <li title="stop-0"><a href="net_kernel.html#stop-0">stop/0</a></li>
    </ul>
</li>
<li id="no" title="os " expanded="false">os<ul>
<li><a href="os.html">
                  Top of manual page
                </a></li>
    <li title="cmd-1"><a href="os.html#cmd-1">cmd/1</a></li>
    <li title="cmd-2"><a href="os.html#cmd-2">cmd/2</a></li>
    <li title="env-0"><a href="os.html#env-0">env/0</a></li>
    <li title="find_executable-1"><a href="os.html#find_executable-1">find_executable/1</a></li>
    <li title="find_executable-2"><a href="os.html#find_executable-2">find_executable/2</a></li>
    <li title="getenv-0"><a href="os.html#getenv-0">getenv/0</a></li>
    <li title="getenv-1"><a href="os.html#getenv-1">getenv/1</a></li>
    <li title="getenv-2"><a href="os.html#getenv-2">getenv/2</a></li>
    <li title="getpid-0"><a href="os.html#getpid-0">getpid/0</a></li>
    <li title="perf_counter-0"><a href="os.html#perf_counter-0">perf_counter/0</a></li>
    <li title="perf_counter-1"><a href="os.html#perf_counter-1">perf_counter/1</a></li>
    <li title="putenv-2"><a href="os.html#putenv-2">putenv/2</a></li>
    <li title="set_signal-2"><a href="os.html#set_signal-2">set_signal/2</a></li>
    <li title="system_time-0"><a href="os.html#system_time-0">system_time/0</a></li>
    <li title="system_time-1"><a href="os.html#system_time-1">system_time/1</a></li>
    <li title="timestamp-0"><a href="os.html#timestamp-0">timestamp/0</a></li>
    <li title="type-0"><a href="os.html#type-0">type/0</a></li>
    <li title="unsetenv-1"><a href="os.html#unsetenv-1">unsetenv/1</a></li>
    <li title="version-0"><a href="os.html#version-0">version/0</a></li>
    </ul>
</li>
<li id="no" title="pg " expanded="false">pg<ul>
<li><a href="pg.html">
                  Top of manual page
                </a></li>
    <li title="get_local_members-1"><a href="pg.html#get_local_members-1">get_local_members/1</a></li>
    <li title="get_local_members-2"><a href="pg.html#get_local_members-2">get_local_members/2</a></li>
    <li title="get_members-1"><a href="pg.html#get_members-1">get_members/1</a></li>
    <li title="get_members-2"><a href="pg.html#get_members-2">get_members/2</a></li>
    <li title="join-2"><a href="pg.html#join-2">join/2</a></li>
    <li title="join-3"><a href="pg.html#join-3">join/3</a></li>
    <li title="leave-2"><a href="pg.html#leave-2">leave/2</a></li>
    <li title="leave-3"><a href="pg.html#leave-3">leave/3</a></li>
    <li title="start-1"><a href="pg.html#start-1">start/1</a></li>
    <li title="start_link-0"><a href="pg.html#start_link-0">start_link/0</a></li>
    <li title="start_link-1"><a href="pg.html#start_link-1">start_link/1</a></li>
    <li title="which_groups-0"><a href="pg.html#which_groups-0">which_groups/0</a></li>
    <li title="which_groups-1"><a href="pg.html#which_groups-1">which_groups/1</a></li>
    </ul>
</li>
<li id="no" title="rpc " expanded="false">rpc<ul>
<li><a href="rpc.html">
                  Top of manual page
                </a></li>
    <li title="abcast-2"><a href="rpc.html#abcast-2">abcast/2</a></li>
    <li title="abcast-3"><a href="rpc.html#abcast-3">abcast/3</a></li>
    <li title="async_call-4"><a href="rpc.html#async_call-4">async_call/4</a></li>
    <li title="block_call-4"><a href="rpc.html#block_call-4">block_call/4</a></li>
    <li title="block_call-5"><a href="rpc.html#block_call-5">block_call/5</a></li>
    <li title="call-4"><a href="rpc.html#call-4">call/4</a></li>
    <li title="call-5"><a href="rpc.html#call-5">call/5</a></li>
    <li title="cast-4"><a href="rpc.html#cast-4">cast/4</a></li>
    <li title="eval_everywhere-3"><a href="rpc.html#eval_everywhere-3">eval_everywhere/3</a></li>
    <li title="eval_everywhere-4"><a href="rpc.html#eval_everywhere-4">eval_everywhere/4</a></li>
    <li title="multi_server_call-2"><a href="rpc.html#multi_server_call-2">multi_server_call/2</a></li>
    <li title="multi_server_call-3"><a href="rpc.html#multi_server_call-3">multi_server_call/3</a></li>
    <li title="multicall-3"><a href="rpc.html#multicall-3">multicall/3</a></li>
    <li title="multicall-4"><a href="rpc.html#multicall-4">multicall/4</a></li>
    <li title="multicall-5"><a href="rpc.html#multicall-5">multicall/5</a></li>
    <li title="nb_yield-1"><a href="rpc.html#nb_yield-1">nb_yield/1</a></li>
    <li title="nb_yield-2"><a href="rpc.html#nb_yield-2">nb_yield/2</a></li>
    <li title="parallel_eval-1"><a href="rpc.html#parallel_eval-1">parallel_eval/1</a></li>
    <li title="pinfo-1"><a href="rpc.html#pinfo-1">pinfo/1</a></li>
    <li title="pinfo-2"><a href="rpc.html#pinfo-2">pinfo/2</a></li>
    <li title="pmap-3"><a href="rpc.html#pmap-3">pmap/3</a></li>
    <li title="sbcast-2"><a href="rpc.html#sbcast-2">sbcast/2</a></li>
    <li title="sbcast-3"><a href="rpc.html#sbcast-3">sbcast/3</a></li>
    <li title="server_call-4"><a href="rpc.html#server_call-4">server_call/4</a></li>
    <li title="yield-1"><a href="rpc.html#yield-1">yield/1</a></li>
    </ul>
</li>
<li id="no" title="seq_trace " expanded="false">seq_trace<ul>
<li><a href="seq_trace.html">
                  Top of manual page
                </a></li>
    <li title="get_system_tracer-0"><a href="seq_trace.html#get_system_tracer-0">get_system_tracer/0</a></li>
    <li title="get_token-0"><a href="seq_trace.html#get_token-0">get_token/0</a></li>
    <li title="get_token-1"><a href="seq_trace.html#get_token-1">get_token/1</a></li>
    <li title="print-1"><a href="seq_trace.html#print-1">print/1</a></li>
    <li title="print-2"><a href="seq_trace.html#print-2">print/2</a></li>
    <li title="reset_trace-0"><a href="seq_trace.html#reset_trace-0">reset_trace/0</a></li>
    <li title="set_system_tracer-1"><a href="seq_trace.html#set_system_tracer-1">set_system_tracer/1</a></li>
    <li title="set_token-1"><a href="seq_trace.html#set_token-1">set_token/1</a></li>
    <li title="set_token-2"><a href="seq_trace.html#set_token-2">set_token/2</a></li>
    </ul>
</li>
<li id="no" title="socket " expanded="false">socket<ul>
<li><a href="socket.html">
                  Top of manual page
                </a></li>
    <li title="accept-1"><a href="socket.html#accept-1">accept/1</a></li>
    <li title="accept-2"><a href="socket.html#accept-2">accept/2</a></li>
    <li title="bind-2"><a href="socket.html#bind-2">bind/2</a></li>
    <li title="cancel-2"><a href="socket.html#cancel-2">cancel/2</a></li>
    <li title="cancel_monitor-1"><a href="socket.html#cancel_monitor-1">cancel_monitor/1</a></li>
    <li title="close-1"><a href="socket.html#close-1">close/1</a></li>
    <li title="connect-2"><a href="socket.html#connect-2">connect/2</a></li>
    <li title="connect-3"><a href="socket.html#connect-3">connect/3</a></li>
    <li title="connect-1"><a href="socket.html#connect-1">connect/1</a></li>
    <li title="getopt-2"><a href="socket.html#getopt-2">getopt/2</a></li>
    <li title="getopt-3"><a href="socket.html#getopt-3">getopt/3</a></li>
    <li title="getopt_native-3"><a href="socket.html#getopt_native-3">getopt_native/3</a></li>
    <li title="i-0"><a href="socket.html#i-0">i/0</a></li>
    <li title="i-1"><a href="socket.html#i-1">i/1</a></li>
    <li title="i-2"><a href="socket.html#i-2">i/2</a></li>
    <li title="info-0"><a href="socket.html#info-0">info/0</a></li>
    <li title="info-1"><a href="socket.html#info-1">info/1</a></li>
    <li title="is_supported-1"><a href="socket.html#is_supported-1">is_supported/1</a></li>
    <li title="is_supported-2"><a href="socket.html#is_supported-2">is_supported/2</a></li>
    <li title="listen-1"><a href="socket.html#listen-1">listen/1</a></li>
    <li title="listen-2"><a href="socket.html#listen-2">listen/2</a></li>
    <li title="monitor-1"><a href="socket.html#monitor-1">monitor/1</a></li>
    <li title="number_of-0"><a href="socket.html#number_of-0">number_of/0</a></li>
    <li title="open-1"><a href="socket.html#open-1">open/1</a></li>
    <li title="open-2"><a href="socket.html#open-2">open/2</a></li>
    <li title="open-3"><a href="socket.html#open-3">open/3</a></li>
    <li title="open-4"><a href="socket.html#open-4">open/4</a></li>
    <li title="peername-1"><a href="socket.html#peername-1">peername/1</a></li>
    <li title="recv-1"><a href="socket.html#recv-1">recv/1</a></li>
    <li title="recv-2"><a href="socket.html#recv-2">recv/2</a></li>
    <li title="recv-3"><a href="socket.html#recv-3">recv/3</a></li>
    <li title="recv-4"><a href="socket.html#recv-4">recv/4</a></li>
    <li title="recvfrom-1"><a href="socket.html#recvfrom-1">recvfrom/1</a></li>
    <li title="recvfrom-2"><a href="socket.html#recvfrom-2">recvfrom/2</a></li>
    <li title="recvfrom-3"><a href="socket.html#recvfrom-3">recvfrom/3</a></li>
    <li title="recvfrom-4"><a href="socket.html#recvfrom-4">recvfrom/4</a></li>
    <li title="recvmsg-1"><a href="socket.html#recvmsg-1">recvmsg/1</a></li>
    <li title="recvmsg-2"><a href="socket.html#recvmsg-2">recvmsg/2</a></li>
    <li title="recvmsg-3"><a href="socket.html#recvmsg-3">recvmsg/3</a></li>
    <li title="recvmsg-4"><a href="socket.html#recvmsg-4">recvmsg/4</a></li>
    <li title="recvmsg-5"><a href="socket.html#recvmsg-5">recvmsg/5</a></li>
    <li title="send-2"><a href="socket.html#send-2">send/2</a></li>
    <li title="send-3"><a href="socket.html#send-3">send/3</a></li>
    <li title="send-4"><a href="socket.html#send-4">send/4</a></li>
    <li title="sendfile-5"><a href="socket.html#sendfile-5">sendfile/5</a></li>
    <li title="sendfile-4"><a href="socket.html#sendfile-4">sendfile/4</a></li>
    <li title="sendfile-3"><a href="socket.html#sendfile-3">sendfile/3</a></li>
    <li title="sendfile-2"><a href="socket.html#sendfile-2">sendfile/2</a></li>
    <li title="sendmsg-2"><a href="socket.html#sendmsg-2">sendmsg/2</a></li>
    <li title="sendmsg-3"><a href="socket.html#sendmsg-3">sendmsg/3</a></li>
    <li title="sendmsg-4"><a href="socket.html#sendmsg-4">sendmsg/4</a></li>
    <li title="sendto-3"><a href="socket.html#sendto-3">sendto/3</a></li>
    <li title="sendto-4"><a href="socket.html#sendto-4">sendto/4</a></li>
    <li title="sendto-5"><a href="socket.html#sendto-5">sendto/5</a></li>
    <li title="setopt-3"><a href="socket.html#setopt-3">setopt/3</a></li>
    <li title="setopt-4"><a href="socket.html#setopt-4">setopt/4</a></li>
    <li title="setopt_native-3"><a href="socket.html#setopt_native-3">setopt_native/3</a></li>
    <li title="shutdown-2"><a href="socket.html#shutdown-2">shutdown/2</a></li>
    <li title="sockname-1"><a href="socket.html#sockname-1">sockname/1</a></li>
    <li title="supports-0"><a href="socket.html#supports-0">supports/0</a></li>
    <li title="supports-1"><a href="socket.html#supports-1">supports/1</a></li>
    <li title="supports-2"><a href="socket.html#supports-2">supports/2</a></li>
    <li title="use_registry-1"><a href="socket.html#use_registry-1">use_registry/1</a></li>
    <li title="which_sockets-0"><a href="socket.html#which_sockets-0">which_sockets/0</a></li>
    <li title="which_sockets-1"><a href="socket.html#which_sockets-1">which_sockets/1</a></li>
    </ul>
</li>
<li title="user"><a href="user.html">user</a></li>
<li id="no" title="wrap_log_reader " expanded="false">wrap_log_reader<ul>
<li><a href="wrap_log_reader.html">
                  Top of manual page
                </a></li>
    <li title="chunk-1"><a href="wrap_log_reader.html#chunk-1">chunk/1</a></li>
    <li title="chunk-2"><a href="wrap_log_reader.html#chunk-2">chunk/2</a></li>
    <li title="close-1"><a href="wrap_log_reader.html#close-1">close/1</a></li>
    <li title="open-1"><a href="wrap_log_reader.html#open-1">open/1</a></li>
    <li title="open-2"><a href="wrap_log_reader.html#open-2">open/2</a></li>
    </ul>
</li>
<li title="zlib"><a href="../apps/kernel/zlib.html">zlib</a></li>
</ul></nav></aside><div id="content">
<div class="innertube"></div>
<!-- refpage --><div class="innertube"><center><h1>gen_tcp</h1></center></div>
  
  <div class="innertube">
<h4 id="module" class="title-link" onMouseOver="document.getElementById('ghlink-module-idm10855').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-module-idm10855').style.visibility = 'hidden';">
<div class="title-name">Module</div>
<div class="title-anchors"><span id="ghlink-module-idm10855" class="ghlink-after"><a href="#module" title="Link to this place!"><span class="paperclip-after"></span></a></span></div>
</h4>
<div class="REFBODY module-body">gen_tcp</div>
</div>
  <div class="innertube">
<h4 id="module-summary" class="title-link" onMouseOver="document.getElementById('ghlink-module-summary-idm10856').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-module-summary-idm10856').style.visibility = 'hidden';">
<div class="title-name">Module Summary</div>
<div class="title-anchors"><span id="ghlink-module-summary-idm10856" class="ghlink-after"><a href="#module-summary" title="Link to this place!"><span class="paperclip-after"></span></a></span></div>
</h4>
<div class="REFBODY module-summary-body">Interface to TCP/IP sockets.</div>
</div>
  <section class="description"><div class="innertube">
<h4 id="description" class="title-link" onMouseOver="document.getElementById('ghlink-description-idm10857').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-description-idm10857').style.visibility = 'hidden';">
<div class="title-name">Description</div>
<div class="title-anchors"><span id="ghlink-description-idm10857" class="ghlink-after"><a href="#description" title="Link to this place!"><span class="paperclip-after"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/gen_tcp.xml#L32" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-after"></span></a></span></div>
</h4>
<div class="REFBODY description-body"><p>
    <p>This module provides functions for communicating
      with sockets using the TCP/IP protocol.</p>
    <p>The following code fragment is a simple example of
      a client connecting to a server at port 5678, transferring a
      binary, and closing the connection:</p>
    <div class="example example-none"><pre>client() -&gt;
    SomeHostInNet = "localhost", % to make it runnable on one machine
    {ok, Sock} = gen_tcp:connect(SomeHostInNet, 5678, 
                                 [binary, {packet, 0}]),
    ok = gen_tcp:send(Sock, "Some Data"),
    ok = gen_tcp:close(Sock).</pre></div>
    <p>At the other end, a server is listening on port 5678, accepts
      the connection, and receives the binary:</p>
    <div class="example example-none"><pre>server() -&gt;
    {ok, LSock} = gen_tcp:listen(5678, [binary, {packet, 0}, 
                                        {active, false}]),
    {ok, Sock} = gen_tcp:accept(LSock),
    {ok, Bin} = do_recv(Sock, []),
    ok = gen_tcp:close(Sock),
    ok = gen_tcp:close(LSock),
    Bin.

do_recv(Sock, Bs) -&gt;
    case gen_tcp:recv(Sock, 0) of
        {ok, B} -&gt;
            do_recv(Sock, [Bs, B]);
        {error, closed} -&gt;
            {ok, list_to_binary(Bs)}
    end.</pre></div>
    <p>For more examples, see section
    <span class="bold_code bc-17"><a href="#examples">Examples</a></span>.</p>

    <div class="note">
<div class="label">Note</div>
<div class="content"><p>
      <p>
        Functions that create sockets can take an optional option;
        <span class="code">{inet_backend,Backend}</span> that, if specified,
        has to be the first option.  This selects
        the implementation backend towards the platform's socket API.
      </p>
      <p>
        This is a <strong>temporary</strong> option
        that will be ignored in a future release.
      </p>
      <p>
        The default is <span class="code">Backend=inet</span>
        that selects the traditional <span class="code">inet_drv.c</span> driver.
        The other choice is <span class="code">Backend=socket</span>
        that selects the new <span class="bold_code bc-19"><a href="socket.html"><span class="code">socket</span></a></span>
        module and its NIF implementation.
      </p>
      <p>
        The system default can be changed when the node is started
        with the application <span class="code">kernel</span>'s configuration variable
        <span class="code">inet_backend</span>.
      </p>
      <p>For <span class="code">gen_tcp</span> with <span class="code">inet_backend = socket</span> we have tried
      to be as "compatible" as possible which has sometimes been impossible.
      Here is a list of cases when the behaviour of inet-backend
      <span class="code">inet</span> (default) and <span class="code">socket</span> are different: </p>
      <ul>
        <li>
	  <p><span class="bold_code bc-17"><a href="#non_blocking_send">Non-blocking send</a></span></p>
	  <p>If a user calling
	  <span class="bold_code bc-17"><a href="#send-2"><span class="code">gen_tcp:send/2</span></a></span>     
	  with <span class="code">inet_backend = inet</span>,
	  tries to send more data than there is room for in the OS buffers,
	  the "rest data" is buffered by the inet driver (and later sent in the
	  background).
	  The effect for the user is that the call is non-blocking.</p>
	  <p>This is <strong>not</strong> the effect when
	  <span class="code">inet_backend = socket</span>, since there is no buffering.
	  Instead the user hangs either until all data has been sent or the
	  <span class="code">send_timeout</span> timeout has been reached. </p>
	</li>

	<li>
<p>Remote close detected by background send. </p>
	<p>An background send will detect a 'remote close' and
	(the inet driver will) mark the socket as 'closed'.
	No other action is taken.
	If the socket has <span class="code">active</span> set to <span class="code">false</span> (passive) at
	this point and no one is reading, this will not be noticed.
	But as soon as the socket is "activated" (<span class="code">active</span> set to
	not <span class="code">false</span>,
	<span class="bold_code bc-17"><a href="#send-2">send/2</a></span>
	is called or
	<span class="bold_code bc-17"><a href="#recv-2">recv/2,3</a></span>
	is called),
	an error message will be sent to the
	caller or (socket) owner: <span class="code">{tcp_error, Socket, econnreset}</span>.
	Any data in the OS receive buffers will be lost! </p>
	<p>This behaviour is <strong>not</strong> replicated by the socket
	implementation.
	A send operation will detect a remote close and immediately
	return this to the caller, but do nothing else.
	A reader will therefor be able to extract any data from the OS buffers.
	If the socket is set to <span class="code">active</span> to not <span class="code">false</span>, the data
	will be received as expected (<span class="code">{tcp, ...}</span> and then a closed
	message (<span class="code">{tcp_closed, ...}</span> will be received (not an error). </p>
	</li>

        <li>
	  <p>The option
	  <span class="bold_code bc-15"><a href="inet.html#option-show_econnreset">show_econnreset</a></span>
	  basically do <strong>not</strong>
	  work as described when used with <span class="code">inet_backend = socket</span>.
	  The "issue" is that a remote close (as described above)
	  <strong>do</strong> allow a reader to extract what is in the read buffers
	  before a close is "delivered".</p>
	</li>

        <li>
	  <p>The option
	  <span class="bold_code bc-15"><a href="inet.html#option-nodelay">nodelay</a></span>
	  is a TCP specific option that is <strong>not</strong> compatible with
	  <span class="code">domain = local</span>. </p>
	  <p>When using <span class="code">inet_backend = socket</span>, trying to create a socket
	  (via listen or connect) with <span class="code">domain = local</span>
	  (for example with option {ifaddr, {local,"/tmp/test"}})
	  <strong>will fail</strong> with <span class="code">{error, enotsup}</span>. </p>
	  <p>This does not actually work for <span class="code">inet_backend = inet</span> either,
	  but in that case the error is simply <strong>ignored</strong>,
	  which is a <strong>bad</strong> idea. We have choosen to <strong>not</strong>
	  ignore this error for <span class="code">inet_backend = socket</span>. </p>
	</li>

	<li>
	  <p><span class="bold_code bc-17"><a href="#async_shutdown_write">Async shutdown write</a></span></p>
	  <p>Calling
	  <span class="bold_code bc-17"><a href="#shutdown-2">gen_tcp:shutdown(Socket, write | read_write)</a></span>
	  on a socket created with <span class="code">inet_backend = socket</span>
	  will take <strong>immediate</strong> effect,
	  unlike for a socket created with <span class="code">inet_backend = inet</span>.</p>
	  <p>See <span class="bold_code bc-17"><a href="#async_shutdown_write">async shutdown write</a></span>
	  for more info. </p>
	</li>
      </ul>
    </p></div>
</div>
  </p></div>
</div></section>

  <div class="innertube">
<h4 id="data-types" class="title-link" onMouseOver="document.getElementById('ghlink-data-types-idm10944').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-data-types-idm10944').style.visibility = 'hidden';">
<div class="title-name">Data Types</div>
<div class="title-anchors"><span id="ghlink-data-types-idm10944" class="ghlink-after"><a href="#data-types" title="Link to this place!"><span class="paperclip-after"></span></a></span></div>
</h4>
    <article class="data-types-body"><h4 id="type-option" class="title-link data-type-name" onMouseOver="document.getElementById('ghlink-type-option').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-type-option').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-type-option" class="ghlink-before"><a href="#type-option" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/gen_tcp.xml#L175" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">
      <span class="bold_code bc-4"><a name="type-option">option()</a> = <br>{active, true | false | once | -32768..32767} |<br>{buffer, integer() &gt;= 0} |<br>{delay_send, boolean()} |<br>{deliver, port | term} |<br>{dontroute, boolean()} |<br>{exit_on_close, boolean()} |<br>{header, integer() &gt;= 0} |<br>{high_msgq_watermark, integer() &gt;= 1} |<br>{high_watermark, integer() &gt;= 0} |<br>{keepalive, boolean()} |<br>{linger, {boolean(), integer() &gt;= 0}} |<br>{low_msgq_watermark, integer() &gt;= 1} |<br>{low_watermark, integer() &gt;= 0} |<br>{mode, list | binary} |<br>list | binary |<br>{nodelay, boolean()} |<br>{packet,<br>0 | 1 | 2 | 4 | raw | sunrm | asn1 | cdr | fcgi | line |<br>tpkt | http | httph | http_bin | httph_bin} |<br>{packet_size, integer() &gt;= 0} |<br>{priority, integer() &gt;= 0} |<br>{raw,<br>Protocol :: integer() &gt;= 0,<br>OptionNum :: integer() &gt;= 0,<br>ValueBin :: binary()} |<br>{recbuf, integer() &gt;= 0} |<br>{reuseaddr, boolean()} |<br>{send_timeout, integer() &gt;= 0 | infinity} |<br>{send_timeout_close, boolean()} |<br>{show_econnreset, boolean()} |<br>{sndbuf, integer() &gt;= 0} |<br>{tos, integer() &gt;= 0} |<br>{tclass, integer() &gt;= 0} |<br>{ttl, integer() &gt;= 0} |<br>{recvtos, boolean()} |<br>{recvtclass, boolean()} |<br>{recvttl, boolean()} |<br>{ipv6_v6only, boolean()}</span><br>
</div>
</h4>
<div class="data-type-desc"></div></article>
    <article class="data-types-body"><h4 id="type-pktoptions_value" class="title-link data-type-name" onMouseOver="document.getElementById('ghlink-type-pktoptions_value').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-type-pktoptions_value').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-type-pktoptions_value" class="ghlink-before"><a href="#type-pktoptions_value" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/gen_tcp.xml#L178" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">
      <span class="bold_code bc-4"><a name="type-pktoptions_value">pktoptions_value()</a> = {pktoptions, <span class="bold_code bc-15"><a href="inet.html#type-ancillary_data">inet:ancillary_data()</a></span>}</span><br>
</div>
</h4>
<div class="data-type-desc"><div class="REFBODY rb-7">
	<p>
	  If the platform implements the IPv4 option
	  <span class="code">IP_PKTOPTIONS</span>, or the IPv6 option
	  <span class="code">IPV6_PKTOPTIONS</span> or <span class="code">IPV6_2292PKTOPTIONS</span> for the socket
	  this value is returned from
	  <span class="bold_code bc-15"><a href="inet.html#getopts-2"><span class="code">inet:getopts/2</span></a></span>
	  when called with the option name
	  <span class="bold_code bc-17"><a href="#type-option_name"><span class="code">pktoptions</span></a></span>.
	</p>
	<div class="note">
<div class="label">Note</div>
<div class="content"><p>
	  <p>
	    This option appears to be VERY Linux specific,
	    and its existence in future Linux kernel versions
	    is also worrying since the option is part of RFC 2292
	    which is since long (2003) obsoleted by RFC 3542
	    that <strong>explicitly</strong> removes this possibility to get
	    packet information from a stream socket.
	    For comparision: it has existed in FreeBSD but is now removed,
	    at least since FreeBSD 10.
	  </p>
	</p></div>
</div>
      </div></div></article>
    <article class="data-types-body"><h4 id="type-option_name" class="title-link data-type-name" onMouseOver="document.getElementById('ghlink-type-option_name').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-type-option_name').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-type-option_name" class="ghlink-before"><a href="#type-option_name" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/gen_tcp.xml#L204" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">
      <span class="bold_code bc-4"><a name="type-option_name">option_name()</a> = <br>active | buffer | delay_send | deliver | dontroute |<br>exit_on_close | header | high_msgq_watermark |<br>high_watermark | keepalive | linger | low_msgq_watermark |<br>low_watermark | mode | nodelay | packet | packet_size |<br>priority |<br>{raw,<br>Protocol :: integer() &gt;= 0,<br>OptionNum :: integer() &gt;= 0,<br>ValueSpec ::<br>(ValueSize :: integer() &gt;= 0) | (ValueBin :: binary())} |<br>recbuf | reuseaddr | send_timeout | send_timeout_close |<br>show_econnreset | sndbuf | tos | tclass | ttl | recvtos |<br>recvtclass | recvttl | pktoptions | ipv6_v6only</span><br>
</div>
</h4>
<div class="data-type-desc"></div></article>
    <article class="data-types-body"><h4 id="type-connect_option" class="title-link data-type-name" onMouseOver="document.getElementById('ghlink-type-connect_option').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-type-connect_option').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-type-connect_option" class="ghlink-before"><a href="#type-connect_option" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/gen_tcp.xml#L207" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">
      <span class="bold_code bc-4"><a name="type-connect_option">connect_option()</a> = <br>{ip, <span class="bold_code bc-15"><a href="inet.html#type-socket_address">inet:socket_address()</a></span>} |<br>{fd, Fd :: integer() &gt;= 0} |<br>{ifaddr, <span class="bold_code bc-15"><a href="inet.html#type-socket_address">inet:socket_address()</a></span>} |<br><span class="bold_code bc-15"><a href="inet.html#type-address_family">inet:address_family()</a></span> |<br>{port, <span class="bold_code bc-15"><a href="inet.html#type-port_number">inet:port_number()</a></span>} |<br>{tcp_module, module()} |<br>{netns, <span class="bold_code bc-15"><a href="file.html#type-filename_all">file:filename_all()</a></span>} |<br>{bind_to_device, binary()} |<br><span class="bold_code bc-17"><a href="#type-option">option()</a></span></span><br>
</div>
</h4>
<div class="data-type-desc"></div></article>
    <article class="data-types-body"><h4 id="type-listen_option" class="title-link data-type-name" onMouseOver="document.getElementById('ghlink-type-listen_option').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-type-listen_option').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-type-listen_option" class="ghlink-before"><a href="#type-listen_option" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/gen_tcp.xml#L210" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">
      <span class="bold_code bc-4"><a name="type-listen_option">listen_option()</a> = <br>{ip, <span class="bold_code bc-15"><a href="inet.html#type-socket_address">inet:socket_address()</a></span>} |<br>{fd, Fd :: integer() &gt;= 0} |<br>{ifaddr, <span class="bold_code bc-15"><a href="inet.html#type-socket_address">inet:socket_address()</a></span>} |<br><span class="bold_code bc-15"><a href="inet.html#type-address_family">inet:address_family()</a></span> |<br>{port, <span class="bold_code bc-15"><a href="inet.html#type-port_number">inet:port_number()</a></span>} |<br>{backlog, B :: integer() &gt;= 0} |<br>{tcp_module, module()} |<br>{netns, <span class="bold_code bc-15"><a href="file.html#type-filename_all">file:filename_all()</a></span>} |<br>{bind_to_device, binary()} |<br><span class="bold_code bc-17"><a href="#type-option">option()</a></span></span><br>
</div>
</h4>
<div class="data-type-desc"></div></article>
    <article class="data-types-body"><div class="data-type-name"><div class="bold_code bc-8"><h4 id="type-socket" class="title-link" onMouseOver="document.getElementById('ghlink-type-socket-idm10968').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-type-socket-idm10968').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-type-socket-idm10968" class="ghlink-before"><a href="#type-socket" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/gen_tcp.xml#L213" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<div class="title-name">socket()</div>
</h4></div></div>
<div class="data-type-desc"><div class="REFBODY rb-7">
<p>As returned by
        <span class="bold_code bc-17"><a href="#accept-1"><span class="code">accept/1,2</span></a></span> and
        <span class="bold_code bc-17"><a href="#connect-3"><span class="code">connect/3,4</span></a></span>.</p>
        <a name="connect"></a>
      </div></div></article>
  </div>

  <div class="innertube"><h4 id="exports" class="title-link" onMouseOver="document.getElementById('ghlink-exports-idm10976').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-exports-idm10976').style.visibility = 'hidden';">
<div class="title-name">Exports</div>
<div class="title-anchors"><span id="ghlink-exports-idm10976" class="ghlink-after"><a href="#exports" title="Link to this place!"><span class="paperclip-after"></span></a></span></div>
</h4></div>
<div class="exports-body">
<article class="func"><h4 id="accept-1" class="bold_code title-link func-head" onMouseOver="document.getElementById('ghlink-accept-1-idp273').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-accept-1-idp273').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-accept-1-idp273" class="ghlink-before"><a href="#accept-1" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/gen_tcp.xml#L224" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<span class="title-name">accept(ListenSocket) -&gt; {ok, Socket} | {error, Reason}</span>
</h4>
<h4 id="accept-2" class="bold_code title-link func-head" onMouseOver="document.getElementById('ghlink-accept-2-idp274').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-accept-2-idp274').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-accept-2-idp274" class="ghlink-before"><a href="#accept-2" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/gen_tcp.xml#L224" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<span class="title-name">accept(ListenSocket, Timeout) -&gt; {ok, Socket} | {error, Reason}</span>
</h4>
<div class="REFBODY fun-types">
<h3 id="types" class="func-types-title">Types</h3>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">ListenSocket = <span class="bold_code bc-17"><a href="#type-socket">socket()</a></span></span></div>
<div class="REFBODY rb-1">Returned by
        <span class="bold_code bc-17"><a href="#listen-2"><span class="code">listen/2</span></a></span>.
      </div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Timeout = timeout()</span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Socket = <span class="bold_code bc-17"><a href="#type-socket">socket()</a></span></span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Reason = closed | timeout | system_limit | <span class="bold_code bc-15"><a href="inet.html#type-posix">inet:posix()</a></span></span></div>
</div>
<div class="exports-tube"><div class="REFBODY rb-7">
        <p>Accepts an incoming connection request on a listening socket.
          <span class="code">Socket</span> must be a socket returned from
          <span class="bold_code bc-17"><a href="#listen-2"><span class="code">listen/2</span></a></span>.
          <span class="code">Timeout</span> specifies a time-out value in
          milliseconds. Defaults to <span class="code">infinity</span>.</p>
        <p>Returns:</p>
        <ul>
          <li><p><span class="code">{ok, Socket}</span> if a connection is
            established</p></li>
          <li><p><span class="code">{error, closed}</span> if <span class="code">ListenSocket</span>
            is closed</p></li>
          <li><p><span class="code">{error, timeout}</span> if no connection is established
            within the specified time</p></li>
          <li><p><span class="code">{error, system_limit}</span> if all available ports in the
            Erlang emulator are in use</p></li>
          <li><p>A POSIX error value if something else goes wrong, see
            <span class="bold_code bc-19"><a href="inet.html"><span class="code">inet(3)</span></a></span> for possible
            error values</p></li>
        </ul>
        <p>Packets can be sent to the returned socket <span class="code">Socket</span>
          using
          <span class="bold_code bc-17"><a href="#send-2"><span class="code">send/2</span></a></span>.
          Packets sent from the peer are delivered as messages (unless
          <span class="code">{active, false}</span> is specified in the option list for the
          listening socket, in which case packets are retrieved by calling
          <span class="bold_code bc-17"><a href="#recv-2"><span class="code">recv/2</span></a></span>):</p>
        <div class="example example-none"><pre>{tcp, Socket, Data}</pre></div>
        <div class="note">
<div class="label">Note</div>
<div class="content"><p>
          <p>The <span class="code">accept</span> call does
            <strong>not</strong> have to be issued from the socket owner
            process. Using version 5.5.3 and higher of the emulator,
            multiple simultaneous accept calls can be issued from
            different processes, which allows for a pool of acceptor
            processes handling incoming connections.</p>
        </p></div>
</div>
      </div></div></article><article class="func"><h4 id="close-1" class="bold_code title-link func-head" onMouseOver="document.getElementById('ghlink-close-1-idp275').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-close-1-idp275').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-close-1-idp275" class="ghlink-before"><a href="#close-1" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/gen_tcp.xml#L271" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<span class="title-name">close(Socket) -&gt; ok</span>
</h4>
<div class="REFBODY fun-types">
<h3 id="types" class="func-types-title">Types</h3>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Socket = <span class="bold_code bc-17"><a href="#type-socket">socket()</a></span></span></div>
</div>
<div class="exports-tube"><div class="REFBODY rb-7">
        <p>Closes a TCP socket.</p>
        <p>Note that in most implementations of TCP, doing a <span class="code">close</span> does
         not guarantee that any data sent is delivered to the recipient before
         the close is detected at the remote side. If you want to guarantee
         delivery of the data to the recipient there are two common ways to
         achieve this.</p>
         <ol>
           <li>
<p>Use <span class="bold_code bc-17"><a href="#shutdown-2">
             <span class="code">gen_tcp:shutdown(Sock, write)</span></a></span> to signal that
             no more data is to be sent and wait for the read side of the
             socket to be closed.</p>
           </li>
           <li>
<p>Use the socket option <span class="bold_code bc-15"><a href="inet.html#packet">
             <span class="code">{packet, N}</span></a></span> (or something similar) to make
             it possible for the receiver to close the connection when it
             knowns it has received all the data.</p>
           </li>
         </ol>
      </div></div></article><article class="func"><h4 id="connect-3" class="bold_code title-link func-head" onMouseOver="document.getElementById('ghlink-connect-3-idp276').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-connect-3-idp276').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-connect-3-idp276" class="ghlink-before"><a href="#connect-3" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/gen_tcp.xml#L296" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<span class="title-name">connect(Address, Port, Options) -&gt; {ok, Socket} | {error, Reason}</span>
</h4>
<h4 id="connect-4" class="bold_code title-link func-head" onMouseOver="document.getElementById('ghlink-connect-4-idp277').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-connect-4-idp277').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-connect-4-idp277" class="ghlink-before"><a href="#connect-4" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/gen_tcp.xml#L296" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<span class="title-name">connect(Address, Port, Options, Timeout) -&gt;<br>{ok, Socket} | {error, Reason}</span>
</h4>
<div class="REFBODY fun-types">
<h3 id="types" class="func-types-title">Types</h3>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Address = <span class="bold_code bc-15"><a href="inet.html#type-socket_address">inet:socket_address()</a></span> | <span class="bold_code bc-15"><a href="inet.html#type-hostname">inet:hostname()</a></span></span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Port = <span class="bold_code bc-15"><a href="inet.html#type-port_number">inet:port_number()</a></span></span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Options = [<span class="bold_code bc-15"><a href="inet.html#type-inet_backend">inet:inet_backend()</a></span> | <span class="bold_code bc-17"><a href="#type-connect_option">connect_option()</a></span>]</span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Timeout = timeout()</span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Socket = <span class="bold_code bc-17"><a href="#type-socket">socket()</a></span></span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Reason = timeout | <span class="bold_code bc-15"><a href="inet.html#type-posix">inet:posix()</a></span></span></div>
</div>
<div class="exports-tube"><div class="REFBODY rb-7">
        <p>Connects to a server on TCP port <span class="code">Port</span> on the host
          with IP address <span class="code">Address</span>. Argument
          <span class="code">Address</span> can be a hostname or an IP address.</p>
        <p>The following options are available:</p>
        <dl>
          <dt><strong><span class="code">{ip, Address}</span></strong></dt>
          <dd><p>If the host has many network interfaces, this option
            specifies which one to use.</p></dd>
          <dt><strong><span class="code">{ifaddr, Address}</span></strong></dt>
          <dd>
<p>Same as <span class="code">{ip, Address}</span>. If the host has many
            network interfaces, this option specifies which one to use.</p>
          </dd>
          <dt><strong><span class="code">{fd, integer() &gt;= 0}</span></strong></dt>
          <dd><p>If a socket has somehow been connected without using
            <span class="code">gen_tcp</span>, use this option to pass the file descriptor
            for it. If <span class="code">{ip, Address}</span> and/or
            <span class="code">{port, port_number()}</span> is combined with this option,  the
            <span class="code">fd</span> is bound to the specified interface and port before
            connecting. If these options are not specified, it is assumed that
            the <span class="code">fd</span> is already bound appropriately.</p></dd>
          <dt><strong><span class="code">inet</span></strong></dt>
          <dd><p>Sets up the socket for IPv4.</p></dd>
          <dt><strong><span class="code">inet6</span></strong></dt>
          <dd><p>Sets up the socket for IPv6.</p></dd>
	  <dt><strong><span class="code">local</span></strong></dt>
	  <dd>
            <p>
	      Sets up a Unix Domain Socket. See
	      <span class="bold_code bc-15"><a href="inet.html#type-local_address">
		<span class="code">inet:local_address()</span>
	      </a></span>
	    </p>
          </dd>
          <dt><strong><span class="code">{port, Port}</span></strong></dt>
          <dd><p>Specifies which local port number to use.</p></dd>
          <dt><strong><span class="code">{tcp_module, module()}</span></strong></dt>
          <dd><p>Overrides which callback module is used. Defaults to
            <span class="code">inet_tcp</span> for IPv4 and <span class="code">inet6_tcp</span> for IPv6.</p></dd>
          <dt><strong><span class="code">Opt</span></strong></dt>
          <dd>
<p>See
            <span class="bold_code bc-15"><a href="inet.html#setopts-2"><span class="code">inet:setopts/2</span></a></span>.</p>
          </dd>
        </dl>
        <p>Packets can be sent to the returned socket <span class="code">Socket</span>
          using <span class="bold_code bc-17"><a href="#send-2"><span class="code">send/2</span></a></span>.
          Packets sent from the peer are delivered as messages:</p>
        <div class="example example-none"><pre>{tcp, Socket, Data}</pre></div>
        <p>If the socket is in <span class="code">{active, N}</span> mode (see
          <span class="bold_code bc-15"><a href="inet.html#setopts-2"><span class="code">inet:setopts/2</span></a></span>
          for details) and its message counter drops to <span class="code">0</span>, the following
          message is delivered to indicate that the
          socket has transitioned to passive (<span class="code">{active, false}</span>) mode:</p>
        <div class="example example-none"><pre>{tcp_passive, Socket}</pre></div>
        <p>If the socket is closed, the following message is delivered:</p>
        <div class="example example-none"><pre>{tcp_closed, Socket}</pre></div>
        <p>If an error occurs on the socket, the following message is delivered
          (unless <span class="code">{active, false}</span> is specified in the option list for
          the socket, in which case packets are retrieved by calling
          <span class="bold_code bc-17"><a href="#recv-2"><span class="code">recv/2</span></a></span>):</p>
        <div class="example example-none"><pre>{tcp_error, Socket, Reason}</pre></div>
        <p>The optional <span class="code">Timeout</span> parameter specifies a
          time-out in milliseconds. Defaults to <span class="code">infinity</span>.</p>
        <div class="note">
<div class="label">Note</div>
<div class="content"><p>
          <p>Keep in mind that if the underlying OS <span class="code">connect()</span> call returns
            a timeout, <span class="code">gen_tcp:connect</span> will also return a timeout
            (i.e. <span class="code">{error, etimedout}</span>), even if a larger <span class="code">Timeout</span> was
            specified.</p>
        </p></div>
</div>
        <div class="note">
<div class="label">Note</div>
<div class="content"><p>
          <p>The default values for options specified to <span class="code">connect</span> can
            be affected by the Kernel configuration parameter
            <span class="code">inet_default_connect_options</span>. For details, see
            <span class="bold_code bc-19"><a href="inet.html"><span class="code">inet(3)</span></a></span>.</p>
        </p></div>
</div>
      </div></div></article><article class="func"><h4 id="controlling_process-2" class="bold_code title-link func-head" onMouseOver="document.getElementById('ghlink-controlling_process-2-idp278').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-controlling_process-2-idp278').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-controlling_process-2-idp278" class="ghlink-before"><a href="#controlling_process-2" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/gen_tcp.xml#L382" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<span class="title-name">controlling_process(Socket, Pid) -&gt; ok | {error, Reason}</span>
</h4>
<div class="REFBODY fun-types">
<h3 id="types" class="func-types-title">Types</h3>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Socket = <span class="bold_code bc-17"><a href="#type-socket">socket()</a></span></span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Pid = pid()</span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Reason = closed | not_owner | badarg | <span class="bold_code bc-15"><a href="inet.html#type-posix">inet:posix()</a></span></span></div>
</div>
<div class="exports-tube"><div class="REFBODY rb-7">
        <p>Assigns a new controlling process <span class="code">Pid</span> to
          <span class="code">Socket</span>. The controlling process is the process
          that receives messages from the socket. If called by any other
          process than the current controlling process,
          <span class="code">{error, not_owner}</span> is returned. If the process identified
          by <span class="code">Pid</span> is not an existing local pid,
          <span class="code">{error, badarg}</span> is returned. <span class="code">{error, badarg}</span> may also
          be returned in some cases when <span class="code">Socket</span> is closed
          during the execution of this function.</p>
          <p>If the socket is set in active mode, this function
          will transfer any messages in the mailbox of the caller
          to the new controlling process.
          If any other process is interacting with the socket while
          the transfer is happening, the transfer may not work correctly
          and messages may remain in the caller's mailbox. For instance
          changing the sockets active mode before the transfer is complete
          may cause this.</p>
      </div></div></article><article class="func"><h4 id="listen-2" class="bold_code title-link func-head" onMouseOver="document.getElementById('ghlink-listen-2-idp279').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-listen-2-idp279').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-listen-2-idp279" class="ghlink-before"><a href="#listen-2" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/gen_tcp.xml#L406" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<span class="title-name">listen(Port, Options) -&gt; {ok, ListenSocket} | {error, Reason}</span>
</h4>
<div class="REFBODY fun-types">
<h3 id="types" class="func-types-title">Types</h3>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Port = <span class="bold_code bc-15"><a href="inet.html#type-port_number">inet:port_number()</a></span></span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Options = [<span class="bold_code bc-15"><a href="inet.html#type-inet_backend">inet:inet_backend()</a></span> | <span class="bold_code bc-17"><a href="#type-listen_option">listen_option()</a></span>]</span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">ListenSocket = <span class="bold_code bc-17"><a href="#type-socket">socket()</a></span></span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Reason = system_limit | <span class="bold_code bc-15"><a href="inet.html#type-posix">inet:posix()</a></span></span></div>
</div>
<div class="exports-tube"><div class="REFBODY rb-7">
        <p>Sets up a socket to listen on port <span class="code">Port</span> on
          the local host.</p>
        <p>If <span class="code">Port == 0</span>, the underlying OS assigns an
          available port number, use
          <span class="bold_code bc-15"><a href="inet.html#port-1"><span class="code">inet:port/1</span></a></span>
          to retrieve it.</p>
        <p>The following options are available:</p>
        <dl>
          <dt><strong><span class="code">list</span></strong></dt>
          <dd><p>Received <span class="code">Packet</span> is delivered as a list.</p></dd>
          <dt><strong><span class="code">binary</span></strong></dt>
          <dd><p>Received <span class="code">Packet</span> is delivered as a binary.</p></dd>
          <dt><strong><span class="code">{backlog, B}</span></strong></dt>
          <dd><p><span class="code">B</span> is an integer &gt;= <span class="code">0</span>. The backlog value
            defines the maximum length that the queue of pending connections
            can grow to. Defaults to <span class="code">5</span>.</p></dd>
          <dt><strong><span class="code">{ip, Address}</span></strong></dt>
          <dd><p>If the host has many network interfaces, this option
            specifies which one to listen on.</p></dd>
          <dt><strong><span class="code">{port, Port}</span></strong></dt>
          <dd><p>Specifies which local port number to use.</p></dd>
          <dt><strong><span class="code">{fd, Fd}</span></strong></dt>
          <dd><p>If a socket has somehow been connected without using
            <span class="code">gen_tcp</span>, use this option to pass the file
            descriptor for it.</p></dd>
          <dt><strong><span class="code">{ifaddr, Address}</span></strong></dt>
          <dd>
<p>Same as <span class="code">{ip, Address}</span>. If the host has many
            network interfaces, this option specifies which one to use.</p>
          </dd>
          <dt><strong><span class="code">inet6</span></strong></dt>
          <dd><p>Sets up the socket for IPv6.</p></dd>
          <dt><strong><span class="code">inet</span></strong></dt>
          <dd><p>Sets up the socket for IPv4.</p></dd>
          <dt><strong><span class="code">{tcp_module, module()}</span></strong></dt>
          <dd><p>Overrides which callback module is used. Defaults to
            <span class="code">inet_tcp</span> for IPv4 and <span class="code">inet6_tcp</span> for IPv6.</p></dd>
          <dt><strong><span class="code">Opt</span></strong></dt>
          <dd><p>See
            <span class="bold_code bc-15"><a href="inet.html#setopts-2"><span class="code">inet:setopts/2</span></a></span>.
            </p></dd>
        </dl>
        <p>The returned socket <span class="code">ListenSocket</span> should be used
          in calls to <span class="bold_code bc-17"><a href="#accept-1"><span class="code">accept/1,2</span></a></span> to
          accept incoming connection requests.</p>
        <div class="note">
<div class="label">Note</div>
<div class="content"><p>
          <p>The default values for options specified to <span class="code">listen</span> can
            be affected by the Kernel configuration parameter
            <span class="code">inet_default_listen_options</span>. For details, see
            <span class="bold_code bc-19"><a href="inet.html"><span class="code">inet(3)</span></a></span>.</p>
        </p></div>
</div>
      </div></div></article><article class="func"><h4 id="recv-2" class="bold_code title-link func-head" onMouseOver="document.getElementById('ghlink-recv-2-idp280').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-recv-2-idp280').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-recv-2-idp280" class="ghlink-before"><a href="#recv-2" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/gen_tcp.xml#L463" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<span class="title-name">recv(Socket, Length) -&gt; {ok, Packet} | {error, Reason}</span>
</h4>
<h4 id="recv-3" class="bold_code title-link func-head" onMouseOver="document.getElementById('ghlink-recv-3-idp281').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-recv-3-idp281').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-recv-3-idp281" class="ghlink-before"><a href="#recv-3" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/gen_tcp.xml#L463" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<span class="title-name">recv(Socket, Length, Timeout) -&gt; {ok, Packet} | {error, Reason}</span>
</h4>
<div class="REFBODY fun-types">
<h3 id="types" class="func-types-title">Types</h3>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Socket = <span class="bold_code bc-17"><a href="#type-socket">socket()</a></span></span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Length = integer() &gt;= 0</span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Timeout = timeout()</span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Packet = string() | binary() | HttpPacket</span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Reason = closed | timeout | <span class="bold_code bc-15"><a href="inet.html#type-posix">inet:posix()</a></span></span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">HttpPacket = term()</span></div>
<div class="REFBODY rb-1">See the description of
        <span class="code">HttpPacket</span> in
        <span class="bold_code bc-13"><a href="erlang.html#decode_packet-3"><span class="code">erlang:decode_packet/3</span></a></span>
      in ERTS.
      </div>
</div>
<div class="exports-tube"><div class="REFBODY rb-7">
        <p>Receives a packet from a socket in passive
          mode. A closed socket is indicated by return value
          <span class="code">{error, closed}</span>.</p>
        <p>Argument <span class="code">Length</span> is only meaningful when
          the socket is in <span class="code">raw</span> mode and denotes the number of
          bytes to read. If <span class="code">Length</span> is <span class="code">0</span>, all
          available bytes are returned.
          If <span class="code">Length</span> &gt; <span class="code">0</span>, exactly
          <span class="code">Length</span> bytes are returned, or an error;
          possibly discarding less than <span class="code">Length</span> bytes of
          data when the socket is closed from the other side.</p>
        <p>The optional <span class="code">Timeout</span> parameter specifies a
          time-out in milliseconds. Defaults to <span class="code">infinity</span>.</p>
      </div></div></article><article class="func"><h4 id="send-2" class="bold_code title-link func-head" onMouseOver="document.getElementById('ghlink-send-2-idp282').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-send-2-idp282').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-send-2-idp282" class="ghlink-before"><a href="#send-2" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/gen_tcp.xml#L489" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<span class="title-name">send(Socket, Packet) -&gt; ok | {error, Reason}</span>
</h4>
<div class="REFBODY fun-types">
<h3 id="types" class="func-types-title">Types</h3>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Socket = <span class="bold_code bc-17"><a href="#type-socket">socket()</a></span></span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Packet = iodata()</span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Reason = closed | {timeout, RestData} | <span class="bold_code bc-15"><a href="inet.html#type-posix">inet:posix()</a></span></span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">RestData = binary()</span></div>
</div>
<div class="exports-tube"><div class="REFBODY rb-7">
        <p>Sends a packet on a socket.</p>
        <p>There is no <span class="code">send</span> call with a time-out option, use socket
        option <span class="code">send_timeout</span> if time-outs are desired. See section
        <span class="bold_code bc-17"><a href="#examples">Examples</a></span>.</p>
	<p>The return value <span class="code">{error, {timeout, RestData}}</span> can
	only be returned when <span class="code">inet_backend = socket</span>. </p>
        <a name="non_blocking_send"></a>
        <div class="note">
<div class="label">Note</div>
<div class="content"><p>
          <p>Non-blocking send.</p>
          <p>If the user tries to send more data than there is room for
          in the OS send buffers, the 'rest data' is put into (inet driver)
          internal buffers and later sent in the background.
          The function immediately returns ok (<strong>not</strong> informing the
          caller that not all of the data was actually sent).
          Any issue while sending the 'rest data' is maybe returned later. </p>
          <p>When using <span class="code">inet_backend = socket</span>, the
          behaviour is different. There is <strong>no</strong>
          buffering done (like the inet-driver does), instead
          the caller will "hang" until all of the data has been sent or
          send timeout (as specified by the <span class="code">send_timeout</span> option)
          expires (the function can hang even when using 'inet' backend
          if the internal buffers are full). </p>
	  <p>If this happens when using <span class="code">packet =/= raw</span>, we have a partial
	  package written. A new package therefor <strong>must not</strong> be written
	  at this point, as there is no way for the peer to distinguish this
	  from the data portion of the current package. Instead, set package
	  to raw, send the rest data (as raw data) and then set package to
	  the wanted package type again. </p>
        </p></div>
</div>
      </div></div></article><article class="func"><h4 id="shutdown-2" class="bold_code title-link func-head" onMouseOver="document.getElementById('ghlink-shutdown-2-idp283').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-shutdown-2-idp283').style.visibility = 'hidden';">
<div class="title-anchors"><span id="ghlink-shutdown-2-idp283" class="ghlink-before"><a href="#shutdown-2" title="Link to this place!"><span class="paperclip-before"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/gen_tcp.xml#L525" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-before"></span></a></span></div>
<span class="title-name">shutdown(Socket, How) -&gt; ok | {error, Reason}</span>
</h4>
<div class="REFBODY fun-types">
<h3 id="types" class="func-types-title">Types</h3>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Socket = <span class="bold_code bc-17"><a href="#type-socket">socket()</a></span></span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">How = read | write | read_write</span></div>
<div class="REFTYPES rt-1"><span class="bold_code bc-2">Reason = <span class="bold_code bc-15"><a href="inet.html#type-posix">inet:posix()</a></span></span></div>
</div>
<div class="exports-tube"><div class="REFBODY rb-7">
        <p>Closes a socket in one or two directions.</p>
        <p><span class="code">How == write</span> means closing the socket for
          writing, reading from it is still possible.</p>
        <p>If <span class="code">How == read</span> or there is no outgoing
          data buffered in the <span class="code">Socket</span> port,
          the socket is shut down immediately and any error encountered
          is returned in <span class="code">Reason</span>.</p>
        <p>If there is data buffered in the socket port, the attempt
          to shutdown the socket is postponed until that data is written to the
          kernel socket send buffer. If any errors are encountered, the socket
          is closed and <span class="code">{error, closed}</span> is returned on the next
          <span class="bold_code bc-17"><a href="#recv-2"><span class="code">recv/2</span></a></span> or
          <span class="bold_code bc-17"><a href="#send-2"><span class="code">send/2</span></a></span>.</p>
        <p>Option <span class="code">{exit_on_close, false}</span> is useful if the peer has done
          a shutdown on the write side.</p>
        <a name="async_shutdown_write"></a>
        <div class="note">
<div class="label">Note</div>
<div class="content"><p>
          <p>Async shutdown write (write or read_write).</p>
          <p>If the shutdown attempt is made while the inet-driver
	  is sending buffered data in the background,
	  the shutdown is postponed until all buffered data has been sent.
	  The function immediately returns <span class="code">ok</span> and the caller is
          <strong>not</strong> informed (that the shutdown has <strong>not yet</strong>
          been performed). </p>
          <p>When using <span class="code">inet_backend = socket</span>, the
          behaviour is different. A shutdown with
          <span class="code">How == write | read_write</span>, the operation will
          take <strong>immediate</strong> effect (unlike the inet-driver,
	  which basically saves the operation for later). </p>
        </p></div>
</div>
      </div></div></article>
</div>

  <section class="innertube"><h3 id="examples" class="title-link" onMouseOver="document.getElementById('ghlink-examples-idm11325').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-examples-idm11325').style.visibility = 'hidden';">
<div class="title-name">Examples</div>
<div class="title-anchors"><span id="ghlink-examples-idm11325" class="ghlink-after"><a href="#examples" title="Link to this place!"><span class="paperclip-after"></span></a><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/gen_tcp.xml#L563" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil-after"></span></a></span></div>
</h3>
<div class="REFBODY rb-3">
    
    <a name="examples"></a>
    <p>The following example illustrates use of option
    <span class="code">{active,once}</span> and multiple accepts by implementing a server
    as a number of worker processes doing accept on a single listening
    socket. Function <span class="code">start/2</span> takes the number of worker
    processes and the port number on which to listen for incoming
    connections. If <span class="code">LPort</span> is specified as <span class="code">0</span>, an
    ephemeral port number is used, which is why the start function
    returns the actual port number allocated:</p>
    <div class="example example-none"><pre>start(Num,LPort) -&gt;
    case gen_tcp:listen(LPort,[{active, false},{packet,2}]) of
        {ok, ListenSock} -&gt;
            start_servers(Num,ListenSock),
            {ok, Port} = inet:port(ListenSock),
            Port;
        {error,Reason} -&gt;
            {error,Reason}
    end.

start_servers(0,_) -&gt;
    ok;
start_servers(Num,LS) -&gt;
    spawn(?MODULE,server,[LS]),
    start_servers(Num-1,LS).

server(LS) -&gt;
    case gen_tcp:accept(LS) of
        {ok,S} -&gt;
            loop(S),
            server(LS);
        Other -&gt;
            io:format("accept returned ~w - goodbye!~n",[Other]),
            ok
    end.

loop(S) -&gt;
    inet:setopts(S,[{active,once}]),
    receive
        {tcp,S,Data} -&gt;
            Answer = process(Data), % Not implemented in this example
            gen_tcp:send(S,Answer),
            loop(S);
        {tcp_closed,S} -&gt;
            io:format("Socket ~w closed [~w]~n",[S,self()]),
            ok
    end.</pre></div>
    <p>Example of a simple client:</p>
    <div class="example example-none"><pre>client(PortNo,Message) -&gt;
    {ok,Sock} = gen_tcp:connect("localhost",PortNo,[{active,false},
                                                    {packet,2}]),
    gen_tcp:send(Sock,Message),
    A = gen_tcp:recv(Sock,0),
    gen_tcp:close(Sock),
    A.</pre></div>
    <p>The <span class="code">send</span> call does not accept a time-out
      option because time-outs on send is handled through socket
      option <span class="code">send_timeout</span>. The behavior of a send operation with
      no receiver is mainly defined by the underlying TCP
      stack and the network infrastructure. To write
      code that handles a hanging receiver that can eventually cause
      the sender to hang on a <span class="code">send</span> do like the following.</p>
    <p>Consider a process that receives data from a client process
      to be forwarded to a server on the network. The process is
      connected to the server through TCP/IP and does not get any acknowledge
      for each message it sends, but has to rely on the send time-out
      option to detect that the other end is unresponsive. Option
      <span class="code">send_timeout</span> can be used when connecting:</p>
    <div class="example example-none"><pre>...
{ok,Sock} = gen_tcp:connect(HostAddress, Port,
                            [{active,false},
                             {send_timeout, 5000},
                             {packet,2}]),
                loop(Sock), % See below
...</pre></div>
    <p>In the loop where requests are handled, send time-outs can now be
      detected:</p>
    <div class="example example-none"><pre>loop(Sock) -&gt;
    receive
        {Client, send_data, Binary} -&gt;
            case gen_tcp:send(Sock,[Binary]) of
                {error, timeout} -&gt;
                    io:format("Send timeout, closing!~n",
                              []),
                    handle_send_timeout(), % Not implemented here
                    Client ! {self(),{error_sending, timeout}},
                    %% Usually, it's a good idea to give up in case of a 
                    %% send timeout, as you never know how much actually 
                    %% reached the server, maybe only a packet header?!
                    gen_tcp:close(Sock);
                {error, OtherSendError} -&gt;
                    io:format("Some other error on socket (~p), closing",
                              [OtherSendError]),
                    Client ! {self(),{error_sending, OtherSendError}},
                    gen_tcp:close(Sock);
                ok -&gt;
                    Client ! {self(), data_sent},
                    loop(Sock)
            end
    end.</pre></div>
    <p>Usually it suffices to detect time-outs on receive, as most
      protocols include some sort of acknowledgment from the server,
      but if the protocol is strictly one way, option <span class="code">send_timeout</span>
      comes in handy.</p>
  </div></section>
<div class="footer">
<hr>
<p>Copyright  1997-2021 Ericsson AB. All Rights Reserved.</p>
</div>
</div>
</div>
<script type="text/javascript">window.__otpTopDocDir = '../js/';</script><script type="text/javascript" src="../js/highlight.js"></script>
</body>
</html>
