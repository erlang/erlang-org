<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:fn="http://www.w3.org/2005/02/xpath-functions">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="../../otp_doc.css" type="text/css">
<title>Erlang -- Default Values</title>
</head>
<body bgcolor="white" text="#000000" link="#0000ff" vlink="#ff00ff" alink="#ff0000"><div id="container">
<script id="js" type="text/javascript" language="JavaScript" src="../../js/flipmenu/flipmenu.js"></script><script id="js2" type="text/javascript" src="../../js/erlresolvelinks.js"></script><script language="JavaScript" type="text/javascript">
            <!--
              function getWinHeight() {
                var myHeight = 0;
                if( typeof( window.innerHeight ) == 'number' ) {
                  //Non-IE
                  myHeight = window.innerHeight;
                } else if( document.documentElement && ( document.documentElement.clientWidth ||
                                                         document.documentElement.clientHeight ) ) {
                  //IE 6+ in 'standards compliant mode'
                  myHeight = document.documentElement.clientHeight;
                } else if( document.body && ( document.body.clientWidth || document.body.clientHeight ) ) {
                  //IE 4 compatible
                  myHeight = document.body.clientHeight;
                }
                return myHeight;
              }

              function setscrollpos() {
                var objf=document.getElementById('loadscrollpos');
                 document.getElementById("leftnav").scrollTop = objf.offsetTop - getWinHeight()/2;
              }

              function addEvent(obj, evType, fn){
                if (obj.addEventListener){
                obj.addEventListener(evType, fn, true);
                return true;
              } else if (obj.attachEvent){
                var r = obj.attachEvent("on"+evType, fn);
                return r;
              } else {
                return false;
              }
             }

             addEvent(window, 'load', setscrollpos);

             //--></script><div id="leftnav"><div class="innertube">
<img alt="Erlang logo" src="../../erlang-logo.png"><br><small><a href="users_guide.html">User's Guide</a><br><a href="index.html">Reference Manual</a><br><a href="release_notes.html">Release Notes</a><br><a href="gs.pdf">PDF</a><br><a href="../../index.html">Top</a></small><p><strong>Graphics System (GS)</strong><br><strong>User's Guide</strong><br><small>Version 1.6</small></p>
<br><a href="javascript:openAllFlips()">Expand All</a><br><a href="javascript:closeAllFlips()">Contract All</a><p><small><strong>Chapters</strong></small></p>
<ul class="flipMenu" imagePath="../../js/flipmenu">
<li id="no" title="GS - The Graphics System" expanded="false">GS - The Graphics System<ul>
<li><a href="gs_chapter1.html">
              Top of chapter
            </a></li>
<li title="Introduction"><a href="gs_chapter1.html#id63942">Introduction</a></li>
<li title="Basic Architecture of GS"><a href="gs_chapter1.html#id61754">Basic Architecture of GS</a></li>
</ul>
</li>
<li id="no" title="Interface Functions" expanded="false">Interface Functions<ul>
<li><a href="gs_chapter2.html">
              Top of chapter
            </a></li>
<li title="Overview"><a href="gs_chapter2.html#id63431">Overview</a></li>
<li title="A First Example"><a href="gs_chapter2.html#id56598">A First Example</a></li>
<li title="Creating Objects"><a href="gs_chapter2.html#id61585">Creating Objects</a></li>
<li title="Ownership"><a href="gs_chapter2.html#id63405">Ownership</a></li>
<li title="Naming Objects"><a href="gs_chapter2.html#id63419">Naming Objects</a></li>
</ul>
</li>
<li id="no" title="Options" expanded="false">Options<ul>
<li><a href="gs_chapter3.html">
              Top of chapter
            </a></li>
<li title="The Option Concept"><a href="gs_chapter3.html#id72209">The Option Concept</a></li>
<li title="The Option Tables"><a href="gs_chapter3.html#id61063">The Option Tables</a></li>
<li title="Config-Only Options"><a href="gs_chapter3.html#id62308">Config-Only Options</a></li>
<li title="Read-Only Options"><a href="gs_chapter3.html#id62429">Read-Only Options</a></li>
<li title="Data Types"><a href="gs_chapter3.html#id66485">Data Types</a></li>
</ul>
</li>
<li id="no" title="Events" expanded="false">Events<ul>
<li><a href="gs_chapter4.html">
              Top of chapter
            </a></li>
<li title="Event Messages"><a href="gs_chapter4.html#id66814">Event Messages</a></li>
<li title="Generic Events"><a href="gs_chapter4.html#id66918">Generic Events</a></li>
<li title="Object Specific Events"><a href="gs_chapter4.html#id67357">Object Specific Events</a></li>
<li title="Matching Events Against Object Identifiers"><a href="gs_chapter4.html#id67473">Matching Events Against Object Identifiers</a></li>
<li title="Matching Events Against Object Names"><a href="gs_chapter4.html#id67498">Matching Events Against Object Names</a></li>
<li title="Matching Events Against the Data Field"><a href="gs_chapter4.html#id67526">Matching Events Against the Data Field</a></li>
<li title="Experimenting with Events"><a href="gs_chapter4.html#id67565">Experimenting with Events</a></li>
</ul>
</li>
<li id="no" title="Fonts" expanded="false">Fonts<ul>
<li><a href="gs_chapter5.html">
              Top of chapter
            </a></li>
<li title="The Font Model"><a href="gs_chapter5.html#id63998">The Font Model</a></li>
</ul>
</li>
<li id="loadscrollpos" title="Default Values" expanded="true">Default Values<ul>
<li><a href="gs_chapter6.html">
              Top of chapter
            </a></li>
<li title="The Default Value Model"><a href="gs_chapter6.html#id64211">The Default Value Model</a></li>
</ul>
</li>
<li id="no" title="The Packer" expanded="false">The Packer<ul>
<li><a href="gs_chapter7.html">
              Top of chapter
            </a></li>
<li title="The Packer"><a href="gs_chapter7.html#id64385">The Packer</a></li>
</ul>
</li>
<li id="no" title="Built-In Objects" expanded="false">Built-In Objects<ul>
<li><a href="gs_chapter8.html">
              Top of chapter
            </a></li>
<li title="Overview"><a href="gs_chapter8.html#id64652">Overview</a></li>
<li title="Generic Options"><a href="gs_chapter8.html#id64962">Generic Options</a></li>
<li title="Window"><a href="gs_chapter8.html#id66015">Window</a></li>
<li title="Button"><a href="gs_chapter8.html#id67753">Button</a></li>
<li title="Label"><a href="gs_chapter8.html#id68261">Label</a></li>
<li title="Frame"><a href="gs_chapter8.html#id68432">Frame</a></li>
<li title="Entry"><a href="gs_chapter8.html#id68577">Entry</a></li>
<li title="Listbox"><a href="gs_chapter8.html#id68893">Listbox</a></li>
<li title="Canvas"><a href="gs_chapter8.html#id69577">Canvas</a></li>
<li title="Menu"><a href="gs_chapter8.html#id71722">Menu</a></li>
<li title="Grid"><a href="gs_chapter8.html#id80868">Grid</a></li>
<li title="Editor"><a href="gs_chapter8.html#id81694">Editor</a></li>
<li title="Scale"><a href="gs_chapter8.html#id82443">Scale</a></li>
</ul>
</li>
</ul>
</div></div>
<div id="content">
<div class="innertube">
<h1>6 Default Values</h1>
  

  <h3><a name="id64211">6.1 
        The Default Value Model</a></h3>
    
    <p>When a new object is created, a set of options is provided by the application. Options which are not explicitly given are taken care of by the parent (the container object).</p>
    <div class="example"><pre>
B=gs:create(button,Win,[{x,0},{label,{text,"press Me"}}]).
    </pre></div>
    <p>In the example shown above, the window provides default values for options like location and background color. If an application cannot use the default values provided by GS, new ones can be configured. For example, the following code creates a red button at location y=30.</p>
    <div class="example"><pre>
gs:config(Win,[{default,button,{y,30}},
{default,button,{font,{courier,18}}}]),
B=gs:create(button,Win,[{x,0},{label,{text,"press Me"}}]).
    </pre></div>
    <p>The syntax for the default option is <span class="code">{default,Objecttype,{Option,DefaultValue}}</span>, where <span class="code">Objecttype</span> is the name of any GS object. The special keywords <span class="code">all</span> or <span class="code">buttons</span> which denote button, radio button, and check button can be used.</p>
    <p>The semantics for the default option can be expressed as follows: If an object of kind <span class="code">Objecttype</span> is created and no value for <span class="code">Option</span> is given, then use <span class="code">DefaultValue</span> as the value. Only options of <span class="code">{Key,Value}</span> syntax can be given a default values. Default values may be inherited in several steps. In the following example, the button will show the text "Cancel".</p>
    <div class="example"><pre>
gs:config(Win,[{default,button,{label,{text,"Cancel"}}}]),
F=gs:create(frame,Win,[]),
B=gs:create(button,F,[]).
    </pre></div>
    <p>Default values are inherited so that changed default values only affect new objects, not existing objects.</p>
    <p>Default values only have meaning when creating child objects, since objects which cannot have children cannot have default options. An example is buttons.</p>
    <p>The following example illustrates how default options can be used:</p>
    <a name="gs_fig7"></a>
    <img alt="IMAGE MISSING" src="images/ex16.gif"><br>
      <em>Figure
        6.1:
         
        Example of Default Options</em>
    
<div class="example"><pre>

-module(ex16).
-copyright('Copyright (c) 1991-97 Ericsson Telecom AB').
-vsn('$Revision: /main/release/3 $ ').

-export([start/0,init/0]).

start() -&gt; spawn(ex16, init, []).

init() -&gt;
    I=gs:start(),
    Win=gs:create(window, I,
                  [{width, 200},{height, 200},
                   {title,"Default Demo"},{map, true}]),
    gs:create(canvas, can1,Win,
	      [{x,0},{y, 0},{width,200},{height,200},
	       {default,text,{font,{courier,bold,19}}},
	       {default,text,{fg,blue}},
	       {default,rectangle,{fill,red}},{default,text,{text,"Pow!"}},
	       {default,oval,{fill,green}}]),
    {A,B,C} = erlang:now(),
    random:seed(A,B,C),
    loop().

loop() -&gt;
    receive
	{gs,_Id,destroy,_Data,_Arg} -&gt; bye
    after 500 -&gt;
	    XY = {random:uniform(200),random:uniform(200)},
	    draw(random:uniform(3),XY),
	    loop()
    end.

draw(1,XY) -&gt;
    gs:create(text,can1,[{coords,[XY]}]);
draw(2,XY) -&gt;
    XY2 = {random:uniform(200),random:uniform(200)},
    gs:create(rectangle,can1,[{coords,[XY,XY2]}]);
draw(3,XY) -&gt;
    XY2 = {random:uniform(200),random:uniform(200)},
    gs:create(oval,can1,[{coords,[XY,XY2]}]).
</pre></div>  
</div>
<div class="footer">
<hr>
<p>Copyright © 1997-2016 Ericsson AB. All Rights Reserved.</p>
</div>
</div>
</div></body>
</html>
