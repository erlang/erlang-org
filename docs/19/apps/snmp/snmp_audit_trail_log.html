<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:erl="http://erlang.org" xmlns:fn="http://www.w3.org/2005/02/xpath-functions">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="../../otp_doc.css" type="text/css">
<title>Erlang -- Audit Trail Log</title>
</head>
<body bgcolor="white" text="#000000" link="#0000ff" vlink="#ff00ff" alink="#ff0000"><div id="container">
<script id="js" type="text/javascript" language="JavaScript" src="../../js/flipmenu/flipmenu.js"></script><script id="js2" type="text/javascript" src="../../js/erlresolvelinks.js"></script><script language="JavaScript" type="text/javascript">
            <!--
              function getWinHeight() {
                var myHeight = 0;
                if( typeof( window.innerHeight ) == 'number' ) {
                  //Non-IE
                  myHeight = window.innerHeight;
                } else if( document.documentElement && ( document.documentElement.clientWidth ||
                                                         document.documentElement.clientHeight ) ) {
                  //IE 6+ in 'standards compliant mode'
                  myHeight = document.documentElement.clientHeight;
                } else if( document.body && ( document.body.clientWidth || document.body.clientHeight ) ) {
                  //IE 4 compatible
                  myHeight = document.body.clientHeight;
                }
                return myHeight;
              }

              function setscrollpos() {
                var objf=document.getElementById('loadscrollpos');
                 document.getElementById("leftnav").scrollTop = objf.offsetTop - getWinHeight()/2;
              }

              function addEvent(obj, evType, fn){
                if (obj.addEventListener){
                obj.addEventListener(evType, fn, true);
                return true;
              } else if (obj.attachEvent){
                var r = obj.attachEvent("on"+evType, fn);
                return r;
              } else {
                return false;
              }
             }

             addEvent(window, 'load', setscrollpos);

             //--></script><div id="leftnav"><div class="innertube">
<img alt="Erlang logo" src="../../erlang-logo.png"><br><small><a href="users_guide.html">User's Guide</a><br><a href="index.html">Reference Manual</a><br><a href="release_notes.html">Release Notes</a><br><a href="snmp.pdf">PDF</a><br><a href="../../index.html">Top</a></small><p><strong>Simple Network Management Protocol (SNMP)</strong><br><strong>User's Guide</strong><br><small>Version 5.2.5</small></p>
<br><a href="javascript:openAllFlips()">Expand All</a><br><a href="javascript:closeAllFlips()">Contract All</a><p><small><strong>Chapters</strong></small></p>
<ul class="flipMenu" imagePath="../../js/flipmenu">
<li id="no" title="SNMP Introduction" expanded="false">SNMP Introduction<ul>
<li><a href="snmp_intro.html">
              Top of chapter
            </a></li>
<li title="Scope and Purpose"><a href="snmp_intro.html#id71990">Scope and Purpose</a></li>
<li title="Prerequisites"><a href="snmp_intro.html#id63747">Prerequisites</a></li>
<li title="Definitions"><a href="snmp_intro.html#id62128">Definitions</a></li>
<li title="About This Manual"><a href="snmp_intro.html#id61663">About This Manual</a></li>
<li title="Where to Find More Information"><a href="snmp_intro.html#id74872">Where to Find More Information</a></li>
</ul>
</li>
<li id="no" title="Agent Functional Description" expanded="false">Agent Functional Description<ul>
<li><a href="snmp_agent_funct_descr.html">
              Top of chapter
            </a></li>
<li title="Features"><a href="snmp_agent_funct_descr.html#id57334">Features</a></li>
<li title="SNMPv1, SNMPv2 and SNMPv3"><a href="snmp_agent_funct_descr.html#id61458">SNMPv1, SNMPv2 and SNMPv3</a></li>
<li title="Operation"><a href="snmp_agent_funct_descr.html#id57294">Operation</a></li>
<li title="Sub-agents and MIB Loading"><a href="snmp_agent_funct_descr.html#id75188">Sub-agents and MIB Loading</a></li>
<li title="Contexts and Communities"><a href="snmp_agent_funct_descr.html#id73188">Contexts and Communities</a></li>
<li title="Management of the Agent"><a href="snmp_agent_funct_descr.html#id73320">Management of the Agent</a></li>
<li title="Notifications"><a href="snmp_agent_funct_descr.html#id76970">Notifications</a></li>
<li title="Discovery"><a href="snmp_agent_funct_descr.html#id77316">Discovery</a></li>
</ul>
</li>
<li id="no" title="Manager Functional Description" expanded="false">Manager Functional Description<ul>
<li><a href="snmp_manager_funct_descr.html">
              Top of chapter
            </a></li>
<li title="Features"><a href="snmp_manager_funct_descr.html#id77460">Features</a></li>
<li title="Operation"><a href="snmp_manager_funct_descr.html#id77610">Operation</a></li>
<li title="MIB loading"><a href="snmp_manager_funct_descr.html#id77678">MIB loading</a></li>
</ul>
</li>
<li id="no" title="The MIB Compiler" expanded="false">The MIB Compiler<ul>
<li><a href="snmp_mib_compiler.html">
              Top of chapter
            </a></li>
<li title="Operation"><a href="snmp_mib_compiler.html#id77798">Operation</a></li>
<li title="Importing MIBs"><a href="snmp_mib_compiler.html#id77861">Importing MIBs</a></li>
<li title="MIB Consistency Checking"><a href="snmp_mib_compiler.html#id77933">MIB Consistency Checking</a></li>
<li title=".hrl File Generation"><a href="snmp_mib_compiler.html#id77969">.hrl File Generation</a></li>
<li title="Emacs Integration"><a href="snmp_mib_compiler.html#id78019">Emacs Integration</a></li>
<li title="Compiling from a Shell or a Makefile"><a href="snmp_mib_compiler.html#id78066">Compiling from a Shell or a Makefile</a></li>
<li title="Deviations from the Standard"><a href="snmp_mib_compiler.html#id78119">Deviations from the Standard</a></li>
</ul>
</li>
<li id="no" title="Running the application" expanded="false">Running the application<ul>
<li><a href="snmp_config.html">
              Top of chapter
            </a></li>
<li title="Configuring the application"><a href="snmp_config.html#id78376">Configuring the application</a></li>
<li title="Modifying the Configuration Files"><a href="snmp_config.html#id81161">Modifying the Configuration Files</a></li>
<li title="Starting the application"><a href="snmp_config.html#id81251">Starting the application</a></li>
<li title="Debugging the application"><a href="snmp_config.html#id81301">Debugging the application</a></li>
</ul>
</li>
<li id="no" title="Definition of Agent Configuration Files" expanded="false">Definition of Agent Configuration Files<ul>
<li><a href="snmp_agent_config_files.html">
              Top of chapter
            </a></li>
<li title="Agent Information"><a href="snmp_agent_config_files.html#id81792">Agent Information</a></li>
<li title="Contexts"><a href="snmp_agent_config_files.html#id81956">Contexts</a></li>
<li title="System Information"><a href="snmp_agent_config_files.html#id82012">System Information</a></li>
<li title="Communities"><a href="snmp_agent_config_files.html#id82088">Communities</a></li>
<li title="MIB Views for VACM"><a href="snmp_agent_config_files.html#id82190">MIB Views for VACM</a></li>
<li title="Security data for USM"><a href="snmp_agent_config_files.html#id82428">Security data for USM</a></li>
<li title="Notify Definitions"><a href="snmp_agent_config_files.html#id82643">Notify Definitions</a></li>
<li title="Target Address Definitions"><a href="snmp_agent_config_files.html#id82723">Target Address Definitions</a></li>
<li title="Target Parameters Definitions"><a href="snmp_agent_config_files.html#id82965">Target Parameters Definitions</a></li>
</ul>
</li>
<li id="no" title="Definition of Manager Configuration Files" expanded="false">Definition of Manager Configuration Files<ul>
<li><a href="snmp_manager_config_files.html">
              Top of chapter
            </a></li>
<li title="Manager Information"><a href="snmp_manager_config_files.html#id83193">Manager Information</a></li>
<li title="Users"><a href="snmp_manager_config_files.html#id83453">Users</a></li>
<li title="Agents"><a href="snmp_manager_config_files.html#id83554">Agents</a></li>
<li title="Security data for USM"><a href="snmp_manager_config_files.html#id83783">Security data for USM</a></li>
</ul>
</li>
<li id="no" title="Agent Implementation Example" expanded="false">Agent Implementation Example<ul>
<li><a href="snmp_impl_example_agent.html">
              Top of chapter
            </a></li>
<li title="MIB"><a href="snmp_impl_example_agent.html#id84032">MIB</a></li>
<li title="Default Implementation"><a href="snmp_impl_example_agent.html#id84072">Default Implementation</a></li>
<li title="Manual Implementation"><a href="snmp_impl_example_agent.html#id84151">Manual Implementation</a></li>
</ul>
</li>
<li id="no" title="Manager Implementation Example" expanded="false">Manager Implementation Example<ul>
<li><a href="snmp_impl_example_manager.html">
              Top of chapter
            </a></li>
<li title="The example manager"><a href="snmp_impl_example_manager.html#id84481">The example manager</a></li>
<li title="A simple standard test"><a href="snmp_impl_example_manager.html#id84571">A simple standard test</a></li>
</ul>
</li>
<li id="no" title="Instrumentation Functions" expanded="false">Instrumentation Functions<ul>
<li><a href="snmp_instr_functions.html">
              Top of chapter
            </a></li>
<li title="Instrumentation Functions"><a href="snmp_instr_functions.html#id84712">Instrumentation Functions</a></li>
<li title="Using the ExtraArgument"><a href="snmp_instr_functions.html#id85326">Using the ExtraArgument</a></li>
<li title="Default Instrumentation"><a href="snmp_instr_functions.html#id85434">Default Instrumentation</a></li>
<li title="Atomic Set"><a href="snmp_instr_functions.html#id85539">Atomic Set</a></li>
</ul>
</li>
<li id="no" title="Definition of Instrumentation Functions" expanded="false">Definition of Instrumentation Functions<ul>
<li><a href="snmp_def_instr_functions.html">
              Top of chapter
            </a></li>
<li title="Variable Instrumentation"><a href="snmp_def_instr_functions.html#id85713">Variable Instrumentation</a></li>
<li title="Table Instrumentation"><a href="snmp_def_instr_functions.html#id86087">Table Instrumentation</a></li>
</ul>
</li>
<li id="no" title="Definition of Agent Net if" expanded="false">Definition of Agent Net if<ul>
<li><a href="snmp_agent_netif.html">
              Top of chapter
            </a></li>
<li title="Mandatory Functions"><a href="snmp_agent_netif.html#id86996">Mandatory Functions</a></li>
<li title="Messages"><a href="snmp_agent_netif.html#id87018">Messages</a></li>
</ul>
</li>
<li id="no" title="Definition of Manager Net if" expanded="false">Definition of Manager Net if<ul>
<li><a href="snmp_manager_netif.html">
              Top of chapter
            </a></li>
<li title="Mandatory Functions"><a href="snmp_manager_netif.html#id87856">Mandatory Functions</a></li>
<li title="Messages"><a href="snmp_manager_netif.html#id87874">Messages</a></li>
</ul>
</li>
<li id="loadscrollpos" title="Audit Trail Log" expanded="true">Audit Trail Log<ul>
<li><a href="snmp_audit_trail_log.html">
              Top of chapter
            </a></li>
<li title="Agent Logging"><a href="snmp_audit_trail_log.html#id88310">Agent Logging</a></li>
<li title="Manager Logging"><a href="snmp_audit_trail_log.html#id88352">Manager Logging</a></li>
</ul>
</li>
<li id="no" title="Advanced Agent Topics" expanded="false">Advanced Agent Topics<ul>
<li><a href="snmp_advanced_agent.html">
              Top of chapter
            </a></li>
<li title="When to use a Sub-agent"><a href="snmp_advanced_agent.html#id88498">When to use a Sub-agent</a></li>
<li title="Agent Semantics"><a href="snmp_advanced_agent.html#id88609">Agent Semantics</a></li>
<li title="Sub-agents and Dependencies "><a href="snmp_advanced_agent.html#id88673">Sub-agents and Dependencies </a></li>
<li title="Distributed Tables"><a href="snmp_advanced_agent.html#id88690">Distributed Tables</a></li>
<li title="Fault Tolerance"><a href="snmp_advanced_agent.html#id88747">Fault Tolerance</a></li>
<li title="Using Mnesia Tables as SNMP Tables"><a href="snmp_advanced_agent.html#id88821">Using Mnesia Tables as SNMP Tables</a></li>
<li title="Deviations from the Standard"><a href="snmp_advanced_agent.html#id89099">Deviations from the Standard</a></li>
</ul>
</li>
<li id="no" title="SNMP Appendix A" expanded="false">SNMP Appendix A<ul>
<li><a href="snmp_app_a.html">
              Top of chapter
            </a></li>
<li title="Appendix A"><a href="snmp_app_a.html#id89244">Appendix A</a></li>
</ul>
</li>
<li id="no" title="SNMP Appendix B" expanded="false">SNMP Appendix B<ul>
<li><a href="snmp_app_b.html">
              Top of chapter
            </a></li>
<li title="Appendix B"><a href="snmp_app_b.html#id89633">Appendix B</a></li>
</ul>
</li>
</ul>
</div></div>
<div id="content">
<div class="innertube">
<h1>14 Audit Trail Log</h1>
  
  <p>The chapter <strong>Audit Trail Log</strong> describes the audit trail logging.
    </p>
  <p>Both the agent and the manager can be configured to log 
    incoming and outgoing messages. It uses the Erlang standard log
    mechanism <span class="code">disk_log</span> for logging. The size and location of
    the log files are configurable. A wrap log is used, which means
    that when the log has grown to a maximum size, it starts from the
    beginning of the log, overwriting existing log records.
    </p>
  <p>The log can be either a <span class="code">read</span>, <span class="code">write</span> or a 
    <span class="code">read_write</span>. 
    </p>

  <h3><a name="id88310">14.1 
        Agent Logging</a></h3>
    
    <p>For the agent, a <span class="code">write</span>, means that all <span class="code">set</span> 
      requests and their responses are stored. No <span class="code">get</span> requests
      or traps are stored in a <span class="code">write</span>. A <span class="code">read_write</span>, 
      all requests, responses and traps are stored.
      </p>
    <p>The log uses a raw data format (basically the BER encoded
      message), in order to minimize the CPU load needed for the log
      mechanism.  This means that the log is not human readable, but
      needs to be formatted off-line before it can be read.  Use the
      function 
      <span class="bold_code"><a href="../../man/snmpa.html#log_to_txt">snmpa:log_to_txt</a></span> 
      for this purpose.
      </p>
  

  <h3><a name="id88352">14.2 
        Manager Logging</a></h3>
    
    <p>For the manager, a <span class="code">write</span>, means that all  
      requests (<span class="code">set</span> and <span class="code">get</span>) and their responses are stored. 
      No traps are stored in a <span class="code">write</span>. A <span class="code">read_write</span>, 
      all requests, responses and traps are stored.
      </p>
    <p>The log uses a raw data format (basically the BER encoded
      message), in order to minimize the CPU load needed for the log
      mechanism. This means that the log is not human readable, but
      needs to be formatted off-line before it can be read. Use the
      function 
      <span class="bold_code"><a href="../../man/snmpm.html#log_to_txt">snmpm:log_to_txt</a></span> 
      for this purpose.
      </p>
  
</div>
<div class="footer">
<hr>
<p>Copyright © 1997-2017 Ericsson AB. All Rights Reserved.</p>
</div>
</div>
</div></body>
</html>
