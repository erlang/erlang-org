<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:erl="http://erlang.org" xmlns:fn="http://www.w3.org/2005/02/xpath-functions">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="../otp_doc.css" type="text/css">
<title>Erlang -- mod_esi</title>
</head>
<body bgcolor="white" text="#000000" link="#0000ff" vlink="#ff00ff" alink="#ff0000"><div id="container">
<script id="js" type="text/javascript" language="JavaScript" src="../js/flipmenu/flipmenu.js"></script><script id="js2" type="text/javascript" src="../js/erlresolvelinks.js"></script><script language="JavaScript" type="text/javascript">
            <!--
              function getWinHeight() {
                var myHeight = 0;
                if( typeof( window.innerHeight ) == 'number' ) {
                  //Non-IE
                  myHeight = window.innerHeight;
                } else if( document.documentElement && ( document.documentElement.clientWidth ||
                                                         document.documentElement.clientHeight ) ) {
                  //IE 6+ in 'standards compliant mode'
                  myHeight = document.documentElement.clientHeight;
                } else if( document.body && ( document.body.clientWidth || document.body.clientHeight ) ) {
                  //IE 4 compatible
                  myHeight = document.body.clientHeight;
                }
                return myHeight;
              }

              function setscrollpos() {
                var objf=document.getElementById('loadscrollpos');
                 document.getElementById("leftnav").scrollTop = objf.offsetTop - getWinHeight()/2;
              }

              function addEvent(obj, evType, fn){
                if (obj.addEventListener){
                obj.addEventListener(evType, fn, true);
                return true;
              } else if (obj.attachEvent){
                var r = obj.attachEvent("on"+evType, fn);
                return r;
              } else {
                return false;
              }
             }

             addEvent(window, 'load', setscrollpos);

             //--></script><div id="leftnav"><div class="innertube">
<img alt="Erlang logo" src="../erlang-logo.png"><br><small><a href="../apps/inets/users_guide.html">User's Guide</a><br><a href="../apps/inets/index.html">Reference Manual</a><br><a href="../apps/inets/release_notes.html">Release Notes</a><br><a href="../apps/inets/inets.pdf">PDF</a><br><a href="../index.html">Top</a></small><p><strong>inets</strong><br><strong>Reference Manual</strong><br><small>Version 6.3.6</small></p>
<br><a href="javascript:openAllFlips()">Expand All</a><br><a href="javascript:closeAllFlips()">Contract All</a><p><small><strong>Table of Contents</strong></small></p>
<ul class="flipMenu">
<li id="no" title="inets " expanded="false">inets<ul>
<li><a href="inets.html">
                  Top of manual page
                </a></li>
    <li title="service_names-0"><a href="inets.html#service_names-0">service_names/0</a></li>
    <li title="services-0"><a href="inets.html#services-0">services/0</a></li>
    <li title="services_info-0"><a href="inets.html#services_info-0">services_info/0</a></li>
    <li title="start-0"><a href="inets.html#start-0">start/0</a></li>
    <li title="start-2"><a href="inets.html#start-2">start/2</a></li>
    <li title="start-3"><a href="inets.html#start-3">start/3</a></li>
    <li title="start-1"><a href="inets.html#start-1">start/1</a></li>
    <li title="stop-0"><a href="inets.html#stop-0">stop/0</a></li>
    <li title="stop-2"><a href="inets.html#stop-2">stop/2</a></li>
    </ul>
</li>
<li id="no" title="ftp " expanded="false">ftp<ul>
<li><a href="ftp.html">
                  Top of manual page
                </a></li>
    <li title="account-2"><a href="ftp.html#account-2">account/2</a></li>
    <li title="append-2"><a href="ftp.html#append-2">append/2</a></li>
    <li title="append-3"><a href="ftp.html#append-3">append/3</a></li>
    <li title="append_bin-3"><a href="ftp.html#append_bin-3">append_bin/3</a></li>
    <li title="append_chunk-2"><a href="ftp.html#append_chunk-2">append_chunk/2</a></li>
    <li title="append_chunk_end-1"><a href="ftp.html#append_chunk_end-1">append_chunk_end/1</a></li>
    <li title="append_chunk_start-2"><a href="ftp.html#append_chunk_start-2">append_chunk_start/2</a></li>
    <li title="cd-2"><a href="ftp.html#cd-2">cd/2</a></li>
    <li title="close-1"><a href="ftp.html#close-1">close/1</a></li>
    <li title="delete-2"><a href="ftp.html#delete-2">delete/2</a></li>
    <li title="formaterror-1"><a href="ftp.html#formaterror-1">formaterror/1</a></li>
    <li title="lcd-2"><a href="ftp.html#lcd-2">lcd/2</a></li>
    <li title="lpwd-1"><a href="ftp.html#lpwd-1">lpwd/1</a></li>
    <li title="ls-1"><a href="ftp.html#ls-1">ls/1</a></li>
    <li title="ls-2"><a href="ftp.html#ls-2">ls/2</a></li>
    <li title="mkdir-2"><a href="ftp.html#mkdir-2">mkdir/2</a></li>
    <li title="nlist-1"><a href="ftp.html#nlist-1">nlist/1</a></li>
    <li title="nlist-2"><a href="ftp.html#nlist-2">nlist/2</a></li>
    <li title="open-1"><a href="ftp.html#open-1">open/1</a></li>
    <li title="open-2"><a href="ftp.html#open-2">open/2</a></li>
    <li title="pwd-1"><a href="ftp.html#pwd-1">pwd/1</a></li>
    <li title="quote-2"><a href="ftp.html#quote-2">quote/2</a></li>
    <li title="recv-2"><a href="ftp.html#recv-2">recv/2</a></li>
    <li title="recv-3"><a href="ftp.html#recv-3">recv/3</a></li>
    <li title="recv_bin-2"><a href="ftp.html#recv_bin-2">recv_bin/2</a></li>
    <li title="recv_chunk-1"><a href="ftp.html#recv_chunk-1">recv_chunk/1</a></li>
    <li title="recv_chunk_start-2"><a href="ftp.html#recv_chunk_start-2">recv_chunk_start/2</a></li>
    <li title="rename-3"><a href="ftp.html#rename-3">rename/3</a></li>
    <li title="rmdir-2"><a href="ftp.html#rmdir-2">rmdir/2</a></li>
    <li title="send-2"><a href="ftp.html#send-2">send/2</a></li>
    <li title="send-3"><a href="ftp.html#send-3">send/3</a></li>
    <li title="send_bin-3"><a href="ftp.html#send_bin-3">send_bin/3</a></li>
    <li title="send_chunk-2"><a href="ftp.html#send_chunk-2">send_chunk/2</a></li>
    <li title="send_chunk_end-1"><a href="ftp.html#send_chunk_end-1">send_chunk_end/1</a></li>
    <li title="send_chunk_start-2"><a href="ftp.html#send_chunk_start-2">send_chunk_start/2</a></li>
    <li title="type-2"><a href="ftp.html#type-2">type/2</a></li>
    <li title="user-3"><a href="ftp.html#user-3">user/3</a></li>
    <li title="user-4"><a href="ftp.html#user-4">user/4</a></li>
    </ul>
</li>
<li id="no" title="tftp " expanded="false">tftp<ul>
<li><a href="tftp.html">
                  Top of manual page
                </a></li>
    <li title="change_config-2"><a href="tftp.html#change_config-2">change_config/2</a></li>
    <li title="change_config-2"><a href="tftp.html#change_config-2">change_config/2</a></li>
    <li title="change_config-2"><a href="tftp.html#change_config-2">change_config/2</a></li>
    <li title="info-1"><a href="tftp.html#info-1">info/1</a></li>
    <li title="info-1"><a href="tftp.html#info-1">info/1</a></li>
    <li title="info-1"><a href="tftp.html#info-1">info/1</a></li>
    <li title="read_file-3"><a href="tftp.html#read_file-3">read_file/3</a></li>
    <li title="start-1"><a href="tftp.html#start-1">start/1</a></li>
    <li title="write_file-3"><a href="tftp.html#write_file-3">write_file/3</a></li>
    <li title="Logger:error_msg-2"><a href="tftp.html#Logger:error_msg-2">Logger:error_msg/2</a></li>
    <li title="Logger:info_msg-2"><a href="tftp.html#Logger:info_msg-2">Logger:info_msg/2</a></li>
    <li title="Logger:warning_msg-2"><a href="tftp.html#Logger:warning_msg-2">Logger:warning_msg/2</a></li>
    <li title="Module:abort-3"><a href="tftp.html#Module:abort-3">Module:abort/3</a></li>
    <li title="Module:open-6"><a href="tftp.html#Module:open-6">Module:open/6</a></li>
    <li title="Module:prepare-6"><a href="tftp.html#Module:prepare-6">Module:prepare/6</a></li>
    <li title="Module:read-1"><a href="tftp.html#Module:read-1">Module:read/1</a></li>
    <li title="Module:write-2"><a href="tftp.html#Module:write-2">Module:write/2</a></li>
    </ul>
</li>
<li id="no" title="httpc " expanded="false">httpc<ul>
<li><a href="httpc.html">
                  Top of manual page
                </a></li>
    <li title="cancel_request-1"><a href="httpc.html#cancel_request-1">cancel_request/1</a></li>
    <li title="cancel_request-2"><a href="httpc.html#cancel_request-2">cancel_request/2</a></li>
    <li title="cookie_header-1"><a href="httpc.html#cookie_header-1">cookie_header/1</a></li>
    <li title="cookie_header-3"><a href="httpc.html#cookie_header-3">cookie_header/3</a></li>
    <li title="cookie_header-2"><a href="httpc.html#cookie_header-2">cookie_header/2</a></li>
    <li title="get_options-1"><a href="httpc.html#get_options-1">get_options/1</a></li>
    <li title="get_options-2"><a href="httpc.html#get_options-2">get_options/2</a></li>
    <li title="info-0"><a href="httpc.html#info-0">info/0</a></li>
    <li title="info-1"><a href="httpc.html#info-1">info/1</a></li>
    <li title="request-4"><a href="httpc.html#request-4">request/4</a></li>
    <li title="request-5"><a href="httpc.html#request-5">request/5</a></li>
    <li title="request-1"><a href="httpc.html#request-1">request/1</a></li>
    <li title="request-2"><a href="httpc.html#request-2">request/2</a></li>
    <li title="reset_cookies-0"><a href="httpc.html#reset_cookies-0">reset_cookies/0</a></li>
    <li title="reset_cookies-1"><a href="httpc.html#reset_cookies-1">reset_cookies/1</a></li>
    <li title="set_options-1"><a href="httpc.html#set_options-1">set_options/1</a></li>
    <li title="set_options-2"><a href="httpc.html#set_options-2">set_options/2</a></li>
    <li title="store_cookies-2"><a href="httpc.html#store_cookies-2">store_cookies/2</a></li>
    <li title="store_cookies-3"><a href="httpc.html#store_cookies-3">store_cookies/3</a></li>
    <li title="stream_next-1"><a href="httpc.html#stream_next-1">stream_next/1</a></li>
    <li title="which_cookies-0"><a href="httpc.html#which_cookies-0">which_cookies/0</a></li>
    <li title="which_cookies-1"><a href="httpc.html#which_cookies-1">which_cookies/1</a></li>
    <li title="which_sessions-0"><a href="httpc.html#which_sessions-0">which_sessions/0</a></li>
    <li title="which_sessions-1"><a href="httpc.html#which_sessions-1">which_sessions/1</a></li>
    </ul>
</li>
<li id="no" title="httpd " expanded="false">httpd<ul>
<li><a href="httpd.html">
                  Top of manual page
                </a></li>
    <li title="info-2"><a href="httpd.html#info-2">info/2</a></li>
    <li title="info-3"><a href="httpd.html#info-3">info/3</a></li>
    <li title="info-4"><a href="httpd.html#info-4">info/4</a></li>
    <li title="info-3"><a href="httpd.html#info-3">info/3</a></li>
    <li title="info-1"><a href="httpd.html#info-1">info/1</a></li>
    <li title="info-2"><a href="httpd.html#info-2">info/2</a></li>
    <li title="parse_query-1"><a href="httpd.html#parse_query-1">parse_query/1</a></li>
    <li title="reload_config-2"><a href="httpd.html#reload_config-2">reload_config/2</a></li>
    <li title="Module:do-1"><a href="httpd.html#Module:do-1">Module:do/1</a></li>
    <li title="Module:load-2"><a href="httpd.html#Module:load-2">Module:load/2</a></li>
    <li title="Module:remove-1"><a href="httpd.html#Module:remove-1">Module:remove/1</a></li>
    <li title="Module:store-2"><a href="httpd.html#Module:store-2">Module:store/2</a></li>
    </ul>
</li>
<li id="no" title="httpd_custom_api " expanded="false">httpd_custom_api<ul>
<li><a href="httpd_custom_api.html">
                  Top of manual page
                </a></li>
    <li title="request_header-1"><a href="httpd_custom_api.html#request_header-1">request_header/1</a></li>
    <li title="response_default_headers-0"><a href="httpd_custom_api.html#response_default_headers-0">response_default_headers/0</a></li>
    <li title="response_header-1"><a href="httpd_custom_api.html#response_header-1">response_header/1</a></li>
    </ul>
</li>
<li id="no" title="httpd_socket " expanded="false">httpd_socket<ul>
<li><a href="httpd_socket.html">
                  Top of manual page
                </a></li>
    <li title="deliver-3"><a href="httpd_socket.html#deliver-3">deliver/3</a></li>
    <li title="peername-2"><a href="httpd_socket.html#peername-2">peername/2</a></li>
    <li title="resolve-0"><a href="httpd_socket.html#resolve-0">resolve/0</a></li>
    </ul>
</li>
<li id="no" title="httpd_util " expanded="false">httpd_util<ul>
<li><a href="httpd_util.html">
                  Top of manual page
                </a></li>
    <li title="convert_request_date-1"><a href="httpd_util.html#convert_request_date-1">convert_request_date/1</a></li>
    <li title="create_etag-1"><a href="httpd_util.html#create_etag-1">create_etag/1</a></li>
    <li title="day-1"><a href="httpd_util.html#day-1">day/1</a></li>
    <li title="decode_hex-1"><a href="httpd_util.html#decode_hex-1">decode_hex/1</a></li>
    <li title="flatlength-1"><a href="httpd_util.html#flatlength-1">flatlength/1</a></li>
    <li title="hexlist_to_integer-1"><a href="httpd_util.html#hexlist_to_integer-1">hexlist_to_integer/1</a></li>
    <li title="integer_to_hexlist-1"><a href="httpd_util.html#integer_to_hexlist-1">integer_to_hexlist/1</a></li>
    <li title="lookup-2"><a href="httpd_util.html#lookup-2">lookup/2</a></li>
    <li title="lookup-3"><a href="httpd_util.html#lookup-3">lookup/3</a></li>
    <li title="lookup_mime-2"><a href="httpd_util.html#lookup_mime-2">lookup_mime/2</a></li>
    <li title="lookup_mime-3"><a href="httpd_util.html#lookup_mime-3">lookup_mime/3</a></li>
    <li title="lookup_mime_default-2"><a href="httpd_util.html#lookup_mime_default-2">lookup_mime_default/2</a></li>
    <li title="lookup_mime_default-3"><a href="httpd_util.html#lookup_mime_default-3">lookup_mime_default/3</a></li>
    <li title="message-3"><a href="httpd_util.html#message-3">message/3</a></li>
    <li title="month-1"><a href="httpd_util.html#month-1">month/1</a></li>
    <li title="multi_lookup-2"><a href="httpd_util.html#multi_lookup-2">multi_lookup/2</a></li>
    <li title="reason_phrase-1"><a href="httpd_util.html#reason_phrase-1">reason_phrase/1</a></li>
    <li title="rfc1123_date-0"><a href="httpd_util.html#rfc1123_date-0">rfc1123_date/0</a></li>
    <li title="rfc1123_date-2"><a href="httpd_util.html#rfc1123_date-2">rfc1123_date/2</a></li>
    <li title="split-3"><a href="httpd_util.html#split-3">split/3</a></li>
    <li title="split_path-1"><a href="httpd_util.html#split_path-1">split_path/1</a></li>
    <li title="split_script_path-1"><a href="httpd_util.html#split_script_path-1">split_script_path/1</a></li>
    <li title="strip-1"><a href="httpd_util.html#strip-1">strip/1</a></li>
    <li title="suffix-1"><a href="httpd_util.html#suffix-1">suffix/1</a></li>
    </ul>
</li>
<li id="no" title="mod_alias " expanded="false">mod_alias<ul>
<li><a href="mod_alias.html">
                  Top of manual page
                </a></li>
    <li title="default_index-2"><a href="mod_alias.html#default_index-2">default_index/2</a></li>
    <li title="path-3"><a href="mod_alias.html#path-3">path/3</a></li>
    <li title="real_name-3"><a href="mod_alias.html#real_name-3">real_name/3</a></li>
    <li title="real_script_name-3"><a href="mod_alias.html#real_script_name-3">real_script_name/3</a></li>
    </ul>
</li>
<li id="no" title="mod_auth " expanded="false">mod_auth<ul>
<li><a href="mod_auth.html">
                  Top of manual page
                </a></li>
    <li title="add_group_member-5"><a href="mod_auth.html#add_group_member-5">add_group_member/5</a></li>
    <li title="add_group_member-3"><a href="mod_auth.html#add_group_member-3">add_group_member/3</a></li>
    <li title="add_group_member-4"><a href="mod_auth.html#add_group_member-4">add_group_member/4</a></li>
    <li title="add_user-2"><a href="mod_auth.html#add_user-2">add_user/2</a></li>
    <li title="add_user-6"><a href="mod_auth.html#add_user-6">add_user/6</a></li>
    <li title="add_user-5"><a href="mod_auth.html#add_user-5">add_user/5</a></li>
    <li title="delete_group-4"><a href="mod_auth.html#delete_group-4">delete_group/4</a></li>
    <li title="delete_group-2"><a href="mod_auth.html#delete_group-2">delete_group/2</a></li>
    <li title="delete_group_member-5"><a href="mod_auth.html#delete_group_member-5">delete_group_member/5</a></li>
    <li title="delete_group_member-3"><a href="mod_auth.html#delete_group_member-3">delete_group_member/3</a></li>
    <li title="delete_group_member-4"><a href="mod_auth.html#delete_group_member-4">delete_group_member/4</a></li>
    <li title="delete_user-4"><a href="mod_auth.html#delete_user-4">delete_user/4</a></li>
    <li title="delete_user-3"><a href="mod_auth.html#delete_user-3">delete_user/3</a></li>
    <li title="delete_user-2"><a href="mod_auth.html#delete_user-2">delete_user/2</a></li>
    <li title="get_user-4"><a href="mod_auth.html#get_user-4">get_user/4</a></li>
    <li title="get_user-3"><a href="mod_auth.html#get_user-3">get_user/3</a></li>
    <li title="get_user-2"><a href="mod_auth.html#get_user-2">get_user/2</a></li>
    <li title="list_group_members-4"><a href="mod_auth.html#list_group_members-4">list_group_members/4</a></li>
    <li title="list_group_members-2"><a href="mod_auth.html#list_group_members-2">list_group_members/2</a></li>
    <li title="list_group_members-3"><a href="mod_auth.html#list_group_members-3">list_group_members/3</a></li>
    <li title="list_groups-3"><a href="mod_auth.html#list_groups-3">list_groups/3</a></li>
    <li title="list_groups-1"><a href="mod_auth.html#list_groups-1">list_groups/1</a></li>
    <li title="list_groups-2"><a href="mod_auth.html#list_groups-2">list_groups/2</a></li>
    <li title="list_users-3"><a href="mod_auth.html#list_users-3">list_users/3</a></li>
    <li title="list_users-1"><a href="mod_auth.html#list_users-1">list_users/1</a></li>
    <li title="list_users-2"><a href="mod_auth.html#list_users-2">list_users/2</a></li>
    <li title="update_password-6"><a href="mod_auth.html#update_password-6">update_password/6</a></li>
    <li title="update_password-5"><a href="mod_auth.html#update_password-5">update_password/5</a></li>
    </ul>
</li>
<li id="loadscrollpos" title="mod_esi " expanded="true">mod_esi<ul>
<li><a href="mod_esi.html">
                  Top of manual page
                </a></li>
    <li title="deliver-2"><a href="mod_esi.html#deliver-2">deliver/2</a></li>
    <li title="Module:Function-2"><a href="mod_esi.html#Module:Function-2">Module:Function/2</a></li>
    <li title="Module:Function-3"><a href="mod_esi.html#Module:Function-3">Module:Function/3</a></li>
    </ul>
</li>
<li id="no" title="mod_security " expanded="false">mod_security<ul>
<li><a href="mod_security.html">
                  Top of manual page
                </a></li>
    <li title="block_user-5"><a href="mod_security.html#block_user-5">block_user/5</a></li>
    <li title="block_user-4"><a href="mod_security.html#block_user-4">block_user/4</a></li>
    <li title="list_auth_users-2"><a href="mod_security.html#list_auth_users-2">list_auth_users/2</a></li>
    <li title="list_auth_users-3"><a href="mod_security.html#list_auth_users-3">list_auth_users/3</a></li>
    <li title="list_auth_users-1"><a href="mod_security.html#list_auth_users-1">list_auth_users/1</a></li>
    <li title="list_auth_users-2"><a href="mod_security.html#list_auth_users-2">list_auth_users/2</a></li>
    <li title="list_blocked_users-2"><a href="mod_security.html#list_blocked_users-2">list_blocked_users/2</a></li>
    <li title="list_blocked_users-3"><a href="mod_security.html#list_blocked_users-3">list_blocked_users/3</a></li>
    <li title="list_blocked_users-1"><a href="mod_security.html#list_blocked_users-1">list_blocked_users/1</a></li>
    <li title="list_blocked_users-2"><a href="mod_security.html#list_blocked_users-2">list_blocked_users/2</a></li>
    <li title="unblock_user-3"><a href="mod_security.html#unblock_user-3">unblock_user/3</a></li>
    <li title="unblock_user-4"><a href="mod_security.html#unblock_user-4">unblock_user/4</a></li>
    <li title="unblock_user-2"><a href="mod_security.html#unblock_user-2">unblock_user/2</a></li>
    <li title="unblock_user-3"><a href="mod_security.html#unblock_user-3">unblock_user/3</a></li>
    <li title="Module:event-5"><a href="mod_security.html#Module:event-5">Module:event/5</a></li>
    <li title="Module:event-4"><a href="mod_security.html#Module:event-4">Module:event/4</a></li>
    </ul>
</li>
<li id="no" title="http_uri " expanded="false">http_uri<ul>
<li><a href="http_uri.html">
                  Top of manual page
                </a></li>
    <li title="decode-1"><a href="http_uri.html#decode-1">decode/1</a></li>
    <li title="encode-1"><a href="http_uri.html#encode-1">encode/1</a></li>
    <li title="parse-1"><a href="http_uri.html#parse-1">parse/1</a></li>
    <li title="parse-2"><a href="http_uri.html#parse-2">parse/2</a></li>
    <li title="scheme_defaults-0"><a href="http_uri.html#scheme_defaults-0">scheme_defaults/0</a></li>
    </ul>
</li>
</ul>
</div></div>
<div id="content">
<div class="innertube">
<!-- refpage --><center><h1>mod_esi</h1></center>
  
  <h3>MODULE</h3>
<div class="REFBODY">mod_esi</div>
  <h3>MODULE SUMMARY</h3>
<div class="REFBODY">Erlang Server Interface</div>
  <h3>DESCRIPTION</h3>
<div class="REFBODY"><p>
    <p>This module defines the Erlang Server Interface (ESI) API.
    It is a more efficient way of writing Erlang scripts
    for your <span class="code">Inets</span> web server than writing them as common CGI scripts.</p>

    <a name="deliver"></a>
  </p></div>

 <h3><a name="id91212">DATA TYPES</a></h3>
<div class="REFBODY">
    
    <p>The following data types are used in the functions for mod_esi:</p>

    <dl>
      <dt><strong><span class="code">env() = </span></strong></dt>
      <dd> <p><span class="code">{EnvKey()::atom(), Value::term()}</span></p>

      <p>Currently supported key value pairs</p>
      <dl>		
	
	<dt><strong><span class="code">{server_software, string()}</span></strong></dt>
	<dd><p>Indicates the inets version.</p></dd>
	
	<dt><strong><span class="code">{server_name, string()}</span></strong></dt>
	<dd><p>The local hostname. </p></dd>

	<dt><strong><span class="code">{gateway_interface, string()}</span></strong></dt>
	<dd>
<p>Legacy string used in CGI, just ignore.</p> </dd>
	
	<dt><strong><span class="code">{server_protocol, string()}</span></strong></dt>
	<dd><p> HTTP version, currently "HTTP/1.1"</p></dd>
	
	<dt><strong><span class="code">{server_port, integer()}</span></strong></dt>
	<dd><p>Servers port number.</p></dd>
	
	<dt><strong><span class="code">{request_method, "GET | "PUT" | "DELETE" | "POST" | "PATCH"}</span></strong></dt>
	<dd><p>HTTP request method.</p></dd>
		
	<dt><strong><span class="code">{remote_adress, inet:ip_address()} </span></strong></dt>
	<dd><p>The clients ip address.</p></dd>

	<dt><strong><span class="code">{peer_cert, undefined | no_peercert | DER:binary()}</span></strong></dt>
	<dd>
	  <p>For TLS connections where client certificates are used this will
	  be an ASN.1 DER-encoded X509-certificate as an Erlang binary.
	  If client certificates are not used the value will be <span class="code">no_peercert</span>,
	  and if TLS is not used (HTTP or connection is lost due to network failure)
	  the value will be <span class="code">undefined</span>.
	</p>
</dd>
	
	<dt><strong><span class="code">{script_name, string()}</span></strong></dt>
	<dd><p>Request URI</p></dd>

	<dt><strong><span class="code">{http_LowerCaseHTTPHeaderName, string()}</span></strong></dt>
	<dd><p>example: {http_content_type, "text/html"}</p></dd>
      </dl>    
      </dd>
    </dl>
 </div>

 <h3>EXPORTS</h3>
   <p><a name="deliver-2"></a><span class="bold_code">deliver(SessionID, Data) -&gt; ok | {error, Reason}</span><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">SessionID = term()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Data = string() | io_list() | binary()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">Reason = term()</span><br>
</div>
     </div>
<div class="REFBODY"><p>
       <a name="deliver"></a>
       <p>This function is <strong>only</strong> intended to be used from
       functions called by the Erl Scheme interface to deliver
       parts of the content to the user.</p>
       <p>Sends data from an Erl Scheme script back to the client.</p>
	
       <div class="note">
<div class="label">Note</div>
<div class="content"><p>
	 <p>If any HTTP header fields are added by the
	 script, they must be in the first call to <span class="code">deliver/2</span>, 
	 and the data in the call must be a string. Calls after the headers
	 are complete can contain binary data to reduce copying
	 overhead. Do not assume anything about the data type of 
	 <span class="code">SessionID</span>. <span class="code">SessionID</span> must be the value given 
	 as input to the ESI callback function that you implemented.</p>
       </p></div>
</div>
     </p></div>
 
  
 <h3><a name="id91435">ESI Callback Functions</a></h3>
<div class="REFBODY">
   
 </div>

 <h3>EXPORTS</h3>
   <p><a name="Module:Function-3"></a><span class="bold_code">Module:Function(SessionID, Env, Input)-&gt; _ </span><br></p>
<div class="REFBODY">
<p>Types:</p>
       <div class="REFTYPES">
<span class="bold_code">SessionID = term()</span><br>
</div>
       <div class="REFTYPES">
<span class="bold_code">Env = env()</span><br>
</div>
       <div class="REFTYPES">
<span class="bold_code">Input = string()</span><br>
</div>
     </div>
<div class="REFBODY"><p>
        <p><span class="code">Module</span> must be found in the code path and export
        <span class="code">Function</span> with an arity of three. An <span class="code">erlScriptAlias</span> must
        also be set up in the configuration file for the web server.</p>
        <p>If the HTTP request is a 'post' request and a body is sent,
        <span class="code">content_length</span> is the length of the posted
        data. If 'get' is used, <span class="code">query_string</span> is the data after
        <strong>?</strong> in the URL.</p>
        <p><span class="code">ParsedHeader</span> is the HTTP request as a key-value tuple
        list. The keys in <span class="code">ParsedHeader</span> are in lower case.</p>
        <p><span class="code">SessionID</span> is an identifier
        the server uses when <span class="code">deliver/2</span> is called. Do not
        assume anything about the datatype.</p>
        <p>Use this callback function to generate dynamic web
        content dynamically. When a part of the page is generated, send the
        data back to the client through <span class="code">deliver/2</span>. Notice
        that the first chunk of data sent to the client must at
        least contain all HTTP header fields that the response
        will generate. If the first chunk does not contain the
        <strong>end of HTTP header</strong>, that is, <span class="code">"\r\n\r\n",</span>
        the server assumes that no HTTP header fields will be generated.</p>
      </p></div>

   <p><a name="Module:Function-2"></a><span class="bold_code">Module:Function(Env, Input)-&gt; Response </span><br></p>
<div class="REFBODY">
<p>Types:</p>
       <div class="REFTYPES">
<span class="bold_code">Env = env()</span><br>
</div>
       <div class="REFTYPES">
<span class="bold_code">Input = string()</span><br>
</div>
       <div class="REFTYPES">
<span class="bold_code">Response = string()</span><br>
</div>
     </div>
<div class="REFBODY"><p>
        <p>This callback format consumes much memory, as the
        whole response must be generated before it is sent to the
        user. This function is deprecated and is only kept for backwards
        compatibility.
        For new development, use <span class="code">Module:Function/3</span>.</p>
      </p></div>
 
 
</div>
<div class="footer">
<hr>
<p>Copyright Â© 1997-2017 Ericsson AB. All Rights Reserved.</p>
</div>
</div>
</div></body>
</html>
