<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:erl="http://erlang.org" xmlns:fn="http://www.w3.org/2005/02/xpath-functions">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="../otp_doc.css" type="text/css">
<title>Erlang -- ssh_sftpd</title>
</head>
<body>
<div id="container">
<script id="js" type="text/javascript" language="JavaScript" src="../js/flipmenu/flipmenu.js"></script><script id="js2" type="text/javascript" src="../js/erlresolvelinks.js"></script><script language="JavaScript" type="text/javascript">
            <!--
              function getWinHeight() {
                var myHeight = 0;
                if( typeof( window.innerHeight ) == 'number' ) {
                  //Non-IE
                  myHeight = window.innerHeight;
                } else if( document.documentElement && ( document.documentElement.clientWidth ||
                                                         document.documentElement.clientHeight ) ) {
                  //IE 6+ in 'standards compliant mode'
                  myHeight = document.documentElement.clientHeight;
                } else if( document.body && ( document.body.clientWidth || document.body.clientHeight ) ) {
                  //IE 4 compatible
                  myHeight = document.body.clientHeight;
                }
                return myHeight;
              }

              function setscrollpos() {
                var objf=document.getElementById('loadscrollpos');
                 document.getElementById("leftnav").scrollTop = objf.offsetTop - getWinHeight()/2;
              }

              function addEvent(obj, evType, fn){
                if (obj.addEventListener){
                obj.addEventListener(evType, fn, true);
                return true;
              } else if (obj.attachEvent){
                var r = obj.attachEvent("on"+evType, fn);
                return r;
              } else {
                return false;
              }
             }

             addEvent(window, 'load', setscrollpos);

             //--></script><div id="leftnav"><div class="innertube">
<div class="erlang-logo-wrapper"><a href="../index.html"><img alt="Erlang Logo" src="../erlang-logo.png" class="erlang-logo"></a></div>
<p class="section-title">SSH</p>
<p class="section-subtitle">Reference Manual</p>
<p class="section-version">Version 4.7.6.6</p>
<ul class="panel-sections">
<li><a href="../apps/ssh/users_guide.html">User's Guide</a></li>
<li><a href="../apps/ssh/index.html">Reference Manual</a></li>
<li><a href="../apps/ssh/release_notes.html">Release Notes</a></li>
<li><a href="../apps/ssh/ssh.pdf">PDF</a></li>
<li><a href="../index.html">Top</a></li>
</ul>
<ul class="expand-collapse-items">
<li><a href="javascript:openAllFlips()">Expand All</a></li>
<li><a href="javascript:closeAllFlips()">Contract All</a></li>
</ul>
<h3>Table of Contents</h3>
<ul class="flipMenu">
<li title="SSH (App)"><a href="SSH_app.html">SSH (App)
                </a></li>
<li id="no" title="ssh " expanded="false">ssh<ul>
<li><a href="ssh.html">
                  Top of manual page
                </a></li>
    <li title="close-1"><a href="ssh.html#close-1">close/1</a></li>
    <li title="connect-3"><a href="ssh.html#connect-3">connect/3</a></li>
    <li title="connect-4"><a href="ssh.html#connect-4">connect/4</a></li>
    <li title="connect-2"><a href="ssh.html#connect-2">connect/2</a></li>
    <li title="connect-3"><a href="ssh.html#connect-3">connect/3</a></li>
    <li title="connection_info-2"><a href="ssh.html#connection_info-2">connection_info/2</a></li>
    <li title="daemon-1"><a href="ssh.html#daemon-1">daemon/1</a></li>
    <li title="daemon-2"><a href="ssh.html#daemon-2">daemon/2</a></li>
    <li title="daemon-3"><a href="ssh.html#daemon-3">daemon/3</a></li>
    <li title="daemon_info-1"><a href="ssh.html#daemon_info-1">daemon_info/1</a></li>
    <li title="default_algorithms-0"><a href="ssh.html#default_algorithms-0">default_algorithms/0</a></li>
    <li title="shell-1"><a href="ssh.html#shell-1">shell/1</a></li>
    <li title="shell-2"><a href="ssh.html#shell-2">shell/2</a></li>
    <li title="shell-3"><a href="ssh.html#shell-3">shell/3</a></li>
    <li title="start-0"><a href="ssh.html#start-0">start/0</a></li>
    <li title="start-1"><a href="ssh.html#start-1">start/1</a></li>
    <li title="stop-0"><a href="ssh.html#stop-0">stop/0</a></li>
    <li title="stop_daemon-1"><a href="ssh.html#stop_daemon-1">stop_daemon/1</a></li>
    <li title="stop_daemon-2"><a href="ssh.html#stop_daemon-2">stop_daemon/2</a></li>
    <li title="stop_daemon-3"><a href="ssh.html#stop_daemon-3">stop_daemon/3</a></li>
    <li title="stop_listener-1"><a href="ssh.html#stop_listener-1">stop_listener/1</a></li>
    <li title="stop_listener-2"><a href="ssh.html#stop_listener-2">stop_listener/2</a></li>
    <li title="stop_listener-3"><a href="ssh.html#stop_listener-3">stop_listener/3</a></li>
    </ul>
</li>
<li id="no" title="ssh_client_channel " expanded="false">ssh_client_channel<ul>
<li><a href="ssh_client_channel.html">
                  Top of manual page
                </a></li>
    <li title="call-2"><a href="ssh_client_channel.html#call-2">call/2</a></li>
    <li title="call-3"><a href="ssh_client_channel.html#call-3">call/3</a></li>
    <li title="cast-2"><a href="ssh_client_channel.html#cast-2">cast/2</a></li>
    <li title="enter_loop-1"><a href="ssh_client_channel.html#enter_loop-1">enter_loop/1</a></li>
    <li title="init-1"><a href="ssh_client_channel.html#init-1">init/1</a></li>
    <li title="reply-2"><a href="ssh_client_channel.html#reply-2">reply/2</a></li>
    <li title="start-4"><a href="ssh_client_channel.html#start-4">start/4</a></li>
    <li title="start_link-4"><a href="ssh_client_channel.html#start_link-4">start_link/4</a></li>
    <li title="Module:code_change-3"><a href="ssh_client_channel.html#Module:code_change-3">Module:code_change/3</a></li>
    <li title="Module:handle_call-3"><a href="ssh_client_channel.html#Module:handle_call-3">Module:handle_call/3</a></li>
    <li title="Module:handle_cast-2"><a href="ssh_client_channel.html#Module:handle_cast-2">Module:handle_cast/2</a></li>
    <li title="Module:handle_msg-2"><a href="ssh_client_channel.html#Module:handle_msg-2">Module:handle_msg/2</a></li>
    <li title="Module:handle_ssh_msg-2"><a href="ssh_client_channel.html#Module:handle_ssh_msg-2">Module:handle_ssh_msg/2</a></li>
    <li title="Module:init-1"><a href="ssh_client_channel.html#Module:init-1">Module:init/1</a></li>
    <li title="Module:terminate-2"><a href="ssh_client_channel.html#Module:terminate-2">Module:terminate/2</a></li>
    </ul>
</li>
<li id="no" title="ssh_server_channel " expanded="false">ssh_server_channel<ul>
<li><a href="ssh_server_channel.html">
                  Top of manual page
                </a></li>
    <li title="Module:handle_msg-2"><a href="ssh_server_channel.html#Module:handle_msg-2">Module:handle_msg/2</a></li>
    <li title="Module:handle_ssh_msg-2"><a href="ssh_server_channel.html#Module:handle_ssh_msg-2">Module:handle_ssh_msg/2</a></li>
    <li title="Module:init-1"><a href="ssh_server_channel.html#Module:init-1">Module:init/1</a></li>
    <li title="Module:terminate-2"><a href="ssh_server_channel.html#Module:terminate-2">Module:terminate/2</a></li>
    </ul>
</li>
<li id="no" title="ssh_connection " expanded="false">ssh_connection<ul>
<li><a href="ssh_connection.html">
                  Top of manual page
                </a></li>
    <li title="adjust_window-3"><a href="ssh_connection.html#adjust_window-3">adjust_window/3</a></li>
    <li title="close-2"><a href="ssh_connection.html#close-2">close/2</a></li>
    <li title="exec-4"><a href="ssh_connection.html#exec-4">exec/4</a></li>
    <li title="exit_status-3"><a href="ssh_connection.html#exit_status-3">exit_status/3</a></li>
    <li title="ptty_alloc-3"><a href="ssh_connection.html#ptty_alloc-3">ptty_alloc/3</a></li>
    <li title="ptty_alloc-4"><a href="ssh_connection.html#ptty_alloc-4">ptty_alloc/4</a></li>
    <li title="reply_request-4"><a href="ssh_connection.html#reply_request-4">reply_request/4</a></li>
    <li title="send-3"><a href="ssh_connection.html#send-3">send/3</a></li>
    <li title="send-4"><a href="ssh_connection.html#send-4">send/4</a></li>
    <li title="send-4"><a href="ssh_connection.html#send-4">send/4</a></li>
    <li title="send-5"><a href="ssh_connection.html#send-5">send/5</a></li>
    <li title="send_eof-2"><a href="ssh_connection.html#send_eof-2">send_eof/2</a></li>
    <li title="session_channel-2"><a href="ssh_connection.html#session_channel-2">session_channel/2</a></li>
    <li title="session_channel-4"><a href="ssh_connection.html#session_channel-4">session_channel/4</a></li>
    <li title="setenv-5"><a href="ssh_connection.html#setenv-5">setenv/5</a></li>
    <li title="shell-2"><a href="ssh_connection.html#shell-2">shell/2</a></li>
    <li title="subsystem-4"><a href="ssh_connection.html#subsystem-4">subsystem/4</a></li>
    </ul>
</li>
<li id="no" title="ssh_client_key_api " expanded="false">ssh_client_key_api<ul>
<li><a href="ssh_client_key_api.html">
                  Top of manual page
                </a></li>
    <li title="Module:add_host_key-3"><a href="ssh_client_key_api.html#Module:add_host_key-3">Module:add_host_key/3</a></li>
    <li title="Module:is_host_key-4"><a href="ssh_client_key_api.html#Module:is_host_key-4">Module:is_host_key/4</a></li>
    <li title="Module:user_key-2"><a href="ssh_client_key_api.html#Module:user_key-2">Module:user_key/2</a></li>
    </ul>
</li>
<li id="no" title="ssh_server_key_api " expanded="false">ssh_server_key_api<ul>
<li><a href="ssh_server_key_api.html">
                  Top of manual page
                </a></li>
    <li title="Module:host_key-2"><a href="ssh_server_key_api.html#Module:host_key-2">Module:host_key/2</a></li>
    <li title="Module:is_auth_key-3"><a href="ssh_server_key_api.html#Module:is_auth_key-3">Module:is_auth_key/3</a></li>
    </ul>
</li>
<li id="no" title="ssh_file " expanded="false">ssh_file<ul>
<li><a href="ssh_file.html">
                  Top of manual page
                </a></li>
    <li title="add_host_key-3"><a href="ssh_file.html#add_host_key-3">add_host_key/3</a></li>
    <li title="host_key-2"><a href="ssh_file.html#host_key-2">host_key/2</a></li>
    <li title="is_auth_key-3"><a href="ssh_file.html#is_auth_key-3">is_auth_key/3</a></li>
    <li title="is_host_key-4"><a href="ssh_file.html#is_host_key-4">is_host_key/4</a></li>
    <li title="user_key-2"><a href="ssh_file.html#user_key-2">user_key/2</a></li>
    </ul>
</li>
<li id="no" title="ssh_sftp " expanded="false">ssh_sftp<ul>
<li><a href="ssh_sftp.html">
                  Top of manual page
                </a></li>
    <li title="apread-4"><a href="ssh_sftp.html#apread-4">apread/4</a></li>
    <li title="apwrite-4"><a href="ssh_sftp.html#apwrite-4">apwrite/4</a></li>
    <li title="aread-3"><a href="ssh_sftp.html#aread-3">aread/3</a></li>
    <li title="awrite-3"><a href="ssh_sftp.html#awrite-3">awrite/3</a></li>
    <li title="close-2"><a href="ssh_sftp.html#close-2">close/2</a></li>
    <li title="close-3"><a href="ssh_sftp.html#close-3">close/3</a></li>
    <li title="del_dir-2"><a href="ssh_sftp.html#del_dir-2">del_dir/2</a></li>
    <li title="del_dir-3"><a href="ssh_sftp.html#del_dir-3">del_dir/3</a></li>
    <li title="delete-2"><a href="ssh_sftp.html#delete-2">delete/2</a></li>
    <li title="delete-3"><a href="ssh_sftp.html#delete-3">delete/3</a></li>
    <li title="list_dir-2"><a href="ssh_sftp.html#list_dir-2">list_dir/2</a></li>
    <li title="list_dir-3"><a href="ssh_sftp.html#list_dir-3">list_dir/3</a></li>
    <li title="make_dir-2"><a href="ssh_sftp.html#make_dir-2">make_dir/2</a></li>
    <li title="make_dir-3"><a href="ssh_sftp.html#make_dir-3">make_dir/3</a></li>
    <li title="make_symlink-3"><a href="ssh_sftp.html#make_symlink-3">make_symlink/3</a></li>
    <li title="make_symlink-4"><a href="ssh_sftp.html#make_symlink-4">make_symlink/4</a></li>
    <li title="open-3"><a href="ssh_sftp.html#open-3">open/3</a></li>
    <li title="open-4"><a href="ssh_sftp.html#open-4">open/4</a></li>
    <li title="open_tar-3"><a href="ssh_sftp.html#open_tar-3">open_tar/3</a></li>
    <li title="open_tar-4"><a href="ssh_sftp.html#open_tar-4">open_tar/4</a></li>
    <li title="opendir-2"><a href="ssh_sftp.html#opendir-2">opendir/2</a></li>
    <li title="opendir-3"><a href="ssh_sftp.html#opendir-3">opendir/3</a></li>
    <li title="position-3"><a href="ssh_sftp.html#position-3">position/3</a></li>
    <li title="position-4"><a href="ssh_sftp.html#position-4">position/4</a></li>
    <li title="pread-4"><a href="ssh_sftp.html#pread-4">pread/4</a></li>
    <li title="pread-5"><a href="ssh_sftp.html#pread-5">pread/5</a></li>
    <li title="pwrite-4"><a href="ssh_sftp.html#pwrite-4">pwrite/4</a></li>
    <li title="pwrite-5"><a href="ssh_sftp.html#pwrite-5">pwrite/5</a></li>
    <li title="read-3"><a href="ssh_sftp.html#read-3">read/3</a></li>
    <li title="read-4"><a href="ssh_sftp.html#read-4">read/4</a></li>
    <li title="read_file-2"><a href="ssh_sftp.html#read_file-2">read_file/2</a></li>
    <li title="read_file-3"><a href="ssh_sftp.html#read_file-3">read_file/3</a></li>
    <li title="read_file_info-2"><a href="ssh_sftp.html#read_file_info-2">read_file_info/2</a></li>
    <li title="read_file_info-3"><a href="ssh_sftp.html#read_file_info-3">read_file_info/3</a></li>
    <li title="read_link-2"><a href="ssh_sftp.html#read_link-2">read_link/2</a></li>
    <li title="read_link-3"><a href="ssh_sftp.html#read_link-3">read_link/3</a></li>
    <li title="read_link_info-2"><a href="ssh_sftp.html#read_link_info-2">read_link_info/2</a></li>
    <li title="read_link_info-3"><a href="ssh_sftp.html#read_link_info-3">read_link_info/3</a></li>
    <li title="rename-3"><a href="ssh_sftp.html#rename-3">rename/3</a></li>
    <li title="rename-4"><a href="ssh_sftp.html#rename-4">rename/4</a></li>
    <li title="start_channel-1"><a href="ssh_sftp.html#start_channel-1">start_channel/1</a></li>
    <li title="start_channel-2"><a href="ssh_sftp.html#start_channel-2">start_channel/2</a></li>
    <li title="start_channel-2"><a href="ssh_sftp.html#start_channel-2">start_channel/2</a></li>
    <li title="start_channel-3"><a href="ssh_sftp.html#start_channel-3">start_channel/3</a></li>
    <li title="start_channel-1"><a href="ssh_sftp.html#start_channel-1">start_channel/1</a></li>
    <li title="start_channel-2"><a href="ssh_sftp.html#start_channel-2">start_channel/2</a></li>
    <li title="stop_channel-1"><a href="ssh_sftp.html#stop_channel-1">stop_channel/1</a></li>
    <li title="write-3"><a href="ssh_sftp.html#write-3">write/3</a></li>
    <li title="write-4"><a href="ssh_sftp.html#write-4">write/4</a></li>
    <li title="write_file-3"><a href="ssh_sftp.html#write_file-3">write_file/3</a></li>
    <li title="write_file-4"><a href="ssh_sftp.html#write_file-4">write_file/4</a></li>
    <li title="write_file_info-3"><a href="ssh_sftp.html#write_file_info-3">write_file_info/3</a></li>
    <li title="write_file_info-4"><a href="ssh_sftp.html#write_file_info-4">write_file_info/4</a></li>
    </ul>
</li>
<li id="loadscrollpos" title="ssh_sftpd " expanded="true">ssh_sftpd<ul>
<li><a href="ssh_sftpd.html">
                  Top of manual page
                </a></li>
    <li title="subsystem_spec-1"><a href="ssh_sftpd.html#subsystem_spec-1">subsystem_spec/1</a></li>
    </ul>
</li>
</ul>
</div></div>
<div id="content">
<div class="innertube">
<!-- refpage --><center><h1>ssh_sftpd</h1></center>
  
  <h3><span onMouseOver="document.getElementById('ghlink-module-idm3418').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-module-idm3418').style.visibility = 'hidden';"><span id="ghlink-module-idm3418"></span><a class="title_link" name="module" href="#module">Module</a></span></h3>
<div class="REFBODY module-body">ssh_sftpd</div>
  <h3><span onMouseOver="document.getElementById('ghlink-module-summary-idm3419').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-module-summary-idm3419').style.visibility = 'hidden';"><span id="ghlink-module-summary-idm3419"></span><a class="title_link" name="module-summary" href="#module-summary">Module Summary</a></span></h3>
<div class="REFBODY module-summary-body">Specifies the channel process to handle an SFTP subsystem.</div>
  <h3><span onMouseOver="document.getElementById('ghlink-description-idm3420').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-description-idm3420').style.visibility = 'hidden';"><span id="ghlink-description-idm3420" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_sftpd.xml#L34" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="description" href="#description">Description</a></span></h3>
<div class="REFBODY description-body"><p>
    <p>Specifies a channel process to handle an SFTP subsystem.</p>
  </p></div>

  <h3><span onMouseOver="document.getElementById('ghlink-data-types-idm3422').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-data-types-idm3422').style.visibility = 'hidden';"><span id="ghlink-data-types-idm3422" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_sftpd.xml#L38" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="data-types" href="#data-types">DATA TYPES</a></span></h3>
<div class="REFBODY rb-3">
    
    <dl>
      <dt><strong><span class="code">subsystem_spec() =</span></strong></dt>
      <dd><p><span class="code">{subsystem_name(), {channel_callback(), channel_init_args()}}</span></p></dd>
      <dt><strong><span class="code">subsystem_name() =</span></strong></dt>
      <dd><p><span class="code">"sftp"</span></p></dd>
      <dt><strong><span class="code">channel_callback() =</span></strong></dt>
      <dd><p><span class="code">atom()</span> - Name of the Erlang module implementing the subsystem using the
      <span class="bold_code bc-19"><a href="ssh_server_channel.html">ssh_server_channel</a></span> (replaces ssh_daemon_channel) behaviour.</p></dd>
      <dt><strong><span class="code">channel_init_args() =</span></strong></dt>
      <dd><p><span class="code">list()</span> - The one given as argument to function <span class="code">subsystem_spec/1</span>.</p></dd>
    </dl>
  </div>
  <h3><span onMouseOver="document.getElementById('ghlink-exports-idm3447').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-exports-idm3447').style.visibility = 'hidden';"><span id="ghlink-exports-idm3447"></span><a class="title_link" name="exports" href="#exports">Exports</a></span></h3>
<div class="exports-body">
    <table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-subsystem_spec-1-idm3449').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-subsystem_spec-1-idm3449').style.visibility = 'hidden';"><span id="ghlink-subsystem_spec-1-idm3449" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/ssh/doc/src/ssh_sftpd.xml#L53" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="subsystem_spec-1" href="#subsystem_spec-1">subsystem_spec(Options) -&gt; subsystem_spec()</a></span></div></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-5">
<h3 class="func-types-title">Types</h3>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Options = [{Option, Value}]</span><br>
</div>
      </div>
<div class="REFBODY rb-7"><p>
        <p>Is to be used together with <span class="code">ssh:daemon/[1,2,3]</span></p>
        <p>Options:</p>
        <dl>
          <dt><strong><span class="code">{cwd, String}</span></strong></dt>
          <dd>
            <p>Sets the initial current working directory for the server.</p>
          </dd>
          <dt><strong><span class="code">{file_handler, CallbackModule}</span></strong></dt>
          <dd>
	    <p>Determines which module to call for accessing
	    the file server. The default value is <span class="code">ssh_sftpd_file</span>, which uses the
	    <span class="bold_code bc-18"><a href="file.html">file</a></span> and <span class="bold_code bc-18"><a href="filelib.html">filelib</a></span>
	    APIs to access the standard OTP file server. This option can be used to plug in
	    other file servers.</p>
	  </dd>
	  <dt><strong><span class="code">{max_files, Integer}</span></strong></dt>
	  <dd>
	    <p>The default value is <span class="code">0</span>, which means that there is no upper limit.
	    If supplied, the number of filenames returned to the SFTP client per <span class="code">READDIR</span>
	    request is limited to at most the given value.</p>
	  </dd>
	  <dt><strong><span class="code">{root, String}</span></strong></dt>
	  <dd>
	    <p>Sets the SFTP root directory. Then the user cannot see any files
	    above this root. If, for example, the root directory is set to <span class="code">/tmp</span>,
	    then the user sees this directory as <span class="code">/</span>. If the user then writes
	    <span class="code">cd /etc</span>, the user moves to <span class="code">/tmp/etc</span>.
	    </p>
	  </dd>
	  <dt><strong><span class="code">{sftpd_vsn, integer()}</span></strong></dt>
	  <dd>
	    <p>Sets the SFTP version to use. Defaults to 5. Version 6 is under
	    development and limited.</p>
	  </dd>
        </dl>
      </p></div>
  </div>  
</div>
<div class="footer">
<hr>
<p>Copyright © 2005-2021 Ericsson AB. All Rights Reserved.</p>
</div>
</div>
</div>
<script type="text/javascript">window.__otpTopDocDir = '../js/';</script><script type="text/javascript" src="../js/highlight.js"></script>
</body>
</html>
