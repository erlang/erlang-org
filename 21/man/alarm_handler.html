<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:erl="http://erlang.org" xmlns:fn="http://www.w3.org/2005/02/xpath-functions">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="../otp_doc.css" type="text/css">
<title>Erlang -- alarm_handler</title>
</head>
<body>
<div id="container">
<script id="js" type="text/javascript" language="JavaScript" src="../js/flipmenu/flipmenu.js"></script><script id="js2" type="text/javascript" src="../js/erlresolvelinks.js"></script><script language="JavaScript" type="text/javascript">
            <!--
              function getWinHeight() {
                var myHeight = 0;
                if( typeof( window.innerHeight ) == 'number' ) {
                  //Non-IE
                  myHeight = window.innerHeight;
                } else if( document.documentElement && ( document.documentElement.clientWidth ||
                                                         document.documentElement.clientHeight ) ) {
                  //IE 6+ in 'standards compliant mode'
                  myHeight = document.documentElement.clientHeight;
                } else if( document.body && ( document.body.clientWidth || document.body.clientHeight ) ) {
                  //IE 4 compatible
                  myHeight = document.body.clientHeight;
                }
                return myHeight;
              }

              function setscrollpos() {
                var objf=document.getElementById('loadscrollpos');
                 document.getElementById("leftnav").scrollTop = objf.offsetTop - getWinHeight()/2;
              }

              function addEvent(obj, evType, fn){
                if (obj.addEventListener){
                obj.addEventListener(evType, fn, true);
                return true;
              } else if (obj.attachEvent){
                var r = obj.attachEvent("on"+evType, fn);
                return r;
              } else {
                return false;
              }
             }

             addEvent(window, 'load', setscrollpos);

             //--></script><div id="leftnav"><div class="innertube">
<div class="erlang-logo-wrapper"><a href="../index.html"><img alt="Erlang Logo" src="../erlang-logo.png" class="erlang-logo"></a></div>
<p class="section-title">System Architecture Support Libraries (SASL)</p>
<p class="section-subtitle">Reference Manual</p>
<p class="section-version">Version 3.3</p>
<ul class="panel-sections">
<li><a href="../apps/sasl/users_guide.html">User's Guide</a></li>
<li><a href="../apps/sasl/index.html">Reference Manual</a></li>
<li><a href="../apps/sasl/release_notes.html">Release Notes</a></li>
<li><a href="../apps/sasl/sasl.pdf">PDF</a></li>
<li><a href="../index.html">Top</a></li>
</ul>
<ul class="expand-collapse-items">
<li><a href="javascript:openAllFlips()">Expand All</a></li>
<li><a href="javascript:closeAllFlips()">Contract All</a></li>
</ul>
<h3>Table of Contents</h3>
<ul class="flipMenu">
<li title="sasl (App)"><a href="sasl_app.html">sasl (App)
                </a></li>
<li id="loadscrollpos" title="alarm_handler " expanded="true">alarm_handler<ul>
<li><a href="alarm_handler.html">
                  Top of manual page
                </a></li>
    <li title="clear_alarm-1"><a href="alarm_handler.html#clear_alarm-1">clear_alarm/1</a></li>
    <li title="get_alarms-0"><a href="alarm_handler.html#get_alarms-0">get_alarms/0</a></li>
    <li title="set_alarm-1"><a href="alarm_handler.html#set_alarm-1">set_alarm/1</a></li>
    </ul>
</li>
<li id="no" title="rb " expanded="false">rb<ul>
<li><a href="rb.html">
                  Top of manual page
                </a></li>
    <li title="filter-1"><a href="rb.html#filter-1">filter/1</a></li>
    <li title="filter-2"><a href="rb.html#filter-2">filter/2</a></li>
    <li title="grep-1"><a href="rb.html#grep-1">grep/1</a></li>
    <li title="h-0"><a href="rb.html#h-0">h/0</a></li>
    <li title="help-0"><a href="rb.html#help-0">help/0</a></li>
    <li title="list-0"><a href="rb.html#list-0">list/0</a></li>
    <li title="list-1"><a href="rb.html#list-1">list/1</a></li>
    <li title="log_list-0"><a href="rb.html#log_list-0">log_list/0</a></li>
    <li title="log_list-1"><a href="rb.html#log_list-1">log_list/1</a></li>
    <li title="rescan-0"><a href="rb.html#rescan-0">rescan/0</a></li>
    <li title="rescan-1"><a href="rb.html#rescan-1">rescan/1</a></li>
    <li title="show-0"><a href="rb.html#show-0">show/0</a></li>
    <li title="show-1"><a href="rb.html#show-1">show/1</a></li>
    <li title="start-0"><a href="rb.html#start-0">start/0</a></li>
    <li title="start-1"><a href="rb.html#start-1">start/1</a></li>
    <li title="start_log-1"><a href="rb.html#start_log-1">start_log/1</a></li>
    <li title="stop-0"><a href="rb.html#stop-0">stop/0</a></li>
    <li title="stop_log-0"><a href="rb.html#stop_log-0">stop_log/0</a></li>
    </ul>
</li>
<li id="no" title="release_handler " expanded="false">release_handler<ul>
<li><a href="release_handler.html">
                  Top of manual page
                </a></li>
    <li title="check_install_release-1"><a href="release_handler.html#check_install_release-1">check_install_release/1</a></li>
    <li title="check_install_release-2"><a href="release_handler.html#check_install_release-2">check_install_release/2</a></li>
    <li title="create_RELEASES-4"><a href="release_handler.html#create_RELEASES-4">create_RELEASES/4</a></li>
    <li title="downgrade_app-2"><a href="release_handler.html#downgrade_app-2">downgrade_app/2</a></li>
    <li title="downgrade_app-3"><a href="release_handler.html#downgrade_app-3">downgrade_app/3</a></li>
    <li title="downgrade_script-3"><a href="release_handler.html#downgrade_script-3">downgrade_script/3</a></li>
    <li title="eval_appup_script-4"><a href="release_handler.html#eval_appup_script-4">eval_appup_script/4</a></li>
    <li title="install_file-2"><a href="release_handler.html#install_file-2">install_file/2</a></li>
    <li title="install_release-1"><a href="release_handler.html#install_release-1">install_release/1</a></li>
    <li title="install_release-2"><a href="release_handler.html#install_release-2">install_release/2</a></li>
    <li title="make_permanent-1"><a href="release_handler.html#make_permanent-1">make_permanent/1</a></li>
    <li title="reboot_old_release-1"><a href="release_handler.html#reboot_old_release-1">reboot_old_release/1</a></li>
    <li title="remove_release-1"><a href="release_handler.html#remove_release-1">remove_release/1</a></li>
    <li title="set_removed-1"><a href="release_handler.html#set_removed-1">set_removed/1</a></li>
    <li title="set_unpacked-2"><a href="release_handler.html#set_unpacked-2">set_unpacked/2</a></li>
    <li title="unpack_release-1"><a href="release_handler.html#unpack_release-1">unpack_release/1</a></li>
    <li title="upgrade_app-2"><a href="release_handler.html#upgrade_app-2">upgrade_app/2</a></li>
    <li title="upgrade_script-2"><a href="release_handler.html#upgrade_script-2">upgrade_script/2</a></li>
    <li title="which_releases-0"><a href="release_handler.html#which_releases-0">which_releases/0</a></li>
    <li title="which_releases-1"><a href="release_handler.html#which_releases-1">which_releases/1</a></li>
    </ul>
</li>
<li id="no" title="systools " expanded="false">systools<ul>
<li><a href="systools.html">
                  Top of manual page
                </a></li>
    <li title="make_relup-3"><a href="systools.html#make_relup-3">make_relup/3</a></li>
    <li title="make_relup-4"><a href="systools.html#make_relup-4">make_relup/4</a></li>
    <li title="make_script-1"><a href="systools.html#make_script-1">make_script/1</a></li>
    <li title="make_script-2"><a href="systools.html#make_script-2">make_script/2</a></li>
    <li title="make_tar-1"><a href="systools.html#make_tar-1">make_tar/1</a></li>
    <li title="make_tar-2"><a href="systools.html#make_tar-2">make_tar/2</a></li>
    <li title="script2boot-1"><a href="systools.html#script2boot-1">script2boot/1</a></li>
    </ul>
</li>
<li title="appup"><a href="appup.html">appup</a></li>
<li title="rel"><a href="rel.html">rel</a></li>
<li title="relup"><a href="relup.html">relup</a></li>
<li title="script"><a href="script.html">script</a></li>
</ul>
</div></div>
<div id="content">
<div class="innertube">
<!-- refpage --><center><h1>alarm_handler</h1></center>
  
  <h3><span onMouseOver="document.getElementById('ghlink-module-idm473').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-module-idm473').style.visibility = 'hidden';"><span id="ghlink-module-idm473"></span><a class="title_link" name="module" href="#module">Module</a></span></h3>
<div class="REFBODY module-body">alarm_handler</div>
  <h3><span onMouseOver="document.getElementById('ghlink-module-summary-idm474').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-module-summary-idm474').style.visibility = 'hidden';"><span id="ghlink-module-summary-idm474"></span><a class="title_link" name="module-summary" href="#module-summary">Module Summary</a></span></h3>
<div class="REFBODY module-summary-body">An Alarm Handling Process</div>
  <h3><span onMouseOver="document.getElementById('ghlink-description-idm475').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-description-idm475').style.visibility = 'hidden';"><span id="ghlink-description-idm475" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/sasl/doc/src/alarm_handler.xml#L39" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="description" href="#description">Description</a></span></h3>
<div class="REFBODY description-body"><p>
    <p>The alarm handler process is a 
      <span class="bold_code bc-18"><a href="gen_event.html"><span class="code">gen_event</span></a></span> 
      event manager process that receives alarms in the system. 
      This process is not intended to be a complete alarm handler. 
      It defines a place to which alarms can be sent. One simple event 
      handler is installed in the alarm handler at startup, but users 
      are encouraged to write and install their own handlers.</p>
    <p>The simple event handler sends all alarms as info reports to
      the error logger, and saves all in a list. This list can be
      passed to a user-defined event handler, which can be installed
      later. The list can grow large if many alarms are generated.
      This is a good reason to install a better user-defined
      handler.</p>
    <p>Functions are provided to set and clear alarms. The alarm
      format is defined by the user. For example, an event handler
      for SNMP can be defined, together with an alarm Management
      Information Base (MIB).</p>
    <p>The alarm handler is part of the SASL application.</p>
    <p>When writing new event handlers for the alarm handler, the
      following events must be handled:</p>
    <dl>
      <dt><strong><span class="code">{set_alarm, {AlarmId, AlarmDescr}}</span></strong></dt>
      <dd>
        <p>This event is generated by
          <span class="code">alarm_handler:set_alarm({AlarmId, AlarmDecsr})</span>.</p>
      </dd>
      <dt><strong><span class="code">{clear_alarm, AlarmId}</span></strong></dt>
      <dd>
        <p>This event is
          generated by <span class="code">alarm_handler:clear_alarm(AlarmId)</span>.</p>
      </dd>
    </dl>
    <p>The default simple handler is called <span class="code">alarm_handler</span> and
      it can be exchanged by calling 
      <span class="bold_code bc-13"><a href="gen_event.html#swap_handler-3"><span class="code">gen_event:swap_handler/3</span></a></span>
      as <span class="code">gen_event:swap_handler(alarm_handler, {alarm_handler, swap},
      {NewHandler, Args})</span>. <span class="code">NewHandler:init({Args, {alarm_handler,
      Alarms}})</span> is called. For more details, see
      <span class="bold_code bc-18"><a href="gen_event.html"><span class="code">gen_event(3)</span></a></span>
      in STDLIB.</p>
  </p></div>

  <h3><span onMouseOver="document.getElementById('ghlink-exports-idm502').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-exports-idm502').style.visibility = 'hidden';"><span id="ghlink-exports-idm502"></span><a class="title_link" name="exports" href="#exports">Exports</a></span></h3>
<div class="exports-body">
    <table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-clear_alarm-1-idm504').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-clear_alarm-1-idm504').style.visibility = 'hidden';"><span id="ghlink-clear_alarm-1-idm504" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/sasl/doc/src/alarm_handler.xml#L83" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="clear_alarm-1" href="#clear_alarm-1">clear_alarm(AlarmId) -&gt; void()</a></span></div></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-5">
<h3 class="func-types-title">Types</h3>
        <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">AlarmId = term()</span><br>
</div>
      </div>
<div class="REFBODY rb-7"><p>
	<p>Sends event <span class="code">clear_alarm</span> to all event handlers.</p>
        <p>When receiving this event, the default simple handler
          clears the latest received alarm with id <span class="code">AlarmId</span>.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-get_alarms-0-idm514').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-get_alarms-0-idm514').style.visibility = 'hidden';"><span id="ghlink-get_alarms-0-idm514" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/sasl/doc/src/alarm_handler.xml#L96" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="get_alarms-0" href="#get_alarms-0">get_alarms() -&gt; [alarm()]</a></span></div></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Returns a list of all active alarms. This function can only
          be used when the simple handler is installed.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-set_alarm-1-idm519').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-set_alarm-1-idm519').style.visibility = 'hidden';"><span id="ghlink-set_alarm-1-idm519" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/sasl/doc/src/alarm_handler.xml#L105" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="set_alarm-1" href="#set_alarm-1">set_alarm(alarm())</a></span></div></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-5">
<h3 class="func-types-title">Types</h3>
        <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">alarm() = {AlarmId, AlarmDescription}</span><br>
</div>
        <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">AlarmId = term()</span><br>
</div>
        <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">AlarmDescription = term()</span><br>
</div>
      </div>
<div class="REFBODY rb-7"><p>
	<p>Sends event <span class="code">set_alarm</span> to all event handlers.</p>
        <p>When receiving this event, the default simple handler
          stores the alarm. <span class="code">AlarmId</span> identifies the alarm
          and is used when the alarm is cleared.</p>
      </p></div>
  </div>

  <h3><span onMouseOver="document.getElementById('ghlink-see-also-idm530').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-see-also-idm530').style.visibility = 'hidden';"><span id="ghlink-see-also-idm530" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/sasl/doc/src/alarm_handler.xml#L122" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="see-also" href="#see-also">See Also</a></span></h3>
<div class="REFBODY rb-3">
    
    <p><span class="bold_code bc-18"><a href="error_logger.html"><span class="code">error_logger(3)</span></a></span>,
      <span class="bold_code bc-18"><a href="gen_event.html"><span class="code">gen_event(3)</span></a></span></p>
  </div>
</div>
<div class="footer">
<hr>
<p>Copyright © 1997-2021 Ericsson AB. All Rights Reserved.</p>
</div>
</div>
</div>
<script type="text/javascript">window.__otpTopDocDir = '../js/';</script><script type="text/javascript" src="../js/highlight.js"></script>
</body>
</html>
