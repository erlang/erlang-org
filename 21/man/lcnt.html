<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:erl="http://erlang.org" xmlns:fn="http://www.w3.org/2005/02/xpath-functions">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="../otp_doc.css" type="text/css">
<title>Erlang -- lcnt</title>
</head>
<body>
<div id="container">
<script id="js" type="text/javascript" language="JavaScript" src="../js/flipmenu/flipmenu.js"></script><script id="js2" type="text/javascript" src="../js/erlresolvelinks.js"></script><script language="JavaScript" type="text/javascript">
            <!--
              function getWinHeight() {
                var myHeight = 0;
                if( typeof( window.innerHeight ) == 'number' ) {
                  //Non-IE
                  myHeight = window.innerHeight;
                } else if( document.documentElement && ( document.documentElement.clientWidth ||
                                                         document.documentElement.clientHeight ) ) {
                  //IE 6+ in 'standards compliant mode'
                  myHeight = document.documentElement.clientHeight;
                } else if( document.body && ( document.body.clientWidth || document.body.clientHeight ) ) {
                  //IE 4 compatible
                  myHeight = document.body.clientHeight;
                }
                return myHeight;
              }

              function setscrollpos() {
                var objf=document.getElementById('loadscrollpos');
                 document.getElementById("leftnav").scrollTop = objf.offsetTop - getWinHeight()/2;
              }

              function addEvent(obj, evType, fn){
                if (obj.addEventListener){
                obj.addEventListener(evType, fn, true);
                return true;
              } else if (obj.attachEvent){
                var r = obj.attachEvent("on"+evType, fn);
                return r;
              } else {
                return false;
              }
             }

             addEvent(window, 'load', setscrollpos);

             //--></script><div id="leftnav"><div class="innertube">
<div class="erlang-logo-wrapper"><a href="../index.html"><img alt="Erlang Logo" src="../erlang-logo.png" class="erlang-logo"></a></div>
<p class="section-title">Tools</p>
<p class="section-subtitle">Reference Manual</p>
<p class="section-version">Version 3.1.0.1</p>
<ul class="panel-sections">
<li><a href="../apps/tools/users_guide.html">User's Guide</a></li>
<li><a href="../apps/tools/index.html">Reference Manual</a></li>
<li><a href="../apps/tools/release_notes.html">Release Notes</a></li>
<li><a href="../apps/tools/tools.pdf">PDF</a></li>
<li><a href="../index.html">Top</a></li>
</ul>
<ul class="expand-collapse-items">
<li><a href="javascript:openAllFlips()">Expand All</a></li>
<li><a href="javascript:closeAllFlips()">Contract All</a></li>
</ul>
<h3>Table of Contents</h3>
<ul class="flipMenu">
<li id="no" title="cover " expanded="false">cover<ul>
<li><a href="cover.html">
                  Top of manual page
                </a></li>
    <li title="analyse-0"><a href="cover.html#analyse-0">analyse/0</a></li>
    <li title="analyse-1"><a href="cover.html#analyse-1">analyse/1</a></li>
    <li title="analyse-1"><a href="cover.html#analyse-1">analyse/1</a></li>
    <li title="analyse-1"><a href="cover.html#analyse-1">analyse/1</a></li>
    <li title="analyse-2"><a href="cover.html#analyse-2">analyse/2</a></li>
    <li title="analyse-2"><a href="cover.html#analyse-2">analyse/2</a></li>
    <li title="analyse-2"><a href="cover.html#analyse-2">analyse/2</a></li>
    <li title="analyse-3"><a href="cover.html#analyse-3">analyse/3</a></li>
    <li title="analyse_to_file-0"><a href="cover.html#analyse_to_file-0">analyse_to_file/0</a></li>
    <li title="analyse_to_file-1"><a href="cover.html#analyse_to_file-1">analyse_to_file/1</a></li>
    <li title="analyse_to_file-1"><a href="cover.html#analyse_to_file-1">analyse_to_file/1</a></li>
    <li title="analyse_to_file-2"><a href="cover.html#analyse_to_file-2">analyse_to_file/2</a></li>
    <li title="async_analyse_to_file-1"><a href="cover.html#async_analyse_to_file-1">async_analyse_to_file/1</a></li>
    <li title="async_analyse_to_file-2"><a href="cover.html#async_analyse_to_file-2">async_analyse_to_file/2</a></li>
    <li title="async_analyse_to_file-2"><a href="cover.html#async_analyse_to_file-2">async_analyse_to_file/2</a></li>
    <li title="async_analyse_to_file-3"><a href="cover.html#async_analyse_to_file-3">async_analyse_to_file/3</a></li>
    <li title="compile-1"><a href="cover.html#compile-1">compile/1</a></li>
    <li title="compile-2"><a href="cover.html#compile-2">compile/2</a></li>
    <li title="compile_beam-1"><a href="cover.html#compile_beam-1">compile_beam/1</a></li>
    <li title="compile_beam_directory-0"><a href="cover.html#compile_beam_directory-0">compile_beam_directory/0</a></li>
    <li title="compile_beam_directory-1"><a href="cover.html#compile_beam_directory-1">compile_beam_directory/1</a></li>
    <li title="compile_directory-0"><a href="cover.html#compile_directory-0">compile_directory/0</a></li>
    <li title="compile_directory-1"><a href="cover.html#compile_directory-1">compile_directory/1</a></li>
    <li title="compile_directory-2"><a href="cover.html#compile_directory-2">compile_directory/2</a></li>
    <li title="compile_module-1"><a href="cover.html#compile_module-1">compile_module/1</a></li>
    <li title="compile_module-2"><a href="cover.html#compile_module-2">compile_module/2</a></li>
    <li title="export-1"><a href="cover.html#export-1">export/1</a></li>
    <li title="export-2"><a href="cover.html#export-2">export/2</a></li>
    <li title="flush-1"><a href="cover.html#flush-1">flush/1</a></li>
    <li title="import-1"><a href="cover.html#import-1">import/1</a></li>
    <li title="imported-0"><a href="cover.html#imported-0">imported/0</a></li>
    <li title="imported_modules-0"><a href="cover.html#imported_modules-0">imported_modules/0</a></li>
    <li title="is_compiled-1"><a href="cover.html#is_compiled-1">is_compiled/1</a></li>
    <li title="modules-0"><a href="cover.html#modules-0">modules/0</a></li>
    <li title="reset-1"><a href="cover.html#reset-1">reset/1</a></li>
    <li title="reset-0"><a href="cover.html#reset-0">reset/0</a></li>
    <li title="start-0"><a href="cover.html#start-0">start/0</a></li>
    <li title="start-1"><a href="cover.html#start-1">start/1</a></li>
    <li title="stop-0"><a href="cover.html#stop-0">stop/0</a></li>
    <li title="stop-1"><a href="cover.html#stop-1">stop/1</a></li>
    <li title="which_nodes-0"><a href="cover.html#which_nodes-0">which_nodes/0</a></li>
    </ul>
</li>
<li id="no" title="cprof " expanded="false">cprof<ul>
<li><a href="cprof.html">
                  Top of manual page
                </a></li>
    <li title="analyse-0"><a href="cprof.html#analyse-0">analyse/0</a></li>
    <li title="analyse-1"><a href="cprof.html#analyse-1">analyse/1</a></li>
    <li title="analyse-1"><a href="cprof.html#analyse-1">analyse/1</a></li>
    <li title="analyse-2"><a href="cprof.html#analyse-2">analyse/2</a></li>
    <li title="pause-0"><a href="cprof.html#pause-0">pause/0</a></li>
    <li title="pause-1"><a href="cprof.html#pause-1">pause/1</a></li>
    <li title="pause-2"><a href="cprof.html#pause-2">pause/2</a></li>
    <li title="pause-3"><a href="cprof.html#pause-3">pause/3</a></li>
    <li title="restart-0"><a href="cprof.html#restart-0">restart/0</a></li>
    <li title="restart-1"><a href="cprof.html#restart-1">restart/1</a></li>
    <li title="restart-2"><a href="cprof.html#restart-2">restart/2</a></li>
    <li title="restart-3"><a href="cprof.html#restart-3">restart/3</a></li>
    <li title="start-0"><a href="cprof.html#start-0">start/0</a></li>
    <li title="start-1"><a href="cprof.html#start-1">start/1</a></li>
    <li title="start-2"><a href="cprof.html#start-2">start/2</a></li>
    <li title="start-3"><a href="cprof.html#start-3">start/3</a></li>
    <li title="stop-0"><a href="cprof.html#stop-0">stop/0</a></li>
    <li title="stop-1"><a href="cprof.html#stop-1">stop/1</a></li>
    <li title="stop-2"><a href="cprof.html#stop-2">stop/2</a></li>
    <li title="stop-3"><a href="cprof.html#stop-3">stop/3</a></li>
    </ul>
</li>
<li id="no" title="eprof " expanded="false">eprof<ul>
<li><a href="eprof.html">
                  Top of manual page
                </a></li>
    <li title="analyze-0"><a href="eprof.html#analyze-0">analyze/0</a></li>
    <li title="analyze-1"><a href="eprof.html#analyze-1">analyze/1</a></li>
    <li title="analyze-2"><a href="eprof.html#analyze-2">analyze/2</a></li>
    <li title="log-1"><a href="eprof.html#log-1">log/1</a></li>
    <li title="profile-1"><a href="eprof.html#profile-1">profile/1</a></li>
    <li title="profile-2"><a href="eprof.html#profile-2">profile/2</a></li>
    <li title="profile-1"><a href="eprof.html#profile-1">profile/1</a></li>
    <li title="profile-2"><a href="eprof.html#profile-2">profile/2</a></li>
    <li title="profile-3"><a href="eprof.html#profile-3">profile/3</a></li>
    <li title="profile-4"><a href="eprof.html#profile-4">profile/4</a></li>
    <li title="profile-5"><a href="eprof.html#profile-5">profile/5</a></li>
    <li title="profile-6"><a href="eprof.html#profile-6">profile/6</a></li>
    <li title="start-0"><a href="eprof.html#start-0">start/0</a></li>
    <li title="start_profiling-1"><a href="eprof.html#start_profiling-1">start_profiling/1</a></li>
    <li title="start_profiling-2"><a href="eprof.html#start_profiling-2">start_profiling/2</a></li>
    <li title="start_profiling-3"><a href="eprof.html#start_profiling-3">start_profiling/3</a></li>
    <li title="stop-0"><a href="eprof.html#stop-0">stop/0</a></li>
    <li title="stop_profiling-0"><a href="eprof.html#stop_profiling-0">stop_profiling/0</a></li>
    </ul>
</li>
<li title="erlang.el"><a href="erlang.el.html">erlang.el</a></li>
<li id="no" title="fprof " expanded="false">fprof<ul>
<li><a href="fprof.html">
                  Top of manual page
                </a></li>
    <li title="analyse-0"><a href="fprof.html#analyse-0">analyse/0</a></li>
    <li title="analyse-2"><a href="fprof.html#analyse-2">analyse/2</a></li>
    <li title="analyse-1"><a href="fprof.html#analyse-1">analyse/1</a></li>
    <li title="analyse-1"><a href="fprof.html#analyse-1">analyse/1</a></li>
    <li title="analyse-1"><a href="fprof.html#analyse-1">analyse/1</a></li>
    <li title="apply-2"><a href="fprof.html#apply-2">apply/2</a></li>
    <li title="apply-3"><a href="fprof.html#apply-3">apply/3</a></li>
    <li title="apply-3"><a href="fprof.html#apply-3">apply/3</a></li>
    <li title="apply-4"><a href="fprof.html#apply-4">apply/4</a></li>
    <li title="profile-0"><a href="fprof.html#profile-0">profile/0</a></li>
    <li title="profile-2"><a href="fprof.html#profile-2">profile/2</a></li>
    <li title="profile-1"><a href="fprof.html#profile-1">profile/1</a></li>
    <li title="profile-1"><a href="fprof.html#profile-1">profile/1</a></li>
    <li title="profile-1"><a href="fprof.html#profile-1">profile/1</a></li>
    <li title="start-0"><a href="fprof.html#start-0">start/0</a></li>
    <li title="stop-0"><a href="fprof.html#stop-0">stop/0</a></li>
    <li title="stop-1"><a href="fprof.html#stop-1">stop/1</a></li>
    <li title="trace-2"><a href="fprof.html#trace-2">trace/2</a></li>
    <li title="trace-2"><a href="fprof.html#trace-2">trace/2</a></li>
    <li title="trace-2"><a href="fprof.html#trace-2">trace/2</a></li>
    <li title="trace-1"><a href="fprof.html#trace-1">trace/1</a></li>
    <li title="trace-1"><a href="fprof.html#trace-1">trace/1</a></li>
    <li title="trace-1"><a href="fprof.html#trace-1">trace/1</a></li>
    <li title="trace-1"><a href="fprof.html#trace-1">trace/1</a></li>
    </ul>
</li>
<li id="no" title="instrument " expanded="false">instrument<ul>
<li><a href="instrument.html">
                  Top of manual page
                </a></li>
    <li title="allocations-0"><a href="instrument.html#allocations-0">allocations/0</a></li>
    <li title="allocations-1"><a href="instrument.html#allocations-1">allocations/1</a></li>
    <li title="carriers-0"><a href="instrument.html#carriers-0">carriers/0</a></li>
    <li title="carriers-1"><a href="instrument.html#carriers-1">carriers/1</a></li>
    </ul>
</li>
<li id="loadscrollpos" title="lcnt " expanded="true">lcnt<ul>
<li><a href="lcnt.html">
                  Top of manual page
                </a></li>
    <li title="apply-1"><a href="lcnt.html#apply-1">apply/1</a></li>
    <li title="apply-2"><a href="lcnt.html#apply-2">apply/2</a></li>
    <li title="apply-3"><a href="lcnt.html#apply-3">apply/3</a></li>
    <li title="clear-0"><a href="lcnt.html#clear-0">clear/0</a></li>
    <li title="clear-1"><a href="lcnt.html#clear-1">clear/1</a></li>
    <li title="collect-0"><a href="lcnt.html#collect-0">collect/0</a></li>
    <li title="collect-1"><a href="lcnt.html#collect-1">collect/1</a></li>
    <li title="conflicts-0"><a href="lcnt.html#conflicts-0">conflicts/0</a></li>
    <li title="conflicts-1"><a href="lcnt.html#conflicts-1">conflicts/1</a></li>
    <li title="information-0"><a href="lcnt.html#information-0">information/0</a></li>
    <li title="inspect-1"><a href="lcnt.html#inspect-1">inspect/1</a></li>
    <li title="inspect-2"><a href="lcnt.html#inspect-2">inspect/2</a></li>
    <li title="load-1"><a href="lcnt.html#load-1">load/1</a></li>
    <li title="locations-0"><a href="lcnt.html#locations-0">locations/0</a></li>
    <li title="locations-1"><a href="lcnt.html#locations-1">locations/1</a></li>
    <li title="pid-2"><a href="lcnt.html#pid-2">pid/2</a></li>
    <li title="pid-3"><a href="lcnt.html#pid-3">pid/3</a></li>
    <li title="port-1"><a href="lcnt.html#port-1">port/1</a></li>
    <li title="port-2"><a href="lcnt.html#port-2">port/2</a></li>
    <li title="rt_clear-0"><a href="lcnt.html#rt_clear-0">rt_clear/0</a></li>
    <li title="rt_clear-1"><a href="lcnt.html#rt_clear-1">rt_clear/1</a></li>
    <li title="rt_collect-0"><a href="lcnt.html#rt_collect-0">rt_collect/0</a></li>
    <li title="rt_collect-1"><a href="lcnt.html#rt_collect-1">rt_collect/1</a></li>
    <li title="rt_mask-0"><a href="lcnt.html#rt_mask-0">rt_mask/0</a></li>
    <li title="rt_mask-1"><a href="lcnt.html#rt_mask-1">rt_mask/1</a></li>
    <li title="rt_mask-1"><a href="lcnt.html#rt_mask-1">rt_mask/1</a></li>
    <li title="rt_mask-2"><a href="lcnt.html#rt_mask-2">rt_mask/2</a></li>
    <li title="rt_opt-1"><a href="lcnt.html#rt_opt-1">rt_opt/1</a></li>
    <li title="rt_opt-2"><a href="lcnt.html#rt_opt-2">rt_opt/2</a></li>
    <li title="save-1"><a href="lcnt.html#save-1">save/1</a></li>
    <li title="start-0"><a href="lcnt.html#start-0">start/0</a></li>
    <li title="stop-0"><a href="lcnt.html#stop-0">stop/0</a></li>
    <li title="swap_pid_keys-0"><a href="lcnt.html#swap_pid_keys-0">swap_pid_keys/0</a></li>
    </ul>
</li>
<li id="no" title="make " expanded="false">make<ul>
<li><a href="make.html">
                  Top of manual page
                </a></li>
    <li title="all-0"><a href="make.html#all-0">all/0</a></li>
    <li title="all-1"><a href="make.html#all-1">all/1</a></li>
    <li title="files-1"><a href="make.html#files-1">files/1</a></li>
    <li title="files-2"><a href="make.html#files-2">files/2</a></li>
    </ul>
</li>
<li id="no" title="tags " expanded="false">tags<ul>
<li><a href="tags.html">
                  Top of manual page
                </a></li>
    <li title="dir-1"><a href="tags.html#dir-1">dir/1</a></li>
    <li title="dirs-1"><a href="tags.html#dirs-1">dirs/1</a></li>
    <li title="file-1"><a href="tags.html#file-1">file/1</a></li>
    <li title="files-1"><a href="tags.html#files-1">files/1</a></li>
    <li title="root-1"><a href="tags.html#root-1">root/1</a></li>
    <li title="subdir-1"><a href="tags.html#subdir-1">subdir/1</a></li>
    <li title="subdirs-1"><a href="tags.html#subdirs-1">subdirs/1</a></li>
    </ul>
</li>
<li id="no" title="xref " expanded="false">xref<ul>
<li><a href="xref.html">
                  Top of manual page
                </a></li>
    <li title="add_application-2"><a href="xref.html#add_application-2">add_application/2</a></li>
    <li title="add_directory-2"><a href="xref.html#add_directory-2">add_directory/2</a></li>
    <li title="add_module-2"><a href="xref.html#add_module-2">add_module/2</a></li>
    <li title="add_release-2"><a href="xref.html#add_release-2">add_release/2</a></li>
    <li title="analyze-2"><a href="xref.html#analyze-2">analyze/2</a></li>
    <li title="d-1"><a href="xref.html#d-1">d/1</a></li>
    <li title="forget-1"><a href="xref.html#forget-1">forget/1</a></li>
    <li title="forget-2"><a href="xref.html#forget-2">forget/2</a></li>
    <li title="format_error-1"><a href="xref.html#format_error-1">format_error/1</a></li>
    <li title="get_default-1"><a href="xref.html#get_default-1">get_default/1</a></li>
    <li title="get_default-2"><a href="xref.html#get_default-2">get_default/2</a></li>
    <li title="get_library_path-1"><a href="xref.html#get_library_path-1">get_library_path/1</a></li>
    <li title="info-1"><a href="xref.html#info-1">info/1</a></li>
    <li title="info-2"><a href="xref.html#info-2">info/2</a></li>
    <li title="info-3"><a href="xref.html#info-3">info/3</a></li>
    <li title="m-1"><a href="xref.html#m-1">m/1</a></li>
    <li title="m-1"><a href="xref.html#m-1">m/1</a></li>
    <li title="q-2"><a href="xref.html#q-2">q/2</a></li>
    <li title="remove_application-2"><a href="xref.html#remove_application-2">remove_application/2</a></li>
    <li title="remove_module-2"><a href="xref.html#remove_module-2">remove_module/2</a></li>
    <li title="remove_release-2"><a href="xref.html#remove_release-2">remove_release/2</a></li>
    <li title="replace_application-3"><a href="xref.html#replace_application-3">replace_application/3</a></li>
    <li title="replace_module-3"><a href="xref.html#replace_module-3">replace_module/3</a></li>
    <li title="set_default-3"><a href="xref.html#set_default-3">set_default/3</a></li>
    <li title="set_default-2"><a href="xref.html#set_default-2">set_default/2</a></li>
    <li title="set_library_path-2"><a href="xref.html#set_library_path-2">set_library_path/2</a></li>
    <li title="start-1"><a href="xref.html#start-1">start/1</a></li>
    <li title="start-2"><a href="xref.html#start-2">start/2</a></li>
    <li title="stop-1"><a href="xref.html#stop-1">stop/1</a></li>
    <li title="update-1"><a href="xref.html#update-1">update/1</a></li>
    <li title="variables-1"><a href="xref.html#variables-1">variables/1</a></li>
    </ul>
</li>
</ul>
</div></div>
<div id="content">
<div class="innertube">
<!-- refpage --><center><h1>lcnt</h1></center>
    
    <h3><span onMouseOver="document.getElementById('ghlink-module-idm2718').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-module-idm2718').style.visibility = 'hidden';"><span id="ghlink-module-idm2718"></span><a class="title_link" name="module" href="#module">Module</a></span></h3>
<div class="REFBODY module-body">lcnt</div>
    <h3><span onMouseOver="document.getElementById('ghlink-module-summary-idm2719').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-module-summary-idm2719').style.visibility = 'hidden';"><span id="ghlink-module-summary-idm2719"></span><a class="title_link" name="module-summary" href="#module-summary">Module Summary</a></span></h3>
<div class="REFBODY module-summary-body">A runtime system Lock Profiling tool.</div>
<h3><span onMouseOver="document.getElementById('ghlink-since-idm2719').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-since-idm2719').style.visibility = 'hidden';"><span id="ghlink-since-idm2719"></span><a class="title_link" name="since" href="#since">Since</a></span></h3>
<div class="REFBODY module-since">
	Module lcnt was introduced in
	OTP R13B04.
      </div>
    <h3><span onMouseOver="document.getElementById('ghlink-description-idm2720').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-description-idm2720').style.visibility = 'hidden';"><span id="ghlink-description-idm2720" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L39" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="description" href="#description">Description</a></span></h3>
<div class="REFBODY description-body"><p>
	<p>The <span class="code">lcnt</span> module is used to profile the internal ethread locks in the
	    Erlang Runtime System. With <span class="code">lcnt</span> enabled, internal counters in the
	    runtime system are updated each time a lock is taken. The counters stores
	    information about the number of acquisition tries and the number of collisions
	    that has occurred during the acquisition tries. The counters also record the
	    waiting time a lock has caused for a blocked thread when a collision has occurred.
	</p>
	<p>
	    The data produced by the lock counters will give an estimate on how well
	    the runtime system will behave from a parallelizable view point for the
	    scenarios tested. This tool was mainly developed to help Erlang runtime
	    developers iron out potential and generic bottlenecks.
	</p>
	<p>Locks in the emulator are named after what type of resource they protect and where
	    in the emulator they are initialized, those are lock 'classes'. Most of those
	    locks are also instantiated several times, and given unique identifiers, to increase
	    locking granularity. Typically an instantiated lock protects a disjunct set of
	    the resource, for example ets tables, processes or ports. In other cases it protects a
	    specific range of a resource, for example <span class="code">pix_lock</span> which protects index to process
	    mappings, and is given a unique number within the class. A unique lock in <span class="code">lcnt</span>
	    is referenced by a name (class) and an identifier: <span class="code">{Name, Id}</span>.
	</p>
	<p>Some locks in the system are static and protects global resources, for example
	    <span class="code">bif_timers</span> and the <span class="code">run_queue</span> locks. Other locks are dynamic and not
	    necessarily long lived, for example process locks and ets-table locks. The
	    statistics data from short lived locks can be stored separately when the locks
	    are deleted. This behavior is by default turned off to save memory but can be
	    turned on via <span class="code">lcnt:rt_opt({copy_save, true})</span>. The <span class="code">lcnt:apply/1,2,3</span>
	    functions enables this behavior during profiling.
	</p>
    </p></div>
    <h3><span onMouseOver="document.getElementById('ghlink-exports-idm2734').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-exports-idm2734').style.visibility = 'hidden';"><span id="ghlink-exports-idm2734"></span><a class="title_link" name="exports" href="#exports">Exports</a></span></h3>
<div class="exports-body">

	<table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-start-0-idm2736').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-start-0-idm2736').style.visibility = 'hidden';"><span id="ghlink-start-0-idm2736" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L73" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="start-0" href="#start-0">start() -&gt; {ok, Pid} | {error, {already_started, Pid}} </a></span></div></td>
<td class="func-since-td"><span class="since">OTP R13B04</span></td>
</tr></table>
<div class="REFBODY rb-5">
<h3 class="func-types-title">Types</h3>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Pid = pid()</span><br>
</div>
	    </div>
<div class="REFBODY rb-7"><p>
		<p>Starts the lock profiler server. The server only act as a medium for the
		    user and performs filtering and printing of data collected by <span class="code">lcnt:collect/1</span>.
		</p>
	    </p></div>

	<table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-stop-0-idm2744').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-stop-0-idm2744').style.visibility = 'hidden';"><span id="ghlink-stop-0-idm2744" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L86" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="stop-0" href="#stop-0">stop() -&gt; ok</a></span></div></td>
<td class="func-since-td"><span class="since">OTP R13B04</span></td>
</tr></table>
<div class="REFBODY rb-7"><p>
		<p>Stops the lock profiler server.</p>
	    </p></div>

	<table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-collect-0-idm2749').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-collect-0-idm2749').style.visibility = 'hidden';"><span id="ghlink-collect-0-idm2749" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L94" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="collect-0" href="#collect-0">collect() -&gt; ok</a></span></div></td>
<td class="func-since-td"><span class="since">OTP R13B04</span></td>
</tr></table>
<div class="REFBODY rb-7"><p><p>Same as <span class="code">collect(node())</span>.</p></p></div>

	<table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-collect-1-idm2756').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-collect-1-idm2756').style.visibility = 'hidden';"><span id="ghlink-collect-1-idm2756" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L100" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="collect-1" href="#collect-1">collect(Node) -&gt; ok</a></span></div></td>
<td class="func-since-td"><span class="since">OTP R13B04</span></td>
</tr></table>
<div class="REFBODY rb-5">
<h3 class="func-types-title">Types</h3>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Node = node()</span><br>
</div>
	    </div>
<div class="REFBODY rb-7"><p>
		<p>Collects lock statistics from the runtime system. The function starts a
		    server if it is not already started. It then populates the server with lock
		    statistics. If the server held any lock statistics data before the collect then
		    that data is lost.
		</p>
	    </p></div>

	<table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-clear-0-idm2763').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-clear-0-idm2763').style.visibility = 'hidden';"><span id="ghlink-clear-0-idm2763" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L115" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="clear-0" href="#clear-0">clear() -&gt; ok</a></span></div></td>
<td class="func-since-td"><span class="since">OTP R13B04</span></td>
</tr></table>
<div class="REFBODY rb-7"><p><p>Same as <span class="code">clear(node())</span>.</p></p></div>

	<table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-clear-1-idm2770').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-clear-1-idm2770').style.visibility = 'hidden';"><span id="ghlink-clear-1-idm2770" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L121" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="clear-1" href="#clear-1">clear(Node) -&gt; ok</a></span></div></td>
<td class="func-since-td"><span class="since">OTP R13B04</span></td>
</tr></table>
<div class="REFBODY rb-5">
<h3 class="func-types-title">Types</h3>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Node = node()</span><br>
</div>
	    </div>
<div class="REFBODY rb-7"><p>
		<p>Clears the internal lock statistics from the runtime system. This does not clear the
		    data on the server only on runtime system. All counters for static locks are zeroed,
		    all dynamic locks currently alive are zeroed and all saved locks now destroyed are removed.
		    It also resets the duration timer.
		</p>
	    </p></div>
	<table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-conflicts-0-idm2777').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-conflicts-0-idm2777').style.visibility = 'hidden';"><span id="ghlink-conflicts-0-idm2777" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L135" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="conflicts-0" href="#conflicts-0">conflicts() -&gt; ok</a></span></div></td>
<td class="func-since-td"><span class="since">OTP R13B04</span></td>
</tr></table>
<div class="REFBODY rb-7"><p><p>Same as <span class="code">conflicts([])</span>.</p></p></div>
	<table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-conflicts-1-idm2784').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-conflicts-1-idm2784').style.visibility = 'hidden';"><span id="ghlink-conflicts-1-idm2784" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L140" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="conflicts-1" href="#conflicts-1">conflicts([Option]) -&gt; ok</a></span></div></td>
<td class="func-since-td"><span class="since">OTP R13B04</span></td>
</tr></table>
<div class="REFBODY rb-5">
<h3 class="func-types-title">Types</h3>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Option     = {sort, Sort} | {reverse, bool()} | {thresholds, [Thresholds]} | {print, [Print | {Print, integer()}]} | {max_locks, MaxLocks} | {combine, bool()}</span><br>
</div>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Sort       = name | id | type | tries | colls | ratio | time | entry</span><br>
</div>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Thresholds = {tries, integer()} | {colls, integer()} | {time, integer()}</span><br>
</div>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Print      = name | id | type | entry | tries | colls | ratio | time | duration</span><br>
</div>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">MaxLocks   = integer() | none</span><br>
</div>
	    </div>
<div class="REFBODY rb-7"><p>
		<p>Prints a list of internal locks and its statistics.</p>
		<p>For option description, see <span class="bold_code bc-17"><a href="#inspect-2">lcnt:inspect/2</a></span>.</p>
	    </p></div>

	<table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-locations-0-idm2797').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-locations-0-idm2797').style.visibility = 'hidden';"><span id="ghlink-locations-0-idm2797" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L156" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="locations-0" href="#locations-0">locations() -&gt; ok</a></span></div></td>
<td class="func-since-td"><span class="since">OTP R13B04</span></td>
</tr></table>
<div class="REFBODY rb-7"><p>
		<p>Same as <span class="code">locations([])</span>.</p>
	    </p></div>
	<table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-locations-1-idm2804').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-locations-1-idm2804').style.visibility = 'hidden';"><span id="ghlink-locations-1-idm2804" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L163" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="locations-1" href="#locations-1">locations([Option]) -&gt; ok</a></span></div></td>
<td class="func-since-td"><span class="since">OTP R13B04</span></td>
</tr></table>
<div class="REFBODY rb-5">
<h3 class="func-types-title">Types</h3>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Option     = {sort, Sort} | {thresholds, [Thresholds]} | {print, [Print | {Print, integer()}]} | {max_locks, MaxLocks} | {combine, bool()}</span><br>
</div>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Sort       = name | id | type | tries | colls | ratio | time | entry</span><br>
</div>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Thresholds = {tries, integer()} | {colls, integer()} | {time, integer()}</span><br>
</div>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Print      = name | id | type | entry | tries | colls | ratio | time | duration</span><br>
</div>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">MaxLocks   = integer() | none</span><br>
</div>
	    </div>
<div class="REFBODY rb-7"><p>
		<p>Prints a list of internal lock counters by source code locations.</p>
		<p>For option description, see <span class="bold_code bc-17"><a href="#inspect-2">lcnt:inspect/2</a></span>.</p>
	    </p></div>

	<table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-inspect-1-idm2817').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-inspect-1-idm2817').style.visibility = 'hidden';"><span id="ghlink-inspect-1-idm2817" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L179" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="inspect-1" href="#inspect-1">inspect(Lock) -&gt; ok</a></span></div></td>
<td class="func-since-td"><span class="since">OTP R13B04</span></td>
</tr></table>
<div class="REFBODY rb-7"><p><p>Same as <span class="code">inspect(Lock, [])</span>.</p></p></div>
	<table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-inspect-2-idm2824').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-inspect-2-idm2824').style.visibility = 'hidden';"><span id="ghlink-inspect-2-idm2824" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L184" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="inspect-2" href="#inspect-2">inspect(Lock, [Option]) -&gt; ok</a></span></div></td>
<td class="func-since-td"><span class="since">OTP R13B04</span></td>
</tr></table>
<div class="REFBODY rb-5">
<h3 class="func-types-title">Types</h3>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Lock       = Name | {Name, Id | [Id]}</span><br>
</div>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Name       = atom() | pid() | port()</span><br>
</div>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Id         = atom() | integer() | pid() | port()</span><br>
</div>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Option     = {sort, Sort} | {thresholds, [Thresholds]} | {print, [Print | {Print, integer()}]} | {max_locks, MaxLocks} | {combine, bool()} | {locations, bool()}</span><br>
</div>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Sort       = name | id | type | tries | colls | ratio | time</span><br>
</div>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Thresholds = {tries, integer()} | {colls, integer()} | {time, integer()}</span><br>
</div>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Print      = name | id | type | entry | tries | colls | ratio | time | duration</span><br>
</div>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">MaxLocks   = integer() | none</span><br>
</div>
	    </div>
<div class="REFBODY rb-7"><p>
		<p>Prints a list of internal lock counters for a specific lock.</p>
		<p>Lock <span class="code">Name</span> and <span class="code">Id</span> for ports and processes are interchangeable with the use of <span class="code">lcnt:swap_pid_keys/0</span> and is the reason why <span class="code">pid()</span> and <span class="code">port()</span> options can be used in both <span class="code">Name</span> and <span class="code">Id</span> space. Both pids and ports are special identifiers with stripped creation and can be recreated with <span class="bold_code bc-17"><a href="#pid-3">lcnt:pid/2,3</a></span> and <span class="bold_code bc-17"><a href="#port-2">lcnt:port/1,2</a></span>.  </p>
		<p>Option description:</p>
		<dl>
		    <dt><strong><span class="code">{combine, bool()}</span></strong></dt>
		    <dd>Combine the statistics from different instances of a lock class.
			<br>Default: <span class="code">true</span>
		    </dd>

		    <dt><strong><span class="code">{locations, bool()}</span></strong></dt>
		    <dd>Print the statistics by source file and line numbers.
			<br>Default: <span class="code">false</span>
		    </dd>

		    <dt><strong><span class="code">{max_locks, MaxLocks}</span></strong></dt>
		    <dd>Maximum number of locks printed or no limit with <span class="code">none</span>.
			<br>Default: <span class="code">20</span>
		    </dd>

		    <dt><strong><span class="code">{print, PrintOptions}</span></strong></dt>
		    <dd>Printing options:
			<dl>
			    <dt><strong><span class="code">name</span></strong></dt>
			    <dd>Named lock or named set of locks (classes). The same name used for initializing the lock in the VM.</dd>

			    <dt><strong><span class="code">id</span></strong></dt>
			    <dd>Internal id for set of locks, not always unique. This could be table name for ets tables (db_tab), port id for ports, integer identifiers for allocators, etc.</dd>

			    <dt><strong><span class="code">type</span></strong></dt>
			    <dd>Type of lock: <span class="code">rw_mutex</span>, <span class="code">mutex</span>, <span class="code">spinlock</span>, <span class="code">rw_spinlock</span> or <span class="code">proclock</span>.</dd>

			    <dt><strong><span class="code">entry</span></strong></dt>
			    <dd>In combination with <span class="code">{locations, true}</span> this option prints the lock operations source file and line number entry-points along with statistics for each entry. </dd>

			    <dt><strong><span class="code">tries</span></strong></dt>
			    <dd>Number of acquisitions of this lock.</dd>

			    <dt><strong><span class="code">colls</span></strong></dt>
			    <dd>Number of collisions when a thread tried to acquire this lock. This is when a trylock is EBUSY, a write try on read held rw_lock, a try read on write held rw_lock, a thread tries to lock an already locked lock. (Internal states supervises this).</dd>

			    <dt><strong><span class="code">ratio</span></strong></dt>
			    <dd>The ratio between the number of collisions and the number of tries (acquisitions) in percentage.</dd>

			    <dt><strong><span class="code">time</span></strong></dt>
			    <dd>Accumulated waiting time for this lock. This could be greater than actual wall clock time, it is accumulated for all threads. Trylock conflicts does not accumulate time.</dd>

			    <dt><strong><span class="code">duration</span></strong></dt>
			    <dd>Percentage of accumulated waiting time of wall clock time. This percentage can be higher than 100% since accumulated time is from all threads.</dd>
			</dl>
			<br>Default: <span class="code">[name,id,tries,colls,ratio,time,duration]</span>
		    </dd>

		    <dt><strong><span class="code">{reverse, bool()}</span></strong></dt>
		    <dd>Reverses the order of sorting.
			<br>Default: <span class="code">false</span>
		    </dd>

		    <dt><strong><span class="code">{sort, Sort}</span></strong></dt>
		    <dd>Column sorting orders.
			<br>Default: <span class="code">time</span>
		    </dd>

		    <dt><strong><span class="code">{thresholds, Thresholds}</span></strong></dt>
		    <dd>Filtering thresholds. Anything values above the threshold value are passed through.
			<br>Default: <span class="code">[{tries, 0}, {colls, 0}, {time, 0}]</span>
		    </dd>

		</dl>

	    </p></div>

	<table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-information-0-idm2920').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-information-0-idm2920').style.visibility = 'hidden';"><span id="ghlink-information-0-idm2920" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L270" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="information-0" href="#information-0">information() -&gt; ok</a></span></div></td>
<td class="func-since-td"><span class="since">OTP R13B04</span></td>
</tr></table>
<div class="REFBODY rb-7"><p>
		<p>Prints lcnt server state and generic information about collected lock statistics.</p>
	    </p></div>

	<table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-swap_pid_keys-0-idm2925').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-swap_pid_keys-0-idm2925').style.visibility = 'hidden';"><span id="ghlink-swap_pid_keys-0-idm2925" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L278" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="swap_pid_keys-0" href="#swap_pid_keys-0">swap_pid_keys() -&gt; ok</a></span></div></td>
<td class="func-since-td"><span class="since">OTP R13B04</span></td>
</tr></table>
<div class="REFBODY rb-7"><p>
		<p>Swaps places on <span class="code">Name</span> and <span class="code">Id</span> space for ports and processes.</p>
	    </p></div>

	<table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-load-1-idm2934').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-load-1-idm2934').style.visibility = 'hidden';"><span id="ghlink-load-1-idm2934" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L286" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="load-1" href="#load-1">load(Filename) -&gt; ok</a></span></div></td>
<td class="func-since-td"><span class="since">OTP R13B04</span></td>
</tr></table>
<div class="REFBODY rb-5">
<h3 class="func-types-title">Types</h3>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Filename = filename()</span><br>
</div>
	    </div>
<div class="REFBODY rb-7"><p>
		<p>Restores previously saved data to the server.</p>
	    </p></div>

	<table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-save-1-idm2941').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-save-1-idm2941').style.visibility = 'hidden';"><span id="ghlink-save-1-idm2941" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L297" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="save-1" href="#save-1">save(Filename) -&gt; ok</a></span></div></td>
<td class="func-since-td"><span class="since">OTP R13B04</span></td>
</tr></table>
<div class="REFBODY rb-5">
<h3 class="func-types-title">Types</h3>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Filename = filename()</span><br>
</div>
	    </div>
<div class="REFBODY rb-7"><p>
		<p>Saves the collected data to file.</p>
	    </p></div>
    </div>

    <h3><span onMouseOver="document.getElementById('ghlink-convenience-functions-idm2947').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-convenience-functions-idm2947').style.visibility = 'hidden';"><span id="ghlink-convenience-functions-idm2947" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L309" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="convenience-functions" href="#convenience-functions">Convenience functions</a></span></h3>
<div class="REFBODY rb-3">
	
	<p>The following functions are used for convenience.</p>
    </div>
    <h3><span onMouseOver="document.getElementById('ghlink-exports-idm2950').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-exports-idm2950').style.visibility = 'hidden';"><span id="ghlink-exports-idm2950"></span><a class="title_link" name="exports" href="#exports">Exports</a></span></h3>
<div class="exports-body">
	<table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-apply-1-idm2952').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-apply-1-idm2952').style.visibility = 'hidden';"><span id="ghlink-apply-1-idm2952" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L314" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="apply-1" href="#apply-1">apply(Fun) -&gt; term()</a></span></div></td>
<td class="func-since-td"><span class="since">OTP R13B04</span></td>
</tr></table>
<div class="REFBODY rb-5">
<h3 class="func-types-title">Types</h3>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Fun = fun()</span><br>
</div>
	    </div>
<div class="REFBODY rb-7"><p>
		<p>Same as <span class="code">apply(Fun, [])</span>.</p>
	    </p></div>
	<table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-apply-2-idm2961').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-apply-2-idm2961').style.visibility = 'hidden';"><span id="ghlink-apply-2-idm2961" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L324" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="apply-2" href="#apply-2">apply(Fun, Args) -&gt; term()</a></span></div></td>
<td class="func-since-td"><span class="since">OTP R13B04</span></td>
</tr></table>
<div class="REFBODY rb-5">
<h3 class="func-types-title">Types</h3>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Fun = fun()</span><br>
</div>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Args = [term()]</span><br>
</div>
	    </div>
<div class="REFBODY rb-7"><p>
		<p>Same as <span class="code">apply(Module, Function, Args)</span>.</p>
	    </p></div>
	<table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-apply-3-idm2971').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-apply-3-idm2971').style.visibility = 'hidden';"><span id="ghlink-apply-3-idm2971" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L335" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="apply-3" href="#apply-3">apply(Module, Function, Args) -&gt; term()</a></span></div></td>
<td class="func-since-td"><span class="since">OTP R13B04</span></td>
</tr></table>
<div class="REFBODY rb-5">
<h3 class="func-types-title">Types</h3>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Module = atom()</span><br>
</div>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Function = atom()</span><br>
</div>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Args = [term()]</span><br>
</div>
	    </div>
<div class="REFBODY rb-7"><p>
		<p> Clears the lock counters and then setups the instrumentation to save all destroyed locks.
		    After setup the function is called, passing the elements in <span class="code">Args</span> as arguments.
		    When the function returns the statistics are immediately collected to the server. After the
		    collection the instrumentation is returned to its previous behavior.
		    The result of the applied function is returned.
		</p>
                <div class="warning">
<div class="label">Warning</div>
<div class="content"><p>
                    <p>
                        This function should only be used for micro-benchmarks; it sets <span class="code">copy_save</span>
                        to <span class="code">true</span> for the duration of the call, which can quickly lead to running
                        out of memory.
                    </p>
                </p></div>
</div>
	    </p></div>

	<table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-pid-2-idm2985').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-pid-2-idm2985').style.visibility = 'hidden';"><span id="ghlink-pid-2-idm2985" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L360" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="pid-2" href="#pid-2">pid(Id, Serial) -&gt; pid()</a></span></div></td>
<td class="func-since-td"><span class="since">OTP R13B04</span></td>
</tr></table>
<div class="REFBODY rb-7"><p><p>Same as <span class="code">pid(node(), Id, Serial)</span>.</p></p></div>
	<table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-pid-3-idm2992').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-pid-3-idm2992').style.visibility = 'hidden';"><span id="ghlink-pid-3-idm2992" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L365" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="pid-3" href="#pid-3">pid(Node, Id, Serial) -&gt; pid()</a></span></div></td>
<td class="func-since-td"><span class="since">OTP R13B04</span></td>
</tr></table>
<div class="REFBODY rb-5">
<h3 class="func-types-title">Types</h3>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Node = node()</span><br>
</div>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Id = integer()</span><br>
</div>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Serial = integer()</span><br>
</div>
	    </div>
<div class="REFBODY rb-7"><p>
		<p>Creates a process id with creation 0.</p>
	    </p></div>

	<table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-port-1-idm3001').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-port-1-idm3001').style.visibility = 'hidden';"><span id="ghlink-port-1-idm3001" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L378" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="port-1" href="#port-1">port(Id) -&gt; port()</a></span></div></td>
<td class="func-since-td"><span class="since">OTP R13B04</span></td>
</tr></table>
<div class="REFBODY rb-7"><p><p>Same as <span class="code">port(node(), Id)</span>.</p></p></div>
	<table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-port-2-idm3008').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-port-2-idm3008').style.visibility = 'hidden';"><span id="ghlink-port-2-idm3008" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L383" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="port-2" href="#port-2">port(Node, Id) -&gt; port()</a></span></div></td>
<td class="func-since-td"><span class="since">OTP R13B04</span></td>
</tr></table>
<div class="REFBODY rb-5">
<h3 class="func-types-title">Types</h3>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Node = node()</span><br>
</div>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Id = integer()</span><br>
</div>
	    </div>
<div class="REFBODY rb-7"><p><p>Creates a port id with creation 0.</p></p></div>

    </div>

    <h3><span onMouseOver="document.getElementById('ghlink-internal-runtime-lock-counter-controllers-idm3015').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-internal-runtime-lock-counter-controllers-idm3015').style.visibility = 'hidden';"><span id="ghlink-internal-runtime-lock-counter-controllers-idm3015" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L395" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="internal-runtime-lock-counter-controllers" href="#internal-runtime-lock-counter-controllers">Internal runtime lock counter controllers</a></span></h3>
<div class="REFBODY rb-3">
	
	<p> The following functions control the behavior of the internal counters.  </p>
    </div>

    <h3><span onMouseOver="document.getElementById('ghlink-exports-idm3018').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-exports-idm3018').style.visibility = 'hidden';"><span id="ghlink-exports-idm3018"></span><a class="title_link" name="exports" href="#exports">Exports</a></span></h3>
<div class="exports-body">
	<table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-rt_collect-0-idm3020').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-rt_collect-0-idm3020').style.visibility = 'hidden';"><span id="ghlink-rt_collect-0-idm3020" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L401" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="rt_collect-0" href="#rt_collect-0">rt_collect() -&gt; [lock_counter_data()]</a></span></div></td>
<td class="func-since-td"><span class="since">OTP R13B04</span></td>
</tr></table>
<div class="REFBODY rb-7"><p> <p>Same as <span class="code">rt_collect(node())</span>.</p> </p></div>
	<table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-rt_collect-1-idm3027').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-rt_collect-1-idm3027').style.visibility = 'hidden';"><span id="ghlink-rt_collect-1-idm3027" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L406" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="rt_collect-1" href="#rt_collect-1">rt_collect(Node) -&gt; [lock_counter_data()]</a></span></div></td>
<td class="func-since-td"><span class="since">OTP R13B04</span></td>
</tr></table>
<div class="REFBODY rb-5">
<h3 class="func-types-title">Types</h3>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Node = node()</span><br>
</div>
	    </div>
<div class="REFBODY rb-7"><p> <p>Returns a list of raw lock counter data.</p> </p></div>

	<table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-rt_clear-0-idm3034').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-rt_clear-0-idm3034').style.visibility = 'hidden';"><span id="ghlink-rt_clear-0-idm3034" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L415" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="rt_clear-0" href="#rt_clear-0">rt_clear() -&gt; ok</a></span></div></td>
<td class="func-since-td"><span class="since">OTP R13B04</span></td>
</tr></table>
<div class="REFBODY rb-7"><p> <p>Same as <span class="code">rt_clear(node())</span>.</p> </p></div>
	<table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-rt_clear-1-idm3041').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-rt_clear-1-idm3041').style.visibility = 'hidden';"><span id="ghlink-rt_clear-1-idm3041" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L420" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="rt_clear-1" href="#rt_clear-1">rt_clear(Node) -&gt; ok</a></span></div></td>
<td class="func-since-td"><span class="since">OTP R13B04</span></td>
</tr></table>
<div class="REFBODY rb-5">
<h3 class="func-types-title">Types</h3>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Node = node()</span><br>
</div>
	    </div>
<div class="REFBODY rb-7"><p> <p>Clear the internal counters. Same as <span class="code">lcnt:clear(Node)</span>.</p></p></div>

        <table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-rt_mask-0-idm3049').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-rt_mask-0-idm3049').style.visibility = 'hidden';"><span id="ghlink-rt_mask-0-idm3049" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L429" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="rt_mask-0" href="#rt_mask-0">rt_mask() -&gt; [category_atom()]</a></span></div></td>
<td class="func-since-td"><span class="since">OTP 20.1</span></td>
</tr></table>
<div class="REFBODY rb-7"><p><p>Same as <span class="code">rt_mask(node())</span>.</p></p></div>

        <table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-rt_mask-1-idm3056').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-rt_mask-1-idm3056').style.visibility = 'hidden';"><span id="ghlink-rt_mask-1-idm3056" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L435" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="rt_mask-1" href="#rt_mask-1">rt_mask(Node) -&gt; [category_atom()]</a></span></div></td>
<td class="func-since-td"><span class="since">OTP 20.1</span></td>
</tr></table>
<div class="REFBODY rb-5">
<h3 class="func-types-title">Types</h3>
                <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Node = node()</span><br>
</div>
            </div>
<div class="REFBODY rb-7"><p>
                <p>
                    Refer to <span class="code">rt_mask/2</span> for a list of valid categories. All
                    categories are enabled by default.
                </p>
            </p></div>

        <table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-rt_mask-1-idm3064').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-rt_mask-1-idm3064').style.visibility = 'hidden';"><span id="ghlink-rt_mask-1-idm3064" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L449" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="rt_mask-1" href="#rt_mask-1">rt_mask(Categories) -&gt; ok | {error, copy_save_enabled}</a></span></div></td>
<td class="func-since-td"><span class="since">OTP 20.1</span></td>
</tr></table>
<div class="REFBODY rb-5">
<h3 class="func-types-title">Types</h3>
                <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Categories = [atom()]</span><br>
</div>
            </div>
<div class="REFBODY rb-7"><p><p>Same as <span class="code">rt_mask(node(), Categories)</span>.</p></p></div>

        <table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-rt_mask-2-idm3073').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-rt_mask-2-idm3073').style.visibility = 'hidden';"><span id="ghlink-rt_mask-2-idm3073" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L458" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="rt_mask-2" href="#rt_mask-2">rt_mask(Node, Categories) -&gt; ok | {error, copy_save_enabled}</a></span></div></td>
<td class="func-since-td"><span class="since">OTP 20.1</span></td>
</tr></table>
<div class="REFBODY rb-5">
<h3 class="func-types-title">Types</h3>
                <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Node = node()</span><br>
</div>
                <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Categories = [atom()]</span><br>
</div>
            </div>
<div class="REFBODY rb-7"><p>
                <p>
                    Sets the lock category mask to the given categories.
                </p>
                <p>
                    This will fail if the <span class="code">copy_save</span> option is enabled; see
                    <span class="code">lcnt:rt_opt/2</span>.
                </p>
                <p>Valid categories are:</p>
                <ul>
                    <li><span class="code">allocator</span></li>
                    <li>
<span class="code">db</span> (ETS tables)</li>
                    <li><span class="code">debug</span></li>
                    <li><span class="code">distribution</span></li>
                    <li><span class="code">generic</span></li>
                    <li><span class="code">io</span></li>
                    <li><span class="code">process</span></li>
                    <li><span class="code">scheduler</span></li>
                </ul>
                <p>
                    This list is subject to change at any time, as is the category any given lock
                    may belong to.
                </p>
            </p></div>

	<table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-rt_opt-1-idm3103').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-rt_opt-1-idm3103').style.visibility = 'hidden';"><span id="ghlink-rt_opt-1-idm3103" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L491" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="rt_opt-1" href="#rt_opt-1">rt_opt({Type, bool()}) -&gt; bool()</a></span></div></td>
<td class="func-since-td"><span class="since">OTP R13B04</span></td>
</tr></table>
<div class="REFBODY rb-7"><p> <p>Same as <span class="code">rt_opt(node(), {Type, Opt})</span>.</p> </p></div>
	<table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-rt_opt-2-idm3110').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-rt_opt-2-idm3110').style.visibility = 'hidden';"><span id="ghlink-rt_opt-2-idm3110" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L496" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="rt_opt-2" href="#rt_opt-2">rt_opt(Node, {Type, bool()}) -&gt; bool()</a></span></div></td>
<td class="func-since-td"><span class="since">OTP R13B04</span></td>
</tr></table>
<div class="REFBODY rb-5">
<h3 class="func-types-title">Types</h3>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Node = node()</span><br>
</div>
		<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Type = copy_save | process_locks</span><br>
</div>
	    </div>
<div class="REFBODY rb-7"><p>
		<p>Option description:</p>
		<dl>
		    <dt><strong><span class="code">{copy_save, bool()}</span></strong></dt>
		    <dd>Retains the statistics of destroyed locks.
			<br>Default: <span class="code">false</span>
                        <div class="warning">
<div class="label">Warning</div>
<div class="content"><p>
                            <p>
                                This option will use a lot of memory when enabled, which must be
                                reclaimed with <span class="code">lcnt:rt_clear</span>. Note that it makes no distinction
                                between locks that were destroyed and locks for which counting was
                                disabled, so enabling this option will disable changes to the lock
                                category mask.
                            </p>
                        </p></div>
</div>
		    </dd>

		    <dt><strong><span class="code">{process_locks, bool()}</span></strong></dt>
		    <dd>Profile process locks, equal to adding <span class="code">process</span> to the lock category mask;
            see <span class="code">lcnt:rt_mask/2</span>
			<br>Default: <span class="code">true</span>
		    </dd>
		</dl>
	    </p></div>
    </div>

    <h3><span onMouseOver="document.getElementById('ghlink-see-also-idm3133').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-see-also-idm3133').style.visibility = 'hidden';"><span id="ghlink-see-also-idm3133" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/tools/doc/src/lcnt.xml#L530" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="see-also" href="#see-also">See Also</a></span></h3>
<div class="REFBODY rb-3">
	
	<p> <span class="bold_code bc-19"><a href="../apps/tools/lcnt_chapter.html">LCNT User's Guide</a></span></p>
    </div>
</div>
<div class="footer">
<hr>
<p>Copyright © 1997-2021 Ericsson AB. All Rights Reserved.</p>
</div>
</div>
</div>
<script type="text/javascript">window.__otpTopDocDir = '../js/';</script><script type="text/javascript" src="../js/highlight.js"></script>
</body>
</html>
