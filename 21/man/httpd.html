<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:erl="http://erlang.org" xmlns:fn="http://www.w3.org/2005/02/xpath-functions">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="../otp_doc.css" type="text/css">
<title>Erlang -- httpd</title>
</head>
<body>
<div id="container">
<script id="js" type="text/javascript" language="JavaScript" src="../js/flipmenu/flipmenu.js"></script><script id="js2" type="text/javascript" src="../js/erlresolvelinks.js"></script><script language="JavaScript" type="text/javascript">
            <!--
              function getWinHeight() {
                var myHeight = 0;
                if( typeof( window.innerHeight ) == 'number' ) {
                  //Non-IE
                  myHeight = window.innerHeight;
                } else if( document.documentElement && ( document.documentElement.clientWidth ||
                                                         document.documentElement.clientHeight ) ) {
                  //IE 6+ in 'standards compliant mode'
                  myHeight = document.documentElement.clientHeight;
                } else if( document.body && ( document.body.clientWidth || document.body.clientHeight ) ) {
                  //IE 4 compatible
                  myHeight = document.body.clientHeight;
                }
                return myHeight;
              }

              function setscrollpos() {
                var objf=document.getElementById('loadscrollpos');
                 document.getElementById("leftnav").scrollTop = objf.offsetTop - getWinHeight()/2;
              }

              function addEvent(obj, evType, fn){
                if (obj.addEventListener){
                obj.addEventListener(evType, fn, true);
                return true;
              } else if (obj.attachEvent){
                var r = obj.attachEvent("on"+evType, fn);
                return r;
              } else {
                return false;
              }
             }

             addEvent(window, 'load', setscrollpos);

             //--></script><div id="leftnav"><div class="innertube">
<div class="erlang-logo-wrapper"><a href="../index.html"><img alt="Erlang Logo" src="../erlang-logo.png" class="erlang-logo"></a></div>
<p class="section-title">inets</p>
<p class="section-subtitle">Reference Manual</p>
<p class="section-version">Version 7.0.7.2</p>
<ul class="panel-sections">
<li><a href="../apps/inets/users_guide.html">User's Guide</a></li>
<li><a href="../apps/inets/index.html">Reference Manual</a></li>
<li><a href="../apps/inets/release_notes.html">Release Notes</a></li>
<li><a href="../apps/inets/inets.pdf">PDF</a></li>
<li><a href="../index.html">Top</a></li>
</ul>
<ul class="expand-collapse-items">
<li><a href="javascript:openAllFlips()">Expand All</a></li>
<li><a href="javascript:closeAllFlips()">Contract All</a></li>
</ul>
<h3>Table of Contents</h3>
<ul class="flipMenu">
<li id="no" title="inets " expanded="false">inets<ul>
<li><a href="inets.html">
                  Top of manual page
                </a></li>
    <li title="service_names-0"><a href="inets.html#service_names-0">service_names/0</a></li>
    <li title="services-0"><a href="inets.html#services-0">services/0</a></li>
    <li title="services_info-0"><a href="inets.html#services_info-0">services_info/0</a></li>
    <li title="start-0"><a href="inets.html#start-0">start/0</a></li>
    <li title="start-1"><a href="inets.html#start-1">start/1</a></li>
    <li title="start-2"><a href="inets.html#start-2">start/2</a></li>
    <li title="start-3"><a href="inets.html#start-3">start/3</a></li>
    <li title="stop-0"><a href="inets.html#stop-0">stop/0</a></li>
    <li title="stop-2"><a href="inets.html#stop-2">stop/2</a></li>
    </ul>
</li>
<li id="no" title="httpc " expanded="false">httpc<ul>
<li><a href="httpc.html">
                  Top of manual page
                </a></li>
    <li title="cancel_request-1"><a href="httpc.html#cancel_request-1">cancel_request/1</a></li>
    <li title="cancel_request-2"><a href="httpc.html#cancel_request-2">cancel_request/2</a></li>
    <li title="cookie_header-1"><a href="httpc.html#cookie_header-1">cookie_header/1</a></li>
    <li title="cookie_header-2"><a href="httpc.html#cookie_header-2">cookie_header/2</a></li>
    <li title="cookie_header-3"><a href="httpc.html#cookie_header-3">cookie_header/3</a></li>
    <li title="get_options-1"><a href="httpc.html#get_options-1">get_options/1</a></li>
    <li title="get_options-2"><a href="httpc.html#get_options-2">get_options/2</a></li>
    <li title="info-0"><a href="httpc.html#info-0">info/0</a></li>
    <li title="info-1"><a href="httpc.html#info-1">info/1</a></li>
    <li title="request-1"><a href="httpc.html#request-1">request/1</a></li>
    <li title="request-2"><a href="httpc.html#request-2">request/2</a></li>
    <li title="request-4"><a href="httpc.html#request-4">request/4</a></li>
    <li title="request-5"><a href="httpc.html#request-5">request/5</a></li>
    <li title="reset_cookies-0"><a href="httpc.html#reset_cookies-0">reset_cookies/0</a></li>
    <li title="reset_cookies-1"><a href="httpc.html#reset_cookies-1">reset_cookies/1</a></li>
    <li title="set_options-1"><a href="httpc.html#set_options-1">set_options/1</a></li>
    <li title="set_options-2"><a href="httpc.html#set_options-2">set_options/2</a></li>
    <li title="store_cookies-2"><a href="httpc.html#store_cookies-2">store_cookies/2</a></li>
    <li title="store_cookies-3"><a href="httpc.html#store_cookies-3">store_cookies/3</a></li>
    <li title="stream_next-1"><a href="httpc.html#stream_next-1">stream_next/1</a></li>
    <li title="which_cookies-0"><a href="httpc.html#which_cookies-0">which_cookies/0</a></li>
    <li title="which_cookies-1"><a href="httpc.html#which_cookies-1">which_cookies/1</a></li>
    <li title="which_sessions-0"><a href="httpc.html#which_sessions-0">which_sessions/0</a></li>
    <li title="which_sessions-1"><a href="httpc.html#which_sessions-1">which_sessions/1</a></li>
    </ul>
</li>
<li id="loadscrollpos" title="httpd " expanded="true">httpd<ul>
<li><a href="httpd.html">
                  Top of manual page
                </a></li>
    <li title="info-1"><a href="httpd.html#info-1">info/1</a></li>
    <li title="info-2"><a href="httpd.html#info-2">info/2</a></li>
    <li title="info-2"><a href="httpd.html#info-2">info/2</a></li>
    <li title="info-3"><a href="httpd.html#info-3">info/3</a></li>
    <li title="info-4"><a href="httpd.html#info-4">info/4</a></li>
    <li title="info-3"><a href="httpd.html#info-3">info/3</a></li>
    <li title="parse_query-1"><a href="httpd.html#parse_query-1">parse_query/1</a></li>
    <li title="reload_config-2"><a href="httpd.html#reload_config-2">reload_config/2</a></li>
    <li title="Module:do-1"><a href="httpd.html#Module:do-1">Module:do/1</a></li>
    <li title="Module:load-2"><a href="httpd.html#Module:load-2">Module:load/2</a></li>
    <li title="Module:remove-1"><a href="httpd.html#Module:remove-1">Module:remove/1</a></li>
    <li title="Module:store-2"><a href="httpd.html#Module:store-2">Module:store/2</a></li>
    </ul>
</li>
<li id="no" title="httpd_custom_api " expanded="false">httpd_custom_api<ul>
<li><a href="httpd_custom_api.html">
                  Top of manual page
                </a></li>
    <li title="request_header-1"><a href="httpd_custom_api.html#request_header-1">request_header/1</a></li>
    <li title="response_default_headers-0"><a href="httpd_custom_api.html#response_default_headers-0">response_default_headers/0</a></li>
    <li title="response_header-1"><a href="httpd_custom_api.html#response_header-1">response_header/1</a></li>
    </ul>
</li>
<li id="no" title="httpd_socket " expanded="false">httpd_socket<ul>
<li><a href="httpd_socket.html">
                  Top of manual page
                </a></li>
    <li title="deliver-3"><a href="httpd_socket.html#deliver-3">deliver/3</a></li>
    <li title="peername-2"><a href="httpd_socket.html#peername-2">peername/2</a></li>
    <li title="resolve-0"><a href="httpd_socket.html#resolve-0">resolve/0</a></li>
    </ul>
</li>
<li id="no" title="httpd_util " expanded="false">httpd_util<ul>
<li><a href="httpd_util.html">
                  Top of manual page
                </a></li>
    <li title="convert_request_date-1"><a href="httpd_util.html#convert_request_date-1">convert_request_date/1</a></li>
    <li title="create_etag-1"><a href="httpd_util.html#create_etag-1">create_etag/1</a></li>
    <li title="day-1"><a href="httpd_util.html#day-1">day/1</a></li>
    <li title="decode_hex-1"><a href="httpd_util.html#decode_hex-1">decode_hex/1</a></li>
    <li title="flatlength-1"><a href="httpd_util.html#flatlength-1">flatlength/1</a></li>
    <li title="hexlist_to_integer-1"><a href="httpd_util.html#hexlist_to_integer-1">hexlist_to_integer/1</a></li>
    <li title="integer_to_hexlist-1"><a href="httpd_util.html#integer_to_hexlist-1">integer_to_hexlist/1</a></li>
    <li title="lookup-2"><a href="httpd_util.html#lookup-2">lookup/2</a></li>
    <li title="lookup-3"><a href="httpd_util.html#lookup-3">lookup/3</a></li>
    <li title="lookup_mime-2"><a href="httpd_util.html#lookup_mime-2">lookup_mime/2</a></li>
    <li title="lookup_mime-3"><a href="httpd_util.html#lookup_mime-3">lookup_mime/3</a></li>
    <li title="lookup_mime_default-2"><a href="httpd_util.html#lookup_mime_default-2">lookup_mime_default/2</a></li>
    <li title="lookup_mime_default-3"><a href="httpd_util.html#lookup_mime_default-3">lookup_mime_default/3</a></li>
    <li title="message-3"><a href="httpd_util.html#message-3">message/3</a></li>
    <li title="month-1"><a href="httpd_util.html#month-1">month/1</a></li>
    <li title="multi_lookup-2"><a href="httpd_util.html#multi_lookup-2">multi_lookup/2</a></li>
    <li title="reason_phrase-1"><a href="httpd_util.html#reason_phrase-1">reason_phrase/1</a></li>
    <li title="rfc1123_date-0"><a href="httpd_util.html#rfc1123_date-0">rfc1123_date/0</a></li>
    <li title="rfc1123_date-1"><a href="httpd_util.html#rfc1123_date-1">rfc1123_date/1</a></li>
    <li title="split-3"><a href="httpd_util.html#split-3">split/3</a></li>
    <li title="split_path-1"><a href="httpd_util.html#split_path-1">split_path/1</a></li>
    <li title="split_script_path-1"><a href="httpd_util.html#split_script_path-1">split_script_path/1</a></li>
    <li title="strip-1"><a href="httpd_util.html#strip-1">strip/1</a></li>
    <li title="suffix-1"><a href="httpd_util.html#suffix-1">suffix/1</a></li>
    </ul>
</li>
<li id="no" title="mod_alias " expanded="false">mod_alias<ul>
<li><a href="mod_alias.html">
                  Top of manual page
                </a></li>
    <li title="default_index-2"><a href="mod_alias.html#default_index-2">default_index/2</a></li>
    <li title="path-3"><a href="mod_alias.html#path-3">path/3</a></li>
    <li title="real_name-3"><a href="mod_alias.html#real_name-3">real_name/3</a></li>
    <li title="real_script_name-3"><a href="mod_alias.html#real_script_name-3">real_script_name/3</a></li>
    </ul>
</li>
<li id="no" title="mod_auth " expanded="false">mod_auth<ul>
<li><a href="mod_auth.html">
                  Top of manual page
                </a></li>
    <li title="add_group_member-3"><a href="mod_auth.html#add_group_member-3">add_group_member/3</a></li>
    <li title="add_group_member-4"><a href="mod_auth.html#add_group_member-4">add_group_member/4</a></li>
    <li title="add_group_member-5"><a href="mod_auth.html#add_group_member-5">add_group_member/5</a></li>
    <li title="add_user-2"><a href="mod_auth.html#add_user-2">add_user/2</a></li>
    <li title="add_user-5"><a href="mod_auth.html#add_user-5">add_user/5</a></li>
    <li title="add_user-6"><a href="mod_auth.html#add_user-6">add_user/6</a></li>
    <li title="delete_group-2"><a href="mod_auth.html#delete_group-2">delete_group/2</a></li>
    <li title="delete_group-4"><a href="mod_auth.html#delete_group-4">delete_group/4</a></li>
    <li title="delete_group_member-3"><a href="mod_auth.html#delete_group_member-3">delete_group_member/3</a></li>
    <li title="delete_group_member-4"><a href="mod_auth.html#delete_group_member-4">delete_group_member/4</a></li>
    <li title="delete_group_member-5"><a href="mod_auth.html#delete_group_member-5">delete_group_member/5</a></li>
    <li title="delete_user-2"><a href="mod_auth.html#delete_user-2">delete_user/2</a></li>
    <li title="delete_user-3"><a href="mod_auth.html#delete_user-3">delete_user/3</a></li>
    <li title="delete_user-4"><a href="mod_auth.html#delete_user-4">delete_user/4</a></li>
    <li title="get_user-2"><a href="mod_auth.html#get_user-2">get_user/2</a></li>
    <li title="get_user-3"><a href="mod_auth.html#get_user-3">get_user/3</a></li>
    <li title="get_user-4"><a href="mod_auth.html#get_user-4">get_user/4</a></li>
    <li title="list_group_members-2"><a href="mod_auth.html#list_group_members-2">list_group_members/2</a></li>
    <li title="list_group_members-3"><a href="mod_auth.html#list_group_members-3">list_group_members/3</a></li>
    <li title="list_group_members-4"><a href="mod_auth.html#list_group_members-4">list_group_members/4</a></li>
    <li title="list_groups-1"><a href="mod_auth.html#list_groups-1">list_groups/1</a></li>
    <li title="list_groups-2"><a href="mod_auth.html#list_groups-2">list_groups/2</a></li>
    <li title="list_groups-3"><a href="mod_auth.html#list_groups-3">list_groups/3</a></li>
    <li title="list_users-1"><a href="mod_auth.html#list_users-1">list_users/1</a></li>
    <li title="list_users-2"><a href="mod_auth.html#list_users-2">list_users/2</a></li>
    <li title="list_users-3"><a href="mod_auth.html#list_users-3">list_users/3</a></li>
    <li title="update_password-5"><a href="mod_auth.html#update_password-5">update_password/5</a></li>
    <li title="update_password-6"><a href="mod_auth.html#update_password-6">update_password/6</a></li>
    </ul>
</li>
<li id="no" title="mod_esi " expanded="false">mod_esi<ul>
<li><a href="mod_esi.html">
                  Top of manual page
                </a></li>
    <li title="deliver-2"><a href="mod_esi.html#deliver-2">deliver/2</a></li>
    <li title="Module:Function-3"><a href="mod_esi.html#Module:Function-3">Module:Function/3</a></li>
    <li title="Module:Function-2"><a href="mod_esi.html#Module:Function-2">Module:Function/2</a></li>
    </ul>
</li>
<li id="no" title="mod_security " expanded="false">mod_security<ul>
<li><a href="mod_security.html">
                  Top of manual page
                </a></li>
    <li title="block_user-4"><a href="mod_security.html#block_user-4">block_user/4</a></li>
    <li title="block_user-5"><a href="mod_security.html#block_user-5">block_user/5</a></li>
    <li title="list_auth_users-1"><a href="mod_security.html#list_auth_users-1">list_auth_users/1</a></li>
    <li title="list_auth_users-2"><a href="mod_security.html#list_auth_users-2">list_auth_users/2</a></li>
    <li title="list_auth_users-2"><a href="mod_security.html#list_auth_users-2">list_auth_users/2</a></li>
    <li title="list_auth_users-3"><a href="mod_security.html#list_auth_users-3">list_auth_users/3</a></li>
    <li title="list_blocked_users-1"><a href="mod_security.html#list_blocked_users-1">list_blocked_users/1</a></li>
    <li title="list_blocked_users-2"><a href="mod_security.html#list_blocked_users-2">list_blocked_users/2</a></li>
    <li title="list_blocked_users-2"><a href="mod_security.html#list_blocked_users-2">list_blocked_users/2</a></li>
    <li title="list_blocked_users-3"><a href="mod_security.html#list_blocked_users-3">list_blocked_users/3</a></li>
    <li title="unblock_user-2"><a href="mod_security.html#unblock_user-2">unblock_user/2</a></li>
    <li title="unblock_user-3"><a href="mod_security.html#unblock_user-3">unblock_user/3</a></li>
    <li title="unblock_user-3"><a href="mod_security.html#unblock_user-3">unblock_user/3</a></li>
    <li title="unblock_user-4"><a href="mod_security.html#unblock_user-4">unblock_user/4</a></li>
    <li title="Module:event-4"><a href="mod_security.html#Module:event-4">Module:event/4</a></li>
    <li title="Module:event-5"><a href="mod_security.html#Module:event-5">Module:event/5</a></li>
    </ul>
</li>
<li id="no" title="http_uri " expanded="false">http_uri<ul>
<li><a href="http_uri.html">
                  Top of manual page
                </a></li>
    <li title="decode-1"><a href="http_uri.html#decode-1">decode/1</a></li>
    <li title="encode-1"><a href="http_uri.html#encode-1">encode/1</a></li>
    <li title="parse-1"><a href="http_uri.html#parse-1">parse/1</a></li>
    <li title="parse-2"><a href="http_uri.html#parse-2">parse/2</a></li>
    <li title="scheme_defaults-0"><a href="http_uri.html#scheme_defaults-0">scheme_defaults/0</a></li>
    </ul>
</li>
</ul>
</div></div>
<div id="content">
<div class="innertube">
<!-- refpage --><center><h1>httpd</h1></center>
  
  <h3><span onMouseOver="document.getElementById('ghlink-module-idm1402').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-module-idm1402').style.visibility = 'hidden';"><span id="ghlink-module-idm1402"></span><a class="title_link" name="module" href="#module">Module</a></span></h3>
<div class="REFBODY module-body">httpd</div> 
  <h3><span onMouseOver="document.getElementById('ghlink-module-summary-idm1403').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-module-summary-idm1403').style.visibility = 'hidden';"><span id="ghlink-module-summary-idm1403"></span><a class="title_link" name="module-summary" href="#module-summary">Module Summary</a></span></h3>
<div class="REFBODY module-summary-body">
    HTTP server API
  </div>
  <h3><span onMouseOver="document.getElementById('ghlink-description-idm1404').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-description-idm1404').style.visibility = 'hidden';"><span id="ghlink-description-idm1404" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/inets/doc/src/httpd.xml#L36" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="description" href="#description">Description</a></span></h3>
<div class="REFBODY description-body"><p>
    <p>An implementation of an HTTP 1.1 compliant web server, as defined in 
    <span class="bold_code bc-20"><a href="http://www.ietf.org/rfc/rfc2616.txt">RFC 2616</a></span>. 
    Provides web server start options, administrative functions, and 
    an Erlang callback API.</p>
  </p></div>
  
  <h3><span onMouseOver="document.getElementById('ghlink-data-types-idm1407').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-data-types-idm1407').style.visibility = 'hidden';"><span id="ghlink-data-types-idm1407" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/inets/doc/src/httpd.xml#L43" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="data-types" href="#data-types">DATA TYPES</a></span></h3>
<div class="REFBODY rb-3">
    
    <p>Type definitions that are used more than once in
      this module:</p>
    <p><span class="code">boolean() = true | false</span></p>
    <p><span class="code">string()</span> = list of ASCII characters</p>
    <p><span class="code">path() = string()</span> representing a file or a directory path</p>
    <p><span class="code"> ip_address() = {N1,N2,N3,N4} % IPv4
       | {K1,K2,K3,K4,K5,K6,K7,K8}  % IPv6</span></p>
    <p><span class="code">hostname() = string()</span> representing a host, for example, 
    "foo.bar.com"</p>
    <p><span class="code">property() = atom()</span></p>
    
  </div>

  <h3><span onMouseOver="document.getElementById('ghlink-erlang-http-server-service-start-stop-idm1422').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-erlang-http-server-service-start-stop-idm1422').style.visibility = 'hidden';"><span id="ghlink-erlang-http-server-service-start-stop-idm1422" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/inets/doc/src/httpd.xml#L58" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="erlang-http-server-service-start-stop" href="#erlang-http-server-service-start-stop">ERLANG HTTP SERVER SERVICE START/STOP</a></span></h3>
<div class="REFBODY rb-3">
    
    <p>A web server can be configured to start when starting the <span class="code">Inets</span>
    application, or dynamically in runtime by calling the
    <span class="code">Inets</span> application API <span class="code">inets:start(httpd, ServiceConfig)</span> or
    <span class="code">inets:start(httpd, ServiceConfig, How)</span>,
    see <span class="bold_code bc-19"><a href="inets.html">inets(3)</a></span>.
    The configuration options, also called
    properties, are as follows:</p>

    <a name="props_file"></a>
    <p><strong>File Properties</strong></p>

    <p>When the web server is started
    at application start time, the properties are to be fetched from a
    configuration file that can consist of a regular Erlang property
    list, that is, <span class="code">[{Option, Value}]</span>, where <span class="code"> Option = property()
    </span> and <span class="code">Value = term()</span>, followed by a full stop, or for
    backwards compatibility, an Apache-like configuration file. If the
    web server is started dynamically at runtime,
    a file can still be specified but also the complete property
    list.</p>
    
    <dl>
      <dt><strong><a name="prop_proplist_file"></a>{proplist_file, path()}</strong></dt>
      <dd>
	<p>If this property is defined, <span class="code">Inets</span> expects to find
	all other properties defined in this file. The
	file must include all properties listed under mandatory
	properties.</p>
      </dd>

      <dt><strong><a name="prop_file"></a>{file, path()}</strong></dt>
      <dd> 
	<p>If this property is defined, <span class="code">Inets</span> expects to find all 
	other properties defined in this file, which uses Apache-like 
	syntax. The file must include all properties listed 
	under mandatory properties. The Apache-like syntax is the property, 
	written as one word where each new word begins with a capital, 
	followed by a white-space, followed by the value, followed by a 
	new line.</p>
	<p>Example:</p>
	<div class="example"><pre>{server_root, "/urs/local/www"} -&gt; ServerRoot /usr/local/www</pre></div>
	  
	<p>A few exceptions are documented
	  for each property that behaves differently,
	  and the special cases <span class="code">{directory, {path(), PropertyList}}</span> 
	  and <span class="code">{security_directory, {Dir, PropertyList}}</span>, are represented
	  as:</p>
	<div class="example"><pre>
	  
&lt;Directory Dir&gt;
 &lt;Properties handled as described above&gt; 
&lt;/Directory&gt;
         </pre></div>
      </dd>
    </dl>
    <div class="note">
<div class="label">Note</div>
<div class="content"><p>
	<p>The properties <span class="code">proplist_file</span> and <span class="code">file</span> are mutually exclusive. Also newer properties may not be supported as Apache-like options, this is a legacy feature.</p>
    </p></div>
</div>

    <a name="props_mand"></a>
    <p><strong>Mandatory Properties</strong></p>
    <dl>
      <dt><strong><a name="prop_port"></a>{port, integer()} </strong></dt>
      <dd> 
	<p>The port that the HTTP server listen to.
	If zero is specified as port, an arbitrary available port
	is picked and function <span class="code">httpd:info/2</span> can be used to
	determine which port was picked.</p>
      </dd>

      <dt><strong><a name="prop_server_name"></a>{server_name, string()}</strong></dt>
      <dd>
	<p>The name of your server, normally a fully qualified domain name.</p>
      </dd>

      <dt><strong><a name="prop_server_root"></a>{server_root, path()}</strong></dt>
      <dd> 
	<p>Defines the home directory of the server, where log files, and so on, 
	can be stored. Relative paths specified in other properties refer
	to this directory.</p>
      </dd>

      <dt><strong> <a name="prop_doc_root"></a>{document_root, path()}</strong></dt>
      <dd>
	<p>Defines the top directory for the documents that
	are available on the HTTP server.</p>
      </dd>
    </dl>

    <a name="props_comm"></a>
    <p><strong>Communication Properties</strong></p>
    <dl>
      <dt><strong><a name="prop_bind_address"></a>{bind_address, ip_address() | hostname() | any}</strong></dt>
      <dd>
	<p>Default is <span class="code">any</span>. <span class="code">any</span> is denoted <strong>*</strong> 
	in the Apache-like configuration file.</p>
      </dd>

      <dt><strong><a name="profile"></a>{profile, atom()}</strong></dt>
      <dd>
        <p>Used together with <span class="bold_code bc-17"><a href="#prop_bind_address"><span class="code">bind_address</span></a></span>
	and <span class="bold_code bc-17"><a href="#prop_port"><span class="code">port</span></a></span> to uniquely identify
	a HTTP server. This can be useful in a virtualized environment,
	where there can
	be more that one server that has the same bind_address and port.
	If this property is not explicitly set, it is assumed that the
	<span class="bold_code bc-17"><a href="#prop_bind_address"><span class="code">bind_address</span></a></span> and
	<span class="bold_code bc-17"><a href="#prop_port"><span class="code">port</span></a></span>uniquely identifies the HTTP server.
	</p>
      </dd>

      <dt><strong><a name="prop_socket_type"></a>{socket_type, ip_comm | {ip_comm,  Config::proplist()} | {essl, Config::proplist()}}</strong></dt>
      <dd>
	<p>For <span class="code">ip_comm</span> configuration options, see 
	<span class="bold_code bc-13"><a href="gen_tcp.html#listen-2">gen_tcp:listen/2</a></span>, some options
	that are used internally by httpd can not be set.</p>
	<p>For <span class="code">SSL</span> configuration options, see 
	<span class="bold_code bc-13"><a href="ssl.html#listen-2">ssl:listen/2</a></span>.</p>
	<p>Default is <span class="code">ip_comm</span>.</p> 
      </dd>

      <dt><strong><a name="prop_ipfamily"></a>{ipfamily, inet | inet6}</strong></dt>
      <dd>
	<p>Default is <span class="code">inet</span>, legacy option <span class="code">inet6fb4</span> no longer makes sense and will be translated
	to inet.</p>
      </dd>
      
      <dt><strong><a name="prop_minimum_bytes_per_second"></a>{minimum_bytes_per_second, integer()}</strong></dt>
      <dd>
	<p>If given, sets a minimum of bytes per second value for connections.</p>
	<p>If the value is unreached, the socket closes for that connection.</p>
	<p>The option is good for reducing the risk of "slow DoS" attacks.</p>
      </dd>
    </dl>

    <a name="props_api_modules"></a>
    <p><strong>Erlang Web Server API Modules</strong> </p>
    <dl>
      <dt><strong><a name="prop_modules"></a>{modules, [atom()]} </strong></dt>
      <dd>
	<p>Defines which modules the HTTP server uses when handling
	requests. Default is <span class="code">[mod_alias, mod_auth, mod_esi,
	mod_actions, mod_cgi, mod_dir, mod_get, mod_head, mod_log,
	mod_disk_log]</span>. 
	Notice that some <span class="code">mod</span>-modules are dependent on
	others, so the order cannot be entirely arbitrary. See the
	<span class="bold_code bc-19"><a href="../apps/inets/http_server.html">Inets Web Server Modules</a></span> in the
	User's Guide for details.</p>
      </dd>
    </dl>
    
    <a name="props_limit"></a>
    <p><strong>Limit properties</strong> </p>
    <dl>

      <dt><strong><a name="prop_customize"></a>{customize, atom()}</strong></dt>
      <dd> 
	<p>A callback module to customize the inets HTTP servers behaviour
	see <span class="bold_code bc-19"><a href="httpd_custom_api.html">httpd_custom_api</a></span> </p>
      </dd>
      
      <dt><strong><a name="prop_disable_chunked_encoding"></a>{disable_chunked_transfer_encoding_send, boolean()}</strong></dt>
      <dd> 
	<p>Allows you to disable chunked
	transfer-encoding when sending a response to an HTTP/1.1
	client. Default is <span class="code">false</span>.</p>
      </dd>
      
      <dt><strong><a name="prop_keep_alive"></a>{keep_alive, boolean()}</strong></dt>
      <dd>
	<p>Instructs the server whether to use persistent
	connections when the client claims to be HTTP/1.1
	compliant. Default is <span class="code">true</span>.</p>
      </dd>
      
      <dt><strong><a name="prop_keep_alive_timeout"></a>{keep_alive_timeout, integer()}</strong></dt>
      <dd>
	<p>The number of seconds the server waits for a
	subsequent request from the client before closing the
	connection. Default is <span class="code">150</span>.</p>
      </dd>
      
      <dt><strong><a name="prop_max_body_size"></a>{max_body_size, integer()}</strong></dt>
      <dd>
	<p>Limits the size of the message body of an HTTP request.
	Default is no limit.</p>
      </dd>
      
      <dt><strong><a name="prop_max_clients"></a>{max_clients, integer()}</strong></dt>
      <dd> 
	<p>Limits the number of simultaneous requests that can be
	supported. Default is <span class="code">150</span>.</p>
      </dd>

      <dt><strong><a name="prop_max_header_size"></a>{max_header_size, integer()}</strong></dt>
      <dd>
	<p>Limits the size of the message header of an HTTP request.
	Default is <span class="code">10240</span>.</p>
      </dd>

      <dt><strong><a name="prop_max_content_length"></a>{max_content_length, integer()}</strong></dt>
      <dd>
	<p>Maximum content-length in an incoming request, in bytes. Requests
	with content larger than this are answered with status 413.
	Default is <span class="code">100000000</span> (100 MB).
	</p>
      </dd>

      <dt><strong><a name="prop_max_uri"></a>{max_uri_size, integer()}</strong></dt>
      <dd>
	<p>Limits the size of the HTTP request URI.
	Default is no limit.</p>
      </dd>
      
      <dt><strong><a name="prop_max_keep_alive_req"></a>{max_keep_alive_request, integer()}</strong></dt>
      <dd>
	<p>The number of requests that a client can do on one
	connection. When the server has responded to the number of
	requests defined by <span class="code">max_keep_alive_requests</span>, the server 
	closes the connection. The server closes it even if there are 
	queued request. Default is no limit.</p>
      </dd>

      
      <dt><strong><a name="max_client_body_chunk"></a>{max_client_body_chunk, integer()}</strong></dt>
      <dd>
	<p>Enforces chunking of a HTTP PUT or POST body data to be deliverd
	to the mod_esi callback. Note this is not supported for mod_cgi. 
	Default is no limit e.i the whole body is deliverd as one entity, which could
	be very memory consuming. <span class="bold_code bc-19"><a href="mod_esi.html">mod_esi(3)</a></span>.
	</p>
      </dd>
      
    </dl>
    
    <a name="props_admin"></a>
    <p><strong>Administrative Properties</strong></p>
    <dl> 
      <dt><strong><a name="prop_mime_types"></a>{mime_types, [{MimeType, Extension}] | path()}</strong></dt>
      <dd>
	<p><span class="code">MimeType = string()</span> and <span class="code">Extension = string()</span>.
	  Files delivered to the client are MIME typed according to RFC
          1590. File suffixes are mapped to MIME types before file delivery.
          The mapping between file suffixes and MIME types can be specified
	  as an Apache-like file or directly in the property list. Such
          a file can look like the follwoing:</p>
        <div class="example"><pre>
# MIME type	Extension  
text/html	html htm
text/plain	asc txt</pre></div>
	
	<p>Default is [{"html","text/html"},{"htm","text/html"}].</p>
      </dd>

      <dt><strong><a name="prop_mime_type"></a>{mime_type, string()}</strong></dt>
      <dd>
	<p>When the server is asked to provide a document type that
	cannot be determined by the MIME Type Settings, the server
	uses this default type.</p>
      </dd>
  
      <dt><strong><a name="prop_server_admin"></a>{server_admin, string()}</strong></dt>
      <dd>
	<p>Defines the email-address of the server
	administrator to be included in any error messages returned by
	the server.</p>
      </dd>

      <dt><strong><a name="prop_server_tokens"></a>{server_tokens, none|prod|major|minor|minimal|os|full|{private, string()}}</strong></dt>
      <dd>
	<p>Defines the look of the value of the server header.</p>
	<p>Example: Assuming the version of <span class="code">Inets</span> is 5.8.1, 
	the server header string can look as follows for
	the different values of server-tokens:</p>
	<dl>
       <dt><strong><span class="code">none</span></strong></dt>
       <dd><p>""  % A Server: header will not be generated</p></dd>
       <dt><strong><span class="code">prod</span></strong></dt>
       <dd><p>"inets"</p></dd>
       <dt><strong><span class="code">major</span></strong></dt>
       <dd><p>"inets/5"</p></dd>
       <dt><strong><span class="code">minor</span></strong></dt>
       <dd><p>"inets/5.8"</p></dd>
       <dt><strong><span class="code">minimal</span></strong></dt>
       <dd><p>"inets/5.8.1"</p></dd>
       <dt><strong><span class="code">os</span></strong></dt>
       <dd><p>"inets/5.8.1 (unix)"</p></dd>
       <dt><strong><span class="code">full</span></strong></dt>
       <dd><p>"inets/5.8.1 (unix/linux) OTP/R15B"</p></dd>
       <dt><strong><span class="code">{private, "foo/bar"}</span></strong></dt>
       <dd><p>"foo/bar"</p></dd>
     </dl>
	<p>By default, the value is as before, that is, <span class="code">minimal</span>.</p>
      </dd>

      
      <dt><strong><a name="prop_logger"></a>{logger, Options::list()}</strong></dt>
      <dd>

	<p>Currently only one option is supported: </p>
	
	<dl>
	  <dt><strong><span class="code">{error, ServerID::atom()}</span></strong></dt>
	  <dd>	    <p>Produces  
	    <span class="bold_code bc-13"><a href="logger.html#type-log_event">logger events</a></span>
	    on logger <span class="bold_code bc-13"><a href="logger.html#type-level">level error</a></span>
	    under the hierarchical logger <span class="bold_code bc-13"><a href="logger.html#type-log_event">domain:</a></span> <span class="code">[otp, inets, httpd, ServerID, error]</span>
	    The built in logger formatting 
	    function produces log entries from the
	    error reports:</p>
	    
	    <div class="example"><pre>#{server_name =&gt; string()
  protocol =&gt; internal | 'TCP' | 'TLS' | 'HTTP',
  transport =&gt; "TCP "| "TLS", %% Present when protocol = 'HTTP'
  uri =&gt; string(), %% Present when protocol = 'HTTP' and URI is valid
  peer =&gt; inet:peername(),
  host =&gt; inet:hostname(),
  reason =&gt; term()
}</pre></div>

<p>An example of a log entry with only default settings of logger</p>

<div class="example"><pre>=ERROR REPORT==== 9-Oct-2019::09:33:27.350235 ===
   Server: My Server
 Protocol: HTTP
Transport: TLS
      URI: /not_there
     Host: 127.0.1.1:80
     Peer: 127.0.0.1:45253
   Reason: [{statuscode,404},{description,"Object Not Found"}]</pre></div>

<p>Using this option makes mod_log and mod_disk_log error logs redundant.</p>
	
	<p>Add the filter</p>
	<div class="example"><pre>{fun logger_filters:domain/2,
	{log,equal,[otp,inets, httpd, ServerID, error]}</pre></div>
	
        to appropriate logger handler to handle the events. For
        example to write the error log from an httpd server with a
        <span class="code">ServerID</span> of <span class="code">my_server</span> to a file you can use the following
        sys.config:

	<div class="example"><pre>[{kernel,
 [{logger,
  [{handler, http_error_test, logger_std_h,
    #{config =&gt; #{ file =&gt; "log/http_error.log" },
      filters =&gt; [{inets_httpd, {fun logger_filters:domain/2,
                                 {log, equal,
                                  [otp, inets, httpd, my_server, error]
                                 }}}],
      filter_default =&gt; stop }}]}]}].</pre></div>

	<p>or if you want to add it to the default logger via an API:</p>
	
	<div class="example"><pre>logger:add_handler_filter(default,
                          inets_httpd,
                          {fun logger_filters:domain/2,
                           {log, equal,
                            [otp, inets, httpd, my_server, error]}}).</pre></div>
			    
	  </dd>      
	</dl> 
	
      </dd>      
      
      <dt><strong><a name="prop_log_format"></a>{log_format, common | combined}</strong></dt>
      <dd>
	<p>Defines if access logs are to be written according to the <span class="code">common</span>
	log format or the extended common log format.
	The <span class="code">common</span> format is one line looking like this:
        <span class="code">remotehost rfc931 authuser [date] "request" status bytes</span>.</p> 
	<p>Here:</p>
	<dl>
	  <dt><strong><span class="code">remotehost</span></strong></dt>
	  <dd>Remote.</dd>
	  <dt><strong><span class="code">rfc931</span></strong></dt>
	  <dd>The remote username of the client (<span class="bold_code bc-20"><a href="http://www.ietf.org/rfc/rfc931.txt">RFC 931</a></span>).</dd>
	  <dt><strong><span class="code">authuser</span></strong></dt>
	  <dd>The username used for authentication.</dd>
	  <dt><strong><span class="code">[date]</span></strong></dt>
	  <dd>Date and time of the request (<span class="bold_code bc-20"><a href="http://www.ietf.org/rfc/rfc1123.txt">RFC 1123</a></span>).</dd>
	  <dt><strong><span class="code">"request"</span></strong></dt>
	  <dd>The request line as it came from the client  (<span class="bold_code bc-20"><a href="http://www.ietf.org/rfc/rfc1945.txt">RFC 1945</a></span>).</dd>
	  <dt><strong><span class="code">status</span></strong></dt>
	  <dd>The HTTP status code returned to the client (<span class="bold_code bc-20"><a href="http://www.ietf.org/rfc/rfc1945.txt">RFC 1945</a></span>).</dd>
	  <dt><strong><span class="code">bytes</span></strong></dt>
	  <dd>The content-length of the document transferred.</dd>
	</dl>

	<p>The <span class="code">combined</span> format is one line looking like this:
	<span class="code">remotehost rfc931 authuser [date] "request" status bytes "referer" "user_agent" </span></p>
	<p>In addition to the earlier:</p>
	<dl>
	  <dt><strong><span class="code">"referer"</span></strong></dt>
	  <dd>The URL the client was on before
	requesting the URL (if it could not be determined, 
	a minus sign is placed in this field).</dd>
	  <dt><strong><span class="code">"user_agent"</span></strong></dt>
	  <dd>The software the client claims to be using (if it
	could not be determined, a minus sign is placed in
	this field).</dd>
	</dl>
	
	<p>This affects the access logs written by <span class="code">mod_log</span> and 
	<span class="code">mod_disk_log</span>.
	</p>	
      </dd>      

      <dt><strong><a name="prop_elog_format"></a>{error_log_format, pretty | compact}</strong></dt>
      <dd>
	<p>Default is <span class="code">pretty</span>. If the error log is meant to be read
	directly by a human, <span class="code">pretty</span> is the best option.</p>
	<p><span class="code">pretty</span> has a format corresponding to:</p>
	
	<div class="example"><pre>io:format("[~s] ~s, reason: ~n ~p ~n~n", [Date, Msg, Reason]).</pre></div>

	<p><span class="code">compact</span> has a format corresponding to:</p>
	
	<div class="example"><pre>io:format("[~s] ~s, reason: ~w ~n", [Date, Msg, Reason]).</pre></div>

	<p>This affects the error logs written by <span class="code">mod_log</span> and 
	<span class="code">mod_disk_log</span>.
	</p>
      </dd>
      
    </dl>
   
    <a name="props_alias"></a>
    <p><strong>URL Aliasing Properties - Requires mod_alias</strong></p>
    <dl>
      <dt><strong><a name="prop_alias"></a>{alias, {Alias, RealName}}</strong></dt>
      <dd>
	<p><span class="code">Alias = string()</span> and <span class="code">RealName = string()</span>. 
	<span class="code">alias</span> allows documents to be stored in the local file
	system instead of the <span class="code">document_root</span> location. URLs with a path
	beginning with url-path is mapped to local files beginning with
	directory-filename, for example:</p>
	
	<div class="example"><pre>{alias, {"/image", "/ftp/pub/image"}}</pre></div>
	
	<p>Access to http://your.server.org/image/foo.gif would refer to
	the file /ftp/pub/image/foo.gif.</p>
      </dd>

      <dt><strong><a name="prop_re_write"></a>{re_write, {Re, Replacement}}</strong></dt>      
      <dd>
	<p><span class="code">Re = string()</span> and <span class="code">Replacement = string()</span>. 
	<span class="code">re_write</span> allows documents to be stored in the local file
	system instead of the <span class="code">document_root</span> location. URLs are rewritten
        by <span class="code">re:replace/3</span> to produce a path in the local file-system,
        for example:</p>
	
	<div class="example"><pre>{re_write, {"^/[~]([^/]+)(.*)$", "/home/\\1/public\\2"}}</pre></div>
	
	<p>Access to http://your.server.org/~bob/foo.gif would refer to
	the file /home/bob/public/foo.gif.

        In an Apache-like configuration file, <span class="code">Re</span> is separated
        from <span class="code">Replacement</span> with one single space, and as expected
        backslashes do not need to be backslash escaped, the
        same example would become:</p>

        <div class="example"><pre>ReWrite ^/[~]([^/]+)(.*)$ /home/\1/public\2</pre></div>

        <p>Beware of trailing space in <span class="code">Replacement</span> to be used.
        If you must have a space in <span class="code">Re</span>, use, for example, the character 
	encoding <span class="code">\040</span>, see 
	<span class="bold_code bc-18"><a href="re.html">re(3)</a></span>.</p>
      </dd>

      <dt><strong><a name="prop_dir_idx"></a>{directory_index, [string()]}</strong></dt>      
      <dd> 
	<p><span class="code">directory_index</span> specifies a list of resources to look for
	if a client requests a directory using a <span class="code">/</span> at the end of the
	directory name. <span class="code">file</span> depicts the name of a file in the
	directory. Several files can be given, in which case the server
	returns the first it finds, for example:</p>
	
	<div class="example"><pre>{directory_index, ["index.html", "welcome.html"]}</pre></div>
	
	<p>Access to http://your.server.org/docs/ would return
	http://your.server.org/docs/index.html or
	http://your.server.org/docs/welcome.html if index.html does not
	exist.</p>
      </dd> 
    </dl>

    <a name="props_cgi"></a>
    <p><strong>CGI Properties - Requires mod_cgi</strong></p>
    <dl> 
      <dt><strong><a name="prop_script_alias"></a>{script_alias, {Alias, RealName}}</strong></dt>
      <dd>
	<p><span class="code">Alias = string()</span> and <span class="code">RealName = string()</span>.
	Have the same behavior as property <span class="code">alias</span>, except that
	they also mark the target directory as containing CGI
	scripts. URLs with a path beginning with url-path are mapped to
	scripts beginning with directory-filename, for example:</p>
	
	<div class="example"><pre>{script_alias, {"/cgi-bin/", "/web/cgi-bin/"}}</pre></div>
	
	<p>Access to http://your.server.org/cgi-bin/foo would cause
	the server to run the script /web/cgi-bin/foo.</p>
      </dd>
      
      <dt><strong><a name="prop_script_re_write"></a>{script_re_write, {Re, Replacement}}</strong></dt>
      <dd>
	<p><span class="code">Re = string()</span> and <span class="code">Replacement = string()</span>.
	Have the same behavior as property <span class="code">re_write</span>, except that
	they also mark the target directory as containing CGI
	scripts. URLs with a path beginning with url-path are mapped to
	scripts beginning with directory-filename, for example:</p>
	
	<div class="example"><pre>{script_re_write, {"^/cgi-bin/(\\d+)/", "/web/\\1/cgi-bin/"}}</pre></div>
	
	<p>Access to http://your.server.org/cgi-bin/17/foo would cause
	the server to run the script /web/17/cgi-bin/foo.</p>
      </dd>
      
      <dt><strong><a name="prop_script_nocache"></a>{script_nocache, boolean()}</strong></dt>
      <dd> 
	<p>If <span class="code">script_nocache</span> is set to <span class="code">true</span>, the HTTP server by
	default adds the header fields necessary to prevent proxies from
	caching the page. Generally this is preferred. 
	Default to <span class="code">false</span>.</p>
      </dd>
      
      <dt><strong><a name="prop_script_timeout"></a>{script_timeout, integer()}</strong></dt>
      <dd>
	<p>The time in seconds the web server waits between each
	chunk of data from the script. If the CGI script does not deliver
	any data before the timeout, the connection to the client is
	closed. Default is <span class="code">15</span>.</p>
      </dd>
      
      <dt><strong><a name="prop_action"></a>{action, {MimeType, CgiScript}} - requires mod_action</strong></dt>
      <dd>
	<p><span class="code">MimeType = string()</span> and <span class="code">CgiScript = string()</span>.
	<span class="code">action</span> adds an action activating a CGI script
	whenever a file of a certain MIME type is requested. It
	propagates the URL and file path of the requested document using
	the standard CGI PATH_INFO and PATH_TRANSLATED environment
	variables.</p>
	<p>Example:</p>

	<div class="example"><pre>{action, {"text/plain", "/cgi-bin/log_and_deliver_text"}}</pre></div>
      </dd>

      <dt><strong><a name="prop_script"></a>{script, {Method, CgiScript}} - requires mod_action</strong></dt>
      <dd>
	<p><span class="code">Method = string()</span> and <span class="code">CgiScript = string()</span>.
	<span class="code">script</span> adds an action activating a CGI script
	whenever a file is requested using a certain HTTP method. The
	method is either GET or POST, as defined in <span class="bold_code bc-20"><a href="http://www.ietf.org/rfc/rfc1945.txt">RFC 1945</a></span>. It
	propagates the URL and file path of the requested document using
	the standard CGI PATH_INFO and PATH_TRANSLATED environment
	variables.</p>
	<p>Example:</p>
	
	<div class="example"><pre>{script, {"PUT", "/cgi-bin/put"}}</pre></div>
	
      </dd>
    </dl>
    
    <a name="props_esi"></a>
    <p><strong>ESI Properties - Requires mod_esi</strong></p>
    <dl>
      <dt><strong><a name="prop_esi_alias"></a>{erl_script_alias, {URLPath, [AllowedModule]}}</strong></dt>      
      <dd>
	<p><span class="code">URLPath = string()</span> and <span class="code">AllowedModule = atom()</span>.
	<span class="code">erl_script_alias</span> marks all URLs matching url-path as erl
	scheme scripts. A matching URL is mapped into a specific module
	and function, for example:</p>
	
	<div class="example"><pre>{erl_script_alias, {"/cgi-bin/example", [httpd_example]}}</pre></div>
	
	<p>A request to
	http://your.server.org/cgi-bin/example/httpd_example:yahoo
	would refer to httpd_example:yahoo/3 or, if that does not exist,
	httpd_example:yahoo/2 and
	http://your.server.org/cgi-bin/example/other:yahoo would
	not be allowed to execute.</p>
      </dd>

      <dt><strong><a name="prop_esi_nocache"></a>{erl_script_nocache, boolean()}</strong></dt>
      <dd>
	<p>If <span class="code">erl_script_nocache</span> is set to <span class="code">true</span>, the server adds
	HTTP header fields preventing proxies from caching the
	page. This is generally a good idea for dynamic content, as
	the content often varies between each request. 
	Default is <span class="code">false</span>.</p>
      </dd>

      <dt><strong><a name="prop_esi_timeout"></a>{erl_script_timeout, integer()}</strong></dt>
      <dd>
	<p>If <span class="code">erl_script_timeout</span> sets the time in seconds the server
	waits between each chunk of data to be delivered through
	<span class="code">mod_esi:deliver/2</span>. Default is <span class="code">15</span>. This is only relevant
	for scripts that use the erl scheme.</p>
      </dd>

      <dt><strong><a name="prop_esi_timeout"></a>{eval_script_alias, {URLPath, [AllowedModule]}}</strong></dt>
      <dd>
	<p><span class="code">URLPath = string()</span> and <span class="code">AllowedModule = atom()</span>.
	Same as <span class="code">erl_script_alias</span> but for scripts
	using the eval scheme. This is only supported
	for backwards compatibility. The eval scheme is deprecated.</p>
      </dd>
    </dl>

    <a name="props_log"></a>
    <p><strong>Log Properties - Requires mod_log</strong></p>
    <dl>
      <dt><strong><a name="prop_elog"></a>{error_log, path()}</strong></dt>
      <dd>
	<p>Defines the filename of the error log file to be used to log
	server errors. If the filename does not begin with a slash (/),
	it is assumed to be relative to the <span class="code">server_root</span>.</p>
      </dd>

      <dt><strong><a name="prop_slog"></a>{security_log, path()}</strong></dt>
      <dd>
	<p>Defines the filename of the access log file to be used to
	log security events. If the filename does not begin with a slash
	(/), it is assumed to be relative to the <span class="code">server_root</span>.</p>
      </dd>

      <dt><strong><a name="prop_tlog"></a>{transfer_log, path()}</strong></dt>
      <dd> 
	<p>Defines the filename of the access log file to be used to
	log incoming requests. If the filename does not begin with a
	slash (/), it is assumed to be relative to the <span class="code">server_root</span>.</p>
      </dd>
    </dl>

    <a name="props_dlog"></a>
    <p><strong>Disk Log Properties - Requires mod_disk_log</strong></p>
    <dl>
      <dt><strong><a name="prop_dlog_format"></a>{disk_log_format, internal | external}</strong></dt>
      <dd>
	<p>Defines the file format of the log files. See <span class="code">disk_log</span> for
	details. If the internal file format is used, the
	log file is repaired after a crash. When a log file is
	repaired, data can disappear. When the external file format is
	used, <span class="code">httpd</span> does not start if the log file is broken. Default is
	<span class="code">external</span>.</p>
      </dd>

      <dt><strong><a name="prop_edlog"></a>{error_disk_log, path()}</strong></dt>
      <dd>
	<p>Defines the filename of the (<span class="code">disk_log(3)</span>) error log file
	to be used to log server errors. If the filename does not begin
	with a slash (/), it is assumed to be relative to the <span class="code">server_root</span>.</p>
      </dd>

      <dt><strong><a name="prop_edlog_size"></a>{error_disk_log_size, {MaxBytes, MaxFiles}}</strong></dt>
      <dd>
	<p><span class="code">MaxBytes = integer()</span> and <span class="code">MaxFiles = integer()</span>.
	Defines the properties of the (<span class="code">disk_log(3)</span>) error log
	file. This file is of type wrap log and
	max bytes is written to each file and max files is
	used before the first file is truncated and reused.</p>
      </dd>

      <dt><strong><a name="prop_sdlog"></a>{security_disk_log, path()}</strong></dt>
      <dd>
	<p>Defines the filename of the (<span class="code">disk_log(3)</span>) access log file
	logging incoming security events, that is, authenticated
	requests. If the filename does not begin with a slash (/), it
	is assumed to be relative to the <span class="code">server_root</span>.</p>
      </dd>

      <dt><strong><a name="prop_sdlog_size"></a>{security_disk_log_size, {MaxBytes, MaxFiles}}</strong></dt>
      <dd>
	<p><span class="code">MaxBytes = integer()</span> and <span class="code">MaxFiles = integer()</span>. 
	Defines the properties of the <span class="code">disk_log(3)</span> access log
	file. This file is of type wrap log and
	max bytes is written to each file and max files is
	used before the first file is truncated and reused.</p>
      </dd>

      <dt><strong><a name="prop_tdlog"></a>{transfer_disk_log, path()}</strong></dt> 
      <dd>
	<p>Defines the filename of the (<span class="code">disk_log(3)</span>) access log file
	logging incoming requests. If the filename does not begin
	with a slash (/), it is assumed to be relative to the
	<span class="code">server_root</span>.</p>
      </dd>
      
      <dt><strong><a name="prop_tdlog_size"></a>{transfer_disk_log_size, {MaxBytes, MaxFiles}}</strong></dt>
      <dd>
	<p><span class="code">MaxBytes = integer()</span> and <span class="code">MaxFiles = integer()</span>.  
	Defines the properties of the <span class="code">disk_log(3)</span> access log
	file. This file is of type wrap log and
	max bytes is written to each file and max files is
	used before the first file is truncated and reused.</p>
      </dd>
    </dl>

    <a name="props_auth"></a>
    <p><strong>Authentication Properties - Requires mod_auth</strong></p>

    <a name="prop_dri"></a>
    <p><strong>{directory, {path(), [{property(), term()}]}}</strong></p>

    <a name="props_dir"></a>
    <p>The properties for directories are as follows:</p>
    
    <dl>
      <dt><strong><a name="prop_allow_from"></a>{allow_from, all | [RegxpHostString]}</strong></dt>
      <dd>
	<p>Defines a set of hosts to be granted access to a
	given directory, for example:</p>
	
	<div class="example"><pre>{allow_from, ["123.34.56.11", "150.100.23"]}</pre></div>
          
	<p>The host <span class="code">123.34.56.11</span> and all machines on the <span class="code">150.100.23</span>
	subnet are allowed access.</p>
      </dd>
      
      <dt><strong><a name="prop_deny_from"></a>{deny_from, all | [RegxpHostString]}</strong></dt>
      <dd>
	<p>Defines a set of hosts
	to be denied access to a given directory, for example:</p>
	
	<div class="example"><pre>{deny_from, ["123.34.56.11", "150.100.23"]}</pre></div>
          
	<p>The host <span class="code">123.34.56.11</span> and all machines on the <span class="code">150.100.23</span>
	subnet are not allowed access.</p>
      </dd>

      <dt><strong><a name="prop_auth_type"></a>{auth_type, plain | dets | mnesia}</strong></dt>
      <dd>
	<p>Sets the type of authentication database that is used for the
	directory. The key difference between the different methods is
	that dynamic data can be saved when Mnesia and Dets
	are used.
	This property is called <span class="code">AuthDbType</span> in the Apache-like
	configuration files.</p>
      </dd>

      <dt><strong><a name="prop_auth_user_file"></a>{auth_user_file, path()}</strong></dt>
      <dd>
	<p>Sets the name of a file containing the list of users and
	passwords for user authentication. The filename can be either
	absolute or relative to the <span class="code">server_root</span>. If using the
	plain storage method, this file is a plain text file where
	each line contains a username followed by a colon, followed
	by the non-encrypted password. If usernames are duplicated,
	the behavior is undefined.</p>
	<p>Example:</p>
	
	<div class="example"><pre> ragnar:s7Xxv7
 edward:wwjau8 </pre></div> 

	<p>If the Dets storage method is used, the user database is
	maintained by Dets and must not be edited by hand. Use the
	API functions in module <span class="code">mod_auth</span> to create/edit the user
	database. This directive is ignored if the Mnesia
	storage method is used. For security reasons, ensure that
	<span class="code">auth_user_file</span> is stored outside the document tree of the web
	server. If it is placed in the directory that it protects,
	clients can download it.</p>
      </dd>
      
      <dt><strong><a name="prop_auth_group_file"></a>{auth_group_file, path()}</strong></dt>
      <dd>
	<p>Sets the name of a file containing the list of user
	groups for user authentication. The filename can be either
	absolute or relative to the <span class="code">server_root</span>. If the plain
	storage method is used, the group file is a plain text file, where
	each line contains a group name followed by a colon, followed
	by the members usernames separated by spaces.</p>
	<p>Example:</p>
	
	<div class="example"><pre>group1: bob joe ante</pre></div>
          
	<p>If the Dets storage method is used, the group database is
	maintained by Dets and must not be edited by hand. Use the
	API for module <span class="code">mod_auth</span> to create/edit the group database.
	This directive is ignored if the Mnesia storage method is used.
	For security reasons, ensure that the <span class="code">auth_group_file</span> is
	stored outside the document tree of the web server. If it is
	placed in the directory that it protects, clients
	can download it.</p>
      </dd>

      <dt><strong><a name="prop_auth_name"></a>{auth_name, string()}</strong></dt>
      <dd> 
	<p>Sets the name of the authorization realm (auth-domain) for
	a directory. This string informs the client about which 
	username and password to use.</p>
      </dd>

      <dt><strong><a name="prop_auth_access_passwd"></a>{auth_access_password, string()}</strong></dt>
      <dd>
	<p>If set to other than "NoPassword", the password is required
	for all API calls. If the password is set to "DummyPassword", the
	password must be changed before any other API calls. To secure
	the authenticating data, the password must be changed after the
	web server is started. Otherwise it is written in clear
	text in the configuration file.</p>
      </dd>
      
      <dt><strong><a name="prop_req_user"></a>{require_user, [string()]}</strong></dt>
      <dd> 
	<p>Defines users to grant access to a given
	directory using a secret password.</p>
      </dd>

      <dt><strong><a name="prop_req_grp"></a>{require_group, [string()]}</strong></dt>
      <dd>
	<p>Defines users to grant access to a given
	directory using a secret password.</p>
      </dd>
      
    </dl>

    <a name="props_htaccess"></a> 
    <p><strong>Htaccess Authentication Properties - Requires mod_htaccess</strong></p>
    <dl>
      <dt><strong><a name="prop_access_files"></a>{access_files, [path()]}</strong></dt>
      <dd>
	<p>Specifies the filenames that are used for
	access files. When a request comes, every directory in the path
	to the requested asset are searched after files with the
	names specified by this parameter. If such a file is found, the
	file is parsed and the restrictions specified in it are
	applied to the request.</p>
      </dd>
    </dl>

    <a name="props_sec"></a>
    <p><strong>Security Properties - Requires mod_security</strong></p>
 
    <a name="prop_sec_dir"></a>
    <p><strong>{security_directory, {path(), [{property(), term()}]}}</strong></p>
       
    <a name="props_sdir"></a>
    <p>The properties for the security directories are as follows:</p>
    <dl>
      <dt><strong><a name="prop_data_file"></a>{data_file, path()}</strong></dt>      
      <dd>
	<p>Name of the security data file. The filename can either be
	absolute or relative to the <span class="code">server_root</span>. This file is used to
	store persistent data for module <span class="code">mod_security</span>.</p>
      </dd>
	  
      <dt><strong><a name="prop_max_retries"></a>{max_retries, integer()}</strong></dt>	  
      <dd>
	<p>Specifies the maximum number of attempts to authenticate a
	user before the user is blocked out. If a user
	successfully authenticates while blocked, the
	user receives a 403 (Forbidden) response from the
	server. If the user makes a failed attempt while blocked, the
	server returns 401 (Unauthorized), for security
	reasons. 
	Default is <span class="code">3</span>. Can be set to infinity.</p>
      </dd>
	
      <dt><strong><a name="prop_block_time"></a>{block_time, integer()}</strong></dt>
      <dd>
	<p>Specifies the number of minutes a user is blocked. After
	this timehas passed, the user automatically regains access.
	Default is <span class="code">60</span>.</p>
      </dd>
      
      <dt><strong><a name="prop_fail_exp_time"></a>{fail_expire_time, integer()}</strong></dt>
      <dd>
	<p>Specifies the number of minutes a failed user authentication
	is remembered. If a user authenticates after this
	time has passed, the previous failed authentications are
	forgotten. 
	Default is <span class="code">30</span>.</p>
      </dd>
      
      <dt><strong><a name="prop_auth_timeout"></a>{auth_timeout, integer()}</strong></dt>
      <dd>
	Specifies the number of seconds a successful user
	authentication is remembered. After this time has passed, the
	authentication is no longer reported. Default is <span class="code">30</span>.
      </dd>
    </dl>    
  </div>

  <h3><span onMouseOver="document.getElementById('ghlink-exports-idm2047').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-exports-idm2047').style.visibility = 'hidden';"><span id="ghlink-exports-idm2047"></span><a class="title_link" name="exports" href="#exports">Exports</a></span></h3>
<div class="exports-body">
    <table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-info-1-idm2049').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-info-1-idm2049').style.visibility = 'hidden';"><span id="ghlink-info-1-idm2049" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/inets/doc/src/httpd.xml#L952" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="info-1" href="#info-1">info(Pid) -&gt;</a></span></div></td>
<td class="func-since-td"></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-info-2-idm2050').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-info-2-idm2050').style.visibility = 'hidden';"><span id="ghlink-info-2-idm2050" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/inets/doc/src/httpd.xml#L952" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="info-2" href="#info-2">info(Pid, Properties) -&gt; [{Option, Value}]</a></span></div></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-5">
<h3 class="func-types-title">Types</h3>
        <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Properties = [property()]</span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Option = property()</span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Value = term()</span><br>
</div>
      </div>
<div class="REFBODY rb-7"><p>
        <p>Fetches information about the HTTP server. When called
	with only the pid, all properties are fetched. When called
	with a list of specific properties, they are fetched.
	The available properties are the same as the start options
	of the server. 
	</p>
	
	<div class="note">
<div class="label">Note</div>
<div class="content"><p><p>Pid is the pid returned from <span class="code">inets:start/[2,3]</span>. 
	    Can also be retrieved form <span class="code">inets:services/0</span> and
	    <span class="code">inets:services_info/0</span>,
	    see <span class="bold_code bc-19"><a href="inets.html">inets(3)</a></span>.
	  </p></p></div>
</div>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-info-2-idm2065').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-info-2-idm2065').style.visibility = 'hidden';"><span id="ghlink-info-2-idm2065" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/inets/doc/src/httpd.xml#L977" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="info-2" href="#info-2">info(Address, Port) -&gt;  </a></span></div></td>
<td class="func-since-td"></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-info-3-idm2066').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-info-3-idm2066').style.visibility = 'hidden';"><span id="ghlink-info-3-idm2066" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/inets/doc/src/httpd.xml#L977" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="info-3" href="#info-3">info(Address, Port, Profile) -&gt;  </a></span></div></td>
<td class="func-since-td"></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-info-4-idm2067').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-info-4-idm2067').style.visibility = 'hidden';"><span id="ghlink-info-4-idm2067" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/inets/doc/src/httpd.xml#L977" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="info-4" href="#info-4">info(Address, Port, Profile, Properties) -&gt; [{Option, Value}] </a></span></div></td>
<td class="func-since-td"><span class="since">OTP 18.0</span></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-info-3-idm2068').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-info-3-idm2068').style.visibility = 'hidden';"><span id="ghlink-info-3-idm2068" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/inets/doc/src/httpd.xml#L977" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="info-3" href="#info-3">info(Address, Port, Properties) -&gt; [{Option, Value}] </a></span></div></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-5">
<h3 class="func-types-title">Types</h3>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Address = ip_address()</span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Port = integer()</span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Profile = atom()</span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Properties = [property()]</span><br>
</div>
        <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Option = property()</span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Value = term()</span><br>
</div>
      </div>
<div class="REFBODY rb-7"><p>
        <p>Fetches information about the HTTP server. When called with
        only <span class="code">Address</span> and <span class="code">Port</span>, all properties are
        fetched.  When called with a list of specific properties, they
        are fetched.  The available properties are the same as the
        start options of the server.
	</p>

	<div class="note">
<div class="label">Note</div>
<div class="content"><p><p>The address must be the IP address and cannot be
	    the hostname.
	  </p></p></div>
</div>	
      </p></div>
    
    <table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-reload_config-2-idm2084').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-reload_config-2-idm2084').style.visibility = 'hidden';"><span id="ghlink-reload_config-2-idm2084" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/inets/doc/src/httpd.xml#L1005" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="reload_config-2" href="#reload_config-2">reload_config(Config, Mode) -&gt; ok | {error, Reason}</a></span></div></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-5">
<h3 class="func-types-title">Types</h3>
        <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Config = path() | [{Option, Value}]</span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Option = property()</span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Value = term()</span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Mode = non_disturbing | disturbing</span><br>
</div>
      </div>
<div class="REFBODY rb-7"><p>
	<p>Reloads the HTTP server configuration without restarting the
	  server. Incoming requests are answered with a temporary
	  down message during the reload time.</p>
	
	<div class="note">
<div class="label">Note</div>
<div class="content"><p><p>Available properties are the same as the
	    start options of the server, but the properties 
	    <span class="code">bind_address</span> and <span class="code">port</span> 
	    cannot be changed.</p></p></div>
</div>
	
	<p>If mode is disturbing, the server is blocked forcefully,
	  all ongoing requests terminates, and the reload
	  starts immediately. If mode is non-disturbing, no new
	  connections are accepted, but ongoing requests are
	  allowed to complete before the reload is done.</p>
      </p></div>
  </div>

  <h3><span onMouseOver="document.getElementById('ghlink-erlang-web-server-api-data-types-idm2098').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-erlang-web-server-api-data-types-idm2098').style.visibility = 'hidden';"><span id="ghlink-erlang-web-server-api-data-types-idm2098" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/inets/doc/src/httpd.xml#L1034" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="erlang-web-server-api-data-types" href="#erlang-web-server-api-data-types">ERLANG WEB SERVER API DATA TYPES</a></span></h3>
<div class="REFBODY rb-3">
    
    <p>The Erlang web server API data types are as follows:</p>
    <div class="example"><pre>      ModData = #mod{}

      -record(mod, {
		data = [],
		socket_type = ip_comm,
		socket, 
		config_db,
		method,
		absolute_uri,
		request_uri,
		http_version,
		request_line,
		parsed_header = [],
		entity_body,
		connection
	}).</pre></div>

    <p>To acess the record in your callback-module use:</p>
    <div class="example"><pre> -include_lib("inets/include/httpd.hrl").</pre></div>

    <p>The fields of record <span class="code">mod</span> have the following meaning:
      </p>
    <dl>
      <dt><strong><span class="code">data</span></strong></dt>
      <dd>
<p>Type <span class="code">[{InteractionKey,InteractionValue}]</span> is used to
       propagate data between modules. Depicted
      <span class="code">interaction_data()</span> in function type declarations.</p>
      </dd>
      <dt><strong><span class="code">socket_type</span></strong></dt>
      <dd>
<p><span class="code">socket_type()</span>
       indicates whether it is an IP socket or an <span class="code">ssl</span> socket.</p>
      </dd>
      <dt><strong><span class="code">socket</span></strong></dt>
      <dd>
<p>The socket, in format <span class="code">ip_comm</span> or <span class="code">ssl</span>,
       depending on <span class="code">socket_type</span>.</p>
      </dd>
      <dt><strong><span class="code">config_db</span></strong></dt>
      <dd>
<p>The config file directives stored as key-value tuples in
       an ETS table. Depicted <span class="code">config_db()</span> in function type
       declarations.</p>
      </dd>
      <dt><strong><span class="code">method</span></strong></dt>
      <dd>
<p>Type <span class="code">"GET" | "POST" | "HEAD" | "TRACE"</span>, that is, the
       HTTP method.</p>
      </dd>
      <dt><strong><span class="code">absolute_uri</span></strong></dt>
      <dd><p>If the request is an HTTP/1.1
       request, the URI can be in the absolute URI format. In that
       case, <span class="code">httpd</span> saves the absolute URI in this field. An Example
       of an absolute URI is 
      <span class="code">"http://ServerName:Part/cgi-bin/find.pl?person=jocke"</span></p></dd>
      <dt><strong><span class="code">request_uri</span></strong></dt>
      <dd>
<p>The <span class="code">Request-URI</span> as defined
       in <span class="bold_code bc-20"><a href="http://www.ietf.org/rfc/rfc1945.txt">RFC 1945</a></span>, for example, <span class="code">"/cgi-bin/find.pl?person=jocke"</span>.</p>
      </dd>
      <dt><strong><span class="code">http_version</span></strong></dt>
      <dd>
<p>The <span class="code">HTTP</span> version of the
       request, that is, "HTTP/0.9", "HTTP/1.0", or "HTTP/1.1".</p>
      </dd>
      <dt><strong><span class="code">request_line</span></strong></dt>
      <dd>
<p>The <span class="code">Request-Line</span> as
       defined in<span class="bold_code bc-20"><a href="http://www.ietf.org/rfc/rfc1945.txt">RFC 1945</a></span>, for example, 
       <span class="code">"GET /cgi-bin/find.pl?person=jocke HTTP/1.0"</span>.</p>
      </dd>
      <dt><strong><span class="code">parsed_header</span></strong></dt>
      <dd>Type <span class="code">[{HeaderKey,HeaderValue}]</span>.
      <span class="code">parsed_header</span> contains all HTTP header fields from the
      HTTP request stored in a list as key-value tuples. See
      <span class="bold_code bc-20"><a href="http://www.ietf.org/rfc/rfc2616.txt">RFC 2616</a></span>
      for a listing of all header fields. For example, the date field
      is stored as <span class="code">{"date","Wed, 15 Oct 1997 14:35:17 GMT"}</span>.
      RFC 2616 defines that HTTP is a case-insensitive protocol and
      the header fields can be in lower case or upper case. <span class="code">httpd</span>
      ensures that all header field names are in lower case.
      </dd>
      <dt><strong><span class="code">entity_body</span></strong></dt>
      <dd>
<p>The <span class="code">entity-Body</span> as defined
       in <span class="bold_code bc-20"><a href="http://www.ietf.org/rfc/rfc2616.txt">RFC 2616</a></span>, for example, data sent from a CGI script using the
       POST method.</p>
      </dd>
      <dt><strong><span class="code">connection</span></strong></dt>
      <dd><p><span class="code">true | false</span>. If set to <span class="code">true</span>, the connection to the
       client is a persistent connection and is not closed when
       the request is served.</p></dd>
    </dl>
  </div>

  <h3><span onMouseOver="document.getElementById('ghlink-erlang-web-server-api-callback-functions-idm2181').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-erlang-web-server-api-callback-functions-idm2181').style.visibility = 'hidden';"><span id="ghlink-erlang-web-server-api-callback-functions-idm2181" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/inets/doc/src/httpd.xml#L1125" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="erlang-web-server-api-callback-functions" href="#erlang-web-server-api-callback-functions">ERLANG WEB SERVER API CALLBACK FUNCTIONS</a></span></h3>
<div class="REFBODY rb-3">
    
  </div>
  <h3><span onMouseOver="document.getElementById('ghlink-exports-idm2183').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-exports-idm2183').style.visibility = 'hidden';"><span id="ghlink-exports-idm2183"></span><a class="title_link" name="exports" href="#exports">Exports</a></span></h3>
<div class="exports-body">
    <table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-Module:do-1-idm2185').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-Module:do-1-idm2185').style.visibility = 'hidden';"><span id="ghlink-Module:do-1-idm2185" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/inets/doc/src/httpd.xml#L1129" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="Module:do-1" href="#Module:do-1">Module:do(ModData)-&gt; {proceed, OldData} | {proceed, NewData} | {break, NewData} | done</a></span></div></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-5">
<h3 class="func-types-title">Types</h3>
        <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">OldData = list()</span><br>
</div>
        <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">NewData = [{response,{StatusCode,Body}}]</span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">| [{response,{response,Head,Body}}]</span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">| [{response,{already_sent,Statuscode,Size}}]</span><br>
</div>
        <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">StatusCode = integer()</span><br>
</div>
        <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Body = io_list() | nobody | {Fun, Arg}</span><br>
</div>
        <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Head = [HeaderOption]</span><br>
</div>
        <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">HeaderOption = {Option, Value} | {code, StatusCode}</span><br>
</div>
        <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Option = accept_ranges | allow</span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">| cache_control | content_MD5</span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">| content_encoding | content_language</span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">| content_length | content_location</span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">| content_range | content_type | date</span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">| etag | expires | last_modified</span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">| location | pragma | retry_after</span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">| server | trailer | transfer_encoding</span><br>
</div>
        <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Value = string()</span><br>
</div>
        <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Fun = fun( Arg ) -&gt; sent| close | Body </span><br>
</div>
        <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Arg = [term()]</span><br>
</div>
      </div>
<div class="REFBODY rb-7"><p>
        <p>When a valid request reaches <span class="code">httpd</span>, it calls <span class="code">do/1</span> in
          each module, defined by the configuration
          option of <span class="code">Module</span>. The function can generate data for other
	  modules or a response that can be sent back to the client.</p>
        <p>The field <span class="code">data</span> in <span class="code">ModData</span> is a list. This list is
          the list returned from the last call to
          <span class="code">do/1</span>.</p>
        <p><span class="code">Body</span> is the body of the HTTP response that is
          sent back to the client. An appropriate header is
          appended to the message. <span class="code">StatusCode</span> is the
          status code of the response, see 
	  <span class="bold_code bc-20"><a href="http://www.ietf.org/rfc/rfc2616.txt">RFC 2616</a></span> 
	  for the appropriate values.</p>
        <p><span class="code">Head</span> is a key value list of HTTP header fields. The
        server constructs an HTTP header from this data. See <span class="bold_code bc-20"><a href="http://www.ietf.org/rfc/rfc2616.txt">RFC 2616</a></span>  for the appropriate value for each header field. If the
        client is an HTTP/1.0 client, the server filters the
        list so that only HTTP/1.0 header fields are sent back
        to the client.</p>
        <p>If <span class="code">Body</span> is returned and equal to <span class="code">{Fun,Arg}</span>,
          the web server tries <span class="code">apply/2</span> on <span class="code">Fun</span> with
          <span class="code">Arg</span> as argument. The web server expects that the fun either
          returns a list <span class="code">(Body)</span> that is an HTTP repsonse, or the
          atom <span class="code">sent</span> if the HTTP response is sent back to the
          client. If <span class="code">close</span> is returned from the fun, something has gone
          wrong and the server signals this to the client by
          closing the connection.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-Module:load-2-idm2233').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-Module:load-2-idm2233').style.visibility = 'hidden';"><span id="ghlink-Module:load-2-idm2233" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/inets/doc/src/httpd.xml#L1183" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="Module:load-2" href="#Module:load-2">Module:load(Line, AccIn)-&gt; eof | ok | {ok, AccOut} | {ok, AccOut, {Option, Value}} | {ok, AccOut, [{Option, Value}]} | {error, Reason}</a></span></div></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-5">
<h3 class="func-types-title">Types</h3>
        <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Line = string()</span><br>
</div>
        <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">AccIn = [{Option, Value}]</span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">AccOut = [{Option, Value}]</span><br>
</div>
        <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Option = property()</span><br>
</div>
        <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Value = term() </span><br>
</div>
        <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Reason = term()</span><br>
</div>
      </div>
<div class="REFBODY rb-7"><p>
	<p>Converts a line in an Apache-like
	  configuration file to an <span class="code">{Option, Value}</span> tuple. Some
	  more complex configuration options, such as <span class="code">directory</span>
	  and <span class="code">security_directory</span>, create an
	  accumulator. This function only needs clauses for the
	  options implemented by this particular callback module.
	</p>
      </p></div>
    
    <table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-Module:remove-1-idm2249').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-Module:remove-1-idm2249').style.visibility = 'hidden';"><span id="ghlink-Module:remove-1-idm2249" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/inets/doc/src/httpd.xml#L1206" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="Module:remove-1" href="#Module:remove-1">Module:remove(ConfigDB) -&gt; ok | {error, Reason} </a></span></div></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-5">
<h3 class="func-types-title">Types</h3>
        <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">ConfigDB = ets_table()</span><br>
</div>
        <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Reason = term()</span><br>
</div>
      </div>
<div class="REFBODY rb-7"><p>
        <p>When <span class="code">httpd</span> is shut down, it tries to execute
          <span class="code">remove/1</span> in each Erlang web server callback module. The
          programmer can use this function to clean up resources
          created in the store function.</p>
      </p></div>
    
    <table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-Module:store-2-idm2259').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-Module:store-2-idm2259').style.visibility = 'hidden';"><span id="ghlink-Module:store-2-idm2259" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/inets/doc/src/httpd.xml#L1221" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="Module:store-2" href="#Module:store-2">Module:store({Option, Value}, Config)-&gt; {ok, {Option, NewValue}} | {error, Reason}</a></span></div></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-5">
<h3 class="func-types-title">Types</h3>
        <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Line = string()</span><br>
</div>
        <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Option = property()</span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Config = [{Option, Value}]</span><br>
</div>
        <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Value = term()</span><br>
</div>
        <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Reason = term()</span><br>
</div>
      </div>
<div class="REFBODY rb-7"><p>
	<p>Checks the validity of the
	  configuration options before saving them in the internal
	  database. This function can also have a side effect,
	  that is, setup of necessary extra resources implied by the
	  configuration option. It can also
	  resolve possible dependencies among
	  configuration options by changing the value of the option.
	  This function only needs clauses for the options
	  implemented by this particular callback module.</p>
      </p></div>
  </div>

  <h3><span onMouseOver="document.getElementById('ghlink-erlang-web-server-api-help-functions-idm2269').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-erlang-web-server-api-help-functions-idm2269').style.visibility = 'hidden';"><span id="ghlink-erlang-web-server-api-help-functions-idm2269" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/inets/doc/src/httpd.xml#L1245" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="erlang-web-server-api-help-functions" href="#erlang-web-server-api-help-functions">ERLANG WEB SERVER API HELP FUNCTIONS</a></span></h3>
<div class="REFBODY rb-3">
    
  </div>
  <h3><span onMouseOver="document.getElementById('ghlink-exports-idm2271').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-exports-idm2271').style.visibility = 'hidden';"><span id="ghlink-exports-idm2271"></span><a class="title_link" name="exports" href="#exports">Exports</a></span></h3>
<div class="exports-body">
    <table class="func-table"><tr class="func-tr">
<td class="func-td"><div class="bold_code fun-type"><span onMouseOver="document.getElementById('ghlink-parse_query-1-idm2273').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-parse_query-1-idm2273').style.visibility = 'hidden';"><span id="ghlink-parse_query-1-idm2273" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/inets/doc/src/httpd.xml#L1249" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="parse_query-1" href="#parse_query-1">parse_query(QueryString) -&gt; [{Key,Value}]</a></span></div></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-5">
<h3 class="func-types-title">Types</h3>
        <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">QueryString = string()</span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Key = string()</span><br>
</div>
	<div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">Value = string()</span><br>
</div>
      </div>
<div class="REFBODY rb-7"><p>
        <p><span class="code">parse_query/1</span> parses incoming data to <span class="code">erl</span> and
          <span class="code">eval</span> scripts (see <span class="bold_code bc-19"><a href="mod_esi.html">mod_esi(3)</a></span>) 
	  as defined in the standard
          URL format, that is, '+' becomes 'space' and decoding of
          hexadecimal characters (<span class="code">%xx</span>).</p>
      </p></div>
  </div>

  <h3><span onMouseOver="document.getElementById('ghlink-see-also-idm2288').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-see-also-idm2288').style.visibility = 'hidden';"><span id="ghlink-see-also-idm2288" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/inets/doc/src/httpd.xml#L1267" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="see-also" href="#see-also">SEE ALSO</a></span></h3>
<div class="REFBODY rb-3">
    
    <p><span class="bold_code bc-20"><a href="http://www.ietf.org/rfc/rfc2616.txt">RFC 2616</a></span>, 
    <span class="bold_code bc-19"><a href="inets.html">inets(3)</a></span>,
    <span class="bold_code bc-18"><a href="ssl.html">ssl(3)</a></span>
    </p>
  </div>

</div>
<div class="footer">
<hr>
<p>Copyright © 1997-2021 Ericsson AB. All Rights Reserved.</p>
</div>
</div>
</div>
<script type="text/javascript">window.__otpTopDocDir = '../js/';</script><script type="text/javascript" src="../js/highlight.js"></script>
</body>
</html>
