<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:erl="http://erlang.org" xmlns:fn="http://www.w3.org/2005/02/xpath-functions">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="../otp_doc.css" type="text/css">
<title>Erlang -- ei</title>
</head>
<body>
<div id="container">
<script id="js" type="text/javascript" language="JavaScript" src="../js/flipmenu/flipmenu.js"></script><script id="js2" type="text/javascript" src="../js/erlresolvelinks.js"></script><script language="JavaScript" type="text/javascript">
            <!--
              function getWinHeight() {
                var myHeight = 0;
                if( typeof( window.innerHeight ) == 'number' ) {
                  //Non-IE
                  myHeight = window.innerHeight;
                } else if( document.documentElement && ( document.documentElement.clientWidth ||
                                                         document.documentElement.clientHeight ) ) {
                  //IE 6+ in 'standards compliant mode'
                  myHeight = document.documentElement.clientHeight;
                } else if( document.body && ( document.body.clientWidth || document.body.clientHeight ) ) {
                  //IE 4 compatible
                  myHeight = document.body.clientHeight;
                }
                return myHeight;
              }

              function setscrollpos() {
                var objf=document.getElementById('loadscrollpos');
                 document.getElementById("leftnav").scrollTop = objf.offsetTop - getWinHeight()/2;
              }

              function addEvent(obj, evType, fn){
                if (obj.addEventListener){
                obj.addEventListener(evType, fn, true);
                return true;
              } else if (obj.attachEvent){
                var r = obj.attachEvent("on"+evType, fn);
                return r;
              } else {
                return false;
              }
             }

             addEvent(window, 'load', setscrollpos);

             //--></script><div id="leftnav"><div class="innertube">
<div class="erlang-logo-wrapper"><a href="../index.html"><img alt="Erlang Logo" src="../erlang-logo.png" class="erlang-logo"></a></div>
<p class="section-title">Erl_Interface</p>
<p class="section-subtitle">Reference Manual</p>
<p class="section-version">Version 3.11.3.2</p>
<ul class="panel-sections">
<li><a href="../apps/erl_interface/users_guide.html">User's Guide</a></li>
<li><a href="../apps/erl_interface/index.html">Reference Manual</a></li>
<li><a href="../apps/erl_interface/release_notes.html">Release Notes</a></li>
<li><a href="../apps/erl_interface/erl_interface.pdf">PDF</a></li>
<li><a href="../index.html">Top</a></li>
</ul>
<ul class="expand-collapse-items">
<li><a href="javascript:openAllFlips()">Expand All</a></li>
<li><a href="javascript:closeAllFlips()">Contract All</a></li>
</ul>
<h3>Table of Contents</h3>
<ul class="flipMenu">
<li id="loadscrollpos" title="ei " expanded="true">ei<ul>
<li><a href="ei.html">
                  Top of manual page
                </a></li>
    <li title="ei_decode_atom"><a href="ei.html#ei_decode_atom">ei_decode_atom()
                </a></li>
<li title="ei_decode_atom_as"><a href="ei.html#ei_decode_atom_as">ei_decode_atom_as()
                </a></li>
<li title="ei_decode_bignum"><a href="ei.html#ei_decode_bignum">ei_decode_bignum()
                </a></li>
<li title="ei_decode_binary"><a href="ei.html#ei_decode_binary">ei_decode_binary()
                </a></li>
<li title="ei_decode_boolean"><a href="ei.html#ei_decode_boolean">ei_decode_boolean()
                </a></li>
<li title="ei_decode_char"><a href="ei.html#ei_decode_char">ei_decode_char()
                </a></li>
<li title="ei_decode_double"><a href="ei.html#ei_decode_double">ei_decode_double()
                </a></li>
<li title="ei_decode_ei_term"><a href="ei.html#ei_decode_ei_term">ei_decode_ei_term()
                </a></li>
<li title="ei_decode_fun"><a href="ei.html#ei_decode_fun">ei_decode_fun()
                </a></li>
<li title="ei_decode_list_header"><a href="ei.html#ei_decode_list_header">ei_decode_list_header()
                </a></li>
<li title="ei_decode_long"><a href="ei.html#ei_decode_long">ei_decode_long()
                </a></li>
<li title="ei_decode_longlong"><a href="ei.html#ei_decode_longlong">ei_decode_longlong()
                </a></li>
<li title="ei_decode_map_header"><a href="ei.html#ei_decode_map_header">ei_decode_map_header()
                </a></li>
<li title="ei_decode_pid"><a href="ei.html#ei_decode_pid">ei_decode_pid()
                </a></li>
<li title="ei_decode_port"><a href="ei.html#ei_decode_port">ei_decode_port()
                </a></li>
<li title="ei_decode_ref"><a href="ei.html#ei_decode_ref">ei_decode_ref()
                </a></li>
<li title="ei_decode_string"><a href="ei.html#ei_decode_string">ei_decode_string()
                </a></li>
<li title="ei_decode_term"><a href="ei.html#ei_decode_term">ei_decode_term()
                </a></li>
<li title="ei_decode_trace"><a href="ei.html#ei_decode_trace">ei_decode_trace()
                </a></li>
<li title="ei_decode_tuple_header"><a href="ei.html#ei_decode_tuple_header">ei_decode_tuple_header()
                </a></li>
<li title="ei_decode_ulong"><a href="ei.html#ei_decode_ulong">ei_decode_ulong()
                </a></li>
<li title="ei_decode_ulonglong"><a href="ei.html#ei_decode_ulonglong">ei_decode_ulonglong()
                </a></li>
<li title="ei_decode_version"><a href="ei.html#ei_decode_version">ei_decode_version()
                </a></li>
<li title="ei_encode_atom"><a href="ei.html#ei_encode_atom">ei_encode_atom()
                </a></li>
<li title="ei_encode_atom_as"><a href="ei.html#ei_encode_atom_as">ei_encode_atom_as()
                </a></li>
<li title="ei_encode_atom_len"><a href="ei.html#ei_encode_atom_len">ei_encode_atom_len()
                </a></li>
<li title="ei_encode_atom_len_as"><a href="ei.html#ei_encode_atom_len_as">ei_encode_atom_len_as()
                </a></li>
<li title="ei_encode_bignum"><a href="ei.html#ei_encode_bignum">ei_encode_bignum()
                </a></li>
<li title="ei_encode_binary"><a href="ei.html#ei_encode_binary">ei_encode_binary()
                </a></li>
<li title="ei_encode_boolean"><a href="ei.html#ei_encode_boolean">ei_encode_boolean()
                </a></li>
<li title="ei_encode_char"><a href="ei.html#ei_encode_char">ei_encode_char()
                </a></li>
<li title="ei_encode_double"><a href="ei.html#ei_encode_double">ei_encode_double()
                </a></li>
<li title="ei_encode_empty_list"><a href="ei.html#ei_encode_empty_list">ei_encode_empty_list()
                </a></li>
<li title="ei_encode_fun"><a href="ei.html#ei_encode_fun">ei_encode_fun()
                </a></li>
<li title="ei_encode_list_header"><a href="ei.html#ei_encode_list_header">ei_encode_list_header()
                </a></li>
<li title="ei_encode_long"><a href="ei.html#ei_encode_long">ei_encode_long()
                </a></li>
<li title="ei_encode_longlong"><a href="ei.html#ei_encode_longlong">ei_encode_longlong()
                </a></li>
<li title="ei_encode_map_header"><a href="ei.html#ei_encode_map_header">ei_encode_map_header()
                </a></li>
<li title="ei_encode_pid"><a href="ei.html#ei_encode_pid">ei_encode_pid()
                </a></li>
<li title="ei_encode_port"><a href="ei.html#ei_encode_port">ei_encode_port()
                </a></li>
<li title="ei_encode_ref"><a href="ei.html#ei_encode_ref">ei_encode_ref()
                </a></li>
<li title="ei_encode_string"><a href="ei.html#ei_encode_string">ei_encode_string()
                </a></li>
<li title="ei_encode_string_len"><a href="ei.html#ei_encode_string_len">ei_encode_string_len()
                </a></li>
<li title="ei_encode_term"><a href="ei.html#ei_encode_term">ei_encode_term()
                </a></li>
<li title="ei_encode_trace"><a href="ei.html#ei_encode_trace">ei_encode_trace()
                </a></li>
<li title="ei_encode_tuple_header"><a href="ei.html#ei_encode_tuple_header">ei_encode_tuple_header()
                </a></li>
<li title="ei_encode_ulong"><a href="ei.html#ei_encode_ulong">ei_encode_ulong()
                </a></li>
<li title="ei_encode_ulonglong"><a href="ei.html#ei_encode_ulonglong">ei_encode_ulonglong()
                </a></li>
<li title="ei_encode_version"><a href="ei.html#ei_encode_version">ei_encode_version()
                </a></li>
<li title="ei_get_type"><a href="ei.html#ei_get_type">ei_get_type()
                </a></li>
<li title="ei_init"><a href="ei.html#ei_init">ei_init()
                </a></li>
<li title="ei_print_term"><a href="ei.html#ei_print_term">ei_print_term()
                </a></li>
<li title="ei_s_print_term"><a href="ei.html#ei_s_print_term">ei_s_print_term()
                </a></li>
<li title="ei_set_compat_rel"><a href="ei.html#ei_set_compat_rel">ei_set_compat_rel()
                </a></li>
<li title="ei_skip_term"><a href="ei.html#ei_skip_term">ei_skip_term()
                </a></li>
<li title="ei_x_append"><a href="ei.html#ei_x_append">ei_x_append()
                </a></li>
<li title="ei_x_append_buf"><a href="ei.html#ei_x_append_buf">ei_x_append_buf()
                </a></li>
<li title="ei_x_encode_atom"><a href="ei.html#ei_x_encode_atom">ei_x_encode_atom()
                </a></li>
<li title="ei_x_encode_atom_as"><a href="ei.html#ei_x_encode_atom_as">ei_x_encode_atom_as()
                </a></li>
<li title="ei_x_encode_atom_len"><a href="ei.html#ei_x_encode_atom_len">ei_x_encode_atom_len()
                </a></li>
<li title="ei_x_encode_atom_len_as"><a href="ei.html#ei_x_encode_atom_len_as">ei_x_encode_atom_len_as()
                </a></li>
<li title="ei_x_encode_bignum"><a href="ei.html#ei_x_encode_bignum">ei_x_encode_bignum()
                </a></li>
<li title="ei_x_encode_binary"><a href="ei.html#ei_x_encode_binary">ei_x_encode_binary()
                </a></li>
<li title="ei_x_encode_boolean"><a href="ei.html#ei_x_encode_boolean">ei_x_encode_boolean()
                </a></li>
<li title="ei_x_encode_char"><a href="ei.html#ei_x_encode_char">ei_x_encode_char()
                </a></li>
<li title="ei_x_encode_double"><a href="ei.html#ei_x_encode_double">ei_x_encode_double()
                </a></li>
<li title="ei_x_encode_empty_list"><a href="ei.html#ei_x_encode_empty_list">ei_x_encode_empty_list()
                </a></li>
<li title="ei_x_encode_fun"><a href="ei.html#ei_x_encode_fun">ei_x_encode_fun()
                </a></li>
<li title="ei_x_encode_list_header"><a href="ei.html#ei_x_encode_list_header">ei_x_encode_list_header()
                </a></li>
<li title="ei_x_encode_long"><a href="ei.html#ei_x_encode_long">ei_x_encode_long()
                </a></li>
<li title="ei_x_encode_longlong"><a href="ei.html#ei_x_encode_longlong">ei_x_encode_longlong()
                </a></li>
<li title="ei_x_encode_map_header"><a href="ei.html#ei_x_encode_map_header">ei_x_encode_map_header()
                </a></li>
<li title="ei_x_encode_pid"><a href="ei.html#ei_x_encode_pid">ei_x_encode_pid()
                </a></li>
<li title="ei_x_encode_port"><a href="ei.html#ei_x_encode_port">ei_x_encode_port()
                </a></li>
<li title="ei_x_encode_ref"><a href="ei.html#ei_x_encode_ref">ei_x_encode_ref()
                </a></li>
<li title="ei_x_encode_string"><a href="ei.html#ei_x_encode_string">ei_x_encode_string()
                </a></li>
<li title="ei_x_encode_string_len"><a href="ei.html#ei_x_encode_string_len">ei_x_encode_string_len()
                </a></li>
<li title="ei_x_encode_term"><a href="ei.html#ei_x_encode_term">ei_x_encode_term()
                </a></li>
<li title="ei_x_encode_trace"><a href="ei.html#ei_x_encode_trace">ei_x_encode_trace()
                </a></li>
<li title="ei_x_encode_tuple_header"><a href="ei.html#ei_x_encode_tuple_header">ei_x_encode_tuple_header()
                </a></li>
<li title="ei_x_encode_ulong"><a href="ei.html#ei_x_encode_ulong">ei_x_encode_ulong()
                </a></li>
<li title="ei_x_encode_ulonglong"><a href="ei.html#ei_x_encode_ulonglong">ei_x_encode_ulonglong()
                </a></li>
<li title="ei_x_encode_version"><a href="ei.html#ei_x_encode_version">ei_x_encode_version()
                </a></li>
<li title="ei_x_format"><a href="ei.html#ei_x_format">ei_x_format()
                </a></li>
<li title="ei_x_format_wo_ver"><a href="ei.html#ei_x_format_wo_ver">ei_x_format_wo_ver()
                </a></li>
<li title="ei_x_free"><a href="ei.html#ei_x_free">ei_x_free()
                </a></li>
<li title="ei_x_new"><a href="ei.html#ei_x_new">ei_x_new()
                </a></li>
<li title="ei_x_new_with_version"><a href="ei.html#ei_x_new_with_version">ei_x_new_with_version()
                </a></li>
<li title="free_fun"><a href="ei.html#free_fun">free_fun()
                </a></li>
</ul>
</li>
<li id="no" title="ei_connect " expanded="false">ei_connect<ul>
<li><a href="ei_connect.html">
                  Top of manual page
                </a></li>
    <li title="ei_accept"><a href="ei_connect.html#ei_accept">ei_accept()
                </a></li>
<li title="ei_accept_tmo"><a href="ei_connect.html#ei_accept_tmo">ei_accept_tmo()
                </a></li>
<li title="ei_close_connection"><a href="ei_connect.html#ei_close_connection">ei_close_connection()
                </a></li>
<li title="ei_connect"><a href="ei_connect.html#ei_connect">ei_connect()
                </a></li>
<li title="ei_connect_init"><a href="ei_connect.html#ei_connect_init">ei_connect_init()
                </a></li>
<li title="ei_connect_init_ussi"><a href="ei_connect.html#ei_connect_init_ussi">ei_connect_init_ussi()
                </a></li>
<li title="ei_connect_tmo"><a href="ei_connect.html#ei_connect_tmo">ei_connect_tmo()
                </a></li>
<li title="ei_connect_xinit"><a href="ei_connect.html#ei_connect_xinit">ei_connect_xinit()
                </a></li>
<li title="ei_connect_xinit_ussi"><a href="ei_connect.html#ei_connect_xinit_ussi">ei_connect_xinit_ussi()
                </a></li>
<li title="ei_get_tracelevel"><a href="ei_connect.html#ei_get_tracelevel">ei_get_tracelevel()
                </a></li>
<li title="ei_gethostbyaddr"><a href="ei_connect.html#ei_gethostbyaddr">ei_gethostbyaddr()
                </a></li>
<li title="ei_gethostbyaddr_r"><a href="ei_connect.html#ei_gethostbyaddr_r">ei_gethostbyaddr_r()
                </a></li>
<li title="ei_gethostbyname"><a href="ei_connect.html#ei_gethostbyname">ei_gethostbyname()
                </a></li>
<li title="ei_gethostbyname_r"><a href="ei_connect.html#ei_gethostbyname_r">ei_gethostbyname_r()
                </a></li>
<li title="ei_listen"><a href="ei_connect.html#ei_listen">ei_listen()
                </a></li>
<li title="ei_publish"><a href="ei_connect.html#ei_publish">ei_publish()
                </a></li>
<li title="ei_publish_tmo"><a href="ei_connect.html#ei_publish_tmo">ei_publish_tmo()
                </a></li>
<li title="ei_receive"><a href="ei_connect.html#ei_receive">ei_receive()
                </a></li>
<li title="ei_receive_encoded"><a href="ei_connect.html#ei_receive_encoded">ei_receive_encoded()
                </a></li>
<li title="ei_receive_encoded_tmo"><a href="ei_connect.html#ei_receive_encoded_tmo">ei_receive_encoded_tmo()
                </a></li>
<li title="ei_receive_msg"><a href="ei_connect.html#ei_receive_msg">ei_receive_msg()
                </a></li>
<li title="ei_receive_msg_tmo"><a href="ei_connect.html#ei_receive_msg_tmo">ei_receive_msg_tmo()
                </a></li>
<li title="ei_receive_tmo"><a href="ei_connect.html#ei_receive_tmo">ei_receive_tmo()
                </a></li>
<li title="ei_reg_send"><a href="ei_connect.html#ei_reg_send">ei_reg_send()
                </a></li>
<li title="ei_reg_send_tmo"><a href="ei_connect.html#ei_reg_send_tmo">ei_reg_send_tmo()
                </a></li>
<li title="ei_rpc"><a href="ei_connect.html#ei_rpc">ei_rpc()
                </a></li>
<li title="ei_rpc_from"><a href="ei_connect.html#ei_rpc_from">ei_rpc_from()
                </a></li>
<li title="ei_rpc_to"><a href="ei_connect.html#ei_rpc_to">ei_rpc_to()
                </a></li>
<li title="ei_self"><a href="ei_connect.html#ei_self">ei_self()
                </a></li>
<li title="ei_send"><a href="ei_connect.html#ei_send">ei_send()
                </a></li>
<li title="ei_send_encoded"><a href="ei_connect.html#ei_send_encoded">ei_send_encoded()
                </a></li>
<li title="ei_send_encoded_tmo"><a href="ei_connect.html#ei_send_encoded_tmo">ei_send_encoded_tmo()
                </a></li>
<li title="ei_send_reg_encoded"><a href="ei_connect.html#ei_send_reg_encoded">ei_send_reg_encoded()
                </a></li>
<li title="ei_send_reg_encoded_tmo"><a href="ei_connect.html#ei_send_reg_encoded_tmo">ei_send_reg_encoded_tmo()
                </a></li>
<li title="ei_send_tmo"><a href="ei_connect.html#ei_send_tmo">ei_send_tmo()
                </a></li>
<li title="ei_set_tracelevel"><a href="ei_connect.html#ei_set_tracelevel">ei_set_tracelevel()
                </a></li>
<li title="ei_thisalivename"><a href="ei_connect.html#ei_thisalivename">ei_thisalivename()
                </a></li>
<li title="ei_thishostname"><a href="ei_connect.html#ei_thishostname">ei_thishostname()
                </a></li>
<li title="ei_thisnodename"><a href="ei_connect.html#ei_thisnodename">ei_thisnodename()
                </a></li>
<li title="ei_unpublish"><a href="ei_connect.html#ei_unpublish">ei_unpublish()
                </a></li>
<li title="ei_unpublish_tmo"><a href="ei_connect.html#ei_unpublish_tmo">ei_unpublish_tmo()
                </a></li>
<li title="ei_xconnect"><a href="ei_connect.html#ei_xconnect">ei_xconnect()
                </a></li>
<li title="ei_xconnect_tmo"><a href="ei_connect.html#ei_xconnect_tmo">ei_xconnect_tmo()
                </a></li>
<li title="ei_xlisten"><a href="ei_connect.html#ei_xlisten">ei_xlisten()
                </a></li>
<li title="ei_xreceive_msg"><a href="ei_connect.html#ei_xreceive_msg">ei_xreceive_msg()
                </a></li>
<li title="ei_xreceive_msg_tmo"><a href="ei_connect.html#ei_xreceive_msg_tmo">ei_xreceive_msg_tmo()
                </a></li>
</ul>
</li>
<li id="no" title="registry " expanded="false">registry<ul>
<li><a href="registry.html">
                  Top of manual page
                </a></li>
    <li title="ei_reg_close"><a href="registry.html#ei_reg_close">ei_reg_close()
                </a></li>
<li title="ei_reg_delete"><a href="registry.html#ei_reg_delete">ei_reg_delete()
                </a></li>
<li title="ei_reg_dump"><a href="registry.html#ei_reg_dump">ei_reg_dump()
                </a></li>
<li title="ei_reg_getfval"><a href="registry.html#ei_reg_getfval">ei_reg_getfval()
                </a></li>
<li title="ei_reg_getival"><a href="registry.html#ei_reg_getival">ei_reg_getival()
                </a></li>
<li title="ei_reg_getpval"><a href="registry.html#ei_reg_getpval">ei_reg_getpval()
                </a></li>
<li title="ei_reg_getsval"><a href="registry.html#ei_reg_getsval">ei_reg_getsval()
                </a></li>
<li title="ei_reg_getval"><a href="registry.html#ei_reg_getval">ei_reg_getval()
                </a></li>
<li title="ei_reg_markdirty"><a href="registry.html#ei_reg_markdirty">ei_reg_markdirty()
                </a></li>
<li title="ei_reg_open"><a href="registry.html#ei_reg_open">ei_reg_open()
                </a></li>
<li title="ei_reg_purge"><a href="registry.html#ei_reg_purge">ei_reg_purge()
                </a></li>
<li title="ei_reg_resize"><a href="registry.html#ei_reg_resize">ei_reg_resize()
                </a></li>
<li title="ei_reg_restore"><a href="registry.html#ei_reg_restore">ei_reg_restore()
                </a></li>
<li title="ei_reg_setfval"><a href="registry.html#ei_reg_setfval">ei_reg_setfval()
                </a></li>
<li title="ei_reg_setival"><a href="registry.html#ei_reg_setival">ei_reg_setival()
                </a></li>
<li title="ei_reg_setpval"><a href="registry.html#ei_reg_setpval">ei_reg_setpval()
                </a></li>
<li title="ei_reg_setsval"><a href="registry.html#ei_reg_setsval">ei_reg_setsval()
                </a></li>
<li title="ei_reg_setval"><a href="registry.html#ei_reg_setval">ei_reg_setval()
                </a></li>
<li title="ei_reg_stat"><a href="registry.html#ei_reg_stat">ei_reg_stat()
                </a></li>
<li title="ei_reg_tabstat"><a href="registry.html#ei_reg_tabstat">ei_reg_tabstat()
                </a></li>
</ul>
</li>
<li id="no" title="erl_connect " expanded="false">erl_connect<ul>
<li><a href="erl_connect.html">
                  Top of manual page
                </a></li>
    <li title="erl_accept"><a href="erl_connect.html#erl_accept">erl_accept()
                </a></li>
<li title="erl_close_connection"><a href="erl_connect.html#erl_close_connection">erl_close_connection()
                </a></li>
<li title="erl_connect"><a href="erl_connect.html#erl_connect">erl_connect()
                </a></li>
<li title="erl_connect_init"><a href="erl_connect.html#erl_connect_init">erl_connect_init()
                </a></li>
<li title="erl_connect_xinit"><a href="erl_connect.html#erl_connect_xinit">erl_connect_xinit()
                </a></li>
<li title="erl_gethostbyaddr"><a href="erl_connect.html#erl_gethostbyaddr">erl_gethostbyaddr()
                </a></li>
<li title="erl_gethostbyaddr_r"><a href="erl_connect.html#erl_gethostbyaddr_r">erl_gethostbyaddr_r()
                </a></li>
<li title="erl_gethostbyname"><a href="erl_connect.html#erl_gethostbyname">erl_gethostbyname()
                </a></li>
<li title="erl_gethostbyname_r"><a href="erl_connect.html#erl_gethostbyname_r">erl_gethostbyname_r()
                </a></li>
<li title="erl_publish"><a href="erl_connect.html#erl_publish">erl_publish()
                </a></li>
<li title="erl_receive"><a href="erl_connect.html#erl_receive">erl_receive()
                </a></li>
<li title="erl_receive_msg"><a href="erl_connect.html#erl_receive_msg">erl_receive_msg()
                </a></li>
<li title="erl_reg_send"><a href="erl_connect.html#erl_reg_send">erl_reg_send()
                </a></li>
<li title="erl_rpc"><a href="erl_connect.html#erl_rpc">erl_rpc()
                </a></li>
<li title="erl_rpc_from"><a href="erl_connect.html#erl_rpc_from">erl_rpc_from()
                </a></li>
<li title="erl_rpc_to"><a href="erl_connect.html#erl_rpc_to">erl_rpc_to()
                </a></li>
<li title="erl_send"><a href="erl_connect.html#erl_send">erl_send()
                </a></li>
<li title="erl_thisalivename"><a href="erl_connect.html#erl_thisalivename">erl_thisalivename()
                </a></li>
<li title="erl_thiscookie"><a href="erl_connect.html#erl_thiscookie">erl_thiscookie()
                </a></li>
<li title="erl_thiscreation"><a href="erl_connect.html#erl_thiscreation">erl_thiscreation()
                </a></li>
<li title="erl_thishostname"><a href="erl_connect.html#erl_thishostname">erl_thishostname()
                </a></li>
<li title="erl_thisnodename"><a href="erl_connect.html#erl_thisnodename">erl_thisnodename()
                </a></li>
<li title="erl_unpublish"><a href="erl_connect.html#erl_unpublish">erl_unpublish()
                </a></li>
<li title="erl_xconnect"><a href="erl_connect.html#erl_xconnect">erl_xconnect()
                </a></li>
<li title="erl_xreceive_msg"><a href="erl_connect.html#erl_xreceive_msg">erl_xreceive_msg()
                </a></li>
</ul>
</li>
<li id="no" title="erl_error " expanded="false">erl_error<ul>
<li><a href="erl_error.html">
                  Top of manual page
                </a></li>
    <li title="erl_err_msg"><a href="erl_error.html#erl_err_msg">erl_err_msg()
                </a></li>
<li title="erl_err_quit"><a href="erl_error.html#erl_err_quit">erl_err_quit()
                </a></li>
<li title="erl_err_ret"><a href="erl_error.html#erl_err_ret">erl_err_ret()
                </a></li>
<li title="erl_err_sys"><a href="erl_error.html#erl_err_sys">erl_err_sys()
                </a></li>
<li title=""><a href="erl_error.html#">erl_errno()
                </a></li>
</ul>
</li>
<li id="no" title="erl_eterm " expanded="false">erl_eterm<ul>
<li><a href="erl_eterm.html">
                  Top of manual page
                </a></li>
    <li title="erl_cons"><a href="erl_eterm.html#erl_cons">erl_cons()
                </a></li>
<li title="erl_copy_term"><a href="erl_eterm.html#erl_copy_term">erl_copy_term()
                </a></li>
<li title="erl_element"><a href="erl_eterm.html#erl_element">erl_element()
                </a></li>
<li title="erl_hd"><a href="erl_eterm.html#erl_hd">erl_hd()
                </a></li>
<li title="erl_init"><a href="erl_eterm.html#erl_init">erl_init()
                </a></li>
<li title="erl_iolist_length"><a href="erl_eterm.html#erl_iolist_length">erl_iolist_length()
                </a></li>
<li title="erl_iolist_to_binary"><a href="erl_eterm.html#erl_iolist_to_binary">erl_iolist_to_binary()
                </a></li>
<li title="erl_iolist_to_string"><a href="erl_eterm.html#erl_iolist_to_string">erl_iolist_to_string()
                </a></li>
<li title="erl_length"><a href="erl_eterm.html#erl_length">erl_length()
                </a></li>
<li title="erl_mk_atom"><a href="erl_eterm.html#erl_mk_atom">erl_mk_atom()
                </a></li>
<li title="erl_mk_binary"><a href="erl_eterm.html#erl_mk_binary">erl_mk_binary()
                </a></li>
<li title="erl_mk_empty_list"><a href="erl_eterm.html#erl_mk_empty_list">erl_mk_empty_list()
                </a></li>
<li title="erl_mk_estring"><a href="erl_eterm.html#erl_mk_estring">erl_mk_estring()
                </a></li>
<li title="erl_mk_float"><a href="erl_eterm.html#erl_mk_float">erl_mk_float()
                </a></li>
<li title="erl_mk_int"><a href="erl_eterm.html#erl_mk_int">erl_mk_int()
                </a></li>
<li title="erl_mk_list"><a href="erl_eterm.html#erl_mk_list">erl_mk_list()
                </a></li>
<li title="erl_mk_long_ref"><a href="erl_eterm.html#erl_mk_long_ref">erl_mk_long_ref()
                </a></li>
<li title="erl_mk_pid"><a href="erl_eterm.html#erl_mk_pid">erl_mk_pid()
                </a></li>
<li title="erl_mk_port"><a href="erl_eterm.html#erl_mk_port">erl_mk_port()
                </a></li>
<li title="erl_mk_ref"><a href="erl_eterm.html#erl_mk_ref">erl_mk_ref()
                </a></li>
<li title="erl_mk_string"><a href="erl_eterm.html#erl_mk_string">erl_mk_string()
                </a></li>
<li title="erl_mk_tuple"><a href="erl_eterm.html#erl_mk_tuple">erl_mk_tuple()
                </a></li>
<li title="erl_mk_uint"><a href="erl_eterm.html#erl_mk_uint">erl_mk_uint()
                </a></li>
<li title="erl_mk_var"><a href="erl_eterm.html#erl_mk_var">erl_mk_var()
                </a></li>
<li title="erl_print_term"><a href="erl_eterm.html#erl_print_term">erl_print_term()
                </a></li>
<li title="erl_set_compat_rel"><a href="erl_eterm.html#erl_set_compat_rel">erl_set_compat_rel()
                </a></li>
<li title="erl_size"><a href="erl_eterm.html#erl_size">erl_size()
                </a></li>
<li title="erl_tl"><a href="erl_eterm.html#erl_tl">erl_tl()
                </a></li>
<li title="erl_var_content"><a href="erl_eterm.html#erl_var_content">erl_var_content()
                </a></li>
</ul>
</li>
<li id="no" title="erl_format " expanded="false">erl_format<ul>
<li><a href="erl_format.html">
                  Top of manual page
                </a></li>
    <li title="erl_format"><a href="erl_format.html#erl_format">erl_format()
                </a></li>
<li title="erl_match"><a href="erl_format.html#erl_match">erl_match()
                </a></li>
</ul>
</li>
<li id="no" title="erl_global " expanded="false">erl_global<ul>
<li><a href="erl_global.html">
                  Top of manual page
                </a></li>
    <li title="erl_global_names"><a href="erl_global.html#erl_global_names">erl_global_names()
                </a></li>
<li title="erl_global_register"><a href="erl_global.html#erl_global_register">erl_global_register()
                </a></li>
<li title="erl_global_unregister"><a href="erl_global.html#erl_global_unregister">erl_global_unregister()
                </a></li>
<li title="erl_global_whereis"><a href="erl_global.html#erl_global_whereis">erl_global_whereis()
                </a></li>
</ul>
</li>
<li id="no" title="erl_malloc " expanded="false">erl_malloc<ul>
<li><a href="erl_malloc.html">
                  Top of manual page
                </a></li>
    <li title="erl_alloc_eterm"><a href="erl_malloc.html#erl_alloc_eterm">erl_alloc_eterm()
                </a></li>
<li title="erl_eterm_release"><a href="erl_malloc.html#erl_eterm_release">erl_eterm_release()
                </a></li>
<li title="erl_eterm_statistics"><a href="erl_malloc.html#erl_eterm_statistics">erl_eterm_statistics()
                </a></li>
<li title="erl_free"><a href="erl_malloc.html#erl_free">erl_free()
                </a></li>
<li title="erl_free_array"><a href="erl_malloc.html#erl_free_array">erl_free_array()
                </a></li>
<li title="erl_free_compound"><a href="erl_malloc.html#erl_free_compound">erl_free_compound()
                </a></li>
<li title="erl_free_term"><a href="erl_malloc.html#erl_free_term">erl_free_term()
                </a></li>
<li title="erl_malloc"><a href="erl_malloc.html#erl_malloc">erl_malloc()
                </a></li>
</ul>
</li>
<li id="no" title="erl_marshal " expanded="false">erl_marshal<ul>
<li><a href="erl_marshal.html">
                  Top of manual page
                </a></li>
    <li title="erl_compare_ext"><a href="erl_marshal.html#erl_compare_ext">erl_compare_ext()
                </a></li>
<li title="erl_decode"><a href="erl_marshal.html#erl_decode">erl_decode()
                </a></li>
<li title="erl_decode_buf"><a href="erl_marshal.html#erl_decode_buf">erl_decode_buf()
                </a></li>
<li title="erl_encode"><a href="erl_marshal.html#erl_encode">erl_encode()
                </a></li>
<li title="erl_encode_buf"><a href="erl_marshal.html#erl_encode_buf">erl_encode_buf()
                </a></li>
<li title="erl_ext_size"><a href="erl_marshal.html#erl_ext_size">erl_ext_size()
                </a></li>
<li title="erl_ext_type"><a href="erl_marshal.html#erl_ext_type">erl_ext_type()
                </a></li>
<li title="erl_peek_ext"><a href="erl_marshal.html#erl_peek_ext">erl_peek_ext()
                </a></li>
<li title="erl_term_len"><a href="erl_marshal.html#erl_term_len">erl_term_len()
                </a></li>
</ul>
</li>
<li title="erl_call"><a href="erl_call.html">erl_call</a></li>
</ul>
</div></div>
<div id="content">
<div class="innertube">
<!-- refpage --><center><h1>ei</h1></center>
  
  <h3><span onMouseOver="document.getElementById('ghlink-c-library-idm471').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-c-library-idm471').style.visibility = 'hidden';"><span id="ghlink-c-library-idm471"></span><a class="title_link" name="c-library" href="#c-library">C Library</a></span></h3>
<div class="REFBODY c-library-body">ei</div>
  <h3><span onMouseOver="document.getElementById('ghlink-library-summary-idm472').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-library-summary-idm472').style.visibility = 'hidden';"><span id="ghlink-library-summary-idm472"></span><a class="title_link" name="library-summary" href="#library-summary">Library Summary</a></span></h3>
<div class="REFBODY library-summary-body">Routines for handling the Erlang binary term format.</div>
  <h3><span onMouseOver="document.getElementById('ghlink-description-idm473').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-description-idm473').style.visibility = 'hidden';"><span id="ghlink-description-idm473" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L37" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="description" href="#description">Description</a></span></h3>
<div class="REFBODY description-body"><p>
    <p>The library <span class="code">ei</span> contains macros and functions to encode
      and decode the Erlang binary term format.</p>

    <p><span class="code">ei</span> allows you to convert atoms, lists, numbers, and
      binaries to and from the binary format. This is useful when
      writing port programs and drivers. <span class="code">ei</span> uses a given
      buffer, no dynamic memory (except
      <span class="code">ei_decode_fun()</span>) and is often quite fast.</p>

    <p><span class="code">ei</span> also handles C-nodes, C-programs that talks Erlang
      distribution with Erlang nodes (or other C-nodes) using the
      Erlang distribution format. The difference between <span class="code">ei</span>
      and <span class="code">erl_interface</span> is that <span class="code">ei</span> uses
      the binary format directly when sending and receiving terms. It is also
      thread safe, and using threads, one process can handle multiple
      C-nodes. The <span class="code">erl_interface</span> library is built on top of
      <span class="code">ei</span>, but of legacy reasons, it does not allow for
      multiple C-nodes. In general, <span class="code">ei</span> is the preferred way
      of doing C-nodes.</p>

    <p>The decode and encode functions use a buffer and an index into the
      buffer, which points at the point where to encode and
      decode. The index is updated to point right after the term
      encoded/decoded. No checking is done whether the term fits in
      the buffer or not. If encoding goes outside the buffer, the
      program can crash.</p>

    <p>All functions take two parameters:</p>

    <ul>
      <li>
<p><span class="code">buf</span> is a pointer to
        the buffer where the binary data is or will be.</p>
      </li>
      <li>
<p><span class="code">index</span> is a pointer to an index into the
        buffer. This parameter is incremented with the size of the term
        decoded/encoded.</p>
      </li>
    </ul>

    <p>The data is thus at <span class="code">buf[*index]</span> when an
      <span class="code">ei</span> function is called.</p>

    <p>All encode functions assume that the <span class="code">buf</span> and
      <span class="code">index</span> parameters point to a buffer large enough for
      the data. To get the size of an encoded term, without encoding it,
      pass <span class="code">NULL</span> instead of a buffer pointer. Parameter
      <span class="code">index</span> is incremented, but nothing will be encoded. This
      is the way in <span class="code">ei</span> to "preflight" term encoding.</p>

    <p>There are also encode functions that use a dynamic buffer. It
      is often more convenient to use these to encode data. All encode
      functions comes in two versions; those starting with
      <span class="code">ei_x</span> use a dynamic buffer.</p>

    <p>All functions return <span class="code">0</span> if successful, otherwise
      <span class="code">-1</span> (for example, if a term is not of the expected
      type, or the data to decode is an invalid Erlang term).</p>

    <p>Some of the decode functions need a pre-allocated buffer. This
      buffer must be allocated large enough, and for non-compound types
      the <span class="code">ei_get_type()</span>
      function returns the size required (notice that for strings an
      extra byte is needed for the <span class="code">NULL</span>-terminator).</p>
  </p></div>

  <h3><span onMouseOver="document.getElementById('ghlink-data-types-idm514').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-data-types-idm514').style.visibility = 'hidden';"><span id="ghlink-data-types-idm514" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L103" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="data-types" href="#data-types">Data Types</a></span></h3>
<div class="REFBODY rb-3">
    
    <dl>
      <dt><strong><a name="erlang_char_encoding"></a>erlang_char_encoding</strong></dt>
       <dd>
	 <div class="example"><pre>typedef enum {
    ERLANG_ASCII = 1,
    ERLANG_LATIN1 = 2,
    ERLANG_UTF8 = 4
} erlang_char_encoding;</pre></div>
         <p>The character encodings used for atoms. <span class="code">ERLANG_ASCII</span>
           represents 7-bit ASCII. Latin-1 and UTF-8 are different extensions
           of 7-bit ASCII. All 7-bit ASCII characters are valid Latin-1 and
           UTF-8 characters. ASCII and Latin-1 both represent each character
           by one byte. An UTF-8 character can consist of 1-4 bytes.
           Notice that these constants are bit-flags and can be combined with
           bitwise OR.</p>
      </dd>
    </dl>
  </div>

  <h3><span onMouseOver="document.getElementById('ghlink-exports-idm523').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-exports-idm523').style.visibility = 'hidden';"><span id="ghlink-exports-idm523"></span><a class="title_link" name="exports" href="#exports">Exports</a></span></h3>
<div class="exports-body">
      <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_decode_atom-idm525').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_decode_atom-idm525').style.visibility = 'hidden';"><span id="ghlink-ei_decode_atom-idm525" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L126" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_decode_atom" href="#ei_decode_atom">int ei_decode_atom(<br>const char *buf,<br>int *index,<br>char *p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
              <p>Decodes an atom from the binary format. The <span class="code">NULL</span>-terminated
                  name of the atom is placed at <span class="code">p</span>. At most
                  <span class="code">MAXATOMLEN</span> bytes can be placed in the buffer.</p>
          </p></div>

      <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_decode_atom_as-idm535').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_decode_atom_as-idm535').style.visibility = 'hidden';"><span id="ghlink-ei_decode_atom_as-idm535" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L136" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_decode_atom_as" href="#ei_decode_atom_as">int ei_decode_atom_as(<br>const char *buf,<br>int *index,<br>char *p,<br>int plen,<br>erlang_char_encoding want,<br>erlang_char_encoding* was,<br>erlang_char_encoding* result)</a></span></span></td>
<td class="func-since-td"><span class="since">OTP R16B</span></td>
</tr></table>
<div class="REFBODY rb-7"><p>
              <p>Decodes an atom from the binary format. The <span class="code">NULL</span>-terminated
                  name of the atom is placed in buffer at <span class="code">p</span> of length <span class="code">plen</span>
                  bytes.</p>
              <p>The wanted string encoding is specified by
                  <span class="bold_code bc-17"><a href="#erlang_char_encoding"><span class="code">want</span></a></span>.
                  The original encoding used in the binary format (Latin-1 or UTF-8) can
                  be obtained from <span class="code">*was</span>. The encoding of the resulting string
                  (7-bit ASCII, Latin-1, or UTF-8) can be obtained from <span class="code">*result</span>.
                  Both <span class="code">was</span> and <span class="code">result</span> can be <span class="code">NULL</span>. <span class="code">*result</span>
                  can differ from <span class="code">want</span> if <span class="code">want</span> is a bitwise OR'd
                  combination like <span class="code">ERLANG_LATIN1|ERLANG_UTF8</span> or if
                  <span class="code">*result</span> turns out to be pure 7-bit ASCII
                  (compatible with both Latin-1 and UTF-8).</p>
              <p>This function fails if the atom is too long for the buffer
                  or if it cannot be represented with encoding <span class="code">want</span>.</p>
              <p>This function was introduced in Erlang/OTP R16 as part of a first
                  step to support UTF-8 atoms.</p>
          </p></div>

      <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_decode_bignum-idm561').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_decode_bignum-idm561').style.visibility = 'hidden';"><span id="ghlink-ei_decode_bignum-idm561" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L160" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_decode_bignum" href="#ei_decode_bignum">int ei_decode_bignum(<br>const char *buf,<br>int *index,<br>mpz_t obj)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
              <p>Decodes an integer in the binary format to a GMP
                  <span class="code">mpz_t</span> integer. To use this function, the <span class="code">ei</span>
                  library must be configured and compiled to use the GMP library.</p>
          </p></div>

      <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_decode_binary-idm570').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_decode_binary-idm570').style.visibility = 'hidden';"><span id="ghlink-ei_decode_binary-idm570" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L170" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_decode_binary" href="#ei_decode_binary">int ei_decode_binary(<br>const char *buf,<br>int *index,<br>void *p,<br>long *len)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
              <p>Decodes a binary from the binary format. Parameter
                  <span class="code">len</span> is set to the actual size of the
                  binary. Notice that <span class="code">ei_decode_binary()</span> assumes that
                  there is enough room for the binary. The size required can be
                  fetched by <span class="code">ei_get_type()</span>.</p>
          </p></div>

      <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_decode_boolean-idm580').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_decode_boolean-idm580').style.visibility = 'hidden';"><span id="ghlink-ei_decode_boolean-idm580" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L182" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_decode_boolean" href="#ei_decode_boolean">int ei_decode_boolean(<br>const char *buf,<br>int *index,<br>int *p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
              <p>Decodes a boolean value from the binary format.
                  A boolean is actually an atom, <span class="code">true</span> decodes 1
                  and <span class="code">false</span> decodes 0.</p>
          </p></div>

      <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_decode_char-idm589').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_decode_char-idm589').style.visibility = 'hidden';"><span id="ghlink-ei_decode_char-idm589" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L192" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_decode_char" href="#ei_decode_char">int ei_decode_char(<br>const char *buf,<br>int *index,<br>char *p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
              <p>Decodes a char (8-bit) integer between 0-255 from the binary format.
                  For historical reasons the returned integer is of
                  type <span class="code">char</span>. Your C code is to  consider the
                  returned value to be of type <span class="code">unsigned char</span> even if
                  the C compilers and system can define <span class="code">char</span> to be
                  signed.</p>
          </p></div>

      <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_decode_double-idm599').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_decode_double-idm599').style.visibility = 'hidden';"><span id="ghlink-ei_decode_double-idm599" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L205" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_decode_double" href="#ei_decode_double">int ei_decode_double(<br>const char *buf,<br>int *index,<br>double *p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
              <p>Decodes a double-precision (64-bit) floating
                  point number from the binary format.</p>
          </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_decode_ei_term-idm606').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_decode_ei_term-idm606').style.visibility = 'hidden';"><span id="ghlink-ei_decode_ei_term-idm606" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L214" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_decode_ei_term" href="#ei_decode_ei_term">int ei_decode_ei_term(<br>const char* buf,<br>int* index,<br>ei_term* term)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Decodes any term, or at least tries to. If the term
          pointed at by <span class="code">*index</span> in <span class="code">buf</span> fits
          in the <span class="code">term</span> union, it is decoded, and the
          appropriate field in <span class="code">term-&gt;value</span> is set, and
          <span class="code">*index</span> is incremented by the term size.</p>
        <p>The function returns <span class="code">1</span> on successful decoding, <span class="code">-1</span> on
          error, and <span class="code">0</span> if the term seems alright, but does not fit in the
          <span class="code">term</span> structure. If <span class="code">1</span> is returned, the
          <span class="code">index</span> is incremented, and <span class="code">term</span>
          contains the decoded term.</p>
        <p>The <span class="code">term</span> structure contains the arity for a tuple
          or list, size for a binary, string, or atom. It contains
          a term if it is any of the following: integer, float, atom,
          pid, port, or ref.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_decode_fun-idm628').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_decode_fun-idm628').style.visibility = 'hidden';"><span id="ghlink-ei_decode_fun-idm628" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L235" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_decode_fun" href="#ei_decode_fun">int ei_decode_fun(<br>const char *buf,<br>int *index,<br>erlang_fun *p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-free_fun-idm631').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-free_fun-idm631').style.visibility = 'hidden';"><span id="ghlink-free_fun-idm631" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L235" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="free_fun" href="#free_fun">void free_fun(<br>erlang_fun* f)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Decodes a fun from the binary format. Parameter
          <span class="code">p</span> is to be <span class="code">NULL</span> or point to an
          <span class="code">erlang_fun</span> structure. This is the only decode
          function that allocates memory. When the <span class="code">erlang_fun</span>
          is no longer needed, it is to be freed with
          <span class="code">free_fun</span>. (This has to do with the arbitrary size
          of the environment for a fun.)</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_decode_list_header-idm643').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_decode_list_header-idm643').style.visibility = 'hidden';"><span id="ghlink-ei_decode_list_header-idm643" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L250" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_decode_list_header" href="#ei_decode_list_header">int ei_decode_list_header(<br>const char *buf,<br>int *index,<br>int *arity)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Decodes a list header from the binary
          format. The number of elements is returned in
          <span class="code">arity</span>. The <span class="code">arity+1</span> elements
          follow (the last one is the tail of the list, normally an empty list).
          If <span class="code">arity</span> is <span class="code">0</span>, it is an empty
          list.</p>
        <p>Notice that lists are encoded as strings if they consist
          entirely of integers in the range 0..255. This function do
          not decode such strings, use <span class="code">ei_decode_string()</span>
          instead.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_decode_long-idm656').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_decode_long-idm656').style.visibility = 'hidden';"><span id="ghlink-ei_decode_long-idm656" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L267" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_decode_long" href="#ei_decode_long">int ei_decode_long(<br>const char *buf,<br>int *index,<br>long *p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Decodes a long integer from the binary format.
          If the code is 64 bits, the function <span class="code">ei_decode_long()</span> is
          the same as <span class="code">ei_decode_longlong()</span>.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_decode_longlong-idm665').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_decode_longlong-idm665').style.visibility = 'hidden';"><span id="ghlink-ei_decode_longlong-idm665" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L277" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_decode_longlong" href="#ei_decode_longlong">int ei_decode_longlong(<br>const char *buf,<br>int *index,<br>long long *p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Decodes a GCC <span class="code">long long</span> or Visual C++
          <span class="code">__int64</span>
          (64-bit) integer from the binary format. This
          function is missing in the VxWorks port.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_decode_map_header-idm674').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_decode_map_header-idm674').style.visibility = 'hidden';"><span id="ghlink-ei_decode_map_header-idm674" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L288" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_decode_map_header" href="#ei_decode_map_header">int ei_decode_map_header(<br>const char *buf,<br>int *index,<br>int *arity)</a></span></span></td>
<td class="func-since-td"><span class="since">OTP 17.0</span></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Decodes a map header from the binary
          format. The number of key-value pairs is returned in
          <span class="code">*arity</span>. Keys and values follow in this order:
	  <span class="code">K1, V1, K2, V2, ..., Kn, Vn</span>. This makes a total of
	  <span class="code">arity*2</span> terms. If <span class="code">arity</span> is zero, it is an empty map.
	  A correctly encoded map does not have duplicate keys.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_decode_pid-idm685').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_decode_pid-idm685').style.visibility = 'hidden';"><span id="ghlink-ei_decode_pid-idm685" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L301" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_decode_pid" href="#ei_decode_pid">int ei_decode_pid(<br>const char *buf,<br>int *index,<br>erlang_pid *p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Decodes a process identifier (pid) from the binary format.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_decode_port-idm693').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_decode_port-idm693').style.visibility = 'hidden';"><span id="ghlink-ei_decode_port-idm693" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L309" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_decode_port" href="#ei_decode_port">int ei_decode_port(<br>const char *buf,<br>int *index,<br>erlang_port *p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Decodes a port identifier from the binary format.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_decode_ref-idm700').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_decode_ref-idm700').style.visibility = 'hidden';"><span id="ghlink-ei_decode_ref-idm700" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L317" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_decode_ref" href="#ei_decode_ref">int ei_decode_ref(<br>const char *buf,<br>int *index,<br>erlang_ref *p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Decodes a reference from the binary format.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_decode_string-idm707').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_decode_string-idm707').style.visibility = 'hidden';"><span id="ghlink-ei_decode_string-idm707" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L325" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_decode_string" href="#ei_decode_string">int ei_decode_string(<br>const char *buf,<br>int *index,<br>char *p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Decodes a string from the binary format. A
          string in Erlang is a list of integers between 0 and
          255. Notice that as the string is just a list, sometimes
          lists are encoded as strings by <span class="code">term_to_binary/1</span>,
          even if it was not intended.</p>
        <p>The string is copied to <span class="code">p</span>, and enough space must
          be allocated. The returned string is <span class="code">NULL</span>-terminated, so you
          must add an extra byte to the memory requirement.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_decode_term-idm718').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_decode_term-idm718').style.visibility = 'hidden';"><span id="ghlink-ei_decode_term-idm718" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L340" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_decode_term" href="#ei_decode_term">int ei_decode_term(<br>const char *buf,<br>int *index,<br>void *t)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Decodes a term from the binary format. The term
          is return in <span class="code">t</span> as a <span class="code">ETERM*</span>, so
          <span class="code">t</span> is actually an <span class="code">ETERM**</span> (see
          <span class="bold_code bc-19"><a href="erl_eterm.html"><span class="code">erl_eterm</span></a></span>).
          The term is later to be deallocated.</p>
        <p>Notice that this function is located in the <span class="code">Erl_Interface</span>
          library.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_decode_trace-idm734').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_decode_trace-idm734').style.visibility = 'hidden';"><span id="ghlink-ei_decode_trace-idm734" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L354" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_decode_trace" href="#ei_decode_trace">int ei_decode_trace(<br>const char *buf,<br>int *index,<br>erlang_trace *p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Decodes an Erlang trace token from the binary format.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_decode_tuple_header-idm741').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_decode_tuple_header-idm741').style.visibility = 'hidden';"><span id="ghlink-ei_decode_tuple_header-idm741" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L362" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_decode_tuple_header" href="#ei_decode_tuple_header">int ei_decode_tuple_header(<br>const char *buf,<br>int *index,<br>int *arity)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Decodes a tuple header, the number of elements
          is returned in <span class="code">arity</span>. The tuple elements follow
          in order in the buffer.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_decode_ulong-idm749').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_decode_ulong-idm749').style.visibility = 'hidden';"><span id="ghlink-ei_decode_ulong-idm749" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L372" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_decode_ulong" href="#ei_decode_ulong">int ei_decode_ulong(<br>const char *buf,<br>int *index,<br>unsigned long *p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Decodes an unsigned long integer from the binary format.
          If the code is 64 bits, the function <span class="code">ei_decode_ulong()</span> is
          the same as <span class="code">ei_decode_ulonglong()</span>.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_decode_ulonglong-idm758').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_decode_ulonglong-idm758').style.visibility = 'hidden';"><span id="ghlink-ei_decode_ulonglong-idm758" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L382" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_decode_ulonglong" href="#ei_decode_ulonglong">int ei_decode_ulonglong(<br>const char *buf,<br>int *index,<br>unsigned long long *p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Decodes a GCC <span class="code">unsigned long long</span> or Visual C++
          <span class="code">unsigned __int64</span> (64-bit) integer from the binary
          format. This function is missing in the VxWorks port.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_decode_version-idm767').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_decode_version-idm767').style.visibility = 'hidden';"><span id="ghlink-ei_decode_version-idm767" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L392" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_decode_version" href="#ei_decode_version">int ei_decode_version(<br>const char *buf,<br>int *index,<br>int *version)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Decodes the version magic number for the
          Erlang binary term format. It must be the first token in a
          binary term.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_encode_atom-idm775').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_encode_atom-idm775').style.visibility = 'hidden';"><span id="ghlink-ei_encode_atom-idm775" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L402" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_encode_atom" href="#ei_encode_atom">int ei_encode_atom(<br>char *buf,<br>int *index,<br>const char *p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_encode_atom_len-idm778').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_encode_atom_len-idm778').style.visibility = 'hidden';"><span id="ghlink-ei_encode_atom_len-idm778" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L402" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_encode_atom_len" href="#ei_encode_atom_len">int ei_encode_atom_len(<br>char *buf,<br>int *index,<br>const char *p,<br>int len)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_x_encode_atom-idm781').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_x_encode_atom-idm781').style.visibility = 'hidden';"><span id="ghlink-ei_x_encode_atom-idm781" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L402" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_x_encode_atom" href="#ei_x_encode_atom">int ei_x_encode_atom(<br>ei_x_buff* x,<br>const char *p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_x_encode_atom_len-idm784').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_x_encode_atom_len-idm784').style.visibility = 'hidden';"><span id="ghlink-ei_x_encode_atom_len-idm784" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L402" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_x_encode_atom_len" href="#ei_x_encode_atom_len">int ei_x_encode_atom_len(<br>ei_x_buff* x,<br>const char *p,<br>int len)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Encodes an atom in the binary format. Parameter <span class="code">p</span>
          is the name of the atom in Latin-1 encoding. Only up to
          <span class="code">MAXATOMLEN-1</span> bytes
          are encoded. The name is to be <span class="code">NULL</span>-terminated, except for
          the <span class="code">ei_x_encode_atom_len()</span> function.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_encode_atom_as-idm795').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_encode_atom_as-idm795').style.visibility = 'hidden';"><span id="ghlink-ei_encode_atom_as-idm795" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L417" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_encode_atom_as" href="#ei_encode_atom_as">int ei_encode_atom_as(<br>char *buf,<br>int *index,<br>const char *p,<br>erlang_char_encoding from_enc,<br>erlang_char_encoding to_enc)</a></span></span></td>
<td class="func-since-td"><span class="since">OTP R16B</span></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_encode_atom_len_as-idm798').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_encode_atom_len_as-idm798').style.visibility = 'hidden';"><span id="ghlink-ei_encode_atom_len_as-idm798" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L417" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_encode_atom_len_as" href="#ei_encode_atom_len_as">int ei_encode_atom_len_as(<br>char *buf,<br>int *index,<br>const char *p,<br>int len,<br>erlang_char_encoding from_enc,<br>erlang_char_encoding to_enc)</a></span></span></td>
<td class="func-since-td"><span class="since">OTP R16B</span></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_x_encode_atom_as-idm801').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_x_encode_atom_as-idm801').style.visibility = 'hidden';"><span id="ghlink-ei_x_encode_atom_as-idm801" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L417" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_x_encode_atom_as" href="#ei_x_encode_atom_as">int ei_x_encode_atom_as(<br>ei_x_buff* x,<br>const char *p,<br>erlang_char_encoding from_enc,<br>erlang_char_encoding to_enc)</a></span></span></td>
<td class="func-since-td"><span class="since">OTP R16B</span></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_x_encode_atom_len_as-idm804').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_x_encode_atom_len_as-idm804').style.visibility = 'hidden';"><span id="ghlink-ei_x_encode_atom_len_as-idm804" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L417" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_x_encode_atom_len_as" href="#ei_x_encode_atom_len_as">int ei_x_encode_atom_len_as(<br>ei_x_buff* x,<br>const char *p,<br>int len,<br>erlang_char_encoding from_enc,<br>erlang_char_encoding to_enc)</a></span></span></td>
<td class="func-since-td"><span class="since">OTP R16B</span></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Encodes an atom in the binary format. Parameter <span class="code">p</span> is the name of the atom with
          character encoding
          <span class="bold_code bc-17"><a href="#erlang_char_encoding"><span class="code">from_enc</span></a></span>
          (ASCII, Latin-1, or UTF-8). The name must either be <span class="code">NULL</span>-terminated or
          a function variant with a <span class="code">len</span> parameter must be used.</p>
	<p>The encoding fails if <span class="code">p</span> is not a valid string in encoding
          <span class="code">from_enc</span>.</p>

	<p>Argument <span class="code">to_enc</span> is ignored. As from Erlang/OTP 20 the encoding is always
	  done in UTF-8 which is readable by nodes as old as Erlang/OTP R16.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_encode_bignum-idm821').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_encode_bignum-idm821').style.visibility = 'hidden';"><span id="ghlink-ei_encode_bignum-idm821" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L437" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_encode_bignum" href="#ei_encode_bignum">int ei_encode_bignum(<br>char *buf,<br>int *index,<br>mpz_t obj)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_x_encode_bignum-idm824').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_x_encode_bignum-idm824').style.visibility = 'hidden';"><span id="ghlink-ei_x_encode_bignum-idm824" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L437" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_x_encode_bignum" href="#ei_x_encode_bignum">int ei_x_encode_bignum(<br>ei_x_buff *x,<br>mpz_t obj)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Encodes a GMP <span class="code">mpz_t</span> integer to binary format.
          To use this function, the <span class="code">ei</span> library must be configured and
          compiled to use the GMP library.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_encode_binary-idm833').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_encode_binary-idm833').style.visibility = 'hidden';"><span id="ghlink-ei_encode_binary-idm833" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L448" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_encode_binary" href="#ei_encode_binary">int ei_encode_binary(<br>char *buf,<br>int *index,<br>const void *p,<br>long len)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_x_encode_binary-idm836').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_x_encode_binary-idm836').style.visibility = 'hidden';"><span id="ghlink-ei_x_encode_binary-idm836" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L448" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_x_encode_binary" href="#ei_x_encode_binary">int ei_x_encode_binary(<br>ei_x_buff* x,<br>const void *p,<br>long len)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Encodes a binary in the binary format. The data is at
          <span class="code">p</span>, of <span class="code">len</span> bytes length.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_encode_boolean-idm845').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_encode_boolean-idm845').style.visibility = 'hidden';"><span id="ghlink-ei_encode_boolean-idm845" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L458" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_encode_boolean" href="#ei_encode_boolean">int ei_encode_boolean(<br>char *buf,<br>int *index,<br>int p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_x_encode_boolean-idm848').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_x_encode_boolean-idm848').style.visibility = 'hidden';"><span id="ghlink-ei_x_encode_boolean-idm848" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L458" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_x_encode_boolean" href="#ei_x_encode_boolean">int ei_x_encode_boolean(<br>ei_x_buff* x,<br>int p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Encodes a boolean value as the atom <span class="code">true</span> if
          <span class="code">p</span> is not zero, or <span class="code">false</span> if <span class="code">p</span> is
          zero.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_encode_char-idm859').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_encode_char-idm859').style.visibility = 'hidden';"><span id="ghlink-ei_encode_char-idm859" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L469" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_encode_char" href="#ei_encode_char">int ei_encode_char(<br>char *buf,<br>int *index,<br>char p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_x_encode_char-idm862').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_x_encode_char-idm862').style.visibility = 'hidden';"><span id="ghlink-ei_x_encode_char-idm862" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L469" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_x_encode_char" href="#ei_x_encode_char">int ei_x_encode_char(<br>ei_x_buff* x,<br>char p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Encodes a char (8-bit) as an integer between 0-255 in the binary
          format. For historical reasons the integer argument is of
          type <span class="code">char</span>. Your C code is to consider the specified
          argument to be of type <span class="code">unsigned char</span> even if
          the C compilers and system may define <span class="code">char</span> to be
          signed.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_encode_double-idm872').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_encode_double-idm872').style.visibility = 'hidden';"><span id="ghlink-ei_encode_double-idm872" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L483" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_encode_double" href="#ei_encode_double">int ei_encode_double(<br>char *buf,<br>int *index,<br>double p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_x_encode_double-idm875').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_x_encode_double-idm875').style.visibility = 'hidden';"><span id="ghlink-ei_x_encode_double-idm875" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L483" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_x_encode_double" href="#ei_x_encode_double">int ei_x_encode_double(<br>ei_x_buff* x,<br>double p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Encodes a double-precision (64-bit) floating point number in
          the binary format.</p>
        <p>Returns <span class="code">-1</span> if the floating point
          number is not finite.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_encode_empty_list-idm884').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_encode_empty_list-idm884').style.visibility = 'hidden';"><span id="ghlink-ei_encode_empty_list-idm884" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L495" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_encode_empty_list" href="#ei_encode_empty_list">int ei_encode_empty_list(<br>char* buf,<br>int* index)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_x_encode_empty_list-idm887').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_x_encode_empty_list-idm887').style.visibility = 'hidden';"><span id="ghlink-ei_x_encode_empty_list-idm887" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L495" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_x_encode_empty_list" href="#ei_x_encode_empty_list">int ei_x_encode_empty_list(<br>ei_x_buff* x)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Encodes an empty list. It is often used at the tail of a list.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_encode_fun-idm895').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_encode_fun-idm895').style.visibility = 'hidden';"><span id="ghlink-ei_encode_fun-idm895" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L504" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_encode_fun" href="#ei_encode_fun">int ei_encode_fun(<br>char *buf,<br>int *index,<br>const erlang_fun *p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_x_encode_fun-idm898').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_x_encode_fun-idm898').style.visibility = 'hidden';"><span id="ghlink-ei_x_encode_fun-idm898" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L504" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_x_encode_fun" href="#ei_x_encode_fun">int ei_x_encode_fun(<br>ei_x_buff* x,<br>const erlang_fun* fun)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Encodes a fun in the binary format. Parameter <span class="code">p</span>
          points to an <span class="code">erlang_fun</span> structure. The
          <span class="code">erlang_fun</span> is not freed automatically, the
          <span class="code">free_fun</span> is to be called if the fun is not needed
          after encoding.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_encode_list_header-idm909').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_encode_list_header-idm909').style.visibility = 'hidden';"><span id="ghlink-ei_encode_list_header-idm909" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L517" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_encode_list_header" href="#ei_encode_list_header">int ei_encode_list_header(<br>char *buf,<br>int *index,<br>int arity)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_x_encode_list_header-idm912').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_x_encode_list_header-idm912').style.visibility = 'hidden';"><span id="ghlink-ei_x_encode_list_header-idm912" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L517" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_x_encode_list_header" href="#ei_x_encode_list_header">int ei_x_encode_list_header(<br>ei_x_buff* x,<br>int arity)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Encodes a list header, with a specified
          arity. The next <span class="code">arity+1</span> terms are the elements
          (actually its <span class="code">arity</span> cons cells) and the tail of the
          list. Lists and tuples are encoded recursively, so that a
          list can contain another list or tuple.</p>
        <p>For example, to encode the list
          <span class="code">[c, d, [e | f]]</span>:</p>
        <div class="example"><pre>
ei_encode_list_header(buf, &amp;i, 3);
ei_encode_atom(buf, &amp;i, "c");
ei_encode_atom(buf, &amp;i, "d");
ei_encode_list_header(buf, &amp;i, 1);
ei_encode_atom(buf, &amp;i, "e");
ei_encode_atom(buf, &amp;i, "f");
ei_encode_empty_list(buf, &amp;i);</pre></div>
        <div class="note">
<div class="label">Note</div>
<div class="content"><p>
          <p>It may seem that there is no way to create a list without
            knowing the number of elements in advance. But indeed
            there is a way. Notice that the list <span class="code">[a, b, c]</span>
            can be written as <span class="code">[a | [b | [c]]]</span>.
            Using this, a list can be written as conses.</p>
        </p></div>
</div>
        <p>To encode a list, without knowing the arity in advance:</p>
        <div class="example"><pre>
while (something()) {
    ei_x_encode_list_header(&amp;x, 1);
    ei_x_encode_ulong(&amp;x, i); /* just an example */
}
ei_x_encode_empty_list(&amp;x);</pre></div>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_encode_long-idm930').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_encode_long-idm930').style.visibility = 'hidden';"><span id="ghlink-ei_encode_long-idm930" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L554" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_encode_long" href="#ei_encode_long">int ei_encode_long(<br>char *buf,<br>int *index,<br>long p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_x_encode_long-idm933').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_x_encode_long-idm933').style.visibility = 'hidden';"><span id="ghlink-ei_x_encode_long-idm933" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L554" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_x_encode_long" href="#ei_x_encode_long">int ei_x_encode_long(<br>ei_x_buff* x,<br>long p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Encodes a long integer in the binary format.
          If the code is 64 bits, the function <span class="code">ei_encode_long()</span> is
          the same as <span class="code">ei_encode_longlong()</span>.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_encode_longlong-idm942').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_encode_longlong-idm942').style.visibility = 'hidden';"><span id="ghlink-ei_encode_longlong-idm942" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L565" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_encode_longlong" href="#ei_encode_longlong">int ei_encode_longlong(<br>char *buf,<br>int *index,<br>long long p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_x_encode_longlong-idm945').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_x_encode_longlong-idm945').style.visibility = 'hidden';"><span id="ghlink-ei_x_encode_longlong-idm945" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L565" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_x_encode_longlong" href="#ei_x_encode_longlong">int ei_x_encode_longlong(<br>ei_x_buff* x,<br>long long p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Encodes a GCC <span class="code">long long</span> or Visual C++
          <span class="code">__int64</span> (64-bit) integer in the binary format.
          This function is missing in the VxWorks port.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_encode_map_header-idm954').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_encode_map_header-idm954').style.visibility = 'hidden';"><span id="ghlink-ei_encode_map_header-idm954" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L576" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_encode_map_header" href="#ei_encode_map_header">int ei_encode_map_header(<br>char *buf,<br>int *index,<br>int arity)</a></span></span></td>
<td class="func-since-td"><span class="since">OTP 17.0</span></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_x_encode_map_header-idm957').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_x_encode_map_header-idm957').style.visibility = 'hidden';"><span id="ghlink-ei_x_encode_map_header-idm957" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L576" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_x_encode_map_header" href="#ei_x_encode_map_header">int ei_x_encode_map_header(<br>ei_x_buff* x,<br>int arity)</a></span></span></td>
<td class="func-since-td"><span class="since">OTP 17.0</span></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Encodes a map header, with a specified arity. The next
	   <span class="code">arity*2</span> terms encoded will be the keys and values of the map
	   encoded in the following order: <span class="code">K1, V1, K2, V2, ..., Kn, Vn</span>.
	</p>
        <p>For example, to encode the map <span class="code">#{a =&gt; "Apple", b =&gt;
          "Banana"}</span>:</p>
        <div class="example"><pre>
ei_x_encode_map_header(&amp;x, 2);
ei_x_encode_atom(&amp;x, "a");
ei_x_encode_string(&amp;x, "Apple");
ei_x_encode_atom(&amp;x, "b");
ei_x_encode_string(&amp;x, "Banana");</pre></div>
	<p>A correctly encoded map cannot have duplicate keys.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_encode_pid-idm970').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_encode_pid-idm970').style.visibility = 'hidden';"><span id="ghlink-ei_encode_pid-idm970" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L597" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_encode_pid" href="#ei_encode_pid">int ei_encode_pid(<br>char *buf,<br>int *index,<br>const erlang_pid *p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_x_encode_pid-idm973').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_x_encode_pid-idm973').style.visibility = 'hidden';"><span id="ghlink-ei_x_encode_pid-idm973" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L597" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_x_encode_pid" href="#ei_x_encode_pid">int ei_x_encode_pid(<br>ei_x_buff* x,<br>const erlang_pid *p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Encodes an Erlang process identifier (pid) in the binary
          format. Parameter <span class="code">p</span> points to an
          <span class="code">erlang_pid</span> structure (which should have been
          obtained earlier with <span class="code">ei_decode_pid()</span>).</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_encode_port-idm983').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_encode_port-idm983').style.visibility = 'hidden';"><span id="ghlink-ei_encode_port-idm983" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L609" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_encode_port" href="#ei_encode_port">int ei_encode_port(<br>char *buf,<br>int *index,<br>const erlang_port *p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_x_encode_port-idm986').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_x_encode_port-idm986').style.visibility = 'hidden';"><span id="ghlink-ei_x_encode_port-idm986" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L609" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_x_encode_port" href="#ei_x_encode_port">int ei_x_encode_port(<br>ei_x_buff* x,<br>const erlang_port *p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Encodes an Erlang port in the binary format. Parameter
          <span class="code">p</span> points to a <span class="code">erlang_port</span>
          structure (which should have been obtained earlier with
          <span class="code">ei_decode_port()</span>).</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_encode_ref-idm996').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_encode_ref-idm996').style.visibility = 'hidden';"><span id="ghlink-ei_encode_ref-idm996" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L621" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_encode_ref" href="#ei_encode_ref">int ei_encode_ref(<br>char *buf,<br>int *index,<br>const erlang_ref *p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_x_encode_ref-idm999').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_x_encode_ref-idm999').style.visibility = 'hidden';"><span id="ghlink-ei_x_encode_ref-idm999" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L621" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_x_encode_ref" href="#ei_x_encode_ref">int ei_x_encode_ref(<br>ei_x_buff* x,<br>const erlang_ref *p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Encodes an Erlang reference in the binary format. Parameter
          <span class="code">p</span> points to a <span class="code">erlang_ref</span>
          structure (which should have been obtained earlier with
          <span class="code">ei_decode_ref()</span>).</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_encode_string-idm1009').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_encode_string-idm1009').style.visibility = 'hidden';"><span id="ghlink-ei_encode_string-idm1009" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L633" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_encode_string" href="#ei_encode_string">int ei_encode_string(<br>char *buf,<br>int *index,<br>const char *p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_encode_string_len-idm1012').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_encode_string_len-idm1012').style.visibility = 'hidden';"><span id="ghlink-ei_encode_string_len-idm1012" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L633" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_encode_string_len" href="#ei_encode_string_len">int ei_encode_string_len(<br>char *buf,<br>int *index,<br>const char *p,<br>int len)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_x_encode_string-idm1015').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_x_encode_string-idm1015').style.visibility = 'hidden';"><span id="ghlink-ei_x_encode_string-idm1015" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L633" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_x_encode_string" href="#ei_x_encode_string">int ei_x_encode_string(<br>ei_x_buff* x,<br>const char *p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_x_encode_string_len-idm1018').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_x_encode_string_len-idm1018').style.visibility = 'hidden';"><span id="ghlink-ei_x_encode_string_len-idm1018" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L633" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_x_encode_string_len" href="#ei_x_encode_string_len">int ei_x_encode_string_len(<br>ei_x_buff* x,<br>const char* s,<br>int len)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Encodes a string in the binary format. (A string in Erlang
          is a list, but is encoded as a character array in the binary
          format.) The string is to be <span class="code">NULL</span>-terminated, except for
          the <span class="code">ei_x_encode_string_len()</span> function.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_encode_term-idm1027').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_encode_term-idm1027').style.visibility = 'hidden';"><span id="ghlink-ei_encode_term-idm1027" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L647" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_encode_term" href="#ei_encode_term">int ei_encode_term(<br>char *buf,<br>int *index,<br>void *t)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_x_encode_term-idm1030').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_x_encode_term-idm1030').style.visibility = 'hidden';"><span id="ghlink-ei_x_encode_term-idm1030" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L647" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_x_encode_term" href="#ei_x_encode_term">int ei_x_encode_term(<br>ei_x_buff* x,<br>void *t)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Encodes an <span class="code">ETERM</span>, as obtained from
          <span class="code">erl_interface</span>. Parameter <span class="code">t</span> is
          actually an <span class="code">ETERM</span> pointer. This function
          does not free the <span class="code">ETERM</span>.</p>
      </p></div>
    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_encode_trace-idm1043').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_encode_trace-idm1043').style.visibility = 'hidden';"><span id="ghlink-ei_encode_trace-idm1043" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L658" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_encode_trace" href="#ei_encode_trace">int ei_encode_trace(<br>char *buf,<br>int *index,<br>const erlang_trace *p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_x_encode_trace-idm1046').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_x_encode_trace-idm1046').style.visibility = 'hidden';"><span id="ghlink-ei_x_encode_trace-idm1046" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L658" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_x_encode_trace" href="#ei_x_encode_trace">int ei_x_encode_trace(<br>ei_x_buff* x,<br>const erlang_trace *p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Encodes an Erlang trace token in the binary format.
          Parameter <span class="code">p</span> points to a
          <span class="code">erlang_trace</span> structure (which should have been
          obtained earlier with <span class="code">ei_decode_trace()</span>).</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_encode_tuple_header-idm1056').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_encode_tuple_header-idm1056').style.visibility = 'hidden';"><span id="ghlink-ei_encode_tuple_header-idm1056" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L670" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_encode_tuple_header" href="#ei_encode_tuple_header">int ei_encode_tuple_header(<br>char *buf,<br>int *index,<br>int arity)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_x_encode_tuple_header-idm1059').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_x_encode_tuple_header-idm1059').style.visibility = 'hidden';"><span id="ghlink-ei_x_encode_tuple_header-idm1059" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L670" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_x_encode_tuple_header" href="#ei_x_encode_tuple_header">int ei_x_encode_tuple_header(<br>ei_x_buff* x,<br>int arity)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Encodes a tuple header, with a specified
          arity. The next <span class="code">arity</span> terms encoded will be the
          elements of the tuple. Tuples and lists are encoded
          recursively, so that a tuple can contain another tuple or list.</p>
        <p>For example, to encode the tuple <span class="code">{a, {b, {}}}</span>:</p>
        <div class="example"><pre>
ei_encode_tuple_header(buf, &amp;i, 2);
ei_encode_atom(buf, &amp;i, "a");
ei_encode_tuple_header(buf, &amp;i, 2);
ei_encode_atom(buf, &amp;i, "b");
ei_encode_tuple_header(buf, &amp;i, 0);</pre></div>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_encode_ulong-idm1070').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_encode_ulong-idm1070').style.visibility = 'hidden';"><span id="ghlink-ei_encode_ulong-idm1070" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L689" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_encode_ulong" href="#ei_encode_ulong">int ei_encode_ulong(<br>char *buf,<br>int *index,<br>unsigned long p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_x_encode_ulong-idm1073').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_x_encode_ulong-idm1073').style.visibility = 'hidden';"><span id="ghlink-ei_x_encode_ulong-idm1073" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L689" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_x_encode_ulong" href="#ei_x_encode_ulong">int ei_x_encode_ulong(<br>ei_x_buff* x,<br>unsigned long p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Encodes an unsigned long integer in the binary format.
          If the code is 64 bits, the function <span class="code">ei_encode_ulong()</span> is
          the same as <span class="code">ei_encode_ulonglong()</span>.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_encode_ulonglong-idm1082').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_encode_ulonglong-idm1082').style.visibility = 'hidden';"><span id="ghlink-ei_encode_ulonglong-idm1082" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L700" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_encode_ulonglong" href="#ei_encode_ulonglong">int ei_encode_ulonglong(<br>char *buf,<br>int *index,<br>unsigned long long p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_x_encode_ulonglong-idm1085').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_x_encode_ulonglong-idm1085').style.visibility = 'hidden';"><span id="ghlink-ei_x_encode_ulonglong-idm1085" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L700" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_x_encode_ulonglong" href="#ei_x_encode_ulonglong">int ei_x_encode_ulonglong(<br>ei_x_buff* x,<br>unsigned long long p)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Encodes a GCC <span class="code">unsigned long long</span> or Visual C++
          <span class="code">unsigned __int64</span> (64-bit) integer in the binary
          format. This function is missing in the VxWorks port.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_encode_version-idm1094').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_encode_version-idm1094').style.visibility = 'hidden';"><span id="ghlink-ei_encode_version-idm1094" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L711" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_encode_version" href="#ei_encode_version">int ei_encode_version(<br>char *buf,<br>int *index)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_x_encode_version-idm1097').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_x_encode_version-idm1097').style.visibility = 'hidden';"><span id="ghlink-ei_x_encode_version-idm1097" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L711" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_x_encode_version" href="#ei_x_encode_version">int ei_x_encode_version(<br>ei_x_buff* x)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Encodes a version magic number for the binary format. Must
          be the first token in a binary term.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_get_type-idm1104').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_get_type-idm1104').style.visibility = 'hidden';"><span id="ghlink-ei_get_type-idm1104" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L721" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_get_type" href="#ei_get_type">int ei_get_type(<br>const char *buf,<br>const int *index,<br>int *type,<br>int *size)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Returns the type in <span class="code">type</span> and size in
          <span class="code">size</span> of the encoded term. For strings and atoms,
          size is the number of characters <strong>not</strong> including the
          terminating <span class="code">NULL</span>. For binaries, <span class="code">size</span> is the number of
          bytes. For lists and tuples, <span class="code">size</span> is the arity of
          the object. For other types, <span class="code">size</span> is 0. In all
          cases, <span class="code">index</span> is left unchanged.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_init-idm1119').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_init-idm1119').style.visibility = 'hidden';"><span id="ghlink-ei_init-idm1119" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L735" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_init" href="#ei_init">int ei_init(void)</a></span></span></td>
<td class="func-since-td"><span class="since">OTP 21.3</span></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Initialize the <span class="code">ei</span> library. This function should be called once
	(and only once) before calling any other functionality in the <span class="code">ei</span>
	library. However, note the exception below.</p>
	<p>If the <span class="code">ei</span> library is used together with the <span class="code">erl_interface</span>
	library, this function should <strong>not</strong> be called directly. It will be
	called by the <span class="code">erl_init()</span> function which should be used to initialize
	the combination of the two libraries instead.</p>
	<p>On success zero is returned. On failure a posix error code is returned.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_print_term-idm1134').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_print_term-idm1134').style.visibility = 'hidden';"><span id="ghlink-ei_print_term-idm1134" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L750" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_print_term" href="#ei_print_term">int ei_print_term(<br>FILE* fp,<br>const char* buf,<br>int* index)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_s_print_term-idm1137').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_s_print_term-idm1137').style.visibility = 'hidden';"><span id="ghlink-ei_s_print_term-idm1137" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L750" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_s_print_term" href="#ei_s_print_term">int ei_s_print_term(<br>char** s,<br>const char* buf,<br>int* index)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Prints a term, in clear text, to the file
          specified by <span class="code">fp</span>, or the buffer pointed to by
          <span class="code">s</span>. It
          tries to resemble the term printing in the Erlang shell.</p>
        <p>In <span class="code">ei_s_print_term()</span>, parameter
          <span class="code">s</span> is to
          point to a dynamically (malloc) allocated string of
          <span class="code">BUFSIZ</span> bytes or a <span class="code">NULL</span> pointer. The string
          can be reallocated (and <span class="code">*s</span> can be updated) by this
          function if the result is more than <span class="code">BUFSIZ</span>
          characters. The string returned is <span class="code">NULL</span>-terminated.</p>
        <p>The return value is the number of characters written to the file
          or string, or <span class="code">-1</span> if <span class="code">buf[index]</span> does not
          contain a valid term.
          Unfortunately, I/O errors on <span class="code">fp</span> is not checked.</p>
        <p>Argument <span class="code">index</span> is updated, that is, this function
          can be viewed as a decode function that decodes a term into a
          human-readable format.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_set_compat_rel-idm1160').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_set_compat_rel-idm1160').style.visibility = 'hidden';"><span id="ghlink-ei_set_compat_rel-idm1160" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L776" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_set_compat_rel" href="#ei_set_compat_rel">void ei_set_compat_rel(<br>release_number)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-5">
<h3 class="func-types-title">Types</h3>
        <div class="REFTYPES rt-4">
<span class="bold_code fun-param-type">unsigned release_number;</span><br>
</div>
      </div>
<div class="REFBODY rb-7"><p>
        <a name="ei_set_compat_rel"></a>
        <p>By default, the <span class="code">ei</span> library is only guaranteed
          to be compatible with other Erlang/OTP components from the same
          release as the <span class="code">ei</span> library itself. For example,
          <span class="code">ei</span> from
          Erlang/OTP R10 is not compatible with an Erlang emulator
          from Erlang/OTP R9 by default.</p>
        <p>A call to <span class="code">ei_set_compat_rel(release_number)</span> sets
          the <span class="code">ei</span> library in compatibility mode of release
          <span class="code">release_number</span>. Valid range of
          <span class="code">release_number</span>
          is <span class="code">[7, current release]</span>. This makes it possible to
          communicate with Erlang/OTP components from earlier releases.</p>
        <div class="note">
<div class="label">Note</div>
<div class="content"><p>
          <p>If this function is called, it can only be called once
            and must be called before any other functions in the
            <span class="code">ei</span> library are called.</p>
        </p></div>
</div>
        <div class="warning">
<div class="label">Warning</div>
<div class="content"><p>
          <p>You can run into trouble if this feature is used
            carelessly. Always ensure that all communicating
            components are either from the same Erlang/OTP release, or
            from release X and release Y where all components
            from release Y are in compatibility mode of release X.</p>
        </p></div>
</div>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_skip_term-idm1184').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_skip_term-idm1184').style.visibility = 'hidden';"><span id="ghlink-ei_skip_term-idm1184" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L811" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_skip_term" href="#ei_skip_term">int ei_skip_term(<br>const char* buf,<br>int* index)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Skips a term in the specified buffer;
          recursively skips elements of lists and tuples, so that a
          full term is skipped. This is a way to get the size of an
          Erlang term.</p>
        <p><span class="code">buf</span> is the buffer.</p>
        <p><span class="code">index</span> is updated to point right after the term
          in the buffer.</p>
        <div class="note">
<div class="label">Note</div>
<div class="content"><p>
          <p>This can be useful when you want to hold arbitrary
            terms: skip them and copy the binary term data to some
            buffer.</p>
        </p></div>
</div>
        <p>Returns <span class="code">0</span> on success, otherwise
          <span class="code">-1</span>.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_x_append-idm1200').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_x_append-idm1200').style.visibility = 'hidden';"><span id="ghlink-ei_x_append-idm1200" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L832" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_x_append" href="#ei_x_append">int ei_x_append(<br>ei_x_buff* x,<br>const ei_x_buff* x2)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_x_append_buf-idm1203').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_x_append_buf-idm1203').style.visibility = 'hidden';"><span id="ghlink-ei_x_append_buf-idm1203" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L832" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_x_append_buf" href="#ei_x_append_buf">int ei_x_append_buf(<br>ei_x_buff* x,<br>const char* buf,<br>int len)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Appends data at the end of buffer <span class="code">x</span>.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_x_format-idm1211').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_x_format-idm1211').style.visibility = 'hidden';"><span id="ghlink-ei_x_format-idm1211" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L841" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_x_format" href="#ei_x_format">int ei_x_format(<br>ei_x_buff* x,<br>const char* fmt,<br>...)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_x_format_wo_ver-idm1214').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_x_format_wo_ver-idm1214').style.visibility = 'hidden';"><span id="ghlink-ei_x_format_wo_ver-idm1214" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L841" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_x_format_wo_ver" href="#ei_x_format_wo_ver">int ei_x_format_wo_ver(<br>ei_x_buff* x,<br>const char *fmt,<br>... )</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Formats a term, given as a string, to a buffer.
          Works like a sprintf for Erlang terms.
          <span class="code">fmt</span> contains a format string, with arguments like
          <span class="code">~d</span>, to insert terms from variables. The following
          formats are supported (with the C types given):</p>
        <div class="example"><pre>
~a  An atom, char*
~c  A character, char
~s  A string, char*
~i  An integer, int
~l  A long integer, long int
~u  A unsigned long integer, unsigned long int
~f  A float, float
~d  A double float, double float
~p  An Erlang pid, erlang_pid*</pre></div>
        <p>For example, to encode a tuple with some stuff:</p>
        <div class="example"><pre>
ei_x_format("{~a,~i,~d}", "numbers", 12, 3.14159)
encodes the tuple {numbers,12,3.14159}</pre></div>
        <p><span class="code">ei_x_format_wo_ver()</span> formats into a buffer,
          without the initial version byte.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_x_free-idm1228').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_x_free-idm1228').style.visibility = 'hidden';"><span id="ghlink-ei_x_free-idm1228" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L870" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_x_free" href="#ei_x_free">int ei_x_free(<br>ei_x_buff* x)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Frees an <span class="code">ei_x_buff</span> buffer.
          The memory used by the buffer is returned to the OS.</p>
      </p></div>

    <table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_x_new-idm1236').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_x_new-idm1236').style.visibility = 'hidden';"><span id="ghlink-ei_x_new-idm1236" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L879" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_x_new" href="#ei_x_new">int ei_x_new(<br>ei_x_buff* x)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<table class="func-table"><tr class="func-tr">
<td class="cfunc-td"><span class="bold_code bc-7"><span onMouseOver="document.getElementById('ghlink-ei_x_new_with_version-idm1239').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-ei_x_new_with_version-idm1239').style.visibility = 'hidden';"><span id="ghlink-ei_x_new_with_version-idm1239" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L879" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="ei_x_new_with_version" href="#ei_x_new_with_version">int ei_x_new_with_version(<br>ei_x_buff* x)</a></span></span></td>
<td class="func-since-td"></td>
</tr></table>
<div class="REFBODY rb-7"><p>
        <p>Allocates a new <span class="code">ei_x_buff</span> buffer. The
          fields of the structure pointed to by parameter <span class="code">x</span>
          is filled in, and a default buffer is allocated.
          <span class="code">ei_x_new_with_version()</span> also puts an initial
          version byte, which is used in the binary format (so that
          <span class="code">ei_x_encode_version()</span> will not be needed.)</p>
      </p></div>
  </div>

  <h3><span onMouseOver="document.getElementById('ghlink-debug-information-idm1249').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-debug-information-idm1249').style.visibility = 'hidden';"><span id="ghlink-debug-information-idm1249" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L894" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="debug-information" href="#debug-information">Debug Information</a></span></h3>
<div class="REFBODY rb-3">
    
    <p>Some tips on what to check when the emulator does not seem to
      receive the terms that you send:</p>

    <ul>
      <li>Be careful with the version header, use
        <span class="code">ei_x_new_with_version()</span> when appropriate.</li>
      <li>Turn on distribution tracing on the Erlang node.</li>
      <li>Check the result codes from <span class="code">ei_decode_-calls</span>.</li>
    </ul>
  </div>

  <h3><span onMouseOver="document.getElementById('ghlink-see-also-idm1258').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-see-also-idm1258').style.visibility = 'hidden';"><span id="ghlink-see-also-idm1258" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/erl_interface/doc/src/ei.xml#L907" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="see-also" href="#see-also">See Also</a></span></h3>
<div class="REFBODY rb-3">
    
    <p><span class="bold_code bc-19"><a href="erl_eterm.html"><span class="code">erl_eterm</span></a></span></p>
  </div>
</div>
<div class="footer">
<hr>
<p>Copyright © 1998-2021 Ericsson AB. All Rights Reserved.</p>
</div>
</div>
</div>
<script type="text/javascript">window.__otpTopDocDir = '../js/';</script><script type="text/javascript" src="../js/highlight.js"></script>
</body>
</html>
