---
layout: patch
name: 21.3
release: 21
html_url: https://github.com/erlang/otp/releases/tag/OTP-21.3
published_at: 2019-03-12T14:17:49Z
tag_name: OTP-21.3
src: https://github.com/erlang/otp/releases/download/OTP-21.3/otp_src_21.3.tar.gz
erlang_download_readme: https://erlang.org/download/otp_src_21.3.readme
readme: https://github.com/erlang/otp/releases/download/OTP-21.3/OTP-21.3.README
html: https://github.com/erlang/otp/releases/download/OTP-21.3/otp_doc_html_21.3.tar.gz
man: https://github.com/erlang/otp/releases/download/OTP-21.3/otp_doc_man_21.3.tar.gz
win32_exe: https://github.com/erlang/otp/releases/download/OTP-21.3/otp_win32_21.3.exe
win32_zip: https://github.com/erlang/otp/releases/download/OTP-21.3/otp_win32_21.3.zip
win64_exe: https://github.com/erlang/otp/releases/download/OTP-21.3/otp_win64_21.3.exe
win64_zip: https://github.com/erlang/otp/releases/download/OTP-21.3/otp_win64_21.3.zip
Applications:
  HIGHLIGHTS:
    pre: ""
    post: ""
    mode: "txt"
    tickets:
      OTP-15423:
        release_note: "*** POTENTIAL INCOMPATIBILITY ***\n\nThe Reason part of of the error return from the functions connect and handshake has a better and documented format. This will sometimes differ from previous returned reasons, however those where only documented as term() and should for that reason not be relied on.\n\n"
        Applications: "ssl"
      OTP-15442:
        release_note: "Support for plugin of a user supplied socket implementation has been added.\n\n"
        Applications: "erl_interface"
        RelatedIds: "ERIERL-258"
      OTP-15445:
        release_note: "Refactor of state handling to improve TLS application data throughput and reduce CPU overhead\n\n"
        Applications: "ssl"
      OTP-15460:
        release_note: "The HTML reference documentation shows the OTP version where modules and functions were first introduced. Versions older than R13B04 are not shown.\n\n"
        Applications: "erl_docgen, otp"
      OTP-15529:
        release_note: "The SSL code has been optimized in many small ways to reduce CPU load for encryption/decryption, especially for Erlang's distribution protocol over TLS.\n\n"
        Applications: "ssl"
      OTP-15665:
        release_note: "Add support for active N\n\n"
        Applications: "ssl"
        RelatedIds: "ERL-811, PR-2072"
  POTENTIALINCOMPATIBILITIES:
    pre: ""
    post: ""
    mode: "txt"
    tickets:
      OTP-15423:
        release_note: "*** HIGHLIGHT ***\n\nThe Reason part of of the error return from the functions connect and handshake has a better and documented format. This will sometimes differ from previous returned reasons, however those where only documented as term() and should for that reason not be relied on.\n\n"
        Applications: "ssl"
      OTP-15662:
        release_note: "Handler specific configuration parameters for the standard handler logger_std_h are changed to be more intuitive and more similar to the disk_log handler.\n\nEarlier there was only one parameter, type, which could have the values standard_io, standard_error, {file,FileName} or {file,FileName,Modes}.\n\nThis is now changed, so the following parameters are allowed:\n\ntype = standard_io | standard_error | file\nfile = file:filename()\nmodes = [file:mode()]\n\nAll parameters are optional. type defaults to standard_io, unless a file name is given, in which case it defaults to file. If type is set to file, the file name defaults to the same as the handler id.\n\nThe potential incompatibility is that logger:get_config/0 and logger:get_handler_config/1 now returns the new parameters, even if the configuration was set with the old variant, e.g. #{type=>{file,FileName}}.\n\n"
        Applications: "kernel"
  OTP-21.3:
    pre: ""
    post: ""
    mode: "txt"
    tickets:
      OTP-15657:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Minor fixes for make clean.\n\n"
        Applications: "erts, otp, tools"
      OTP-15460:
        type: " --- Improvements and New Features ---"
        release_note: "*** HIGHLIGHT ***\n\nThe HTML reference documentation shows the OTP version where modules and functions were first introduced. Versions older than R13B04 are not shown.\n\n"
        Applications: "erl_docgen, otp"
  common_test-1.17:
    pre: "The common_test-1.17 application can be applied independently of\n other applications on a full OTP 21 installation."
    post: "Full runtime dependencies of common_test-1.17: compiler-6.0,\n crypto-3.6, debugger-4.1, erts-7.0, ftp-1.0.0, inets-6.0, kernel-4.0,\n observer-2.1, runtime_tools-1.8.16, sasl-2.4.2, snmp-5.1.2, ssh-4.0,\n stdlib-3.5, syntax_tools-1.7, tools-2.8, xmerl-1.3.8"
    mode: "txt"
    tickets:
      OTP-15540:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "A bug caused ct:encrypt_config_file/3 and ct:decrypt_config_file/3 to fail with badmatch if input parameter KeyOrFile was {key,string()}. This is now corrected.\n\n"
        Applications: "common_test"
      OTP-15584:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "The status of a test case which failed with timetrap timeout in end_per_testcase could not be modified by returning {fail,Reason} from a post_end_per_testcase hook function. This is now corrected.\n\n"
        Applications: "common_test"
        RelatedIds: "ERIERL-282"
      OTP-15229:
        type: " --- Improvements and New Features ---"
        release_note: "A new variant of the newline option to ct_telnet:cmd/3 and ct_telnet:send/3 is added, which allows to specify a string to append as newline indicator on a command. By default, the value is \"\\n\", but in some cases it is required to be \"\\r\\n\", which this option allows.\n\nA faulty regular expression given as parameter to ct_telnet:expect/2,3 would earlier crash and look like an internal error in common_test. A better error indication is now given, but the test case will still fail.\n\n"
        Applications: "common_test"
        RelatedIds: "ERIERL-203"
      OTP-15298:
        type: " --- Improvements and New Features ---"
        release_note: "Since the yang RFC allows more than one top element of config data in an edit-config element, ct_netconfc:edit_config/3,4,5 can now take a list of XML elements.\n\n"
        Applications: "common_test"
  compiler-7.3.2:
    pre: "The compiler-7.3.2 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of compiler-7.3.2: crypto-3.6, erts-9.0,\n hipe-3.12, kernel-4.0, stdlib-2.5"
    mode: "txt"
    tickets:
      OTP-15518:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "An expression such as (A / B) band 16#ff would crash the compiler.\n\n"
        Applications: "compiler"
        RelatedIds: "ERL-829"
      OTP-15552:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "There could be an incorrect warning when the tuple_calls option was given. The generated code would be correct. Here is an example of code that would trigger the warning:\n\n(list_to_atom(\"prefix_\" ++ atom_to_list(suffix))):doit(X).\n\n"
        Applications: "compiler"
        RelatedIds: "ERL-838"
      OTP-15577:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Optimize (again) Dialyzer's handling of left-associative use of andalso and orelse in guards.\n\n"
        Applications: "compiler, dialyzer"
        RelatedIds: "ERL-851, PR-1944, PR-2141"
  crypto-4.4.1:
    pre: "The crypto-4.4.1 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of crypto-4.4.1: erts-9.0, kernel-5.3,\n stdlib-3.4"
    mode: "txt"
    tickets:
      OTP-15634:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fixes a bug that caused crypto:sign and crypto:verify to return the error message badarg instead of notsup in one case. That case was when signing or verifying with eddsa keys (that is, ed15519 or ed448), but only when FIPS was supported and enabled.\n\n"
        Applications: "crypto"
      OTP-15447:
        type: " --- Improvements and New Features ---"
        release_note: "Added a crypto benchmark test suite.\n\n"
        Applications: "crypto"
  dialyzer-3.3.2:
    pre: "The dialyzer-3.3.2 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of dialyzer-3.3.2: compiler-7.0, erts-9.0,\n hipe-3.16.1, kernel-5.3, stdlib-3.4, syntax_tools-2.0, wx-1.2"
    mode: "txt"
    tickets:
      OTP-15562:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix a bug that caused Dialyzer to crash when analyzing a contract with a module name differing from the analyzed module's name. The bug was introduced in Erlang/OTP 18.\n\n"
        Applications: "dialyzer"
        RelatedIds: "ERL-845"
      OTP-15570:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix a bug in the handling of the Key argument of lists:{keysearch, keyfind, keymember}.\n\n"
        Applications: "dialyzer, hipe"
      OTP-15577:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Optimize (again) Dialyzer's handling of left-associative use of andalso and orelse in guards.\n\n"
        Applications: "compiler, dialyzer"
        RelatedIds: "ERL-851, PR-1944, PR-2141"
  diameter-2.2:
    pre: "The diameter-2.2 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of diameter-2.2: erts-10.0, kernel-3.2,\n ssl-9.0, stdlib-2.4"
    mode: "txt"
    tickets:
      OTP-15569:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix failure of incoming answer message with faulty Experimental-Result-Code. Failure to decode the AVP resulted in an uncaught exception, with no no handle_answer/error callback as a consequence.\n\n"
        Applications: "diameter"
        RelatedIds: "ERIERL-302"
      OTP-15398:
        type: " --- Improvements and New Features ---"
        release_note: "Add spawn_opt MFA configuration to allow a callback to spawn a handler process for an incoming Diameter request on an an arbitrary node. Module diameter_dist provides a route_session/2 that can be used to distribute requests based on Session-Id, although this module is currently only documented in the module itself and may change.\n\n"
        Applications: "diameter"
  edoc-0.10:
    pre: "The edoc-0.10 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of edoc-0.10: erts-6.0, inets-5.10,\n kernel-3.0, stdlib-2.5, syntax_tools-1.6.14, xmerl-1.3.7"
    mode: "txt"
    tickets:
      OTP-15605:
        type: " --- Improvements and New Features ---"
        release_note: "Print a helpful message explaining that adding {preprocess, true} can help if reading a source file fails.\n\n"
        Applications: "edoc"
        RelatedIds: "ERL-841"
  erl_docgen-0.9:
    pre: "The erl_docgen-0.9 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of erl_docgen-0.9: edoc-0.7.13, erts-9.0,\n stdlib-3.4, xmerl-1.3.7"
    mode: "txt"
    tickets:
      OTP-15460:
        type: " --- Improvements and New Features ---"
        release_note: "*** HIGHLIGHT ***\n\nThe HTML reference documentation shows the OTP version where modules and functions were first introduced. Versions older than R13B04 are not shown.\n\n"
        Applications: "erl_docgen, otp"
      OTP-15637:
        type: " --- Improvements and New Features ---"
        release_note: "Make html documentation of C functions with many arguments more readable.\n\n"
        Applications: "erl_docgen"
        RelatedIds: "PR-2160"
  erl_interface-3.11:
    pre: "The erl_interface-3.11 application can be applied independently of\n other applications on a full OTP 21 installation."
    post: ""
    mode: "txt"
    tickets:
      OTP-15442:
        type: " --- Improvements and New Features ---"
        release_note: "*** HIGHLIGHT ***\n\nSupport for plugin of a user supplied socket implementation has been added.\n\n"
        Applications: "erl_interface"
        RelatedIds: "ERIERL-258"
  erts-10.3:
    pre: "Note! The erts-10.3 application can *not* be applied independently of\n       other applications on an arbitrary OTP 21 installation.\n\n       On a full OTP 21 installation, also the following runtime\n       dependencies have to be satisfied:\n       -- kernel-6.1 (first satisfied in OTP 21.1)\n       -- sasl-3.3 (first satisfied in OTP 21.2)"
    post: "Full runtime dependencies of erts-10.3: kernel-6.1, sasl-3.3,\n stdlib-3.5"
    mode: "txt"
    tickets:
      OTP-15484:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "When multiplying a number by itself, a word beyond the number on the heap could be read (and ignored). This bug was extremely unlikely to actually cause a real problem.\n\n"
        Applications: "erts"
      OTP-15490:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix bug where doing seq_trace:reset_trace() while another process was doing a garbage collection could cause the run-time system to segfault.\n\n"
        Applications: "erts, kernel"
      OTP-15494:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix reading of ancillary data from packet oriented sockets on old Linux kernel versions. Without this fix, getting the data would cause the port to enter an infinite loop.\n\n"
        Applications: "erts"
      OTP-15527:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix bug where crash dumping or doing erlang:system_info(procs) while another process was doing a garbage collection could cause the run-time system to segfault.\n\n"
        Applications: "erts"
      OTP-15556:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix erlang:system_info(kernel_poll) to return correct value. Before this fix, the call always returned false.\n\n"
        Applications: "erts"
      OTP-15567:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix bug in enif_make_map_from_arrays that would produce broken maps when number of keys were 32. Bug exists since OTP 21.0.\n\n"
        Applications: "erts"
      OTP-15583:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix a bug in binary:encode_unsigned that may cause a read of uninitialized memory.\n\nThe bug existed since the function was added (OTP R16B02).\n\n"
        Applications: "erts"
        RelatedIds: "PR-2118"
      OTP-15599:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fixed a bug that could cause heart to kill an exiting node before it had time to flush all buffered writes. If environment variable HEART_KILL_SIGNAL=SIGABRT was set a superfluous core dump could also be generated.\n\n"
        Applications: "erts"
        RelatedIds: "ERIERL-298"
      OTP-15604:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix enif_consume_timeslice to be a no-op on dirty scheduler and not crash debug compiled emulator.\n\n"
        Applications: "erts"
      OTP-15629:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fixed macro redefinition warnings.\n\n"
        Applications: "erts"
      OTP-15650:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "to_erl fixed to not garble terminal input beyond 7-bit ASCII.\n\n"
        Applications: "erts"
        RelatedIds: "ERL-854, PR-2161"
      OTP-15657:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Minor fixes for make clean.\n\n"
        Applications: "erts, otp, tools"
      OTP-15660:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fixed a bug in all ets:select* and ets:match* functions that could in some rare cases lead to very poor performance.\n\n"
        Applications: "erts"
        RelatedIds: "ERL-869"
      OTP-15375:
        type: " --- Improvements and New Features ---"
        release_note: "Add erlang:system_flag(system_logger, Pid) and erlang:system_info(system_logger). This system_flag can be used to set the process that will receive the logging messages generated by ERTS.\n\n"
        Applications: "erts"
      OTP-15503:
        type: " --- Improvements and New Features ---"
        release_note: "integer_to_list/2 and integer_to_binary/2 are now implemented in C, improving their performance.\n\n"
        Applications: "erts"
        RelatedIds: "PR-2052"
      OTP-15514:
        type: " --- Improvements and New Features ---"
        release_note: "Improved term_to_binary to do more fair reduction count and yielding when encoding large byte lists (strings).\n\n"
        Applications: "erts"
        RelatedIds: "ERL-774"
      OTP-15555:
        type: " --- Improvements and New Features ---"
        release_note: "Made internal port drivers more robust against erlang:port_control with invalid arguments and added documentation warnings about such abuse.\n\n"
        Applications: "erts"
        RelatedIds: "ERIERL-231"
      OTP-15558:
        type: " --- Improvements and New Features ---"
        release_note: "Fix bug on NetBSD where the exit_status from a port program would never be sent.\n\n"
        Applications: "erts"
        RelatedIds: "ERL-725"
      OTP-15576:
        type: " --- Improvements and New Features ---"
        release_note: "There is a new function persistent:term(Key, Default) to allow specifying a default when looking up a persistent term.\n\n"
        Applications: "erts"
        RelatedIds: "ERL-843"
      OTP-15580:
        type: " --- Improvements and New Features ---"
        release_note: "A transitory emulator option '+ztma true' has been added to allow running existing BEAM code that relies on \"tuple calls\" (dispatch on parameterized modules) which has been compiled under OTP 20 or earlier. This option will be removed in OTP 22, so such modules should eventually be recompiled with the +tuple_calls option.\n\n"
        Applications: "erts"
        RelatedIds: "PR-2113"
  ftp-1.0.2:
    pre: "The ftp-1.0.2 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of ftp-1.0.2: erts-7.0, kernel-6.0,\n stdlib-3.5"
    mode: "txt"
    tickets:
      OTP-15659:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fixed timing related bug that could make ftp functions behave badly.\n\n"
        Applications: "ftp"
        RelatedIds: "ERIERL-316"
  hipe-3.18.3:
    pre: "The hipe-3.18.3 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of hipe-3.18.3: compiler-5.0, erts-9.3,\n kernel-5.3, stdlib-3.4, syntax_tools-1.6.14"
    mode: "txt"
    tickets:
      OTP-15570:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix a bug in the handling of the Key argument of lists:{keysearch, keyfind, keymember}.\n\n"
        Applications: "dialyzer, hipe"
  inets-7.0.6:
    pre: "The inets-7.0.6 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of inets-7.0.6: erts-6.0, kernel-3.0,\n mnesia-4.12, runtime_tools-1.8.14, ssl-5.3.4, stdlib-3.5"
    mode: "txt"
    tickets:
      OTP-15669:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix the internal handling of the option erl_script_timeout in httpd. When httpd was started with explicit erl_script_timeout, the value of the option was converted to milliseconds before storage. Subsequent calls to httpd:info/1 returned the input value multiplied by 1000.\n\nThis change fixes the handing of erl_script_timeout by storing the timeout in seconds and converting to milliseconds before usage.\n\n"
        Applications: "inets"
        RelatedIds: "ERIERL-321"
      OTP-15508:
        type: " --- Improvements and New Features ---"
        release_note: "Enhance documentation\n\n"
        Applications: "inets"
        RelatedIds: "ERL-816"
  kernel-6.3:
    pre: "Note! The kernel-6.3 application can *not* be applied independently\n       of other applications on an arbitrary OTP 21 installation.\n\n       On a full OTP 21 installation, also the following runtime\n       dependency has to be satisfied:\n       -- erts-10.2.5 (first satisfied in OTP 21.2.7)"
    post: "Full runtime dependencies of kernel-6.3: erts-10.2.5, sasl-3.0,\n stdlib-3.5"
    mode: "txt"
    tickets:
      OTP-14702:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "If for example the /etc/hosts did not come into existence until after the kernel application had started, its content was never read. This bug has now been corrected.\n\n"
        Applications: "kernel"
        RelatedIds: "PR-2066"
      OTP-15490:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix bug where doing seq_trace:reset_trace() while another process was doing a garbage collection could cause the run-time system to segfault.\n\n"
        Applications: "erts, kernel"
      OTP-15557:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix erl_epmd:port_please spec to include atom() and string().\n\n"
        Applications: "kernel"
        RelatedIds: "PR-2117"
      OTP-15578:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "The Logger handler logger_std_h now keeps track of the inode of its log file in order to re-open the file if the inode changes. This may happen, for instance, if the log file is opened and saved by an editor.\n\n"
        Applications: "kernel"
        RelatedIds: "ERL-850"
      OTP-15602:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "When user specific file modes are given to the logger handler logger_std_h, they were earlier accepted without any control. This is now changes, so Logger will adjust the file modes as follows:\n\n- If raw is not found in the list, it is added.\n- If none of write, append or exclusive are found in the list, append is added.\n- If none of delayed_write or {delayed_write,Size,Delay} are found in the list, delayed_write is added.\n\n"
        Applications: "kernel"
      OTP-15479:
        type: " --- Improvements and New Features ---"
        release_note: "The standard logger handler, logger_std_h, now has a new internal feature for log rotation. The rotation scheme is as follows:\n\nThe log file to which the handler currently writes always has the same name, i.e. the name which is configured for the handler. The archived files have the same name, but with extension \".N\", where N is an integer. The newest archive has extension \".0\", and the oldest archive has the highest number.\n\nThe size at which the log file is rotated, and the number of archive files that are kept, is specified with the handler specific configuration parameters max_no_bytes and max_no_files respectively.\n\nArchives can be compressed, in which case they get a \".gz\" file extension after the integer. Compression is specified with the handler specific configuration parameter compress_on_rotate.\n\n"
        Applications: "kernel"
      OTP-15600:
        type: " --- Improvements and New Features ---"
        release_note: "The new functions logger:i/0 and logger:i/1 are added. These provide the same information as logger:get_config/0 and other logger:get_*_config functions, but the information is more logically sorted and more readable.\n\n"
        Applications: "kernel"
      OTP-15601:
        type: " --- Improvements and New Features ---"
        release_note: "Logger is now protected against overload due to massive amounts of log events from the emulator or from remote nodes.\n\n"
        Applications: "kernel"
      OTP-15625:
        type: " --- Improvements and New Features ---"
        release_note: "Logger now uses os:system_time/1 instead of erlang:system_time/1 to generate log event timestamps.\n\n"
        Applications: "kernel"
      OTP-15642:
        type: " --- Improvements and New Features ---"
        release_note: "Add functions application:set_env/1,2 and application:set_env/2. These take a list of application configuration parameters, and the behaviour is equivalent to calling application:set_env/4 individually for each application/key combination, except it is more efficient.\n\nset_env/1,2 warns about duplicated applications or keys. The warning is also emitted during boot, if applications or keys are duplicated within one configuration file, e.g. sys.config.\n\n"
        Applications: "kernel"
        RelatedIds: "PR-2164"
      OTP-15662:
        type: " --- Improvements and New Features ---"
        release_note: "*** POTENTIAL INCOMPATIBILITY ***\n\nHandler specific configuration parameters for the standard handler logger_std_h are changed to be more intuitive and more similar to the disk_log handler.\n\nEarlier there was only one parameter, type, which could have the values standard_io, standard_error, {file,FileName} or {file,FileName,Modes}.\n\nThis is now changed, so the following parameters are allowed:\n\ntype = standard_io | standard_error | file\nfile = file:filename()\nmodes = [file:mode()]\n\nAll parameters are optional. type defaults to standard_io, unless a file name is given, in which case it defaults to file. If type is set to file, the file name defaults to the same as the handler id.\n\nThe potential incompatibility is that logger:get_config/0 and logger:get_handler_config/1 now returns the new parameters, even if the configuration was set with the old variant, e.g. #{type=>{file,FileName}}.\n\n"
        Applications: "kernel"
      OTP-15663:
        type: " --- Improvements and New Features ---"
        release_note: "The new configuration parameter file_check is added to the Logger handler logger_std_h. This parameter specifies how long (in milliseconds) the handler may wait before checking if the log file still exists and the inode is the same as when it was opened.\n\nThe default value is 0, which means that this check is done prior to each write operation. Setting a higher number may improve performance, but adds the risk of loosing log events.\n\n"
        Applications: "kernel"
  mnesia-4.15.6:
    pre: "The mnesia-4.15.6 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of mnesia-4.15.6: erts-9.0, kernel-5.3,\n stdlib-3.4"
    mode: "txt"
    tickets:
      OTP-15619:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Avoid overload warnings caused by a race condition.\n\n"
        Applications: "mnesia"
        RelatedIds: "ERIERL-310"
  observer-2.9:
    pre: "The observer-2.9 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of observer-2.9: erts-7.0, et-1.5,\n kernel-3.0, runtime_tools-1.8.14, stdlib-3.5, wx-1.2"
    mode: "txt"
    tickets:
      OTP-15553:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Since Logger was introduced in OTP-21.0, menu choice *Log > Toggle Log View* in observer would cause a crash unless an error_logger event handler was explicitly installed. This is now corrected.\n\n"
        Applications: "observer"
        RelatedIds: "ERL-848"
      OTP-15493:
        type: " --- Improvements and New Features ---"
        release_note: "Since persistent_term was introduced, observer would sometimes crash when expanding a term from a process state. This is now corrected.\n\n"
        Applications: "observer"
        RelatedIds: "ERL-810"
      OTP-15586:
        type: " --- Improvements and New Features ---"
        release_note: "Add OBSERVER_SCALE environment variable for HiDPI support.\n\n"
        Applications: "observer"
        RelatedIds: "PR-2105"
  odbc-2.12.3:
    pre: "The odbc-2.12.3 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of odbc-2.12.3: erts-6.0, kernel-3.0,\n stdlib-2.0"
    mode: "txt"
    tickets:
      OTP-15667:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Enhance error handling to avoid stack corruption\n\n"
        Applications: "odbc"
        RelatedIds: "ERL-808, PR-2065"
  public_key-1.6.5:
    pre: "The public_key-1.6.5 application can be applied independently of\n other applications on a full OTP 21 installation."
    post: "Full runtime dependencies of public_key-1.6.5: asn1-3.0, crypto-3.8,\n erts-6.0, kernel-3.0, stdlib-3.5"
    mode: "txt"
    tickets:
      OTP-15624:
        type: " --- Improvements and New Features ---"
        release_note: "Add export of dialyzer type\n\n"
        Applications: "public_key"
  runtime_tools-1.13.2:
    pre: "The runtime_tools-1.13.2 application can be applied independently of\n other applications on a full OTP 21 installation."
    post: "Full runtime dependencies of runtime_tools-1.13.2: erts-8.0,\n kernel-5.0, mnesia-4.12, stdlib-3.0"
    mode: "txt"
    tickets:
      OTP-15670:
        type: " --- Improvements and New Features ---"
        release_note: "Update of systemtap trace example scripts.\n\n"
        Applications: "runtime_tools"
  ssh-4.7.4:
    pre: "The ssh-4.7.4 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of ssh-4.7.4: crypto-4.2, erts-6.0,\n kernel-3.0, public_key-1.5.2, stdlib-3.3"
    mode: "txt"
    tickets:
      OTP-15498:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "SSH sftp daemon now accepts an SSH_FXP_STAT message encoded according to the wrong sftp version. Some clients sends such messages.\n\n"
        Applications: "ssh"
        RelatedIds: "ERL-822, PR-2077"
  ssl-9.2:
    pre: "The ssl-9.2 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of ssl-9.2: crypto-4.2, erts-10.0,\n inets-5.10.7, kernel-6.0, public_key-1.5, stdlib-3.5"
    mode: "txt"
    tickets:
      OTP-15502:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix bug that an incorrect return value for gen_statem could be created when alert was a result of handling renegotiation info extension\n\n"
        Applications: "ssl"
      OTP-15539:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Correct check for 3des_ede_cbc, could cause ssl to claim to support 3des_ede_cbc when cryptolib does not.\n\n"
        Applications: "ssl"
      OTP-15561:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Improved DTLS error handling, avoids unexpected connection failure in rare cases.\n\n"
        Applications: "ssl"
      OTP-15666:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Corrected active once emulation bug that could cause the ssl_closed meassage to not be sent. Bug introduced by OTP-15449\n\n"
        Applications: "ssl"
        RelatedIds: "ERIERL-316"
      OTP-15369:
        type: " --- Improvements and New Features ---"
        release_note: "Add client option {reuse_session, SessionID::binary()} that can be used together with new option value {reuse_sessions, save}. This makes it possible to reuse a session from a specific connection establishment.\n\n"
        Applications: "ssl"
      OTP-15423:
        type: " --- Improvements and New Features ---"
        release_note: "*** HIGHLIGHT ***\n\n*** POTENTIAL INCOMPATIBILITY ***\n\nThe Reason part of of the error return from the functions connect and handshake has a better and documented format. This will sometimes differ from previous returned reasons, however those where only documented as term() and should for that reason not be relied on.\n\n"
        Applications: "ssl"
      OTP-15445:
        type: " --- Improvements and New Features ---"
        release_note: "*** HIGHLIGHT ***\n\nRefactor of state handling to improve TLS application data throughput and reduce CPU overhead\n\n"
        Applications: "ssl"
      OTP-15529:
        type: " --- Improvements and New Features ---"
        release_note: "*** HIGHLIGHT ***\n\nThe SSL code has been optimized in many small ways to reduce CPU load for encryption/decryption, especially for Erlang's distribution protocol over TLS.\n\n"
        Applications: "ssl"
      OTP-15665:
        type: " --- Improvements and New Features ---"
        release_note: "*** HIGHLIGHT ***\n\nAdd support for active N\n\n"
        Applications: "ssl"
        RelatedIds: "ERL-811, PR-2072"
  stdlib-3.8:
    pre: "The stdlib-3.8 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of stdlib-3.8: compiler-5.0, crypto-3.3,\n erts-10.0, kernel-6.0, sasl-3.0"
    mode: "txt"
    tickets:
      OTP-15592:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix a bug in the Erlang Pretty Printer: long atom names in combination with > could cause a crash.\n\n"
        Applications: "stdlib"
        RelatedIds: "ERL-818"
      OTP-15639:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix bugs that could cause wrong results or bad performance when formatting lists of characters using the control sequences p or P and limiting the output with the option chars_limit.\n\n"
        Applications: "stdlib"
      OTP-15545:
        type: " --- Improvements and New Features ---"
        release_note: "Improved ETS documentation about safe table traversal and the partially bound key optimization for ordered_set.\n\n"
        Applications: "stdlib"
        RelatedIds: "PR-2103, PR-2139"
      OTP-15572:
        type: " --- Improvements and New Features ---"
        release_note: "Optimize calendar:gregorian_days_to_date/1.\n\n"
        Applications: "stdlib"
        RelatedIds: "PR-2121"
      OTP-15630:
        type: " --- Improvements and New Features ---"
        release_note: "Optimize functions calendar:rfc3339_to_system_time() and calendar:system_time_to_rfc3339().\n\n"
        Applications: "stdlib"
  syntax_tools-2.1.7:
    pre: "The syntax_tools-2.1.7 application can be applied independently of\n other applications on a full OTP 21 installation."
    post: "Full runtime dependencies of syntax_tools-2.1.7: compiler-7.0,\n erts-9.0, kernel-5.0, stdlib-3.4"
    mode: "txt"
    tickets:
      OTP-15519:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Fix pretty-printing of type funs.\n\n"
        Applications: "syntax_tools"
        RelatedIds: "ERL-815"
  tools-3.1:
    pre: "The tools-3.1 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of tools-3.1: compiler-5.0, erts-9.1,\n kernel-5.4, runtime_tools-1.8.14, stdlib-3.4"
    mode: "txt"
    tickets:
      OTP-15657:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Minor fixes for make clean.\n\n"
        Applications: "erts, otp, tools"
      OTP-15541:
        type: " --- Improvements and New Features ---"
        release_note: "In the HTML file generated by cover:analyse_to_file/1,2, a link is now added to the line number. This makes it easier to share pointers to specific lines.\n\n"
        Applications: "tools"
      OTP-15542:
        type: " --- Improvements and New Features ---"
        release_note: "Uncovered lines are now marked with a sad face, :-(, in the HTML output from cover:analyse_to_file/1,2. This is to make these lines easier to find by search.\n\n"
        Applications: "tools"
  wx-1.8.7:
    pre: "The wx-1.8.7 application can be applied independently of other\n applications on a full OTP 21 installation."
    post: "Full runtime dependencies of wx-1.8.7: erts-6.0, kernel-3.0,\n stdlib-2.0"
    mode: "txt"
    tickets:
      OTP-15587:
        type: " --- Fixed Bugs and Malfunctions ---"
        release_note: "Improved support for wxWidgets 3.1.3 which have changed wxFONTWEIGTH, also added wxGCDC and wxDisplay modules.\n\nFixed a crash on Mojave and check for events more often.\n\n"
        Applications: "wx"
Application:
  - common_test-1.17
  - compiler-7.3.2
  - crypto-4.4.1
  - dialyzer-3.3.2
  - diameter-2.2
  - edoc-0.10
  - erl_docgen-0.9
  - erl_interface-3.11
  - erts-10.3
  - ftp-1.0.2
  - hipe-3.18.3
  - inets-7.0.6
  - kernel-6.3
  - mnesia-4.15.6
  - observer-2.9
  - odbc-2.12.3
  - public_key-1.6.5
  - runtime_tools-1.13.2
  - ssh-4.7.4
  - ssl-9.2
  - stdlib-3.8
  - syntax_tools-2.1.7
  - tools-3.1
  - wx-1.8.7
Date: 2019-03-12
GitTag: OTP-21.3
PatchPackage: OTP 21.3
Predecessor: OTP 21.2.7
Release: 21
Seqnum:
  - ERIERL-203
  - ERIERL-231
  - ERIERL-258
  - ERIERL-282
  - ERIERL-298
  - ERIERL-302
  - ERIERL-310
  - ERIERL-316
  - ERIERL-321
  - ERL-725
  - ERL-774
  - ERL-808
  - ERL-810
  - ERL-811
  - ERL-815
  - ERL-816
  - ERL-818
  - ERL-822
  - ERL-829
  - ERL-838
  - ERL-841
  - ERL-843
  - ERL-845
  - ERL-848
  - ERL-850
  - ERL-851
  - ERL-854
  - ERL-869
System: OTP
TroubleReportId:
  - OTP-14702
  - OTP-15229
  - OTP-15298
  - OTP-15369
  - OTP-15375
  - OTP-15398
  - OTP-15423
  - OTP-15442
  - OTP-15445
  - OTP-15447
  - OTP-15460
  - OTP-15479
  - OTP-15484
  - OTP-15490
  - OTP-15493
  - OTP-15494
  - OTP-15498
  - OTP-15502
  - OTP-15503
  - OTP-15508
  - OTP-15514
  - OTP-15518
  - OTP-15519
  - OTP-15527
  - OTP-15529
  - OTP-15539
  - OTP-15540
  - OTP-15541
  - OTP-15542
  - OTP-15545
  - OTP-15552
  - OTP-15553
  - OTP-15555
  - OTP-15556
  - OTP-15557
  - OTP-15558
  - OTP-15561
  - OTP-15562
  - OTP-15567
  - OTP-15569
  - OTP-15570
  - OTP-15572
  - OTP-15576
  - OTP-15577
  - OTP-15578
  - OTP-15580
  - OTP-15583
  - OTP-15584
  - OTP-15586
  - OTP-15587
  - OTP-15592
  - OTP-15599
  - OTP-15600
  - OTP-15601
  - OTP-15602
  - OTP-15604
  - OTP-15605
  - OTP-15619
  - OTP-15624
  - OTP-15625
  - OTP-15629
  - OTP-15630
  - OTP-15634
  - OTP-15637
  - OTP-15639
  - OTP-15642
  - OTP-15650
  - OTP-15657
  - OTP-15659
  - OTP-15660
  - OTP-15662
  - OTP-15663
  - OTP-15665
  - OTP-15666
  - OTP-15667
  - OTP-15669
  - OTP-15670
---
## OTP-21.3
