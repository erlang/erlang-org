<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:fn="http://www.w3.org/2005/02/xpath-functions">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="../otp_doc.css" type="text/css">
<title>Erlang -- alarm_handler</title>
</head>
<body bgcolor="white" text="#000000" link="#0000ff" vlink="#ff00ff" alink="#ff0000"><div id="container">
<script id="js" type="text/javascript" language="JavaScript" src="../js/flipmenu/flipmenu.js"></script><script id="js2" type="text/javascript" src="../js/erlresolvelinks.js"></script><script language="JavaScript" type="text/javascript">
            <!--
              function getWinHeight() {
                var myHeight = 0;
                if( typeof( window.innerHeight ) == 'number' ) {
                  //Non-IE
                  myHeight = window.innerHeight;
                } else if( document.documentElement && ( document.documentElement.clientWidth ||
                                                         document.documentElement.clientHeight ) ) {
                  //IE 6+ in 'standards compliant mode'
                  myHeight = document.documentElement.clientHeight;
                } else if( document.body && ( document.body.clientWidth || document.body.clientHeight ) ) {
                  //IE 4 compatible
                  myHeight = document.body.clientHeight;
                }
                return myHeight;
              }

              function setscrollpos() {
                var objf=document.getElementById('loadscrollpos');
                 document.getElementById("leftnav").scrollTop = objf.offsetTop - getWinHeight()/2;
              }

              function addEvent(obj, evType, fn){
                if (obj.addEventListener){
                obj.addEventListener(evType, fn, true);
                return true;
              } else if (obj.attachEvent){
                var r = obj.attachEvent("on"+evType, fn);
                return r;
              } else {
                return false;
              }
             }

             addEvent(window, 'load', setscrollpos);

             //--></script><div id="leftnav"><div class="innertube">
<img alt="Erlang logo" src="../erlang-logo.png"><br><small><a href="../apps/sasl/users_guide.html">User's Guide</a><br><a href="../apps/sasl/index.html">Reference Manual</a><br><a href="../apps/sasl/release_notes.html">Release Notes</a><br><a href="../apps/sasl/sasl.pdf">PDF</a><br><a href="../index.html">Top</a></small><p><strong>System Application Support Libraries (SASL)</strong><br><strong>Reference Manual</strong><br><small>Version 2.4.1</small></p>
<br><a href="javascript:openAllFlips()">Expand All</a><br><a href="javascript:closeAllFlips()">Contract All</a><p><small><strong>Table of Contents</strong></small></p>
<ul class="flipMenu">
<li title="sasl (App)"><a href="sasl_app.html">sasl (App)
                </a></li>
<li id="loadscrollpos" title="alarm_handler " expanded="true">alarm_handler<ul>
<li><a href="alarm_handler.html">
                  Top of manual page
                </a></li>
<li title="clear_alarm-1"><a href="alarm_handler.html#clear_alarm-1">clear_alarm/1</a></li>
<li title="get_alarms-0"><a href="alarm_handler.html#get_alarms-0">get_alarms/0</a></li>
<li title="set_alarm-1"><a href="alarm_handler.html#set_alarm-1">set_alarm/1</a></li>
</ul>
</li>
<li id="no" title="overload " expanded="false">overload<ul>
<li><a href="overload.html">
                  Top of manual page
                </a></li>
<li title="request-0"><a href="overload.html#request-0">request/0</a></li>
<li title="get_overload_info-0"><a href="overload.html#get_overload_info-0">get_overload_info/0</a></li>
</ul>
</li>
<li id="no" title="rb " expanded="false">rb<ul>
<li><a href="rb.html">
                  Top of manual page
                </a></li>
<li title="filter-1"><a href="rb.html#filter-1">filter/1</a></li>
<li title="filter-2"><a href="rb.html#filter-2">filter/2</a></li>
<li title="grep-1"><a href="rb.html#grep-1">grep/1</a></li>
<li title="h-0"><a href="rb.html#h-0">h/0</a></li>
<li title="help-0"><a href="rb.html#help-0">help/0</a></li>
<li title="list-0"><a href="rb.html#list-0">list/0</a></li>
<li title="list-1"><a href="rb.html#list-1">list/1</a></li>
<li title="log_list-0"><a href="rb.html#log_list-0">log_list/0</a></li>
<li title="log_list-1"><a href="rb.html#log_list-1">log_list/1</a></li>
<li title="rescan-0"><a href="rb.html#rescan-0">rescan/0</a></li>
<li title="rescan-1"><a href="rb.html#rescan-1">rescan/1</a></li>
<li title="show-0"><a href="rb.html#show-0">show/0</a></li>
<li title="show-1"><a href="rb.html#show-1">show/1</a></li>
<li title="start-0"><a href="rb.html#start-0">start/0</a></li>
<li title="start-1"><a href="rb.html#start-1">start/1</a></li>
<li title="start_log-1"><a href="rb.html#start_log-1">start_log/1</a></li>
<li title="stop-0"><a href="rb.html#stop-0">stop/0</a></li>
<li title="stop_log-0"><a href="rb.html#stop_log-0">stop_log/0</a></li>
</ul>
</li>
<li id="no" title="release_handler " expanded="false">release_handler<ul>
<li><a href="release_handler.html">
                  Top of manual page
                </a></li>
<li title="check_install_release-1"><a href="release_handler.html#check_install_release-1">check_install_release/1</a></li>
<li title="check_install_release-2"><a href="release_handler.html#check_install_release-2">check_install_release/2</a></li>
<li title="create_RELEASES-4"><a href="release_handler.html#create_RELEASES-4">create_RELEASES/4</a></li>
<li title="install_file-2"><a href="release_handler.html#install_file-2">install_file/2</a></li>
<li title="install_release-1"><a href="release_handler.html#install_release-1">install_release/1</a></li>
<li title="install_release-2"><a href="release_handler.html#install_release-2">install_release/2</a></li>
<li title="make_permanent-1"><a href="release_handler.html#make_permanent-1">make_permanent/1</a></li>
<li title="remove_release-1"><a href="release_handler.html#remove_release-1">remove_release/1</a></li>
<li title="reboot_old_release-1"><a href="release_handler.html#reboot_old_release-1">reboot_old_release/1</a></li>
<li title="set_removed-1"><a href="release_handler.html#set_removed-1">set_removed/1</a></li>
<li title="set_unpacked-2"><a href="release_handler.html#set_unpacked-2">set_unpacked/2</a></li>
<li title="unpack_release-1"><a href="release_handler.html#unpack_release-1">unpack_release/1</a></li>
<li title="which_releases-0"><a href="release_handler.html#which_releases-0">which_releases/0</a></li>
<li title="which_releases-1"><a href="release_handler.html#which_releases-1">which_releases/1</a></li>
<li title="upgrade_app-2"><a href="release_handler.html#upgrade_app-2">upgrade_app/2</a></li>
<li title="downgrade_app-2"><a href="release_handler.html#downgrade_app-2">downgrade_app/2</a></li>
<li title="downgrade_app-3"><a href="release_handler.html#downgrade_app-3">downgrade_app/3</a></li>
<li title="upgrade_script-2"><a href="release_handler.html#upgrade_script-2">upgrade_script/2</a></li>
<li title="downgrade_script-3"><a href="release_handler.html#downgrade_script-3">downgrade_script/3</a></li>
<li title="eval_appup_script-4"><a href="release_handler.html#eval_appup_script-4">eval_appup_script/4</a></li>
</ul>
</li>
<li id="no" title="systools " expanded="false">systools<ul>
<li><a href="systools.html">
                  Top of manual page
                </a></li>
<li title="make_relup-3"><a href="systools.html#make_relup-3">make_relup/3</a></li>
<li title="make_relup-4"><a href="systools.html#make_relup-4">make_relup/4</a></li>
<li title="make_script-1"><a href="systools.html#make_script-1">make_script/1</a></li>
<li title="make_script-2"><a href="systools.html#make_script-2">make_script/2</a></li>
<li title="make_tar-1"><a href="systools.html#make_tar-1">make_tar/1</a></li>
<li title="make_tar-2"><a href="systools.html#make_tar-2">make_tar/2</a></li>
<li title="script2boot-1"><a href="systools.html#script2boot-1">script2boot/1</a></li>
</ul>
</li>
<li title="appup"><a href="appup.html">appup</a></li>
<li title="rel"><a href="rel.html">rel</a></li>
<li title="relup"><a href="relup.html">relup</a></li>
<li title="script"><a href="script.html">script</a></li>
</ul>
</div></div>
<div id="content">
<div class="innertube">
<!-- refpage --><center><h1>alarm_handler</h1></center>
  
  <h3>MODULE</h3>
<div class="REFBODY">alarm_handler</div>
  <h3>MODULE SUMMARY</h3>
<div class="REFBODY">An Alarm Handling Process</div>
  <h3>DESCRIPTION</h3>
<div class="REFBODY"><p>
    <p>The alarm handler process is a <span class="code">gen_event</span> event manager
      process which receives alarms in the system. This process is not
      intended to be a complete alarm handler. It defines a
      place to which alarms can be sent. One simple event handler is
      installed in the alarm handler at start-up, but users are
      encouraged to write and install their own handlers.
      </p>
    <p>The simple event handler sends all alarms as info reports to
      the error logger, and saves all of them in a list which can be
      passed to a user defined event handler, which may be installed at
      a later stage. The list can grow large if many alarms are
      generated. So it is a good reason to install a better user defined
      handler.
      </p>
    <p>There are functions to set and clear alarms. The format of
      alarms are defined by the user. For example, an event handler
      for SNMP could be defined, together with an alarm MIB.
      </p>
    <p>The alarm handler is part of the SASL application. 
      </p>
    <p>When writing new event handlers for the alarm handler, the
      following events must be handled:
      </p>
    <dl>
      <dt><strong><span class="code">{set_alarm, {AlarmId, AlarmDescr}}</span></strong></dt>
      <dd>
        <p>This event is generated by
          <span class="code">alarm_handler:set_alarm({AlarmId, AlarmDecsr})</span>.
          </p>
      </dd>
      <dt><strong><span class="code">{clear_alarm, AlarmId}</span></strong></dt>
      <dd>
        <p>This event is
          generated by <span class="code">alarm_handler:clear_alarm(AlarmId)</span>.
          </p>
      </dd>
    </dl>
    <p>The default simple handler is called <span class="code">alarm_handler</span> and
      it may be exchanged by calling <span class="code">gen_event:swap_handler/3</span>
      as <span class="code">gen_event:swap_handler(alarm_handler, {alarm_handler, swap}, {NewHandler, Args})</span>. <span class="code">NewHandler:init({Args, {alarm_handler, Alarms}})</span> is called. Refer to gen_event(3)
      for further details.
      </p>
  </p></div>
  <h3>EXPORTS</h3>
    <p><a name="clear_alarm-1"><span class="bold_code">clear_alarm(AlarmId) -&gt; void()</span></a><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">AlarmId = term()</span><br>
</div>
      </div>
<div class="REFBODY"><p>
	<p>Sends the <span class="code">clear_alarm</span> event to all event handlers.</p>
        <p>When receiving this event, the default simple handler
          clears the latest received alarm with id <span class="code">AlarmId</span>.
          </p>
      </p></div>
    <p><a name="get_alarms-0"><span class="bold_code">get_alarms() -&gt; [alarm()]</span></a><br></p>
<div class="REFBODY"><p>
        <p>Returns a list of all active alarms. This function can only
          be used when the simple handler is installed.
          </p>
      </p></div>
    <p><a name="set_alarm-1"><span class="bold_code">set_alarm(alarm())</span></a><br></p>
<div class="REFBODY">
<p>Types:</p>
        <div class="REFTYPES">
<span class="bold_code">alarm() = {AlarmId, AlarmDescription}</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">AlarmId = term()</span><br>
</div>
        <div class="REFTYPES">
<span class="bold_code">AlarmDescription = term()</span><br>
</div>
      </div>
<div class="REFBODY"><p>
	<p>Sends the <span class="code">set_alarm</span> event to all event handlers.</p>
        <p>When receiving this event, the default simple handler
          stores the alarm. The <span class="code">AlarmId</span> identifies the alarm
          and is used when the alarm is cleared.
          </p>
      </p></div>
  

  <h3><a name="id61863">See Also</a></h3>
<div class="REFBODY">
    
    <p>error_logger(3), gen_event(3) 
      </p>
  </div>
</div>
<div class="footer">
<hr>
<p>Copyright © 1997-2015 Ericsson AB. All Rights Reserved.</p>
</div>
</div>
</div></body>
</html>
